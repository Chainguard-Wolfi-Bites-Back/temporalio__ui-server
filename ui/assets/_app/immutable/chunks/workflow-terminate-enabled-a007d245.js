import{d as L,r as oe,w as v}from"./index-9821ab11.js";import{p as Z}from"./stores-4e1b824b.js";import{a as fe,b as re}from"./workflow-service-9aba36ae.js";import{s as ue}from"./list-workflow-query-d3d5f2ac.js";import{S as j,i as U,s as X,w as A,x as O,y as D,f as b,t as k,z as M,ak as ce,J as de,F as Y,k as V,a as S,l as I,m as E,h,c as q,n as g,b as p,K as R,g as $,d as x,G as ee,H as le,I as te,Z as se,q as y,r as z,u as N,ai as me,M as P,N as B,al as _e,a5 as he,a6 as be,B as ke,e as Q,Q as W}from"./index-3630b6f8.js";import{I as ne}from"./icon-a76a7fcc.js";import{M as ge}from"./menu-item-9c23aa78.js";import{M as pe,a as we,b as ve}from"./menu-5d5cf98b.js";const Ce=300,Ve=async(s,e,t)=>{e.set(!0);try{await t()}catch(l){console.error(l)}s.set(!1),setTimeout(()=>{e.set(!1)},Ce)},Ie=v(0),Ee=L([Z],([s])=>s.params.namespace),Ae=L([Z],([s])=>s.url.searchParams.get("query")),Oe=L([Ee,Ae,Ie,ue],([s,e,t,l])=>({namespace:s,query:e,refresh:t,supportsAdvancedVisibility:l})),De=s=>{Re.set(s)},Me=s=>Oe.subscribe(({namespace:e,query:t,supportsAdvancedVisibility:l})=>{Ve(qe,Se,async()=>{const{workflows:n,error:c}=await fe(e,{query:t});if(s(n),l){const u=await re(e,t);De(u)}c?F.set(c):F.set("")})}),Ye=v({parameters:{},searchType:"basic"}),Se=v(!0),qe=v(!0),Re=v({count:0,totalCount:0}),F=v(""),$e=oe([],Me),xe=v("");function G(s){let e,t;return e=new ne({props:{name:"checkmark"}}),{c(){A(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,n){D(e,l,n),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function H(s){let e,t;return{c(){e=V("span"),t=y(s[0]),this.h()},l(l){e=I(l,"SPAN",{class:!0});var n=E(e);t=z(n,s[0]),n.forEach(h),this.h()},h(){g(e,"class","option-description svelte-opscnd")},m(l,n){p(l,e,n),R(e,t)},p(l,n){n&1&&N(t,l[0])},d(l){l&&h(e)}}}function We(s){let e,t,l,n,c,u,o=s[3]&&G();const a=s[9].default,i=Y(a,s,s[11],null);let f=s[0]&&H(s);return{c(){e=V("div"),o&&o.c(),t=S(),l=V("div"),n=V("span"),i&&i.c(),c=S(),f&&f.c(),this.h()},l(r){e=I(r,"DIV",{class:!0});var m=E(e);o&&o.l(m),m.forEach(h),t=q(r),l=I(r,"DIV",{class:!0});var w=E(l);n=I(w,"SPAN",{class:!0});var C=E(n);i&&i.l(C),C.forEach(h),c=q(w),f&&f.l(w),w.forEach(h),this.h()},h(){g(e,"class","mr-2 w-6"),g(n,"class","option-label svelte-opscnd"),g(l,"class","flex w-full flex-col")},m(r,m){p(r,e,m),o&&o.m(e,null),p(r,t,m),p(r,l,m),R(l,n),i&&i.m(n,null),s[10](n),R(l,c),f&&f.m(l,null),u=!0},p(r,m){r[3]?o?m&8&&b(o,1):(o=G(),o.c(),b(o,1),o.m(e,null)):o&&($(),k(o,1,1,()=>{o=null}),x()),i&&i.p&&(!u||m&2048)&&ee(i,a,r,r[11],u?te(a,r[11],m,null):le(r[11]),null),r[0]?f?f.p(r,m):(f=H(r),f.c(),f.m(l,null)):f&&(f.d(1),f=null)},i(r){u||(b(o),b(i,r),u=!0)},o(r){k(o),k(i,r),u=!1},d(r){r&&h(e),o&&o.d(),r&&h(t),r&&h(l),i&&i.d(r),s[10](null),f&&f.d()}}}function ye(s){let e,t;return e=new ge({props:{class:"flex flex-row items-start",selected:s[3],dark:s[1],$$slots:{default:[We]},$$scope:{ctx:s}}}),e.$on("click",s[5]),{c(){A(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,n){D(e,l,n),t=!0},p(l,[n]){const c={};n&8&&(c.selected=l[3]),n&2&&(c.dark=l[1]),n&2061&&(c.$$scope={dirty:n,ctx:l}),e.$set(c)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function ze(s,e,t){let l,{$$slots:n={},$$scope:c}=e;const u=ce("select-value");de(s,u,_=>t(8,l=_));let{value:o=void 0}=e,{description:a=""}=e,{dark:i=!1}=e,f,r,m;const w=()=>{u.update(_=>({..._,selectValue:r})),l.onChange(r)};function C(_){se[_?"unshift":"push"](()=>{m=_,t(2,m)})}return s.$$set=_=>{"value"in _&&t(6,o=_.value),"description"in _&&t(0,a=_.description),"dark"in _&&t(1,i=_.dark),"$$scope"in _&&t(11,c=_.$$scope)},s.$$.update=()=>{s.$$.dirty&452&&m&&(t(7,r=o??m.textContent),t(3,f=l.selectValue===r))},[a,i,m,f,u,w,o,r,l,n,C,c]}class el extends j{constructor(e){super(),U(this,e,ze,ye,X,{value:6,description:0,dark:1})}}function J(s){let e,t;return{c(){e=V("label"),t=y(s[2]),this.h()},l(l){e=I(l,"LABEL",{for:!0,class:!0});var n=E(e);t=z(n,s[2]),n.forEach(h),this.h()},h(){g(e,"for",s[3]),g(e,"class","svelte-1kzttn7")},m(l,n){p(l,e,n),R(e,t)},p(l,n){n&4&&N(t,l[2]),n&8&&g(e,"for",l[3])},d(l){l&&h(e)}}}function Ne(s){let e=s[9](s[0])+"",t;return{c(){t=y(e)},l(l){t=z(l,e)},m(l,n){p(l,t,n)},p(l,n){n&513&&e!==(e=l[9](l[0])+"")&&N(t,e)},d(l){l&&h(t)}}}function Te(s){let e;return{c(){e=y(s[5])},l(t){e=z(t,s[5])},m(t,l){p(t,e,l)},p(t,l){l&32&&N(e,t[5])},d(t){t&&h(e)}}}function K(s){let e,t;return e=new ne({props:{name:"lock",class:"text-gray-500"}}),{c(){A(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,n){D(e,l,n),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Le(s){let e,t,l,n;function c(i,f){return!i[0]&&i[5]!==""?Te:Ne}let u=c(s),o=u(s),a=s[6]&&K();return{c(){e=V("div"),o.c(),t=S(),a&&a.c(),l=Q(),this.h()},l(i){e=I(i,"DIV",{class:!0,id:!0});var f=E(e);o.l(f),f.forEach(h),t=q(i),a&&a.l(i),l=Q(),this.h()},h(){g(e,"class","select-input svelte-1kzttn7"),g(e,"id",s[3]),W(e,"dark",s[4]),W(e,"disabled",s[6])},m(i,f){p(i,e,f),o.m(e,null),p(i,t,f),a&&a.m(i,f),p(i,l,f),n=!0},p(i,f){u===(u=c(i))&&o?o.p(i,f):(o.d(1),o=u(i),o&&(o.c(),o.m(e,null))),(!n||f&8)&&g(e,"id",i[3]),(!n||f&16)&&W(e,"dark",i[4]),(!n||f&64)&&W(e,"disabled",i[6]),i[6]?a?f&64&&b(a,1):(a=K(),a.c(),b(a,1),a.m(l.parentNode,l)):a&&($(),k(a,1,1,()=>{a=null}),x())},i(i){n||(b(a),n=!0)},o(i){k(a),n=!1},d(i){i&&h(e),o.d(),i&&h(t),a&&a.d(i),i&&h(l)}}}function Pe(s){let e;const t=s[12].default,l=Y(t,s,s[14],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,c){l&&l.m(n,c),e=!0},p(n,c){l&&l.p&&(!e||c&16384)&&ee(l,t,n,n[14],e?te(t,n[14],c,null):le(n[14]),null)},i(n){e||(b(l,n),e=!0)},o(n){k(l,n),e=!1},d(n){l&&l.d(n)}}}function Be(s){let e,t,l,n,c;function u(a){s[13](a)}let o={hasIndicator:!s[6],class:"select-input-container "+(s[6]?"disabled":"")+" "+(s[7]?"unroundRight":""),keepOpen:s[8],controls:s[3]+"-menu",testId:s[10].testId,dark:s[4],disabled:s[6],$$slots:{default:[Le]},$$scope:{ctx:s}};return s[1]!==void 0&&(o.show=s[1]),e=new we({props:o}),se.push(()=>he(e,"show",u)),n=new ve({props:{id:s[3]+"-menu",class:"h-auto max-h-96 min-w-fit",show:s[1],dark:s[4],$$slots:{default:[Pe]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment),l=S(),A(n.$$.fragment)},l(a){O(e.$$.fragment,a),l=q(a),O(n.$$.fragment,a)},m(a,i){D(e,a,i),p(a,l,i),D(n,a,i),c=!0},p(a,i){const f={};i&64&&(f.hasIndicator=!a[6]),i&192&&(f.class="select-input-container "+(a[6]?"disabled":"")+" "+(a[7]?"unroundRight":"")),i&256&&(f.keepOpen=a[8]),i&8&&(f.controls=a[3]+"-menu"),i&1024&&(f.testId=a[10].testId),i&16&&(f.dark=a[4]),i&64&&(f.disabled=a[6]),i&17017&&(f.$$scope={dirty:i,ctx:a}),!t&&i&2&&(t=!0,f.show=a[1],be(()=>t=!1)),e.$set(f);const r={};i&8&&(r.id=a[3]+"-menu"),i&2&&(r.show=a[1]),i&16&&(r.dark=a[4]),i&16384&&(r.$$scope={dirty:i,ctx:a}),n.$set(r)},i(a){c||(b(e.$$.fragment,a),b(n.$$.fragment,a),c=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),c=!1},d(a){M(e,a),a&&h(l),M(n,a)}}}function Qe(s){let e,t,l,n,c,u=s[2]&&J(s);return l=new pe({props:{class:"w-full",$$slots:{default:[Be]},$$scope:{ctx:s}}}),{c(){e=V("div"),u&&u.c(),t=S(),A(l.$$.fragment),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=E(e);u&&u.l(a),t=q(a),O(l.$$.fragment,a),a.forEach(h),this.h()},h(){g(e,"class",n="select "+s[10].class+" svelte-1kzttn7")},m(o,a){p(o,e,a),u&&u.m(e,null),R(e,t),D(l,e,null),c=!0},p(o,[a]){o[2]?u?u.p(o,a):(u=J(o),u.c(),u.m(e,t)):u&&(u.d(1),u=null);const i={};a&18427&&(i.$$scope={dirty:a,ctx:o}),l.$set(i),(!c||a&1024&&n!==(n="select "+o[10].class+" svelte-1kzttn7"))&&g(e,"class",n)},i(o){c||(b(l.$$.fragment,o),c=!0)},o(o){k(l.$$.fragment,o),c=!1},d(o){o&&h(e),u&&u.d(),M(l)}}}function Fe(s,e,t){let{$$slots:l={},$$scope:n}=e,{show:c=!1}=e,{label:u=""}=e,{id:o}=e,{value:a=void 0}=e,{dark:i=!1}=e,{placeholder:f=""}=e,{disabled:r=!1}=e,{unroundRight:m=!1}=e,{keepOpen:w=!1}=e,{displayValue:C=d=>d??""}=e,{onChange:_=ke}=e;const T=v({selectValue:a,onChange:_}),ae=T.subscribe(d=>{t(0,a=d.selectValue)});me(()=>{ae()});function ie(d){c=d,t(1,c)}return s.$$set=d=>{t(10,e=P(P({},e),B(d))),"show"in d&&t(1,c=d.show),"label"in d&&t(2,u=d.label),"id"in d&&t(3,o=d.id),"value"in d&&t(0,a=d.value),"dark"in d&&t(4,i=d.dark),"placeholder"in d&&t(5,f=d.placeholder),"disabled"in d&&t(6,r=d.disabled),"unroundRight"in d&&t(7,m=d.unroundRight),"keepOpen"in d&&t(8,w=d.keepOpen),"displayValue"in d&&t(9,C=d.displayValue),"onChange"in d&&t(11,_=d.onChange),"$$scope"in d&&t(14,n=d.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&(a&&T.update(d=>({...d,selectValue:a})),_e("select-value",T))},e=B(e),[a,c,u,o,i,f,r,m,w,C,e,_,l,ie,n]}class ll extends j{constructor(e){super(),U(this,e,Fe,Qe,X,{show:1,label:2,id:3,value:0,dark:4,placeholder:5,disabled:6,unroundRight:7,keepOpen:8,displayValue:9,onChange:11})}}const tl=s=>!s.disableWriteActions&&!s.workflowCancelDisabled,sl=s=>!s.disableWriteActions&&!s.workflowTerminateDisabled;export{el as O,ll as S,sl as a,Ye as b,xe as c,$e as d,F as e,Re as f,qe as l,Ie as r,Se as u,tl as w};
