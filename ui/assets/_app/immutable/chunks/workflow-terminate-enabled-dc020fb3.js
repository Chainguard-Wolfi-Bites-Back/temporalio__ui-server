import{d as F,r as he,w as C}from"./index-650164d9.js";import{p as ee}from"./stores-6ec9c044.js";import{a as be,b as ke}from"./workflow-service-9748317c.js";import{s as pe}from"./list-workflow-query-093f262e.js";import{S as te,i as le,s as se,w as S,x as V,y as D,f as k,t as g,z as q,ak as G,J as P,o as ne,am as ge,F as ae,k as E,a as z,l as A,m as O,h as _,c as L,n as w,b as v,K as N,g as oe,d as ie,G as fe,H as re,I as ue,Y as H,a2 as ce,q as B,r as Q,u as y,al as J,M as K,N as Y,a7 as we,a8 as ve,B as Ce,e as j,Q as T}from"./index-142e663c.js";import{I as de}from"./icon-8402a147.js";import{M as Ie}from"./menu-item-243a65b0.js";import{M as Ee,a as Ae,b as Oe}from"./menu-0364e80e.js";const Me=300,Se=async(s,e,l)=>{e.set(!0);try{await l()}catch(t){console.error(t)}s.set(!1),setTimeout(()=>{e.set(!1)},Me)},Ve=C(0),De=F([ee],([s])=>s.params.namespace),qe=F([ee],([s])=>s.url.searchParams.get("query")),Re=F([De,qe,Ve,pe],([s,e,l,t])=>({namespace:s,query:e,refresh:l,supportsAdvancedVisibility:t})),We=s=>{Te.set(s)},ze=s=>Re.subscribe(({namespace:e,query:l,supportsAdvancedVisibility:t})=>{Se(Ne,Le,async()=>{const{workflows:n,error:c}=await be(e,{query:l});if(s(n),t){const r=await ke(e,l);We(r)}c?U.set(c):U.set("")})}),lt=C({parameters:{},searchType:"basic"}),Le=C(!0),Ne=C(!0),Te=C({count:0,totalCount:0}),U=C(""),st=he([],ze),nt=C("");function X(s){let e,l;return e=new de({props:{name:"checkmark"}}),{c(){S(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,n){D(e,t,n),l=!0},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Z(s){let e,l;return{c(){e=E("span"),l=B(s[0]),this.h()},l(t){e=A(t,"SPAN",{class:!0});var n=O(e);l=Q(n,s[0]),n.forEach(_),this.h()},h(){w(e,"class","option-description svelte-opscnd")},m(t,n){v(t,e,n),N(e,l)},p(t,n){n&1&&y(l,t[0])},d(t){t&&_(e)}}}function Pe(s){let e,l,t,n,c,r,i=s[3]&&X();const a=s[10].default,o=ae(a,s,s[12],null);let f=s[0]&&Z(s);return{c(){e=E("div"),i&&i.c(),l=z(),t=E("div"),n=E("span"),o&&o.c(),c=z(),f&&f.c(),this.h()},l(u){e=A(u,"DIV",{class:!0});var h=O(e);i&&i.l(h),h.forEach(_),l=L(u),t=A(u,"DIV",{class:!0});var p=O(t);n=A(p,"SPAN",{class:!0});var b=O(n);o&&o.l(b),b.forEach(_),c=L(p),f&&f.l(p),p.forEach(_),this.h()},h(){w(e,"class","mr-2 w-6"),w(n,"class","option-label svelte-opscnd"),w(t,"class","flex w-full flex-col")},m(u,h){v(u,e,h),i&&i.m(e,null),v(u,l,h),v(u,t,h),N(t,n),o&&o.m(n,null),s[11](n),N(t,c),f&&f.m(t,null),r=!0},p(u,h){u[3]?i?h&8&&k(i,1):(i=X(),i.c(),k(i,1),i.m(e,null)):i&&(oe(),g(i,1,1,()=>{i=null}),ie()),o&&o.p&&(!r||h&4096)&&fe(o,a,u,u[12],r?ue(a,u[12],h,null):re(u[12]),null),u[0]?f?f.p(u,h):(f=Z(u),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},i(u){r||(k(i),k(o,u),r=!0)},o(u){g(i),g(o,u),r=!1},d(u){u&&_(e),i&&i.d(),u&&_(l),u&&_(t),o&&o.d(u),s[11](null),f&&f.d()}}}function Be(s){let e,l;return e=new Ie({props:{class:"flex flex-row items-start",selected:s[3],dark:s[1],$$slots:{default:[Pe]},$$scope:{ctx:s}}}),e.$on("click",s[6]),{c(){S(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,n){D(e,t,n),l=!0},p(t,[n]){const c={};n&8&&(c.selected=t[3]),n&2&&(c.dark=t[1]),n&4109&&(c.$$scope={dirty:n,ctx:t}),e.$set(c)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Qe(s,e,l){let t,n,{$$slots:c={},$$scope:r}=e;const i=G("select-value");P(s,i,m=>l(9,t=m));const a=G("select-options");P(s,a,m=>l(14,n=m));let{value:o=void 0}=e,{description:f=""}=e,{dark:u=!1}=e,h,p,b,I;ne(()=>{b&&(I=b.textContent,n.push({value:o,label:I}))}),ge(()=>{let m=n.findIndex(W=>W.value===o);m!==void 0&&n.splice(m,1)});const M=()=>{H(i,t.value=p,t),H(i,t.label=I,t)};function R(m){ce[m?"unshift":"push"](()=>{b=m,l(2,b)})}return s.$$set=m=>{"value"in m&&l(7,o=m.value),"description"in m&&l(0,f=m.description),"dark"in m&&l(1,u=m.dark),"$$scope"in m&&l(12,r=m.$$scope)},s.$$.update=()=>{s.$$.dirty&900&&b&&(l(8,p=o??b.textContent),l(3,h=t.value===p),I=b.textContent)},[f,u,b,h,i,a,M,o,p,t,c,R,r]}class at extends te{constructor(e){super(),le(this,e,Qe,Be,se,{value:7,description:0,dark:1})}}function x(s){let e,l;return{c(){e=E("label"),l=B(s[2]),this.h()},l(t){e=A(t,"LABEL",{for:!0,class:!0});var n=O(e);l=Q(n,s[2]),n.forEach(_),this.h()},h(){w(e,"for",s[3]),w(e,"class","svelte-1kzttn7")},m(t,n){v(t,e,n),N(e,l)},p(t,n){n&4&&y(l,t[2]),n&8&&w(e,"for",t[3])},d(t){t&&_(e)}}}function ye(s){let e;return{c(){e=B(s[9])},l(l){e=Q(l,s[9])},m(l,t){v(l,e,t)},p(l,t){t&512&&y(e,l[9])},d(l){l&&_(e)}}}function Fe(s){let e;return{c(){e=B(s[5])},l(l){e=Q(l,s[5])},m(l,t){v(l,e,t)},p(l,t){t&32&&y(e,l[5])},d(l){l&&_(e)}}}function $(s){let e,l;return e=new de({props:{name:"lock",class:"text-gray-500"}}),{c(){S(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,n){D(e,t,n),l=!0},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Ge(s){let e,l,t,n;function c(o,f){return!o[0]&&o[5]!==""?Fe:ye}let r=c(s),i=r(s),a=s[6]&&$();return{c(){e=E("div"),i.c(),l=z(),a&&a.c(),t=j(),this.h()},l(o){e=A(o,"DIV",{class:!0,id:!0});var f=O(e);i.l(f),f.forEach(_),l=L(o),a&&a.l(o),t=j(),this.h()},h(){w(e,"class","select-input svelte-1kzttn7"),w(e,"id",s[3]),T(e,"dark",s[4]),T(e,"disabled",s[6])},m(o,f){v(o,e,f),i.m(e,null),v(o,l,f),a&&a.m(o,f),v(o,t,f),n=!0},p(o,f){r===(r=c(o))&&i?i.p(o,f):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),(!n||f&8)&&w(e,"id",o[3]),(!n||f&16)&&T(e,"dark",o[4]),(!n||f&64)&&T(e,"disabled",o[6]),o[6]?a?f&64&&k(a,1):(a=$(),a.c(),k(a,1),a.m(t.parentNode,t)):a&&(oe(),g(a,1,1,()=>{a=null}),ie())},i(o){n||(k(a),n=!0)},o(o){g(a),n=!1},d(o){o&&_(e),i.d(),o&&_(l),a&&a.d(o),o&&_(t)}}}function He(s){let e;const l=s[15].default,t=ae(l,s,s[17],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,c){t&&t.m(n,c),e=!0},p(n,c){t&&t.p&&(!e||c&131072)&&fe(t,l,n,n[17],e?ue(l,n[17],c,null):re(n[17]),null)},i(n){e||(k(t,n),e=!0)},o(n){g(t,n),e=!1},d(n){t&&t.d(n)}}}function Je(s){let e,l,t,n,c;function r(a){s[16](a)}let i={hasIndicator:!s[6],class:"select-input-container "+(s[6]?"disabled":"")+" "+(s[7]?"unroundRight":""),keepOpen:s[8],controls:s[3]+"-menu",testId:s[12].testId,dark:s[4],disabled:s[6],$$slots:{default:[Ge]},$$scope:{ctx:s}};return s[1]!==void 0&&(i.show=s[1]),e=new Ae({props:i}),ce.push(()=>we(e,"show",r)),n=new Oe({props:{id:s[3]+"-menu",class:"h-auto max-h-96 min-w-fit",show:s[1],dark:s[4],$$slots:{default:[He]},$$scope:{ctx:s}}}),{c(){S(e.$$.fragment),t=z(),S(n.$$.fragment)},l(a){V(e.$$.fragment,a),t=L(a),V(n.$$.fragment,a)},m(a,o){D(e,a,o),v(a,t,o),D(n,a,o),c=!0},p(a,o){const f={};o&64&&(f.hasIndicator=!a[6]),o&192&&(f.class="select-input-container "+(a[6]?"disabled":"")+" "+(a[7]?"unroundRight":"")),o&256&&(f.keepOpen=a[8]),o&8&&(f.controls=a[3]+"-menu"),o&4096&&(f.testId=a[12].testId),o&16&&(f.dark=a[4]),o&64&&(f.disabled=a[6]),o&131705&&(f.$$scope={dirty:o,ctx:a}),!l&&o&2&&(l=!0,f.show=a[1],ve(()=>l=!1)),e.$set(f);const u={};o&8&&(u.id=a[3]+"-menu"),o&2&&(u.show=a[1]),o&16&&(u.dark=a[4]),o&131072&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){c||(k(e.$$.fragment,a),k(n.$$.fragment,a),c=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),c=!1},d(a){q(e,a),a&&_(t),q(n,a)}}}function Ke(s){let e,l,t,n,c,r=s[2]&&x(s);return t=new Ee({props:{class:"w-full",$$slots:{default:[Je]},$$scope:{ctx:s}}}),{c(){e=E("div"),r&&r.c(),l=z(),S(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var a=O(e);r&&r.l(a),l=L(a),V(t.$$.fragment,a),a.forEach(_),this.h()},h(){w(e,"class",n="select "+s[12].class+" svelte-1kzttn7")},m(i,a){v(i,e,a),r&&r.m(e,null),N(e,l),D(t,e,null),c=!0},p(i,[a]){i[2]?r?r.p(i,a):(r=x(i),r.c(),r.m(e,l)):r&&(r.d(1),r=null);const o={};a&136187&&(o.$$scope={dirty:a,ctx:i}),t.$set(o),(!c||a&4096&&n!==(n="select "+i[12].class+" svelte-1kzttn7"))&&w(e,"class",n)},i(i){c||(k(t.$$.fragment,i),c=!0)},o(i){g(t.$$.fragment,i),c=!1},d(i){i&&_(e),r&&r.d(),q(t)}}}function Ye(s,e,l){let t,n,{$$slots:c={},$$scope:r}=e,{show:i=!1}=e,{label:a=""}=e,{id:o}=e,{value:f=void 0}=e,{dark:u=!1}=e,{placeholder:h=""}=e,{disabled:p=!1}=e,{unroundRight:b=!1}=e,{keepOpen:I=!1}=e,{onChange:M=Ce}=e,R;const m=C({value:f,label:f==null?void 0:f.toString(),onChange:M});P(s,m,d=>l(14,n=d));const W=C([]);P(s,W,d=>l(18,t=d)),J("select-value",m),J("select-options",W),ne(()=>{let d=t.find(_e=>_e.value===f);d!==void 0&&l(9,R=d==null?void 0:d.label)});function me(d){i=d,l(1,i)}return s.$$set=d=>{l(12,e=K(K({},e),Y(d))),"show"in d&&l(1,i=d.show),"label"in d&&l(2,a=d.label),"id"in d&&l(3,o=d.id),"value"in d&&l(0,f=d.value),"dark"in d&&l(4,u=d.dark),"placeholder"in d&&l(5,h=d.placeholder),"disabled"in d&&l(6,p=d.disabled),"unroundRight"in d&&l(7,b=d.unroundRight),"keepOpen"in d&&l(8,I=d.keepOpen),"onChange"in d&&l(13,M=d.onChange),"$$scope"in d&&l(17,r=d.$$scope)},s.$$.update=()=>{s.$$.dirty&24577&&(l(0,f=n.value),l(9,R=n.label),M(f))},e=Y(e),[f,i,a,o,u,h,p,b,I,R,m,W,e,M,n,c,me,r]}class ot extends te{constructor(e){super(),le(this,e,Ye,Ke,se,{show:1,label:2,id:3,value:0,dark:4,placeholder:5,disabled:6,unroundRight:7,keepOpen:8,onChange:13})}}const it=s=>!s.disableWriteActions&&!s.workflowCancelDisabled,ft=s=>!s.disableWriteActions&&!s.workflowTerminateDisabled;export{at as O,ot as S,ft as a,lt as b,nt as c,st as d,U as e,Te as f,Ne as l,Ve as r,Le as u,it as w};
