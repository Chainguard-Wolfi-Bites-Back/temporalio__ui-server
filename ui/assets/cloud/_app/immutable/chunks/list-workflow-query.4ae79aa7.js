import{j as l,k as u,l as n,m as c}from"./format-time.c8c4770b.js";import{d as o}from"./index.deae5bd4.js";import{p as y}from"./stores.03e99c5a.js";import{i as a}from"./version-check.d006b302.js";import{c as s}from"./cluster.c8f1465c.js";import{t as f}from"./versions.1beb1942.js";import{W as p}from"./index.a36c9cb0.js";const d=(t,r)=>{var i;return((i=t==null?void 0:t.visibilityStore)==null?void 0:i.includes("elasticsearch"))||a(r,"1.19")},w=t=>{var r;return(r=t==null?void 0:t.visibilityStore)==null?void 0:r.includes("elasticsearch")},m=o([y],([t])=>{var r,i,e;return(e=(i=(r=t.data)==null?void 0:r.settings)==null?void 0:i.runtimeEnvironment)==null?void 0:e.isCloud});o([f,s],([t,r])=>a(t,"1.18.0")&&d(r,t));const b=o([s,f,m],([t,r,i])=>d(t,r)||i),D=o([s,m],([t,r])=>w(t)||r),S={workflowId:"WorkflowId",workflowType:"WorkflowType",timeRange:"StartTime",executionStatus:"ExecutionStatus",closeTime:"CloseTime"},g=["workflowId","workflowType","timeRange","executionStatus","closeTime"],T=t=>!(t===null||t===void 0||t===""||typeof t=="string"&&t==="undefined"),E=t=>{if(typeof t!="string")return!1;for(const r of g)if(r===t)return!0;return!1},W=(t,r,i)=>{const e=S[t];return r==="All"?"":l(r)||u(r)?i||p(b)?`${e} > "${n(r)}"`:`${e} BETWEEN "${n(r)}" AND "${c()}"`:`${e}="${r}"`},k=(t,r)=>Object.entries(t).map(([i,e])=>{if(E(i)&&T(e))return W(i,e,r)}).filter(Boolean),j=(t,r=!1)=>k(t,r).join(" and ");export{D as a,b as s,j as t};
