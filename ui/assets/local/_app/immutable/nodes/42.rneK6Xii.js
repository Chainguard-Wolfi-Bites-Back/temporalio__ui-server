import{s as W,x as h,k as d,g as c,c as b,e as V,b as q,d as C,j as I,$ as N,t as P,f as S,n as A,a as T,h as j}from"../chunks/scheduler.hgcnTi65.js";import{S as Q,i as v,t as m,g as D,b as p,e as E,c as w,a as k,m as _,h as z,d as $}from"../chunks/index.BfLSuu77.js";import{p as B}from"../chunks/stores.7oO46HzR.js";import{P as F}from"../chunks/page-title.7Uj1EDrU.js";import{a as G}from"../chunks/index.9WuvnKOs.js";import{A as H}from"../chunks/alert.tJ2yK_E6.js";import{t as g}from"../chunks/translate.HrioCK44.js";import{w as R}from"../chunks/workflow-run.PXqEcjp3.js";import{w as J}from"../chunks/pollers-service.aHKVDhN_.js";import{W as K}from"../chunks/workflow-padded-layout.isF8qOEO.js";import{T as L}from"../chunks/task-queue-workers.7Mhnpros.js";function y(n){let o,s,r,e;return s=new H({props:{bold:!0,icon:"warning",intent:"warning",title:g("workflows.workflow-error-no-compatible-workers-title"),$$slots:{default:[M]},$$scope:{ctx:n}}}),{c(){o=V("div"),w(s.$$.fragment),this.h()},l(t){o=q(t,"DIV",{class:!0});var i=C(o);k(s.$$.fragment,i),i.forEach(c),this.h()},h(){I(o,"class","mb-4")},m(t,i){d(t,o,i),_(s,o,null),e=!0},p(t,i){const a={};i&129&&(a.$$scope={dirty:i,ctx:t}),s.$set(a)},i(t){e||(m(s.$$.fragment,t),t&&(r||N(()=>{r=z(o,G,{duration:200,delay:100}),r.start()})),e=!0)},o(t){p(s.$$.fragment,t),e=!1},d(t){t&&c(o),$(s)}}}function M(n){var r;let o=g("workflows.workflow-error-no-compatible-workers-description",{taskQueue:(r=n[0])==null?void 0:r.taskQueue})+"",s;return{c(){s=P(o)},l(e){s=S(e,o)},m(e,t){d(e,s,t)},p(e,t){var i;t&1&&o!==(o=g("workflows.workflow-error-no-compatible-workers-description",{taskQueue:(i=e[0])==null?void 0:i.taskQueue})+"")&&A(s,o)},d(e){e&&c(s)}}}function O(n){let o,s,r=!n[2]&&n[1]&&y(n);return{c(){r&&r.c(),o=h()},l(e){r&&r.l(e),o=h()},m(e,t){r&&r.m(e,t),d(e,o,t),s=!0},p(e,[t]){!e[2]&&e[1]?r?(r.p(e,t),t&6&&m(r,1)):(r=y(e),r.c(),m(r,1),r.m(o.parentNode,o)):r&&(D(),p(r,1,1,()=>{r=null}),E())},i(e){s||(m(r),s=!0)},o(e){p(r),s=!1},d(e){e&&c(o),r&&r.d(e)}}}function U(n,o,s){let r,e,t,i,a;b(n,R,u=>s(6,a=u));var l;let{compatibility:f}=o;return n.$$set=u=>{"compatibility"in u&&s(3,f=u.compatibility)},n.$$.update=()=>{n.$$.dirty&64&&s(0,{workflow:r,workers:e}=a,r,(s(5,e),s(6,a))),n.$$.dirty&49&&s(2,t=(r==null?void 0:r.isRunning)&&!(!(s(4,l=e==null?void 0:e.pollers)===null||l===void 0)&&l.length)),n.$$.dirty&41&&s(1,i=(r==null?void 0:r.isRunning)&&!J(r,e.pollers,f))},[r,i,t,f,l,e,a]}class X extends Q{constructor(o){super(),v(this,o,U,O,W,{compatibility:3})}}function Y(n){let o,s;return o=new X({props:{compatibility:n[7]}}),{c(){w(o.$$.fragment)},l(r){k(o.$$.fragment,r)},m(r,e){_(o,r,e),s=!0},p(r,e){const t={};e&128&&(t.compatibility=r[7]),o.$set(t)},i(r){s||(m(o.$$.fragment,r),s=!0)},o(r){p(o.$$.fragment,r),s=!1},d(r){$(o,r)}}}function Z(n){var r;let o,s;return o=new L({props:{workers:n[3],taskQueue:(r=n[0])==null?void 0:r.taskQueue,useVersioning:n[2],$$slots:{default:[Y,({compatibility:e})=>({7:e}),({compatibility:e})=>e?128:0]},$$scope:{ctx:n}}}),{c(){w(o.$$.fragment)},l(e){k(o.$$.fragment,e)},m(e,t){_(o,e,t),s=!0},p(e,t){var a;const i={};t&8&&(i.workers=e[3]),t&1&&(i.taskQueue=(a=e[0])==null?void 0:a.taskQueue),t&4&&(i.useVersioning=e[2]),t&384&&(i.$$scope={dirty:t,ctx:e}),o.$set(i)},i(e){s||(m(o.$$.fragment,e),s=!0)},o(e){p(o.$$.fragment,e),s=!1},d(e){$(o,e)}}}function x(n){let o,s,r,e;return o=new F({props:{title:`${g("workflows.workers-tab")} | ${n[4]}`,url:n[1].url.href}}),r=new K({props:{$$slots:{default:[Z]},$$scope:{ctx:n}}}),{c(){w(o.$$.fragment),s=T(),w(r.$$.fragment)},l(t){k(o.$$.fragment,t),s=j(t),k(r.$$.fragment,t)},m(t,i){_(o,t,i),d(t,s,i),_(r,t,i),e=!0},p(t,[i]){const a={};i&16&&(a.title=`${g("workflows.workers-tab")} | ${t[4]}`),i&2&&(a.url=t[1].url.href),o.$set(a);const l={};i&269&&(l.$$scope={dirty:i,ctx:t}),r.$set(l)},i(t){e||(m(o.$$.fragment,t),m(r.$$.fragment,t),e=!0)},o(t){p(o.$$.fragment,t),p(r.$$.fragment,t),e=!1},d(t){t&&c(s),$(o,t),$(r,t)}}}function ee(n,o,s){let r,e,t,i,a,l;b(n,R,u=>s(6,a=u)),b(n,B,u=>s(1,l=u));var f;return n.$$.update=()=>{n.$$.dirty&2&&s(4,{workflow:r}=l.params,r),n.$$.dirty&64&&s(3,{workers:e,workflow:t}=a,e,(s(0,t),s(6,a))),n.$$.dirty&33&&s(2,i=!!(!(s(5,f=t==null?void 0:t.mostRecentWorkerVersionStamp)===null||f===void 0)&&f.useVersioning))},[t,l,i,e,r,f,a]}class pe extends Q{constructor(o){super(),v(this,o,ee,x,W,{})}}export{pe as component};
