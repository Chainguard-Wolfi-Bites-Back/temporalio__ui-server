import{s as W,x as b,k as h,g as d,c as g,v as q,a as C,h as N}from"../chunks/scheduler.pu1Jb5n4.js";import{S as I,i as R,g as S,b as f,e as B,t as m,c as k,a as _,m as $,d as w}from"../chunks/index.ApG6QRGr.js";import{p as T}from"../chunks/stores.seM82et8.js";import{P as E}from"../chunks/page-title.7B0a8Lyi.js";import{t as F}from"../chunks/translate.5hbiS85r.js";import{h as y,u as H}from"../chunks/await_block.HT617CmP.js";import{W as Q}from"../chunks/workers-list.VauKAEBk.js";import{T as U}from"../chunks/table.Kq3xnJM6.js";import{b as P}from"../chunks/pollers-service.JIe4XD72.js";import{w as V}from"../chunks/workflow-run.Vh2ssD4L.js";import{p as j,g as z}from"../chunks/task-queue-compatibility.52mtxoi2.js";function A(s){const r=s.slice(),t=z(r[0].pollers);return r[8]=t,r}function D(s){let r,t;return r=new Q({props:{taskQueue:s[2],workers:s[0]}}),{c(){k(r.$$.fragment)},l(e){_(r.$$.fragment,e)},m(e,n){$(r,e,n),t=!0},p(e,n){const o={};n&4&&(o.taskQueue=e[2]),n&1&&(o.workers=e[0]),r.$set(o)},i(e){t||(m(r.$$.fragment,e),t=!0)},o(e){f(r.$$.fragment,e),t=!1},d(e){w(r,e)}}}function G(s){let r,t,e,n={ctx:s,current:null,token:null,hasCatch:!0,pending:L,then:K,catch:J,value:9,blocks:[,,,]};return y(t=P({namespace:s[4],buildIds:s[8],taskQueue:s[2]}),n),{c(){r=b(),n.block.c()},l(o){r=b(),n.block.l(o)},m(o,l){h(o,r,l),n.block.m(o,n.anchor=l),n.mount=()=>r.parentNode,n.anchor=r,e=!0},p(o,l){s=o,n.ctx=s,l&5&&t!==(t=P({namespace:s[4],buildIds:s[8],taskQueue:s[2]}))&&y(t,n)||H(n,s,l)},i(o){e||(m(n.block),e=!0)},o(o){for(let l=0;l<3;l+=1){const u=n.blocks[l];f(u)}e=!1},d(o){o&&d(r),n.block.d(o),n.token=null,n=null}}}function J(s){let r,t;return r=new Q({props:{taskQueue:s[2],workers:s[0]}}),{c(){k(r.$$.fragment)},l(e){_(r.$$.fragment,e)},m(e,n){$(r,e,n),t=!0},p(e,n){const o={};n&4&&(o.taskQueue=e[2]),n&1&&(o.workers=e[0]),r.$set(o)},i(e){t||(m(r.$$.fragment,e),t=!0)},o(e){f(r.$$.fragment,e),t=!1},d(e){w(r,e)}}}function K(s){let r,t;return r=new Q({props:{taskQueue:s[2],workers:s[0],compatibility:s[3],reachability:s[9]}}),{c(){k(r.$$.fragment)},l(e){_(r.$$.fragment,e)},m(e,n){$(r,e,n),t=!0},p(e,n){const o={};n&4&&(o.taskQueue=e[2]),n&1&&(o.workers=e[0]),n&8&&(o.compatibility=e[3]),n&5&&(o.reachability=e[9]),r.$set(o)},i(e){t||(m(r.$$.fragment,e),t=!0)},o(e){f(r.$$.fragment,e),t=!1},d(e){w(r,e)}}}function L(s){let r,t;return r=new U({props:{rows:3}}),{c(){k(r.$$.fragment)},l(e){_(r.$$.fragment,e)},m(e,n){$(r,e,n),t=!0},p:q,i(e){t||(m(r.$$.fragment,e),t=!0)},o(e){f(r.$$.fragment,e),t=!1},d(e){w(r,e)}}}function M(s){let r,t,e,n;const o=[G,D],l=[];function u(a,c){return a[1]?0:1}function i(a,c){return c===0?A(a):a}return r=u(s),t=l[r]=o[r](i(s,r)),{c(){t.c(),e=b()},l(a){t.l(a),e=b()},m(a,c){l[r].m(a,c),h(a,e,c),n=!0},p(a,[c]){let p=r;r=u(a),r===p?l[r].p(i(a,r),c):(S(),f(l[p],1,1,()=>{l[p]=null}),B(),t=l[r],t?t.p(i(a,r),c):(t=l[r]=o[r](i(a,r)),t.c()),m(t,1),t.m(e.parentNode,e))},i(a){n||(m(t),n=!0)},o(a){f(t),n=!1},d(a){a&&d(e),l[r].d(a)}}}function O(s,r,t){let e,n,o,l,u,i,a;g(s,V,p=>t(6,i=p)),g(s,T,p=>t(7,a=p));let{namespace:c}=a.params;return s.$$.update=()=>{s.$$.dirty&64&&t(0,{workers:e,workflow:n,compatibility:o}=i,e,(t(5,n),t(6,i)),(t(3,o),t(6,i))),s.$$.dirty&32&&t(2,l=n==null?void 0:n.taskQueue),s.$$.dirty&1&&t(1,u=j(e.pollers))},[e,u,l,o,c,n,i]}class X extends I{constructor(r){super(),R(this,r,O,M,W,{})}}function Y(s){let r,t,e,n;return r=new E({props:{title:`${F("workflows.workers-tab")} | ${s[1]}`,url:s[0].url.href}}),e=new X({}),{c(){k(r.$$.fragment),t=C(),k(e.$$.fragment)},l(o){_(r.$$.fragment,o),t=N(o),_(e.$$.fragment,o)},m(o,l){$(r,o,l),h(o,t,l),$(e,o,l),n=!0},p(o,[l]){const u={};l&1&&(u.url=o[0].url.href),r.$set(u)},i(o){n||(m(r.$$.fragment,o),m(e.$$.fragment,o),n=!0)},o(o){f(r.$$.fragment,o),f(e.$$.fragment,o),n=!1},d(o){o&&d(t),w(r,o),w(e,o)}}}function Z(s,r,t){let e;g(s,T,o=>t(0,e=o));const n=e.params.workflow;return[e,n]}class ie extends I{constructor(r){super(),R(this,r,Z,Y,W,{})}}export{ie as component};
