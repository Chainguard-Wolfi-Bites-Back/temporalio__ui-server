import{s as I,x as g,k as h,g as Q,c as d,v as C,a as N,h as S}from"../chunks/scheduler.78ThUSKQ.js";import{S as R,i as T,g as B,b as c,e as E,t as m,c as p,a as k,m as _,d as $}from"../chunks/index.G2Max4V_.js";import{p as q}from"../chunks/stores.GmTEsJaa.js";import{P as F}from"../chunks/page-title.-CDePwim.js";import{t as H}from"../chunks/translate.HrioCK44.js";import{W as U}from"../chunks/workflow-padded-layout.-4kAfDqX.js";import{h as W,u as V}from"../chunks/await_block.yvWfAhR4.js";import{W as y}from"../chunks/workers-list.D5XmIF6-.js";import{T as j}from"../chunks/table.skRUyoJZ.js";import{b as P}from"../chunks/pollers-service.bSSfs69P.js";import{w as z}from"../chunks/workflow-run.s0GnFlba.js";import{p as A,g as D}from"../chunks/task-queue-compatibility.52mtxoi2.js";function G(n){const e=n.slice(),o=D(e[0].pollers);return e[9]=o,e}function J(n){let e,o;return e=new y({props:{taskQueue:n[3],workers:n[0]}}),{c(){p(e.$$.fragment)},l(r){k(e.$$.fragment,r)},m(r,t){_(e,r,t),o=!0},p(r,t){const s={};t&8&&(s.taskQueue=r[3]),t&1&&(s.workers=r[0]),e.$set(s)},i(r){o||(m(e.$$.fragment,r),o=!0)},o(r){c(e.$$.fragment,r),o=!1},d(r){$(e,r)}}}function K(n){let e,o,r,t={ctx:n,current:null,token:null,hasCatch:!0,pending:O,then:M,catch:L,value:10,blocks:[,,,]};return W(o=P({namespace:n[6],buildIds:n[9],taskQueue:n[3]}),t),{c(){e=g(),t.block.c()},l(s){e=g(),t.block.l(s)},m(s,l){h(s,e,l),t.block.m(s,t.anchor=l),t.mount=()=>e.parentNode,t.anchor=e,r=!0},p(s,l){n=s,t.ctx=n,l&9&&o!==(o=P({namespace:n[6],buildIds:n[9],taskQueue:n[3]}))&&W(o,t)||V(t,n,l)},i(s){r||(m(t.block),r=!0)},o(s){for(let l=0;l<3;l+=1){const u=t.blocks[l];c(u)}r=!1},d(s){s&&Q(e),t.block.d(s),t.token=null,t=null}}}function L(n){let e,o;return e=new y({props:{taskQueue:n[3],workers:n[0],rules:n[5]}}),{c(){p(e.$$.fragment)},l(r){k(e.$$.fragment,r)},m(r,t){_(e,r,t),o=!0},p(r,t){const s={};t&8&&(s.taskQueue=r[3]),t&1&&(s.workers=r[0]),t&32&&(s.rules=r[5]),e.$set(s)},i(r){o||(m(e.$$.fragment,r),o=!0)},o(r){c(e.$$.fragment,r),o=!1},d(r){$(e,r)}}}function M(n){var r;let e,o;return e=new y({props:{taskQueue:(r=n[1])==null?void 0:r.taskQueue,workers:n[0],rules:n[5],compatibility:n[4],reachability:n[10]}}),{c(){p(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,s){_(e,t,s),o=!0},p(t,s){var u;const l={};s&2&&(l.taskQueue=(u=t[1])==null?void 0:u.taskQueue),s&1&&(l.workers=t[0]),s&32&&(l.rules=t[5]),s&16&&(l.compatibility=t[4]),s&9&&(l.reachability=t[10]),e.$set(l)},i(t){o||(m(e.$$.fragment,t),o=!0)},o(t){c(e.$$.fragment,t),o=!1},d(t){$(e,t)}}}function O(n){let e,o;return e=new j({props:{rows:3}}),{c(){p(e.$$.fragment)},l(r){k(e.$$.fragment,r)},m(r,t){_(e,r,t),o=!0},p:C,i(r){o||(m(e.$$.fragment,r),o=!0)},o(r){c(e.$$.fragment,r),o=!1},d(r){$(e,r)}}}function X(n){let e,o,r,t;const s=[K,J],l=[];function u(a,f){return a[2]?0:1}function i(a,f){return f===0?G(a):a}return e=u(n),o=l[e]=s[e](i(n,e)),{c(){o.c(),r=g()},l(a){o.l(a),r=g()},m(a,f){l[e].m(a,f),h(a,r,f),t=!0},p(a,[f]){let w=e;e=u(a),e===w?l[e].p(i(a,e),f):(B(),c(l[w],1,1,()=>{l[w]=null}),E(),o=l[e],o?o.p(i(a,e),f):(o=l[e]=s[e](i(a,e)),o.c()),m(o,1),o.m(r.parentNode,r))},i(a){t||(m(o),t=!0)},o(a){c(o),t=!1},d(a){a&&Q(r),l[e].d(a)}}}function Y(n,e,o){let r,t,s,l,u,i,a,f;d(n,z,b=>o(7,a=b)),d(n,q,b=>o(8,f=b));let{namespace:w}=f.params;return n.$$.update=()=>{n.$$.dirty&128&&o(0,{workers:r,workflow:t,rules:s,compatibility:l}=a,r,(o(1,t),o(7,a)),(o(5,s),o(7,a)),(o(4,l),o(7,a))),n.$$.dirty&2&&o(3,u=t==null?void 0:t.taskQueue),n.$$.dirty&1&&o(2,i=A(r.pollers))},[r,t,i,u,l,s,w,a]}class Z extends R{constructor(e){super(),T(this,e,Y,X,I,{})}}function v(n){let e,o;return e=new Z({}),{c(){p(e.$$.fragment)},l(r){k(e.$$.fragment,r)},m(r,t){_(e,r,t),o=!0},i(r){o||(m(e.$$.fragment,r),o=!0)},o(r){c(e.$$.fragment,r),o=!1},d(r){$(e,r)}}}function x(n){let e,o,r,t;return e=new F({props:{title:`${H("workflows.workers-tab")} | ${n[1]}`,url:n[0].url.href}}),r=new U({props:{$$slots:{default:[v]},$$scope:{ctx:n}}}),{c(){p(e.$$.fragment),o=N(),p(r.$$.fragment)},l(s){k(e.$$.fragment,s),o=S(s),k(r.$$.fragment,s)},m(s,l){_(e,s,l),h(s,o,l),_(r,s,l),t=!0},p(s,[l]){const u={};l&1&&(u.url=s[0].url.href),e.$set(u);const i={};l&4&&(i.$$scope={dirty:l,ctx:s}),r.$set(i)},i(s){t||(m(e.$$.fragment,s),m(r.$$.fragment,s),t=!0)},o(s){c(e.$$.fragment,s),c(r.$$.fragment,s),t=!1},d(s){s&&Q(o),$(e,s),$(r,s)}}}function ee(n,e,o){let r;d(n,q,s=>o(0,r=s));const t=r.params.workflow;return[r,t]}class pe extends R{constructor(e){super(),T(this,e,ee,x,I,{})}}export{pe as component};
