import{s as be,e as k,t as q,a as A,b,d as E,f as H,g as i,h as C,j as P,k as w,l as d,n as z,v as U,p as ms,B as Cl,u as ds,q as ps,r as hs,A as Ml,G as ql,c as ie,x as le,y as ts,w as je,H as _s,_ as Oe,$ as ze,X as Hl,m as Ll,D as $s,E as gs}from"../chunks/scheduler.yuwC4fMQ.js";import{S as Ee,i as Ie,c as L,a as N,m as F,t as D,b as S,d as B,g as qe,e as He,h as Ge}from"../chunks/index.m6evPz-M.js";import{p as ls}from"../chunks/stores.r0qXSyfE.js";import{P as vs}from"../chunks/page-title.okfP2p91.js";import{h as Ke,u as ss}from"../chunks/await_block.RzOPDskp.js";import{e as Le,u as ws,o as ks}from"../chunks/each.oHGYpoql.js";import{w as bs,g as Es}from"../chunks/entry.0CrO3QxO.js";import{A as Is}from"../chunks/accordion.NMWhmXsd.js";import{t as _}from"../chunks/translate.eu_ZgPaL.js";import{S as Ts,l as Xe}from"../chunks/schedules.9Y8gouAS.js";import{s as Nl}from"../chunks/parse-with-big-int.e3oI4SEy.js";import{I as Ds}from"../chunks/input-and-results.2LfQtDjM.js";import{E as Ss}from"../chunks/empty-state.d2_3vbJ9.js";import{L as Qe}from"../chunks/link.OofyFdzK.js";import{g as Fl}from"../chunks/workflow-service.8-peihme.js";import{t as tt,r as lt,f as ke}from"../chunks/time-format.cmGTK-iA.js";import{d as et}from"../chunks/encode-uri.Mzeiosm2.js";import{m as Bl,b as Ql,h as Ye,n as Ps}from"../chunks/route-for.DFqpnkef.js";import{W as rs}from"../chunks/workflow-status.n-6KZMwY.js";import{T as Rs,W as Vs}from"../chunks/translate.VCLZMptc.js";import{B as Ws}from"../chunks/button.FiPYsbcs.js";import{L as ns}from"../chunks/loading.zgfbl5xF.js";import{c as ye}from"../chunks/menu.7sdA8xZl.js";import{M as xe}from"../chunks/modal.C1wR0VqB.js";import{R as As,a as Cs}from"../chunks/radio-input.1LpkPBAz.js";import{S as Ms}from"../chunks/split-button.-2qFyOdT.js";import{f as Je,d as qs,u as Hs,p as Ls,t as Ns}from"../chunks/schedule-service.dC6wBNgy.js";import{c as Fs}from"../chunks/core-user._OSdbqAd.js";import{g as Bs,w as Qs,r as Ul}from"../chunks/workflows.aIo-kgq1.js";import{w as Us}from"../chunks/write-actions-are-allowed.gk2iL4Xe.js";function js(s){let e,l,t=_("common.notes")+"",r,n,a,o;return{c(){e=k("div"),l=k("h2"),r=q(t),n=A(),a=k("p"),o=q(s[0]),this.h()},l(u){e=b(u,"DIV",{});var f=E(e);l=b(f,"H2",{class:!0});var c=E(l);r=H(c,t),c.forEach(i),n=C(f),a=b(f,"P",{});var v=E(a);o=H(v,s[0]),v.forEach(i),f.forEach(i),this.h()},h(){P(l,"class","mb-4 text-lg")},m(u,f){w(u,e,f),d(e,l),d(l,r),d(e,n),d(e,a),d(a,o)},p(u,[f]){f&1&&z(o,u[0])},i:U,o:U,d(u){u&&i(e)}}}function Os(s,e,l){let{notes:t=""}=e;return s.$$set=r=>{"notes"in r&&l(0,t=r.notes)},[t]}class zs extends Ee{constructor(e){super(),Ie(this,e,Os,js,be,{notes:0})}}function jl(s){var a;let e,l=_("schedules.remaining-actions")+"",t,r=(((a=s[1])==null?void 0:a.remainingActions)??_("common.none"))+"",n;return{c(){e=k("p"),t=q(l),n=q(r)},l(o){e=b(o,"P",{});var u=E(e);t=H(u,l),n=H(u,r),u.forEach(i)},m(o,u){w(o,e,u),d(e,t),d(e,n)},p(o,u){var f;u&2&&r!==(r=(((f=o[1])==null?void 0:f.remainingActions)??_("common.none"))+"")&&z(n,r)},d(o){o&&i(e)}}}function Gs(s){var fe,Se,ce,me,Pe,de,Te;let e,l=_("schedules.start-time")+"",t,r,n=(((fe=s[0])==null?void 0:fe.startTime)??_("common.none"))+"",a,o,u,f=_("schedules.end-time")+"",c,v=(((Se=s[0])==null?void 0:Se.endTime)??_("common.none"))+"",I,m,h,$=_("schedules.jitter")+"",p,g=(((ce=s[0])==null?void 0:ce.jitter)??_("common.none"))+"",V,G,x,se=_("schedules.exclusion-calendar")+"",Y,oe=(((Pe=(me=s[0])==null?void 0:me.excludeCalendar)==null?void 0:Pe[0])??_("common.none"))+"",O,_e,ue,y,ee=_("schedules.overlap-policy")+"",re,$e=(((de=s[2])==null?void 0:de.overlapPolicy)??_("common.none"))+"",ne,j=((Te=s[1])==null?void 0:Te.limitedActions)&&jl(s);return{c(){e=k("p"),t=q(l),r=A(),a=q(n),o=A(),u=k("p"),c=q(f),I=q(v),m=A(),h=k("p"),p=q($),V=q(g),G=A(),x=k("p"),Y=q(se),O=q(oe),_e=A(),j&&j.c(),ue=A(),y=k("p"),re=q(ee),ne=q($e)},l(W){e=b(W,"P",{});var Q=E(e);t=H(Q,l),r=C(Q),a=H(Q,n),Q.forEach(i),o=C(W),u=b(W,"P",{});var pe=E(u);c=H(pe,f),I=H(pe,v),pe.forEach(i),m=C(W),h=b(W,"P",{});var X=E(h);p=H(X,$),V=H(X,g),X.forEach(i),G=C(W),x=b(W,"P",{});var M=E(x);Y=H(M,se),O=H(M,oe),M.forEach(i),_e=C(W),j&&j.l(W),ue=C(W),y=b(W,"P",{});var ae=E(y);re=H(ae,ee),ne=H(ae,$e),ae.forEach(i)},m(W,Q){w(W,e,Q),d(e,t),d(e,r),d(e,a),w(W,o,Q),w(W,u,Q),d(u,c),d(u,I),w(W,m,Q),w(W,h,Q),d(h,p),d(h,V),w(W,G,Q),w(W,x,Q),d(x,Y),d(x,O),w(W,_e,Q),j&&j.m(W,Q),w(W,ue,Q),w(W,y,Q),d(y,re),d(y,ne)},p(W,Q){var pe,X,M,ae,Z,Ae,Ce;Q&1&&n!==(n=(((pe=W[0])==null?void 0:pe.startTime)??_("common.none"))+"")&&z(a,n),Q&1&&v!==(v=(((X=W[0])==null?void 0:X.endTime)??_("common.none"))+"")&&z(I,v),Q&1&&g!==(g=(((M=W[0])==null?void 0:M.jitter)??_("common.none"))+"")&&z(V,g),Q&1&&oe!==(oe=(((Z=(ae=W[0])==null?void 0:ae.excludeCalendar)==null?void 0:Z[0])??_("common.none"))+"")&&z(O,oe),(Ae=W[1])!=null&&Ae.limitedActions?j?j.p(W,Q):(j=jl(W),j.c(),j.m(ue.parentNode,ue)):j&&(j.d(1),j=null),Q&4&&$e!==($e=(((Ce=W[2])==null?void 0:Ce.overlapPolicy)??_("common.none"))+"")&&z(ne,$e)},d(W){W&&(i(e),i(o),i(u),i(m),i(h),i(G),i(x),i(_e),i(ue),i(y)),j&&j.d(W)}}}function Xs(s){let e,l,t,r;return e=new zs({props:{notes:s[3]}}),t=new Is({props:{title:_("schedules.advanced-settings"),$$slots:{default:[Gs]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment),l=A(),L(t.$$.fragment)},l(n){N(e.$$.fragment,n),l=C(n),N(t.$$.fragment,n)},m(n,a){F(e,n,a),w(n,l,a),F(t,n,a),r=!0},p(n,[a]){const o={};a&8&&(o.notes=n[3]),e.$set(o);const u={};a&23&&(u.$$scope={dirty:a,ctx:n}),t.$set(u)},i(n){r||(D(e.$$.fragment,n),D(t.$$.fragment,n),r=!0)},o(n){S(e.$$.fragment,n),S(t.$$.fragment,n),r=!1},d(n){n&&i(l),B(e,n),B(t,n)}}}function Js(s,e,l){let{spec:t}=e,{state:r}=e,{policies:n}=e,{notes:a=""}=e;return s.$$set=o=>{"spec"in o&&l(0,t=o.spec),"state"in o&&l(1,r=o.state),"policies"in o&&l(2,n=o.policies),"notes"in o&&l(3,a=o.notes)},[t,r,n,a]}class Ks extends Ee{constructor(e){super(),Ie(this,e,Js,Xs,be,{spec:0,state:1,policies:2,notes:3})}}function Ys(s){let e,l,t;const r=s[3].default,n=ms(r,s,s[2],null);return{c(){e=k("div"),n&&n.c(),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=E(e);n&&n.l(o),o.forEach(i),this.h()},h(){P(e,"class",l="panel surface-primary "+s[1].class+" svelte-15yt26y"),Cl(e,"error",s[0])},m(a,o){w(a,e,o),n&&n.m(e,null),t=!0},p(a,[o]){n&&n.p&&(!t||o&4)&&ds(n,r,a,a[2],t?hs(r,a[2],o,null):ps(a[2]),null),(!t||o&2&&l!==(l="panel surface-primary "+a[1].class+" svelte-15yt26y"))&&P(e,"class",l),(!t||o&3)&&Cl(e,"error",a[0])},i(a){t||(D(n,a),t=!0)},o(a){S(n,a),t=!1},d(a){a&&i(e),n&&n.d(a)}}}function Zs(s,e,l){let{$$slots:t={},$$scope:r}=e,{error:n=!1}=e;return s.$$set=a=>{l(1,e=Ml(Ml({},e),ql(a))),"error"in a&&l(0,n=a.error),"$$scope"in a&&l(2,r=a.$$scope)},e=ql(e),[n,e,r,t]}class Ue extends Ee{constructor(e){super(),Ie(this,e,Zs,Ys,be,{error:0})}}function ys(s){let e,l=_("schedules.error-title")+"",t,r,n,a;return{c(){e=k("p"),t=q(l),r=A(),n=k("p"),a=q(s[0]),this.h()},l(o){e=b(o,"P",{class:!0});var u=E(e);t=H(u,l),u.forEach(i),r=C(o),n=b(o,"P",{class:!0});var f=E(n);a=H(f,s[0]),f.forEach(i),this.h()},h(){P(e,"class","error-text svelte-130heqv"),P(n,"class","error-text svelte-130heqv")},m(o,u){w(o,e,u),d(e,t),w(o,r,u),w(o,n,u),d(n,a)},p(o,u){u&1&&z(a,o[0])},d(o){o&&(i(e),i(r),i(n))}}}function xs(s){let e,l;return e=new Ue({props:{error:!0,$$slots:{default:[ys]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p(t,[r]){const n={};r&3&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function er(s,e,l){let{error:t=""}=e;return s.$$set=r=>{"error"in r&&l(0,t=r.error)},[t]}class as extends Ee{constructor(e){super(),Ie(this,e,er,xs,be,{error:0})}}function tr(s){let e,l=_("schedules.schedule-spec")+"",t,r,n,a,o;return a=new Ts({props:{calendar:s[0],interval:s[1],class:"text-base"}}),{c(){e=k("h2"),t=q(l),r=A(),n=k("div"),L(a.$$.fragment),this.h()},l(u){e=b(u,"H2",{class:!0});var f=E(e);t=H(f,l),f.forEach(i),r=C(u),n=b(u,"DIV",{class:!0});var c=E(n);N(a.$$.fragment,c),c.forEach(i),this.h()},h(){P(e,"class","mb-4 text-lg"),P(n,"class","pr-2")},m(u,f){w(u,e,f),d(e,t),w(u,r,f),w(u,n,f),F(a,n,null),o=!0},p(u,f){const c={};f&1&&(c.calendar=u[0]),f&2&&(c.interval=u[1]),a.$set(c)},i(u){o||(D(a.$$.fragment,u),o=!0)},o(u){S(a.$$.fragment,u),o=!1},d(u){u&&(i(e),i(r),i(n)),B(a)}}}function lr(s){let e,l;return e=new Ue({props:{$$slots:{default:[tr]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p(t,[r]){const n={};r&7&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function sr(s,e,l){let{calendar:t=void 0}=e,{interval:r=void 0}=e;return s.$$set=n=>{"calendar"in n&&l(0,t=n.calendar),"interval"in n&&l(1,r=n.interval)},[t,r]}class rr extends Ee{constructor(e){super(),Ie(this,e,sr,lr,be,{calendar:0,interval:1})}}function nr(s){let e,l;return e=new Ds({props:{title:_("schedules.schedule-input"),content:Nl(s[0])}}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p(t,r){const n={};r&1&&(n.content=Nl(t[0])),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ar(s){let e,l;return e=new Ue({props:{$$slots:{default:[nr]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p(t,[r]){const n={};r&3&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function or(s,e,l){let{input:t}=e;return s.$$set=r=>{"input"in r&&l(0,t=r.input)},[t]}class ur extends Ee{constructor(e){super(),Ie(this,e,or,ar,be,{input:0})}}function Ol(s,e,l){const t=s.slice();return t[6]=e[l],t}function ir(s){let e=_("common.view-all-runs")+"",l;return{c(){l=q(e)},l(t){l=H(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function fr(s){let e,l,t,r,n=s[6].startWorkflowResult.workflowId+"",a,o,u,f,c=ke(s[6].actualTime,s[3],{relative:s[4]})+"",v;return{c(){e=k("div"),l=k("div"),t=A(),r=k("div"),a=q(n),o=A(),u=k("div"),f=k("p"),v=q(c),this.h()},l(I){e=b(I,"DIV",{class:!0});var m=E(e);l=b(m,"DIV",{class:!0}),E(l).forEach(i),t=C(m),r=b(m,"DIV",{class:!0});var h=E(r);a=H(h,n),h.forEach(i),o=C(m),u=b(m,"DIV",{class:!0});var $=E(u);f=b($,"P",{});var p=E(f);v=H(p,c),p.forEach(i),$.forEach(i),m.forEach(i),this.h()},h(){P(l,"class","w-28"),P(r,"class","w-96"),P(u,"class","ml-auto"),P(e,"class","row svelte-1qym6rq")},m(I,m){w(I,e,m),d(e,l),d(e,t),d(e,r),d(r,a),d(e,o),d(e,u),d(u,f),d(f,v)},p(I,m){m&1&&n!==(n=I[6].startWorkflowResult.workflowId+"")&&z(a,n),m&25&&c!==(c=ke(I[6].actualTime,I[3],{relative:I[4]})+"")&&z(v,c)},i:U,o:U,d(I){I&&i(e)}}}function cr(s){let e,l,t,r,n,a,o,u,f,c=ke(s[6].actualTime,s[3],{relative:s[4]})+"",v,I;return t=new rs({props:{status:s[9].status}}),a=new Qe({props:{href:Ql({workflow:s[6].startWorkflowResult.workflowId,run:s[6].startWorkflowResult.runId,namespace:s[1]}),$$slots:{default:[mr]},$$scope:{ctx:s}}}),{c(){e=k("div"),l=k("div"),L(t.$$.fragment),r=A(),n=k("div"),L(a.$$.fragment),o=A(),u=k("div"),f=k("p"),v=q(c),this.h()},l(m){e=b(m,"DIV",{class:!0});var h=E(e);l=b(h,"DIV",{class:!0});var $=E(l);N(t.$$.fragment,$),$.forEach(i),r=C(h),n=b(h,"DIV",{class:!0});var p=E(n);N(a.$$.fragment,p),p.forEach(i),o=C(h),u=b(h,"DIV",{class:!0});var g=E(u);f=b(g,"P",{});var V=E(f);v=H(V,c),V.forEach(i),g.forEach(i),h.forEach(i),this.h()},h(){P(l,"class","w-28"),P(n,"class","mx-2 w-auto break-words"),P(u,"class","ml-auto"),P(e,"class","row svelte-1qym6rq")},m(m,h){w(m,e,h),d(e,l),F(t,l,null),d(e,r),d(e,n),F(a,n,null),d(e,o),d(e,u),d(u,f),d(f,v),I=!0},p(m,h){const $={};h&3&&($.status=m[9].status),t.$set($);const p={};h&3&&(p.href=Ql({workflow:m[6].startWorkflowResult.workflowId,run:m[6].startWorkflowResult.runId,namespace:m[1]})),h&1025&&(p.$$scope={dirty:h,ctx:m}),a.$set(p),(!I||h&25)&&c!==(c=ke(m[6].actualTime,m[3],{relative:m[4]})+"")&&z(v,c)},i(m){I||(D(t.$$.fragment,m),D(a.$$.fragment,m),I=!0)},o(m){S(t.$$.fragment,m),S(a.$$.fragment,m),I=!1},d(m){m&&i(e),B(t),B(a)}}}function mr(s){let e=s[6].startWorkflowResult.workflowId+"",l;return{c(){l=q(e)},l(t){l=H(t,e)},m(t,r){w(t,l,r)},p(t,r){r&1&&e!==(e=t[6].startWorkflowResult.workflowId+"")&&z(l,e)},d(t){t&&i(l)}}}function dr(s){return{c:U,l:U,m:U,p:U,i:U,o:U,d:U}}function zl(s,e){let l,t,r,n,a={ctx:e,current:null,token:null,hasCatch:!0,pending:dr,then:cr,catch:fr,value:9,blocks:[,,,]};return Ke(r=Fl({namespace:e[1],workflowId:et(e[6].startWorkflowResult.workflowId),runId:e[6].startWorkflowResult.runId},fetch),a),{key:s,first:null,c(){l=le(),t=le(),a.block.c(),this.h()},l(o){l=le(),t=le(),a.block.l(o),this.h()},h(){this.first=l},m(o,u){w(o,l,u),w(o,t,u),a.block.m(o,a.anchor=u),a.mount=()=>t.parentNode,a.anchor=t,n=!0},p(o,u){e=o,a.ctx=e,u&3&&r!==(r=Fl({namespace:e[1],workflowId:et(e[6].startWorkflowResult.workflowId),runId:e[6].startWorkflowResult.runId},fetch))&&Ke(r,a)||ss(a,e,u)},i(o){n||(D(a.block),n=!0)},o(o){for(let u=0;u<3;u+=1){const f=a.blocks[u];S(f)}n=!1},d(o){o&&(i(l),i(t)),a.block.d(o),a.token=null,a=null}}}function Gl(s){let e,l;return e=new Ss({props:{title:_("schedules.recent-runs-empty-state-title")}}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p:U,i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function pr(s){let e,l,t=_("schedules.recent-runs")+"",r,n,a,o,u=[],f=new Map,c,v,I;a=new Qe({props:{href:Bl({namespace:s[1],query:s[2]}),$$slots:{default:[ir]},$$scope:{ctx:s}}});let m=Le(s[5](s[0]));const h=p=>{var g,V;return(V=(g=p[6])==null?void 0:g.startWorkflowResult)==null?void 0:V.workflowId};for(let p=0;p<m.length;p+=1){let g=Ol(s,m,p),V=h(g);f.set(V,u[p]=zl(V,g))}let $=!s[0].length&&Gl();return{c(){e=k("div"),l=k("h2"),r=q(t),n=A(),L(a.$$.fragment),o=A();for(let p=0;p<u.length;p+=1)u[p].c();c=A(),$&&$.c(),v=le(),this.h()},l(p){e=b(p,"DIV",{class:!0});var g=E(e);l=b(g,"H2",{class:!0});var V=E(l);r=H(V,t),V.forEach(i),n=C(g),N(a.$$.fragment,g),g.forEach(i),o=C(p);for(let G=0;G<u.length;G+=1)u[G].l(p);c=C(p),$&&$.l(p),v=le(),this.h()},h(){P(l,"class","mb-4 text-lg"),P(e,"class","flex justify-between")},m(p,g){w(p,e,g),d(e,l),d(l,r),d(e,n),F(a,e,null),w(p,o,g);for(let V=0;V<u.length;V+=1)u[V]&&u[V].m(p,g);w(p,c,g),$&&$.m(p,g),w(p,v,g),I=!0},p(p,g){const V={};g&6&&(V.href=Bl({namespace:p[1],query:p[2]})),g&1024&&(V.$$scope={dirty:g,ctx:p}),a.$set(V),g&59&&(m=Le(p[5](p[0])),qe(),u=ws(u,g,h,1,p,m,f,c.parentNode,ks,zl,c,Ol),He()),p[0].length?$&&(qe(),S($,1,1,()=>{$=null}),He()):$?($.p(p,g),g&1&&D($,1)):($=Gl(),$.c(),D($,1),$.m(v.parentNode,v))},i(p){if(!I){D(a.$$.fragment,p);for(let g=0;g<m.length;g+=1)D(u[g]);D($),I=!0}},o(p){S(a.$$.fragment,p);for(let g=0;g<u.length;g+=1)S(u[g]);S($),I=!1},d(p){p&&(i(e),i(o),i(c),i(v)),B(a);for(let g=0;g<u.length;g+=1)u[g].d(p);$&&$.d(p)}}}function hr(s){let e,l;return e=new Ue({props:{class:"w-full",$$slots:{default:[pr]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p(t,[r]){const n={};r&1055&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function _r(s,e,l){let t,r;ie(s,tt,f=>l(3,t=f)),ie(s,lt,f=>l(4,r=f));let{recentRuns:n=[]}=e,{namespace:a}=e,{workflowQuery:o}=e;const u=f=>{var c,v;return(v=(c=f==null?void 0:f.sort((I,m)=>new Date(m.actualTime).getTime()-new Date(I.actualTime).getTime()))===null||c===void 0?void 0:c.slice(0,5))!==null&&v!==void 0?v:[]};return s.$$set=f=>{"recentRuns"in f&&l(0,n=f.recentRuns),"namespace"in f&&l(1,a=f.namespace),"workflowQuery"in f&&l(2,o=f.workflowQuery)},[n,a,o,t,r,u]}class $r extends Ee{constructor(e){super(),Ie(this,e,_r,hr,be,{recentRuns:0,namespace:1,workflowQuery:2})}}function Xl(s,e,l){const t=s.slice();return t[3]=e[l],t}function Jl(s){let e,l,t=ke(s[3],s[1],{relative:s[2],relativeLabel:_("common.from-now")})+"",r,n;return{c(){e=k("div"),l=k("p"),r=q(t),n=A(),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=E(e);l=b(o,"P",{});var u=E(l);r=H(u,t),u.forEach(i),n=C(o),o.forEach(i),this.h()},h(){P(e,"class","row svelte-9sf42k")},m(a,o){w(a,e,o),d(e,l),d(l,r),d(e,n)},p(a,o){o&7&&t!==(t=ke(a[3],a[1],{relative:a[2],relativeLabel:_("common.from-now")})+"")&&z(r,t)},d(a){a&&i(e)}}}function gr(s){let e,l=_("schedules.upcoming-runs")+"",t,r,n,a=Le(s[0].slice(0,5)),o=[];for(let u=0;u<a.length;u+=1)o[u]=Jl(Xl(s,a,u));return{c(){e=k("h2"),t=q(l),r=A();for(let u=0;u<o.length;u+=1)o[u].c();n=le(),this.h()},l(u){e=b(u,"H2",{class:!0});var f=E(e);t=H(f,l),f.forEach(i),r=C(u);for(let c=0;c<o.length;c+=1)o[c].l(u);n=le(),this.h()},h(){P(e,"class","mb-4 text-lg")},m(u,f){w(u,e,f),d(e,t),w(u,r,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(u,f);w(u,n,f)},p(u,f){if(f&7){a=Le(u[0].slice(0,5));let c;for(c=0;c<a.length;c+=1){const v=Xl(u,a,c);o[c]?o[c].p(v,f):(o[c]=Jl(v),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=a.length}},d(u){u&&(i(e),i(r),i(n)),ts(o,u)}}}function vr(s){let e,l;return e=new Ue({props:{$$slots:{default:[gr]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p(t,[r]){const n={};r&71&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function wr(s,e,l){let t,r;ie(s,tt,a=>l(1,t=a)),ie(s,lt,a=>l(2,r=a));let{futureRuns:n=[]}=e;return s.$$set=a=>{"futureRuns"in a&&l(0,n=a.futureRuns)},[n,t,r]}class kr extends Ee{constructor(e){super(),Ie(this,e,wr,vr,be,{futureRuns:0})}}function Kl(s,e,l){const t=s.slice();return t[42]=e[l],t}function br(s){var m;let e,l,t,r,n,a,o,u,f,c,v,I;return t=new Qe({props:{href:Ye({namespace:s[14]}),icon:"chevron-left",$$slots:{default:[Er]},$$scope:{ctx:s}}}),v=new as({props:{error:(m=s[13])==null?void 0:m.message}}),{c(){e=k("header"),l=k("div"),L(t.$$.fragment),r=A(),n=k("h1"),a=q(s[15]),o=A(),u=k("p"),f=q(s[14]),c=A(),L(v.$$.fragment),this.h()},l(h){e=b(h,"HEADER",{class:!0});var $=E(e);l=b($,"DIV",{class:!0});var p=E(l);N(t.$$.fragment,p),r=C(p),n=b(p,"H1",{class:!0,"data-testid":!0});var g=E(n);a=H(g,s[15]),g.forEach(i),o=C(p),u=b(p,"P",{class:!0});var V=E(u);f=H(V,s[14]),V.forEach(i),p.forEach(i),$.forEach(i),c=C(h),N(v.$$.fragment,h),this.h()},h(){P(n,"class","mt-8 select-all text-2xl font-medium"),P(n,"data-testid","schedule-name"),P(u,"class","text-sm"),P(l,"class","relative flex flex-col gap-1"),P(e,"class","mb-8")},m(h,$){w(h,e,$),d(e,l),F(t,l,null),d(l,r),d(l,n),d(n,a),d(l,o),d(l,u),d(u,f),w(h,c,$),F(v,h,$),I=!0},p(h,$){var V;const p={};$[1]&16384&&(p.$$scope={dirty:$,ctx:h}),t.$set(p);const g={};$[0]&1&&(g.error=(V=h[13])==null?void 0:V.message),v.$set(g)},i(h){I||(D(t.$$.fragment,h),D(v.$$.fragment,h),I=!0)},o(h){S(t.$$.fragment,h),S(v.$$.fragment,h),I=!1},d(h){h&&(i(e),i(c)),B(t),B(v,h)}}}function Er(s){let e=_("schedules.back-to-schedules")+"",l;return{c(){l=q(e)},l(t){l=H(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function Ir(s){let e,l,t,r;const n=[Dr,Tr],a=[];function o(u,f){return u[7]?0:1}return e=o(s),l=a[e]=n[e](s),{c(){l.c(),t=le()},l(u){l.l(u),t=le()},m(u,f){a[e].m(u,f),w(u,t,f),r=!0},p(u,f){let c=e;e=o(u),e===c?a[e].p(u,f):(qe(),S(a[c],1,1,()=>{a[c]=null}),He(),l=a[e],l?l.p(u,f):(l=a[e]=n[e](u),l.c()),D(l,1),l.m(t.parentNode,t))},i(u){r||(D(l),r=!0)},o(u){S(l),r=!1},d(u){u&&i(t),a[e].d(u)}}}function Tr(s){var nt,at,ot,ut,it,ft,ct,mt,dt,pt,ht,_t,$t,gt,vt,wt,kt,bt,Et,It,Tt,Dt,St,Pt,Rt,Vt,Wt,At,Ct,Mt,qt,Ht,Lt,Nt,Ft,Bt,Qt,Ut,jt,Ot,zt;let e,l,t,r,n,a,o,u,f,c,v,I,m=((it=(ut=(ot=(at=(nt=s[41])==null?void 0:nt.schedule)==null?void 0:at.action)==null?void 0:ot.startWorkflow)==null?void 0:ut.workflowType)==null?void 0:it.name)+"",h,$,p,g,V=_("common.created",{created:ke((ct=(ft=s[41])==null?void 0:ft.info)==null?void 0:ct.createTime,s[8],{relative:s[9]})})+"",G,x,se,Y,oe,O,_e,ue,y,ee,re,$e,ne,j,fe,Se,ce,me,Pe,de,Te,W,Q,pe,X,M,ae,Z,Ae,Ce,Me;t=new Qe({props:{href:Ye({namespace:s[14]}),icon:"chevron-left",$$slots:{default:[Sr]},$$scope:{ctx:s}}}),c=new rs({props:{status:(mt=s[41])!=null&&mt.schedule.state.paused?"Paused":"Running"}});let te=((pt=(dt=s[41])==null?void 0:dt.info)==null?void 0:pt.updateTime)&&Yl(s);Y=new Ms({props:{position:"right",label:($t=(_t=(ht=s[41])==null?void 0:ht.schedule)==null?void 0:_t.state)!=null&&$t.paused?_("schedules.unpause"):_("schedules.pause"),menuLabel:_("schedules.schedule-actions"),id:"schedule-actions",disabled:s[6],$$slots:{default:[Wr]},$$scope:{ctx:s}}}),Y.$on("click",s[29]);let J=((vt=(gt=s[41])==null?void 0:gt.info)==null?void 0:vt.invalidScheduleError)&&Zl(s),K=s[10]&&yl(s);re=new $r({props:{namespace:s[14],recentRuns:(kt=(wt=s[41])==null?void 0:wt.info)==null?void 0:kt.recentActions,workflowQuery:s[16]}}),ne=new kr({props:{futureRuns:(Et=(bt=s[41])==null?void 0:bt.info)==null?void 0:Et.futureActionTimes}}),fe=new Ks({props:{spec:(Tt=(It=s[41])==null?void 0:It.schedule)==null?void 0:Tt.spec,state:(St=(Dt=s[41])==null?void 0:Dt.schedule)==null?void 0:St.state,policies:(Rt=(Pt=s[41])==null?void 0:Pt.schedule)==null?void 0:Rt.policies,notes:(At=(Wt=(Vt=s[41])==null?void 0:Vt.schedule)==null?void 0:Wt.state)==null?void 0:At.notes}}),me=new ur({props:{input:(Ht=(qt=(Mt=(Ct=s[41])==null?void 0:Ct.schedule)==null?void 0:Mt.action)==null?void 0:qt.startWorkflow)==null?void 0:Ht.input}}),de=new rr({props:{calendar:(Bt=(Ft=(Nt=(Lt=s[41])==null?void 0:Lt.schedule)==null?void 0:Nt.spec)==null?void 0:Ft.structuredCalendar)==null?void 0:Bt[0],interval:(Ot=(jt=(Ut=(Qt=s[41])==null?void 0:Qt.schedule)==null?void 0:Ut.spec)==null?void 0:jt.interval)==null?void 0:Ot[0]}});function os(T){s[32](T)}function us(){return s[33](s[41])}let st={id:"pause-schedule-modal",confirmType:"primary",confirmText:(zt=s[41])!=null&&zt.schedule.state.paused?_("schedules.unpause"):_("schedules.pause"),cancelText:_("common.cancel"),confirmDisabled:!s[4],$$slots:{content:[Mr],title:[Cr]},$$scope:{ctx:s}};s[1]!==void 0&&(st.open=s[1]),W=new xe({props:st}),Oe.push(()=>Ge(W,"open",os)),W.$on("confirmModal",us),W.$on("cancelModal",s[24]);function is(T){s[34](T)}let rt={id:"trigger-schedule-modal",large:!0,confirmType:"primary",confirmText:_("schedules.trigger"),cancelText:_("common.cancel"),loading:s[5],$$slots:{content:[Lr],title:[qr]},$$scope:{ctx:s}};s[2]!==void 0&&(rt.open=s[2]),X=new xe({props:rt}),Oe.push(()=>Ge(X,"open",is)),X.$on("confirmModal",s[35]),X.$on("cancelModal",s[36]);function fs(T){s[37](T)}function cs(T){s[38](T)}let Ze={id:"delete-schedule-modal",confirmType:"destructive",confirmText:_("common.delete"),cancelText:_("common.cancel"),$$slots:{content:[Fr],title:[Nr]},$$scope:{ctx:s}};return s[3]!==void 0&&(Ze.open=s[3]),s[13]!==void 0&&(Ze.error=s[13]),Z=new xe({props:Ze}),Oe.push(()=>Ge(Z,"open",fs)),Oe.push(()=>Ge(Z,"error",cs)),Z.$on("confirmModal",s[21]),Z.$on("cancelModal",s[24]),{c(){e=k("header"),l=k("div"),L(t.$$.fragment),r=A(),n=k("h1"),a=k("span"),o=q(s[15]),u=A(),f=k("div"),L(c.$$.fragment),v=A(),I=k("p"),h=q(m),$=A(),p=k("div"),g=k("p"),G=q(V),x=A(),te&&te.c(),se=A(),L(Y.$$.fragment),oe=A(),O=k("div"),J&&J.c(),_e=A(),K&&K.c(),ue=A(),y=k("div"),ee=k("div"),L(re.$$.fragment),$e=A(),L(ne.$$.fragment),j=A(),L(fe.$$.fragment),Se=A(),ce=k("div"),L(me.$$.fragment),Pe=A(),L(de.$$.fragment),Te=A(),L(W.$$.fragment),pe=A(),L(X.$$.fragment),ae=A(),L(Z.$$.fragment),this.h()},l(T){e=b(T,"HEADER",{class:!0});var R=E(e);l=b(R,"DIV",{class:!0});var he=E(l);N(t.$$.fragment,he),r=C(he),n=b(he,"H1",{class:!0});var Ne=E(n);a=b(Ne,"SPAN",{class:!0,"data-testid":!0});var Ve=E(a);o=H(Ve,s[15]),Ve.forEach(i),Ne.forEach(i),u=C(he),f=b(he,"DIV",{class:!0});var We=E(f);N(c.$$.fragment,We),v=C(We),I=b(We,"P",{});var Fe=E(I);h=H(Fe,m),Fe.forEach(i),We.forEach(i),$=C(he),p=b(he,"DIV",{class:!0});var Re=E(p);g=b(Re,"P",{});var Be=E(g);G=H(Be,V),Be.forEach(i),Re.forEach(i),x=C(he),te&&te.l(he),he.forEach(i),se=C(R),N(Y.$$.fragment,R),R.forEach(i),oe=C(T),O=b(T,"DIV",{class:!0});var ve=E(O);J&&J.l(ve),_e=C(ve),K&&K.l(ve),ue=C(ve),y=b(ve,"DIV",{class:!0});var we=E(y);ee=b(we,"DIV",{class:!0});var ge=E(ee);N(re.$$.fragment,ge),$e=C(ge),N(ne.$$.fragment,ge),j=C(ge),N(fe.$$.fragment,ge),ge.forEach(i),Se=C(we),ce=b(we,"DIV",{class:!0});var De=E(ce);N(me.$$.fragment,De),Pe=C(De),N(de.$$.fragment,De),De.forEach(i),we.forEach(i),ve.forEach(i),Te=C(T),N(W.$$.fragment,T),pe=C(T),N(X.$$.fragment,T),ae=C(T),N(Z.$$.fragment,T),this.h()},h(){P(a,"class","select-all font-medium"),P(a,"data-testid","schedule-name"),P(n,"class","relative flex items-center text-2xl"),P(f,"class","flex items-center gap-2 text-lg"),P(p,"class","flex items-center gap-2 text-sm"),P(l,"class","relative flex flex-col gap-4"),P(e,"class","mb-8 flex flex-row justify-between gap-4"),P(ee,"class","flex w-full flex-col items-start gap-4 xl:w-2/3"),P(ce,"class","flex w-full flex-col gap-4 xl:w-1/3"),P(y,"class","flex flex-col gap-4 xl:flex-row"),P(O,"class","flex flex-col gap-4 pb-24")},m(T,R){w(T,e,R),d(e,l),F(t,l,null),d(l,r),d(l,n),d(n,a),d(a,o),d(l,u),d(l,f),F(c,f,null),d(f,v),d(f,I),d(I,h),d(l,$),d(l,p),d(p,g),d(g,G),d(l,x),te&&te.m(l,null),d(e,se),F(Y,e,null),w(T,oe,R),w(T,O,R),J&&J.m(O,null),d(O,_e),K&&K.m(O,null),d(O,ue),d(O,y),d(y,ee),F(re,ee,null),d(ee,$e),F(ne,ee,null),d(ee,j),F(fe,ee,null),d(y,Se),d(y,ce),F(me,ce,null),d(ce,Pe),F(de,ce,null),w(T,Te,R),F(W,T,R),w(T,pe,R),F(X,T,R),w(T,ae,R),F(Z,T,R),Me=!0},p(T,R){var Gt,Xt,Jt,Kt,Yt,Zt,yt,xt,el,tl,ll,sl,rl,nl,al,ol,ul,il,fl,cl,ml,dl,pl,hl,_l,$l,gl,vl,wl,kl,bl,El,Il,Tl,Dl,Sl,Pl,Rl,Vl,Wl,Al;s=T;const he={};R[1]&16384&&(he.$$scope={dirty:R,ctx:s}),t.$set(he);const Ne={};R[0]&1&&(Ne.status=(Gt=s[41])!=null&&Gt.schedule.state.paused?"Paused":"Running"),c.$set(Ne),(!Me||R[0]&1)&&m!==(m=((Zt=(Yt=(Kt=(Jt=(Xt=s[41])==null?void 0:Xt.schedule)==null?void 0:Jt.action)==null?void 0:Kt.startWorkflow)==null?void 0:Yt.workflowType)==null?void 0:Zt.name)+"")&&z(h,m),(!Me||R[0]&769)&&V!==(V=_("common.created",{created:ke((xt=(yt=s[41])==null?void 0:yt.info)==null?void 0:xt.createTime,s[8],{relative:s[9]})})+"")&&z(G,V),(tl=(el=s[41])==null?void 0:el.info)!=null&&tl.updateTime?te?te.p(s,R):(te=Yl(s),te.c(),te.m(l,null)):te&&(te.d(1),te=null);const Ve={};R[0]&1&&(Ve.label=(rl=(sl=(ll=s[41])==null?void 0:ll.schedule)==null?void 0:sl.state)!=null&&rl.paused?_("schedules.unpause"):_("schedules.pause")),R[0]&64&&(Ve.disabled=s[6]),R[0]&12|R[1]&16384&&(Ve.$$scope={dirty:R,ctx:s}),Y.$set(Ve),(al=(nl=s[41])==null?void 0:nl.info)!=null&&al.invalidScheduleError?J?(J.p(s,R),R[0]&1&&D(J,1)):(J=Zl(s),J.c(),D(J,1),J.m(O,_e)):J&&(qe(),S(J,1,1,()=>{J=null}),He()),s[10]?K?(K.p(s,R),R[0]&1024&&D(K,1)):(K=yl(s),K.c(),D(K,1),K.m(O,ue)):K&&(qe(),S(K,1,1,()=>{K=null}),He());const We={};R[0]&1&&(We.recentRuns=(ul=(ol=s[41])==null?void 0:ol.info)==null?void 0:ul.recentActions),re.$set(We);const Fe={};R[0]&1&&(Fe.futureRuns=(fl=(il=s[41])==null?void 0:il.info)==null?void 0:fl.futureActionTimes),ne.$set(Fe);const Re={};R[0]&1&&(Re.spec=(ml=(cl=s[41])==null?void 0:cl.schedule)==null?void 0:ml.spec),R[0]&1&&(Re.state=(pl=(dl=s[41])==null?void 0:dl.schedule)==null?void 0:pl.state),R[0]&1&&(Re.policies=(_l=(hl=s[41])==null?void 0:hl.schedule)==null?void 0:_l.policies),R[0]&1&&(Re.notes=(vl=(gl=($l=s[41])==null?void 0:$l.schedule)==null?void 0:gl.state)==null?void 0:vl.notes),fe.$set(Re);const Be={};R[0]&1&&(Be.input=(El=(bl=(kl=(wl=s[41])==null?void 0:wl.schedule)==null?void 0:kl.action)==null?void 0:bl.startWorkflow)==null?void 0:El.input),me.$set(Be);const ve={};R[0]&1&&(ve.calendar=(Sl=(Dl=(Tl=(Il=s[41])==null?void 0:Il.schedule)==null?void 0:Tl.spec)==null?void 0:Dl.structuredCalendar)==null?void 0:Sl[0]),R[0]&1&&(ve.interval=(Wl=(Vl=(Rl=(Pl=s[41])==null?void 0:Pl.schedule)==null?void 0:Rl.spec)==null?void 0:Vl.interval)==null?void 0:Wl[0]),de.$set(ve);const we={};R[0]&1&&(we.confirmText=(Al=s[41])!=null&&Al.schedule.state.paused?_("schedules.unpause"):_("schedules.pause")),R[0]&16&&(we.confirmDisabled=!s[4]),R[0]&17|R[1]&16384&&(we.$$scope={dirty:R,ctx:s}),!Q&&R[0]&2&&(Q=!0,we.open=s[1],ze(()=>Q=!1)),W.$set(we);const ge={};R[0]&32&&(ge.loading=s[5]),R[1]&16384&&(ge.$$scope={dirty:R,ctx:s}),!M&&R[0]&4&&(M=!0,ge.open=s[2],ze(()=>M=!1)),X.$set(ge);const De={};R[1]&16384&&(De.$$scope={dirty:R,ctx:s}),!Ae&&R[0]&8&&(Ae=!0,De.open=s[3],ze(()=>Ae=!1)),!Ce&&R[0]&8192&&(Ce=!0,De.error=s[13],ze(()=>Ce=!1)),Z.$set(De)},i(T){Me||(D(t.$$.fragment,T),D(c.$$.fragment,T),D(Y.$$.fragment,T),D(J),D(K),D(re.$$.fragment,T),D(ne.$$.fragment,T),D(fe.$$.fragment,T),D(me.$$.fragment,T),D(de.$$.fragment,T),D(W.$$.fragment,T),D(X.$$.fragment,T),D(Z.$$.fragment,T),Me=!0)},o(T){S(t.$$.fragment,T),S(c.$$.fragment,T),S(Y.$$.fragment,T),S(J),S(K),S(re.$$.fragment,T),S(ne.$$.fragment,T),S(fe.$$.fragment,T),S(me.$$.fragment,T),S(de.$$.fragment,T),S(W.$$.fragment,T),S(X.$$.fragment,T),S(Z.$$.fragment,T),Me=!1},d(T){T&&(i(e),i(oe),i(O),i(Te),i(pe),i(ae)),B(t),B(c),te&&te.d(),B(Y),J&&J.d(),K&&K.d(),B(re),B(ne),B(fe),B(me),B(de),B(W,T),B(X,T),B(Z,T)}}}function Dr(s){let e,l;return e=new ns({props:{title:_("schedules.deleting"),class:"my-2"}}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p:U,i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Sr(s){let e=_("schedules.back-to-schedules")+"",l;return{c(){l=q(e)},l(t){l=H(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function Yl(s){var n,a;let e,l,t=_("common.last-updated",{updated:ke((a=(n=s[41])==null?void 0:n.info)==null?void 0:a.updateTime,s[8],{relative:s[9]})})+"",r;return{c(){e=k("div"),l=k("p"),r=q(t),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=E(e);l=b(u,"P",{});var f=E(l);r=H(f,t),f.forEach(i),u.forEach(i),this.h()},h(){P(e,"class","flex items-center gap-2 text-sm")},m(o,u){w(o,e,u),d(e,l),d(l,r)},p(o,u){var f,c;u[0]&769&&t!==(t=_("common.last-updated",{updated:ke((c=(f=o[41])==null?void 0:f.info)==null?void 0:c.updateTime,o[8],{relative:o[9]})})+"")&&z(r,t)},d(o){o&&i(e)}}}function Pr(s){let e=_("schedules.trigger")+"",l;return{c(){l=q(e)},l(t){l=H(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function Rr(s){let e=_("common.edit")+"",l;return{c(){l=q(e)},l(t){l=H(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function Vr(s){let e=_("common.delete")+"",l;return{c(){l=q(e)},l(t){l=H(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function Wr(s){let e,l,t,r,n,a;return e=new ye({props:{"data-testid":"trigger-schedule",$$slots:{default:[Pr]},$$scope:{ctx:s}}}),e.$on("click",s[27]),t=new ye({props:{"data-testid":"edit-schedule",href:Ps({namespace:s[14],scheduleId:s[15]}),$$slots:{default:[Rr]},$$scope:{ctx:s}}}),n=new ye({props:{"data-testid":"delete-schedule",destructive:!0,$$slots:{default:[Vr]},$$scope:{ctx:s}}}),n.$on("click",s[28]),{c(){L(e.$$.fragment),l=A(),L(t.$$.fragment),r=A(),L(n.$$.fragment)},l(o){N(e.$$.fragment,o),l=C(o),N(t.$$.fragment,o),r=C(o),N(n.$$.fragment,o)},m(o,u){F(e,o,u),w(o,l,u),F(t,o,u),w(o,r,u),F(n,o,u),a=!0},p(o,u){const f={};u[1]&16384&&(f.$$scope={dirty:u,ctx:o}),e.$set(f);const c={};u[1]&16384&&(c.$$scope={dirty:u,ctx:o}),t.$set(c);const v={};u[1]&16384&&(v.$$scope={dirty:u,ctx:o}),n.$set(v)},i(o){a||(D(e.$$.fragment,o),D(t.$$.fragment,o),D(n.$$.fragment,o),a=!0)},o(o){S(e.$$.fragment,o),S(t.$$.fragment,o),S(n.$$.fragment,o),a=!1},d(o){o&&(i(l),i(r)),B(e,o),B(t,o),B(n,o)}}}function Zl(s){var r,n;let e,l,t;return l=new as({props:{error:(n=(r=s[41])==null?void 0:r.info)==null?void 0:n.invalidScheduleError}}),{c(){e=k("div"),L(l.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=E(e);N(l.$$.fragment,o),o.forEach(i),this.h()},h(){P(e,"class","w-full xl:w-1/2")},m(a,o){w(a,e,o),F(l,e,null),t=!0},p(a,o){var f,c;const u={};o[0]&1&&(u.error=(c=(f=a[41])==null?void 0:f.info)==null?void 0:c.invalidScheduleError),l.$set(u)},i(a){t||(D(l.$$.fragment,a),t=!0)},o(a){S(l.$$.fragment,a),t=!1},d(a){a&&i(e),B(l)}}}function yl(s){let e,l,t,r=s[11].count.toLocaleString()+"",n,a,o,u,f,c,v,I;return o=new Rs({props:{key:"common.workflows-plural",count:s[11].count}}),f=new Ws({props:{size:"xs",variant:"ghost",leadingIcon:"retry",$$slots:{default:[Ar]},$$scope:{ctx:s}}}),f.$on("click",s[30]),v=new Vs({props:{staticQuery:s[16]}}),{c(){e=k("div"),l=k("div"),t=k("span"),n=q(r),a=A(),L(o.$$.fragment),u=A(),L(f.$$.fragment),c=A(),L(v.$$.fragment),this.h()},l(m){e=b(m,"DIV",{class:!0});var h=E(e);l=b(h,"DIV",{class:!0});var $=E(l);t=b($,"SPAN",{"data-testid":!0});var p=E(t);n=H(p,r),a=C(p),N(o.$$.fragment,p),p.forEach(i),u=C($),N(f.$$.fragment,$),$.forEach(i),c=C(h),N(v.$$.fragment,h),h.forEach(i),this.h()},h(){P(t,"data-testid","workflow-count"),P(l,"class","flex items-center gap-2"),P(e,"class","flex w-full flex-col gap-2 text-lg")},m(m,h){w(m,e,h),d(e,l),d(l,t),d(t,n),d(t,a),F(o,t,null),d(l,u),F(f,l,null),d(e,c),F(v,e,null),I=!0},p(m,h){(!I||h[0]&2048)&&r!==(r=m[11].count.toLocaleString()+"")&&z(n,r);const $={};h[0]&2048&&($.count=m[11].count),o.$set($);const p={};h[0]&2048|h[1]&16384&&(p.$$scope={dirty:h,ctx:m}),f.$set(p)},i(m){I||(D(o.$$.fragment,m),D(f.$$.fragment,m),D(v.$$.fragment,m),I=!0)},o(m){S(o.$$.fragment,m),S(f.$$.fragment,m),S(v.$$.fragment,m),I=!1},d(m){m&&i(e),B(o),B(f),B(v)}}}function xl(s){let e,l=s[11].newCount.toLocaleString()+"",t;return{c(){e=q("+"),t=q(l)},l(r){e=H(r,"+"),t=H(r,l)},m(r,n){w(r,e,n),w(r,t,n)},p(r,n){n[0]&2048&&l!==(l=r[11].newCount.toLocaleString()+"")&&z(t,l)},d(r){r&&(i(e),i(t))}}}function Ar(s){let e,l=s[11].newCount>0&&xl(s);return{c(){l&&l.c(),e=le()},l(t){l&&l.l(t),e=le()},m(t,r){l&&l.m(t,r),w(t,e,r)},p(t,r){t[11].newCount>0?l?l.p(t,r):(l=xl(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){t&&i(e),l&&l.d(t)}}}function Cr(s){var r;let e,l=((r=s[41])!=null&&r.schedule.state.paused?_("schedules.unpause-modal-title"):_("schedules.pause-modal-title"))+"",t;return{c(){e=k("h3"),t=q(l),this.h()},l(n){e=b(n,"H3",{slot:!0});var a=E(e);t=H(a,l),a.forEach(i),this.h()},h(){P(e,"slot","title")},m(n,a){w(n,e,a),d(e,t)},p(n,a){var o;a[0]&1&&l!==(l=((o=n[41])!=null&&o.schedule.state.paused?_("schedules.unpause-modal-title"):_("schedules.pause-modal-title"))+"")&&z(t,l)},d(n){n&&i(e)}}}function Mr(s){var m,h;let e,l,t=((m=s[41])!=null&&m.schedule.state.paused?_("schedules.unpause-modal-confirmation",{schedule:s[15]}):_("schedules.pause-modal-confirmation",{schedule:s[15]}))+"",r,n,a,o=((h=s[41])!=null&&h.schedule.state.paused?_("schedules.unpause-reason"):_("schedules.pause-reason"))+"",u,f,c,v,I;return{c(){e=k("div"),l=k("p"),r=q(t),n=A(),a=k("p"),u=q(o),f=A(),c=k("input"),this.h()},l($){e=b($,"DIV",{slot:!0});var p=E(e);l=b(p,"P",{});var g=E(l);r=H(g,t),g.forEach(i),n=C(p),a=b(p,"P",{class:!0});var V=E(a);u=H(V,o),V.forEach(i),f=C(p),c=b(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(i),this.h()},h(){P(a,"class","my-4"),P(c,"class","mt-4 block w-full rounded-md border border-slate-200 p-2"),P(c,"placeholder",_("common.reason")),P(e,"slot","content")},m($,p){w($,e,p),d(e,l),d(l,r),d(e,n),d(e,a),d(a,u),d(e,f),d(e,c),Hl(c,s[4]),v||(I=[Ll(c,"input",s[31]),Ll(c,"keydown",$s(s[26]))],v=!0)},p($,p){var g,V;p[0]&1&&t!==(t=((g=$[41])!=null&&g.schedule.state.paused?_("schedules.unpause-modal-confirmation",{schedule:$[15]}):_("schedules.pause-modal-confirmation",{schedule:$[15]}))+"")&&z(r,t),p[0]&1&&o!==(o=((V=$[41])!=null&&V.schedule.state.paused?_("schedules.unpause-reason"):_("schedules.pause-reason"))+"")&&z(u,o),p[0]&16&&c.value!==$[4]&&Hl(c,$[4])},d($){$&&i(e),v=!1,gs(I)}}}function qr(s){let e,l=_("schedules.trigger-modal-title")+"",t;return{c(){e=k("h3"),t=q(l),this.h()},l(r){e=b(r,"H3",{slot:!0});var n=E(e);t=H(n,l),n.forEach(i),this.h()},h(){P(e,"slot","title")},m(r,n){w(r,e,n),d(e,t)},p:U,d(r){r&&i(e)}}}function es(s){let e,l;return e=new Cs({props:{id:s[42].value,value:s[42].value,label:s[42].label,description:s[42].description}}),{c(){L(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p:U,i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Hr(s){let e,l,t=Le(s[19]),r=[];for(let a=0;a<t.length;a+=1)r[a]=es(Kl(s,t,a));const n=a=>S(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=le()},l(a){for(let o=0;o<r.length;o+=1)r[o].l(a);e=le()},m(a,o){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,o);w(a,e,o),l=!0},p(a,o){if(o[0]&524288){t=Le(a[19]);let u;for(u=0;u<t.length;u+=1){const f=Kl(a,t,u);r[u]?(r[u].p(f,o),D(r[u],1)):(r[u]=es(f),r[u].c(),D(r[u],1),r[u].m(e.parentNode,e))}for(qe(),u=t.length;u<r.length;u+=1)n(u);He()}},i(a){if(!l){for(let o=0;o<t.length;o+=1)D(r[o]);l=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)S(r[o]);l=!1},d(a){a&&i(e),ts(r,a)}}}function Lr(s){let e,l,t;return l=new As({props:{group:s[18],name:"trigger-event-id",class:"h-auto overflow-auto",$$slots:{default:[Hr]},$$scope:{ctx:s}}}),{c(){e=k("div"),L(l.$$.fragment),this.h()},l(r){e=b(r,"DIV",{slot:!0});var n=E(e);N(l.$$.fragment,n),n.forEach(i),this.h()},h(){P(e,"slot","content")},m(r,n){w(r,e,n),F(l,e,null),t=!0},p(r,n){const a={};n[1]&16384&&(a.$$scope={dirty:n,ctx:r}),l.$set(a)},i(r){t||(D(l.$$.fragment,r),t=!0)},o(r){S(l.$$.fragment,r),t=!1},d(r){r&&i(e),B(l)}}}function Nr(s){let e,l=_("schedules.delete-modal-title")+"",t;return{c(){e=k("h3"),t=q(l),this.h()},l(r){e=b(r,"H3",{slot:!0});var n=E(e);t=H(n,l),n.forEach(i),this.h()},h(){P(e,"slot","title")},m(r,n){w(r,e,n),d(e,t)},p:U,d(r){r&&i(e)}}}function Fr(s){let e,l,t=_("schedules.delete-modal-confirmation",{schedule:s[15]})+"",r;return{c(){e=k("div"),l=k("p"),r=q(t),this.h()},l(n){e=b(n,"DIV",{slot:!0});var a=E(e);l=b(a,"P",{});var o=E(l);r=H(o,t),o.forEach(i),a.forEach(i),this.h()},h(){P(e,"slot","content")},m(n,a){w(n,e,a),d(e,l),d(l,r)},p:U,d(n){n&&i(e)}}}function Br(s){let e,l,t,r,n,a,o,u,f,c,v,I;return t=new Qe({props:{href:Ye({namespace:s[14]}),icon:"chevron-left",$$slots:{default:[Qr]},$$scope:{ctx:s}}}),v=new ns({}),{c(){e=k("header"),l=k("div"),L(t.$$.fragment),r=A(),n=k("h1"),a=q(s[15]),o=A(),u=k("p"),f=q(s[14]),c=A(),L(v.$$.fragment),this.h()},l(m){e=b(m,"HEADER",{class:!0});var h=E(e);l=b(h,"DIV",{class:!0});var $=E(l);N(t.$$.fragment,$),r=C($),n=b($,"H1",{class:!0,"data-testid":!0});var p=E(n);a=H(p,s[15]),p.forEach(i),o=C($),u=b($,"P",{class:!0});var g=E(u);f=H(g,s[14]),g.forEach(i),$.forEach(i),h.forEach(i),c=C(m),N(v.$$.fragment,m),this.h()},h(){P(n,"class","select-all text-2xl font-medium"),P(n,"data-testid","schedule-name"),P(u,"class","text-sm"),P(l,"class","relative flex flex-col gap-4"),P(e,"class","mb-8")},m(m,h){w(m,e,h),d(e,l),F(t,l,null),d(l,r),d(l,n),d(n,a),d(l,o),d(l,u),d(u,f),w(m,c,h),F(v,m,h),I=!0},p(m,h){const $={};h[1]&16384&&($.$$scope={dirty:h,ctx:m}),t.$set($)},i(m){I||(D(t.$$.fragment,m),D(v.$$.fragment,m),I=!0)},o(m){S(t.$$.fragment,m),S(v.$$.fragment,m),I=!1},d(m){m&&(i(e),i(c)),B(t),B(v,m)}}}function Qr(s){let e=_("schedules.back-to-schedules")+"",l;return{c(){l=q(e)},l(t){l=H(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function Ur(s){let e,l,t,r={ctx:s,current:null,token:null,hasCatch:!0,pending:Br,then:Ir,catch:br,value:41,error:13,blocks:[,,,]};return Ke(l=s[0],r),{c(){e=le(),r.block.c()},l(n){e=le(),r.block.l(n)},m(n,a){w(n,e,a),r.block.m(n,r.anchor=a),r.mount=()=>e.parentNode,r.anchor=e,t=!0},p(n,a){s=n,r.ctx=s,a[0]&1&&l!==(l=s[0])&&Ke(l,r)||ss(r,s,a)},i(n){t||(D(r.block),t=!0)},o(n){for(let a=0;a<3;a+=1){const o=r.blocks[a];S(o)}t=!1},d(n){n&&i(e),r.block.d(n),r.token=null,r=null}}}function jr(s,e,l){let t,r,n,a,o,u,f,c,v,I;ie(s,Xe,M=>l(7,n=M)),ie(s,ls,M=>l(40,o=M)),ie(s,tt,M=>l(8,u=M)),ie(s,lt,M=>l(9,f=M)),ie(s,Bs,M=>l(10,c=M)),ie(s,Qs,M=>l(11,v=M)),ie(s,Ul,M=>l(12,I=M));let m=o.params.namespace,h=o.params.schedule,$=`TemporalScheduledById="${h}"`;const p={namespace:m,scheduleId:et(h)};let g=Je(p),V=!1,G=!1,x=!1,se="",Y="",oe=!1,O=bs("Unspecified");ie(s,O,M=>l(39,r=M));let _e=[{description:_("schedules.trigger-unspecified-description"),label:_("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:_("schedules.trigger-allow-all-description"),label:_("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:_("schedules.trigger-skip-description"),label:_("schedules.trigger-skip-title"),value:"Skip"},{description:_("schedules.trigger-buffer-one-description"),label:_("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:_("schedules.trigger-buffer-all-description"),label:_("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:_("schedules.trigger-cancel-other-description"),label:_("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:_("schedules.trigger-terminate-other-description"),label:_("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],ue=Fs();ie(s,ue,M=>l(25,a=M));const y=async()=>{l(13,Y="");try{je(Xe,n=!0,n),await qs({namespace:m,scheduleId:h}),l(3,x=!1),setTimeout(()=>{je(Xe,n=!1,n),Es(Ye({namespace:m}))},2e3),l(4,se="")}catch(M){l(13,Y=_("schedules.delete-schedule-error",{error:M==null?void 0:M.message})),je(Xe,n=!1,n)}},ee=async M=>{var ae,Z;!((Z=(ae=M==null?void 0:M.schedule)===null||ae===void 0?void 0:ae.state)===null||Z===void 0)&&Z.paused?await Hs({namespace:m,scheduleId:h,reason:se}):await Ls({namespace:m,scheduleId:h,reason:se}),l(0,g=Je(p)),l(4,se=""),l(1,V=!1)},re=async()=>{l(5,oe=!0),await Ns({namespace:m,scheduleId:h,overlapPolicy:r}),setTimeout(()=>{l(0,g=Je(p)),l(2,G=!1),l(5,oe=!1)},1e3)},$e=()=>{l(4,se="")};function ne(M){_s.call(this,s,M)}const j=()=>l(2,G=!0),fe=()=>l(3,x=!0),Se=()=>l(1,V=!0),ce=()=>{l(0,g=Je(p)),je(Ul,I=Date.now(),I)};function me(){se=this.value,l(4,se)}function Pe(M){V=M,l(1,V)}const de=M=>ee(M);function Te(M){G=M,l(2,G)}const W=()=>re(),Q=()=>l(2,G=!1);function pe(M){x=M,l(3,x)}function X(M){Y=M,l(13,Y)}return s.$$.update=()=>{s.$$.dirty[0]&33554432&&l(6,t=a.namespaceWriteDisabled(m)||!Us())},[g,V,G,x,se,oe,t,n,u,f,c,v,I,Y,m,h,$,p,O,_e,ue,y,ee,re,$e,a,ne,j,fe,Se,ce,me,Pe,de,Te,W,Q,pe,X]}class Or extends Ee{constructor(e){super(),Ie(this,e,jr,Ur,be,{},null,[-1,-1])}}function zr(s){let e,l,t,r;return e=new vs({props:{title:`Schedule | ${s[1]}`,url:s[0].url.href}}),t=new Or({}),{c(){L(e.$$.fragment),l=A(),L(t.$$.fragment)},l(n){N(e.$$.fragment,n),l=C(n),N(t.$$.fragment,n)},m(n,a){F(e,n,a),w(n,l,a),F(t,n,a),r=!0},p(n,[a]){const o={};a&1&&(o.url=n[0].url.href),e.$set(o)},i(n){r||(D(e.$$.fragment,n),D(t.$$.fragment,n),r=!0)},o(n){S(e.$$.fragment,n),S(t.$$.fragment,n),r=!1},d(n){n&&i(l),B(e,n),B(t,n)}}}function Gr(s,e,l){let t;ie(s,ls,n=>l(0,t=n));const r=t.params.schedule;return[t,r]}class In extends Ee{constructor(e){super(),Ie(this,e,Gr,zr,be,{})}}export{In as component};
