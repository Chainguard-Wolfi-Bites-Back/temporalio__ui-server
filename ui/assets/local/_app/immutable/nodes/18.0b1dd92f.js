import{a as st}from"../chunks/namespaces-service.1dd632d9.js";import{e as nt,g as Oe}from"../chunks/workflow-service.352dd1db.js";import{S as ne,b as fe,a as ie,C as D,D as L,E as H,j as k,g as y,F as j,K as oe,m as q,c as F,w as I,p as A,q as N,k as m,d as W,x as P,u as E,f as g,L as v,M as G,_ as tt,ag as lt,y as le,r as rt,G as ft,H as it,I as ut,J as ct,n as Z,$ as qe,Z as Re,z as Y,h as x,A as mt,a0 as pt,a1 as _t,e as U,a7 as at,aa as $t,ab as ht}from"../chunks/index.0942deb7.js";import{p as Se}from"../chunks/stores.82473fe2.js";import{P as dt}from"../chunks/page-title.433b384d.js";import{W as wt}from"../chunks/workflow-status.81f92b56.js";import{t as gt,F as Ue,j as bt}from"../chunks/index.2afc6d71.js";import{L as Ce}from"../chunks/link.4f9ebab5.js";import{T as kt}from"../chunks/table-row.9c997398.js";import{t as T}from"../chunks/translate.135d909a.js";import{t as Ae,r as vt,b as te}from"../chunks/time-format.6b30caaf.js";import{u as yt,v as Tt,w as Et,x as Qe,y as Me}from"../chunks/format-time.5082c525.js";import{d as St}from"../chunks/has.233e577a.js";import{g as It}from"../chunks/route-for.a340a3b8.js";import{u as ot}from"../chunks/update-query-parameters.20aff70d.js";import{T as Pt,a as qt}from"../chunks/table-header-row.b9d52458.js";import{C as Ne}from"../chunks/code-block.8e62be90.js";import{E as At}from"../chunks/empty-state.64fbab21.js";import{P as Ct}from"../chunks/pagination.dd9d41a0.js";import{g as Nt}from"../chunks/navigation.f616972f.js";import{B as Ft}from"../chunks/button.a6394f00.js";import{I as Wt}from"../chunks/input.22241933.js";import{F as ze}from"../chunks/pagination.e5c23b22.js";import{S as Dt,a as ge}from"../chunks/simple-select.4e19902f.js";import{I as Lt}from"../chunks/icon.33308831.js";const Ht=async function({params:a,url:e}){var i,_,S,b,C,Q,O,M;const{searchParams:r}=e;r.has("time-range")||r.set("time-range","1 day");const t=r.get("workflow-id"),l=r.get("workflow-type"),n=r.get("time-range"),f=r.get("status"),o=await st(a.namespace),s=(S=(_=(i=o.config)==null?void 0:i.historyArchivalUri)==null?void 0:_.toLowerCase())==null?void 0:S.startsWith("s3://"),c=(Q=(C=(b=o.config)==null?void 0:b.historyArchivalUri)==null?void 0:C.toLowerCase())==null?void 0:Q.startsWith("gs://"),u=s||c,p=u?{}:{workflowId:t,workflowType:l,closeTime:n,executionStatus:f},$=((O=o==null?void 0:o.config)==null?void 0:O.historyArchivalState)==="Enabled",h=((M=o==null?void 0:o.config)==null?void 0:M.visibilityArchivalState)==="Enabled",d=$&&h?await nt(a.namespace,p,fetch):null;return{workflows:d?d.workflows:[],namespace:o,archivalEnabled:$,visibilityArchivalEnabled:h,archivalQueryingNotSupported:u}},nr=Object.freeze(Object.defineProperty({__proto__:null,load:Ht},Symbol.toStringTag,{value:"Module"})),Ie=a=>e=>e.toLowerCase()===a.toLowerCase(),Ee=(a,e)=>a[e+2],jt=a=>{if(a){for(const e of Et)if(a[e])return{[e]:a[e]}}},Bt=Ie("WorkflowType"),Ot=Ie("WorkflowId"),Rt=Ie("StartTime"),Ut=Ie("ExecutionStatus"),Qt=a=>{const e=gt(a),r={workflowId:"",workflowType:"",executionStatus:null,timeRange:null};return e.forEach((t,l)=>{if(Ot(t)&&(r.workflowId=Ee(e,l)),Bt(t)&&(r.workflowType=Ee(e,l)),Ut(t)){const n=Ee(e,l);St(n)&&(r.executionStatus=n)}if(Rt(t)){const n=Ee(e,l);try{const f=yt(n),o=jt(f);r.timeRange=Tt(o)}catch(f){console.error("Error parsing StartTime from query",f)}}}),r};function Mt(a){let e=a[0].id+"",r;return{c(){r=I(e)},l(t){r=P(t,e)},m(t,l){g(t,r,l)},p(t,l){l&1&&e!==(e=t[0].id+"")&&le(r,e)},d(t){t&&m(r)}}}function zt(a){var We,De,Le;let e,r,t,l,n,f,o,s,c,u=te(a[0].startTime,a[4],{relative:a[5]})+"",p,$,h,d,i=T("workflows.workflow-name")+"",_,S,b,C,Q=a[0].name+"",O,M,K,R,ue,ee,ce=te(a[0].endTime,a[4],{relative:a[5]})+"",be,ke,re,me,pe=te(a[0].startTime,a[4],{relative:a[5]})+"",ve,ye,ae,_e,$e=te(a[0].endTime,a[4],{relative:a[5]})+"",Te,V,Pe,Fe;return r=new wt({props:{status:a[0].status,delay:Qe(a[0].startTime)}}),n=new Ce({props:{href:a[2],$$slots:{default:[Mt]},$$scope:{ctx:a}}}),o=new Ue({props:{copyIconTitle:T("common.copy-icon-title"),copySuccessIconTitle:T("common.copy-success-icon-title"),filterIconTitle:T("common.filter-workflows"),show:a[1],content:a[0].id,filterable:!1}}),R=new Ue({props:{copyIconTitle:T("common.copy-icon-title"),copySuccessIconTitle:T("common.copy-success-icon-title"),filterIconTitle:T("common.filter-workflows"),show:a[1],content:a[0].name,onFilter:a[13],filtered:(Le=(De=(We=a[3].url)==null?void 0:We.searchParams)==null?void 0:De.get("query"))==null?void 0:Le.includes(a[0].name)}}),{c(){e=q("td"),D(r.$$.fragment),t=F(),l=q("td"),D(n.$$.fragment),f=F(),D(o.$$.fragment),s=F(),c=q("p"),p=I(u),$=F(),h=q("td"),d=q("h3"),_=I(i),S=I(":"),b=F(),C=q("button"),O=I(Q),K=F(),D(R.$$.fragment),ue=F(),ee=q("p"),be=I(ce),ke=F(),re=q("td"),me=q("p"),ve=I(pe),ye=F(),ae=q("td"),_e=q("p"),Te=I($e),this.h()},l(w){e=A(w,"TD",{});var B=N(e);L(r.$$.fragment,B),B.forEach(m),t=W(w),l=A(w,"TD",{class:!0});var J=N(l);L(n.$$.fragment,J),f=W(J),L(o.$$.fragment,J),s=W(J),c=A(J,"P",{class:!0});var se=N(c);p=P(se,u),se.forEach(m),J.forEach(m),$=W(w),h=A(w,"TD",{class:!0});var z=N(h);d=A(z,"H3",{class:!0});var X=N(d);_=P(X,i),S=P(X,":"),X.forEach(m),b=W(z),C=A(z,"BUTTON",{class:!0,"aria-label":!0});var he=N(C);O=P(he,Q),he.forEach(m),K=W(z),L(R.$$.fragment,z),ue=W(z),ee=A(z,"P",{class:!0});var de=N(ee);be=P(de,ce),de.forEach(m),z.forEach(m),ke=W(w),re=A(w,"TD",{class:!0});var we=N(re);me=A(we,"P",{});var He=N(me);ve=P(He,pe),He.forEach(m),we.forEach(m),ye=W(w),ae=A(w,"TD",{class:!0});var je=N(ae);_e=A(je,"P",{});var Be=N(_e);Te=P(Be,$e),Be.forEach(m),je.forEach(m),this.h()},h(){E(c,"class","inline-time-cell svelte-tyqpjy"),E(l,"class","relative break-words pr-4"),E(d,"class","md:hidden"),E(C,"class","table-link svelte-tyqpjy"),E(C,"aria-label",M=T("workflows.filter-by",{workflowName:a[0].name})),E(ee,"class","inline-time-cell svelte-tyqpjy"),E(h,"class","relative truncate"),E(re,"class","time-cell svelte-tyqpjy"),E(ae,"class","time-cell svelte-tyqpjy")},m(w,B){g(w,e,B),H(r,e,null),g(w,t,B),g(w,l,B),H(n,l,null),v(l,f),H(o,l,null),v(l,s),v(l,c),v(c,p),g(w,$,B),g(w,h,B),v(h,d),v(d,_),v(d,S),v(h,b),v(h,C),v(C,O),v(h,K),H(R,h,null),v(h,ue),v(h,ee),v(ee,be),g(w,ke,B),g(w,re,B),v(re,me),v(me,ve),g(w,ye,B),g(w,ae,B),v(ae,_e),v(_e,Te),V=!0,Pe||(Fe=[G(l,"mouseover",a[8]),G(l,"focus",a[9]),G(l,"mouseleave",a[10]),G(l,"blur",a[11]),G(C,"click",tt(lt(a[12]))),G(h,"mouseover",a[14]),G(h,"focus",a[15]),G(h,"mouseleave",a[16]),G(h,"blur",a[17])],Pe=!0)},p(w,B){var he,de,we;const J={};B&1&&(J.status=w[0].status),B&1&&(J.delay=Qe(w[0].startTime)),r.$set(J);const se={};B&4&&(se.href=w[2]),B&262145&&(se.$$scope={dirty:B,ctx:w}),n.$set(se);const z={};B&2&&(z.show=w[1]),B&1&&(z.content=w[0].id),o.$set(z),(!V||B&49)&&u!==(u=te(w[0].startTime,w[4],{relative:w[5]})+"")&&le(p,u),(!V||B&1)&&Q!==(Q=w[0].name+"")&&le(O,Q),(!V||B&1&&M!==(M=T("workflows.filter-by",{workflowName:w[0].name})))&&E(C,"aria-label",M);const X={};B&2&&(X.show=w[1]),B&1&&(X.content=w[0].name),B&1&&(X.onFilter=w[13]),B&9&&(X.filtered=(we=(de=(he=w[3].url)==null?void 0:he.searchParams)==null?void 0:de.get("query"))==null?void 0:we.includes(w[0].name)),R.$set(X),(!V||B&49)&&ce!==(ce=te(w[0].endTime,w[4],{relative:w[5]})+"")&&le(be,ce),(!V||B&49)&&pe!==(pe=te(w[0].startTime,w[4],{relative:w[5]})+"")&&le(ve,pe),(!V||B&49)&&$e!==($e=te(w[0].endTime,w[4],{relative:w[5]})+"")&&le(Te,$e)},i(w){V||(k(r.$$.fragment,w),k(n.$$.fragment,w),k(o.$$.fragment,w),k(R.$$.fragment,w),V=!0)},o(w){y(r.$$.fragment,w),y(n.$$.fragment,w),y(o.$$.fragment,w),y(R.$$.fragment,w),V=!1},d(w){w&&m(e),j(r),w&&m(t),w&&m(l),j(n),j(o),w&&m($),w&&m(h),j(R),w&&m(ke),w&&m(re),w&&m(ye),w&&m(ae),Pe=!1,rt(Fe)}}}function Gt(a){let e,r;return e=new kt({props:{class:"workflow-summary-row",$$slots:{default:[zt]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},p(t,[l]){const n={};l&262207&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function Kt(a,e,r){let t,l,n,f;oe(a,Se,O=>r(3,l=O)),oe(a,Ae,O=>r(4,n=O)),oe(a,vt,O=>r(5,f=O));let{namespace:o}=e,{workflow:s}=e,c=!1;const u=O=>{const M=Oe({timeRange:"All"}),K=l.url.searchParams.get("query"),R=Qt(K??M),ue=(R==null?void 0:R.workflowType)===O?"":O,ee=Oe({...R,workflowType:ue});ot({url:l.url,parameter:"query",value:ee,allowEmpty:!0})},p=()=>r(1,c=!0),$=()=>r(1,c=!0),h=()=>r(1,c=!1),d=()=>r(1,c=!1),i=()=>u(s.name),_=()=>u(s.name),S=()=>r(1,c=!0),b=()=>r(1,c=!0),C=()=>r(1,c=!1),Q=()=>r(1,c=!1);return a.$$set=O=>{"namespace"in O&&r(7,o=O.namespace),"workflow"in O&&r(0,s=O.workflow)},a.$$.update=()=>{a.$$.dirty&129&&r(2,t=It({namespace:o,workflow:s.id,run:s.runId}))},[s,c,t,l,n,f,u,o,p,$,h,d,i,_,S,b,C,Q]}class Vt extends ne{constructor(e){super(),fe(this,e,Kt,Gt,ie,{namespace:7,workflow:0})}}function Jt(a){let e;const r=a[1].default,t=ft(r,a,a[2],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&4)&&it(t,r,l,l[2],e?ct(r,l[2],n,null):ut(l[2]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function Zt(a){let e,r;return{c(){e=q("caption"),r=I("Workflows"),this.h()},l(t){e=A(t,"CAPTION",{class:!0,slot:!0});var l=N(e);r=P(l,"Workflows"),l.forEach(m),this.h()},h(){E(e,"class","sr-only"),E(e,"slot","caption")},m(t,l){g(t,e,l),v(e,r)},p:Z,d(t){t&&m(e)}}}function Xt(a){let e,r,t,l,n,f,o,s,c,u,p,$,h,d,i,_,S;return{c(){e=q("th"),r=I("Status"),t=F(),l=q("th"),n=I("Workflow ID"),f=F(),o=q("th"),s=I("Type"),c=F(),u=q("th"),p=I("Start"),$=F(),h=q("th"),d=I("End"),i=F(),_=q("th"),S=I("Summary"),this.h()},l(b){e=A(b,"TH",{class:!0});var C=N(e);r=P(C,"Status"),C.forEach(m),t=W(b),l=A(b,"TH",{class:!0});var Q=N(l);n=P(Q,"Workflow ID"),Q.forEach(m),f=W(b),o=A(b,"TH",{class:!0});var O=N(o);s=P(O,"Type"),O.forEach(m),c=W(b),u=A(b,"TH",{class:!0});var M=N(u);p=P(M,"Start"),M.forEach(m),$=W(b),h=A(b,"TH",{class:!0});var K=N(h);d=P(K,"End"),K.forEach(m),i=W(b),_=A(b,"TH",{class:!0,colspan:!0});var R=N(_);S=P(R,"Summary"),R.forEach(m),this.h()},h(){E(e,"class","w-32 max-md:hidden"),E(l,"class","max-md:hidden md:w-auto"),E(o,"class","w-60 max-md:hidden"),E(u,"class","w-60 max-xl:hidden"),E(h,"class","w-60 max-xl:hidden"),E(_,"class","md:hidden"),E(_,"colspan","3")},m(b,C){g(b,e,C),v(e,r),g(b,t,C),g(b,l,C),v(l,n),g(b,f,C),g(b,o,C),v(o,s),g(b,c,C),g(b,u,C),v(u,p),g(b,$,C),g(b,h,C),v(h,d),g(b,i,C),g(b,_,C),v(_,S)},p:Z,d(b){b&&m(e),b&&m(t),b&&m(l),b&&m(f),b&&m(o),b&&m(c),b&&m(u),b&&m($),b&&m(h),b&&m(i),b&&m(_)}}}function Yt(a){let e,r;return e=new qt({props:{slot:"headers",$$slots:{default:[Xt]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},p(t,l){const n={};l&4&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function xt(a){let e,r;return e=new Pt({props:{class:"w-full md:table-fixed",updating:a[0],"data-testid":"workflows-table",$$slots:{headers:[Yt],caption:[Zt],default:[Jt]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},p(t,[l]){const n={};l&1&&(n.updating=t[0]),l&4&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function el(a,e,r){let{$$slots:t={},$$scope:l}=e,{updating:n=!1}=e;return a.$$set=f=>{"updating"in f&&r(0,n=f.updating),"$$scope"in f&&r(2,l=f.$$scope)},[n,t,l]}class tl extends ne{constructor(e){super(),fe(this,e,el,xt,ie,{updating:0})}}function ll(a){let e;return{c(){e=I(a[2])},l(r){e=P(r,a[2])},m(r,t){g(r,e,t)},p(r,t){t&4&&le(e,r[2])},d(r){r&&m(e)}}}function rl(a){let e,r,t,l,n,f,o;return r=new Wt({props:{class:"w-full",unroundRight:!0,label:a[2],id:a[5],labelHidden:!0,icon:a[4]?"search":null,type:"search",name:a[3],value:a[1],placeholder:a[0],autocomplete:"off"}}),r.$on("input",a[7]),l=new Ft({props:{borderRadiusModifier:"square-left",type:"submit",$$slots:{default:[ll]},$$scope:{ctx:a}}}),{c(){e=q("form"),D(r.$$.fragment),t=F(),D(l.$$.fragment),this.h()},l(s){e=A(s,"FORM",{role:!0,class:!0});var c=N(e);L(r.$$.fragment,c),t=W(c),L(l.$$.fragment,c),c.forEach(m),this.h()},h(){E(e,"role","search"),E(e,"class","flex items-center")},m(s,c){g(s,e,c),H(r,e,null),v(e,t),H(l,e,null),n=!0,f||(o=G(e,"submit",lt(a[6])),f=!0)},p(s,[c]){const u={};c&4&&(u.label=s[2]),c&32&&(u.id=s[5]),c&16&&(u.icon=s[4]?"search":null),c&8&&(u.name=s[3]),c&2&&(u.value=s[1]),c&1&&(u.placeholder=s[0]),r.$set(u);const p={};c&260&&(p.$$scope={dirty:c,ctx:s}),l.$set(p)},i(s){n||(k(r.$$.fragment,s),k(l.$$.fragment,s),n=!0)},o(s){y(r.$$.fragment,s),y(l.$$.fragment,s),n=!1},d(s){s&&m(e),j(r),j(l),f=!1,o()}}}function al(a,e,r){let{placeholder:t=""}=e,{value:l=""}=e,{label:n=T("common.search")}=e,{name:f="query"}=e,{icon:o=!1}=e,{id:s=`${n.toLocaleUpperCase()}-input`}=e;function c(p){qe.call(this,a,p)}function u(p){qe.call(this,a,p)}return a.$$set=p=>{"placeholder"in p&&r(0,t=p.placeholder),"value"in p&&r(1,l=p.value),"label"in p&&r(2,n=p.label),"name"in p&&r(3,f=p.name),"icon"in p&&r(4,o=p.icon),"id"in p&&r(5,s=p.id)},[t,l,n,f,o,s,c,u]}class ol extends ne{constructor(e){super(),fe(this,e,al,rl,ie,{placeholder:0,value:1,label:2,name:3,icon:4,id:5})}}function sl(a){let e,r,t,l,n,f,o,s,c,u,p;return f=new Lt({props:{name:"search",class:"flex items-center text-gray-700"}}),{c(){e=q("div"),r=q("label"),t=I(a[0]),l=F(),n=q("span"),D(f.$$.fragment),o=F(),s=q("input"),this.h()},l($){e=A($,"DIV",{class:!0});var h=N(e);r=A(h,"LABEL",{for:!0,class:!0});var d=N(r);t=P(d,a[0]),d.forEach(m),l=W(h),n=A(h,"SPAN",{class:!0});var i=N(n);L(f.$$.fragment,i),i.forEach(m),o=W(h),s=A(h,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0}),h.forEach(m),this.h()},h(){E(r,"for",a[2]),E(r,"class","hidden"),E(n,"class","svelte-fxm0nn"),E(s,"type","search"),E(s,"class","block w-full focus:outline-none"),E(s,"placeholder",a[0]),E(s,"id",a[2]),E(e,"class","input-container bg-white focus-within:border-blue-700 svelte-fxm0nn")},m($,h){g($,e,h),v(e,r),v(r,t),v(e,l),v(e,n),H(f,n,null),v(e,o),v(e,s),Re(s,a[1]),c=!0,u||(p=[G(s,"input",a[7]),G(s,"keydown",tt(a[6]))],u=!0)},p($,[h]){(!c||h&1)&&le(t,$[0]),(!c||h&1)&&E(s,"placeholder",$[0]),h&2&&Re(s,$[1])},i($){c||(k(f.$$.fragment,$),c=!0)},o($){y(f.$$.fragment,$),c=!1},d($){$&&m(e),j(f),u=!1,rt(p)}}}function nl(a,e,r){let t;oe(a,Se,$=>r(5,t=$));let{parameter:l}=e,{name:n}=e,{value:f}=e,o=l&&t.url.searchParams.get(l)||f;const s=`${l||n}-filter`,c=bt(ot,300);function u($){qe.call(this,a,$)}function p(){o=this.value,r(1,o)}return a.$$set=$=>{"parameter"in $&&r(3,l=$.parameter),"name"in $&&r(0,n=$.name),"value"in $&&r(4,f=$.value)},a.$$.update=()=>{a.$$.dirty&42&&c({parameter:l,value:o,url:t.url})},[n,o,s,l,f,t,u,p]}class Ge extends ne{constructor(e){super(),fe(this,e,nl,sl,ie,{parameter:3,name:0,value:4})}}function Ke(a,e,r){const t=a.slice();return t[6]=e[r].value,t[7]=e[r].label,t}function Ve(a,e,r){const t=a.slice();return t[6]=e[r],t}function fl(a){let e,r;return e=new Ce({props:{href:`${a[0].url.pathname}?query=`,$$slots:{default:[ul]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},p(t,l){const n={};l&1&&(n.href=`${t[0].url.pathname}?query=`),l&4096&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function il(a){let e,r;return e=new Ce({props:{href:a[0].url.pathname,$$slots:{default:[cl]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},p(t,l){const n={};l&1&&(n.href=t[0].url.pathname),l&4096&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function ul(a){let e=T("workflows.advanced-search")+"",r;return{c(){r=I(e)},l(t){r=P(t,e)},m(t,l){g(t,r,l)},p:Z,d(t){t&&m(r)}}}function cl(a){let e=T("workflows.basic-search")+"",r;return{c(){r=I(e)},l(t){r=P(t,e)},m(t,l){g(t,r,l)},p:Z,d(t){t&&m(r)}}}function ml(a){let e,r,t,l,n,f,o,s,c,u,p,$;r=new Ge({props:{parameter:"workflow-id",name:T("common.workflow-id"),value:yl}}),l=new Ge({props:{parameter:"workflow-type",name:T("common.workflow-type"),value:Tl}}),f=new ze({props:{label:T("workflows.time-range"),parameter:"time-range",value:"24 hours",$$slots:{default:[$l]},$$scope:{ctx:a}}}),s=new ze({props:{label:T("common.status"),parameter:"status",value:null,$$slots:{default:[dl]},$$scope:{ctx:a}}});function h(i){a[5](i)}let d={id:"filter-by-relative-time",$$slots:{default:[kl]},$$scope:{ctx:a}};return a[2]!==void 0&&(d.value=a[2]),u=new Dt({props:d}),mt.push(()=>pt(u,"value",h)),{c(){e=q("div"),D(r.$$.fragment),t=F(),D(l.$$.fragment),n=F(),D(f.$$.fragment),o=F(),D(s.$$.fragment),c=F(),D(u.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0,role:!0});var _=N(e);L(r.$$.fragment,_),t=W(_),L(l.$$.fragment,_),n=W(_),L(f.$$.fragment,_),o=W(_),L(s.$$.fragment,_),c=W(_),L(u.$$.fragment,_),_.forEach(m),this.h()},h(){E(e,"class","grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-5"),E(e,"role","search")},m(i,_){g(i,e,_),H(r,e,null),v(e,t),H(l,e,null),v(e,n),H(f,e,null),v(e,o),H(s,e,null),v(e,c),H(u,e,null),$=!0},p(i,_){const S={};_&4096&&(S.$$scope={dirty:_,ctx:i}),f.$set(S);const b={};_&4096&&(b.$$scope={dirty:_,ctx:i}),s.$set(b);const C={};_&4096&&(C.$$scope={dirty:_,ctx:i}),!p&&_&4&&(p=!0,C.value=i[2],_t(()=>p=!1)),u.$set(C)},i(i){$||(k(r.$$.fragment,i),k(l.$$.fragment,i),k(f.$$.fragment,i),k(s.$$.fragment,i),k(u.$$.fragment,i),$=!0)},o(i){y(r.$$.fragment,i),y(l.$$.fragment,i),y(f.$$.fragment,i),y(s.$$.fragment,i),y(u.$$.fragment,i),$=!1},d(i){i&&m(e),j(r),j(l),j(f),j(s),j(u)}}}function pl(a){let e,r;return e=new ol({props:{icon:!0,placeholder:T("common.search"),value:a[0].url.searchParams.get("query")}}),e.$on("submit",a[4]),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},p(t,l){const n={};l&1&&(n.value=t[0].url.searchParams.get("query")),e.$set(n)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function _l(a){let e=a[6]+"",r;return{c(){r=I(e)},l(t){r=P(t,e)},m(t,l){g(t,r,l)},p:Z,d(t){t&&m(r)}}}function Je(a){let e,r;return e=new ge({props:{value:a[6],$$slots:{default:[_l]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},p(t,l){const n={};l&4096&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function $l(a){let e,r,t=Me,l=[];for(let f=0;f<t.length;f+=1)l[f]=Je(Ve(a,t,f));const n=f=>y(l[f],1,1,()=>{l[f]=null});return{c(){for(let f=0;f<l.length;f+=1)l[f].c();e=U()},l(f){for(let o=0;o<l.length;o+=1)l[o].l(f);e=U()},m(f,o){for(let s=0;s<l.length;s+=1)l[s].m(f,o);g(f,e,o),r=!0},p(f,o){if(o&0){t=Me;let s;for(s=0;s<t.length;s+=1){const c=Ve(f,t,s);l[s]?(l[s].p(c,o),k(l[s],1)):(l[s]=Je(c),l[s].c(),k(l[s],1),l[s].m(e.parentNode,e))}for(Y(),s=t.length;s<l.length;s+=1)n(s);x()}},i(f){if(!r){for(let o=0;o<t.length;o+=1)k(l[o]);r=!0}},o(f){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)y(l[o]);r=!1},d(f){at(l,f),f&&m(e)}}}function hl(a){let e=a[7]+"",r;return{c(){r=I(e)},l(t){r=P(t,e)},m(t,l){g(t,r,l)},p:Z,d(t){t&&m(r)}}}function Ze(a,e){let r,t,l;return t=new ge({props:{value:e[6],$$slots:{default:[hl]},$$scope:{ctx:e}}}),{key:a,first:null,c(){r=U(),D(t.$$.fragment),this.h()},l(n){r=U(),L(t.$$.fragment,n),this.h()},h(){this.first=r},m(n,f){g(n,r,f),H(t,n,f),l=!0},p(n,f){e=n;const o={};f&4096&&(o.$$scope={dirty:f,ctx:e}),t.$set(o)},i(n){l||(k(t.$$.fragment,n),l=!0)},o(n){y(t.$$.fragment,n),l=!1},d(n){n&&m(r),j(t,n)}}}function dl(a){let e=[],r=new Map,t,l,n=Object.values(a[3]);const f=o=>o[7];for(let o=0;o<n.length;o+=1){let s=Ke(a,n,o),c=f(s);r.set(c,e[o]=Ze(c,s))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=U()},l(o){for(let s=0;s<e.length;s+=1)e[s].l(o);t=U()},m(o,s){for(let c=0;c<e.length;c+=1)e[c].m(o,s);g(o,t,s),l=!0},p(o,s){s&8&&(n=Object.values(o[3]),Y(),e=$t(e,s,f,1,o,n,r,t.parentNode,ht,Ze,t,Ke),x())},i(o){if(!l){for(let s=0;s<n.length;s+=1)k(e[s]);l=!0}},o(o){for(let s=0;s<e.length;s+=1)y(e[s]);l=!1},d(o){for(let s=0;s<e.length;s+=1)e[s].d(o);o&&m(t)}}}function wl(a){let e=T("common.relative")+"",r;return{c(){r=I(e)},l(t){r=P(t,e)},m(t,l){g(t,r,l)},p:Z,d(t){t&&m(r)}}}function gl(a){let e=T("common.utc")+"",r;return{c(){r=I(e)},l(t){r=P(t,e)},m(t,l){g(t,r,l)},p:Z,d(t){t&&m(r)}}}function bl(a){let e=T("common.local")+"",r;return{c(){r=I(e)},l(t){r=P(t,e)},m(t,l){g(t,r,l)},p:Z,d(t){t&&m(r)}}}function kl(a){let e,r,t,l,n,f;return e=new ge({props:{value:"relative",$$slots:{default:[wl]},$$scope:{ctx:a}}}),t=new ge({props:{value:"UTC",$$slots:{default:[gl]},$$scope:{ctx:a}}}),n=new ge({props:{value:"local",$$slots:{default:[bl]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment),r=F(),D(t.$$.fragment),l=F(),D(n.$$.fragment)},l(o){L(e.$$.fragment,o),r=W(o),L(t.$$.fragment,o),l=W(o),L(n.$$.fragment,o)},m(o,s){H(e,o,s),g(o,r,s),H(t,o,s),g(o,l,s),H(n,o,s),f=!0},p(o,s){const c={};s&4096&&(c.$$scope={dirty:s,ctx:o}),e.$set(c);const u={};s&4096&&(u.$$scope={dirty:s,ctx:o}),t.$set(u);const p={};s&4096&&(p.$$scope={dirty:s,ctx:o}),n.$set(p)},i(o){f||(k(e.$$.fragment,o),k(t.$$.fragment,o),k(n.$$.fragment,o),f=!0)},o(o){y(e.$$.fragment,o),y(t.$$.fragment,o),y(n.$$.fragment,o),f=!1},d(o){j(e,o),o&&m(r),j(t,o),o&&m(l),j(n,o)}}}function vl(a){let e,r,t,l,n,f,o,s;const c=[il,fl],u=[];function p(i,_){return i[1]?0:1}t=p(a),l=u[t]=c[t](a);const $=[pl,ml],h=[];function d(i,_){return i[1]?0:1}return f=d(a),o=h[f]=$[f](a),{c(){e=q("section"),r=q("p"),l.c(),n=F(),o.c(),this.h()},l(i){e=A(i,"SECTION",{class:!0});var _=N(e);r=A(_,"P",{class:!0});var S=N(r);l.l(S),S.forEach(m),n=W(_),o.l(_),_.forEach(m),this.h()},h(){E(r,"class","text-right text-xs"),E(e,"class","flex flex-col gap-2")},m(i,_){g(i,e,_),v(e,r),u[t].m(r,null),v(e,n),h[f].m(e,null),s=!0},p(i,[_]){let S=t;t=p(i),t===S?u[t].p(i,_):(Y(),y(u[S],1,1,()=>{u[S]=null}),x(),l=u[t],l?l.p(i,_):(l=u[t]=c[t](i),l.c()),k(l,1),l.m(r,null));let b=f;f=d(i),f===b?h[f].p(i,_):(Y(),y(h[b],1,1,()=>{h[b]=null}),x(),o=h[f],o?o.p(i,_):(o=h[f]=$[f](i),o.c()),k(o,1),o.m(e,null))},i(i){s||(k(l),k(o),s=!0)},o(i){y(l),y(o),s=!1},d(i){i&&m(e),u[t].d(),h[f].d()}}}let yl="",Tl="";function El(a,e,r){let t,l,n;oe(a,Se,c=>r(0,l=c)),oe(a,Ae,c=>r(2,n=c));const f={All:{value:null,label:T("workflows.all-statuses")},"Timed Out":{value:"TimedOut",label:T("workflows.timed-out")},Completed:{value:"Completed",label:T("workflows.completed")},Failed:{value:"Failed",label:T("workflows.failed")},"Continued as New":{value:"ContinuedAsNew",label:T("workflows.continued-as-new")},Canceled:{value:"Canceled",label:T("workflows.canceled")},Terminated:{value:"Terminated",label:T("workflows.terminated")}},o=c=>{const p=new FormData(c.target).get("query");l.url.searchParams.set("query",String(p)),Nt(l.url.toString())};function s(c){n=c,Ae.set(n)}return a.$$.update=()=>{a.$$.dirty&1&&r(1,t=l.url.searchParams.has("query"))},[l,t,n,f,o,s]}class Sl extends ne{constructor(e){super(),fe(this,e,El,vl,ie,{})}}function Xe(a,e,r){const t=a.slice();return t[8]=e[r],t}function Il(a){let e,r=T("workflows.archival-disabled-title")+"",t,l,n,f=T("workflows.archival-disabled-details")+"",o,s,c,u,p,$,h;u=new Ne({props:{content:`temporal operator namespace update --history-archival-state enabled ${a[4]}`,language:"text",inline:!0,copyIconTitle:T("common.copy-icon-title"),copySuccessIconTitle:T("common.copy-success-icon-title")}});let d=!a[1]&&Ye(a);return{c(){e=q("h1"),t=I(r),l=F(),n=q("p"),o=I(f),s=I(":"),c=F(),D(u.$$.fragment),p=F(),d&&d.c(),$=U(),this.h()},l(i){e=A(i,"H1",{class:!0,"data-testid":!0});var _=N(e);t=P(_,r),_.forEach(m),l=W(i),n=A(i,"P",{});var S=N(n);o=P(S,f),s=P(S,":"),S.forEach(m),c=W(i),L(u.$$.fragment,i),p=W(i),d&&d.l(i),$=U(),this.h()},h(){E(e,"class","text-2xl"),E(e,"data-testid","archived-disabled-title")},m(i,_){g(i,e,_),v(e,t),g(i,l,_),g(i,n,_),v(n,o),v(n,s),g(i,c,_),H(u,i,_),g(i,p,_),d&&d.m(i,_),g(i,$,_),h=!0},p(i,_){const S={};_&16&&(S.content=`temporal operator namespace update --history-archival-state enabled ${i[4]}`),u.$set(S),i[1]?d&&(Y(),y(d,1,1,()=>{d=null}),x()):d?(d.p(i,_),_&2&&k(d,1)):(d=Ye(i),d.c(),k(d,1),d.m($.parentNode,$))},i(i){h||(k(u.$$.fragment,i),k(d),h=!0)},o(i){y(u.$$.fragment,i),y(d),h=!1},d(i){i&&m(e),i&&m(l),i&&m(n),i&&m(c),j(u,i),i&&m(p),d&&d.d(i),i&&m($)}}}function Pl(a){let e,r=T("workflows.visibility-disabled-archival")+"",t,l,n,f=T("workflows.archival-link-preface")+"",o,s,c=T("workflows.archival-link")+"",u,p,$,h,d;return h=new Ne({props:{content:`temporal operator namespace update --visibility-archival-state enabled ${a[4]}`,language:"text",inline:!0,copyIconTitle:T("common.copy-icon-title"),copySuccessIconTitle:T("common.copy-success-icon-title")}}),{c(){e=q("h1"),t=I(r),l=F(),n=q("p"),o=I(f),s=q("a"),u=I(c),p=I(":"),$=F(),D(h.$$.fragment),this.h()},l(i){e=A(i,"H1",{class:!0,"data-testid":!0});var _=N(e);t=P(_,r),_.forEach(m),l=W(i),n=A(i,"P",{});var S=N(n);o=P(S,f),s=A(S,"A",{class:!0,href:!0,target:!0,rel:!0});var b=N(s);u=P(b,c),b.forEach(m),p=P(S,":"),S.forEach(m),$=W(i),L(h.$$.fragment,i),this.h()},h(){E(e,"class","text-2xl"),E(e,"data-testid","visibility-disabled-title"),E(s,"class","text-blue-700 underline"),E(s,"href","https://docs.temporal.io/clusters#archival"),E(s,"target","_blank"),E(s,"rel","noreferrer")},m(i,_){g(i,e,_),v(e,t),g(i,l,_),g(i,n,_),v(n,o),v(n,s),v(s,u),v(n,p),g(i,$,_),H(h,i,_),d=!0},p(i,_){const S={};_&16&&(S.content=`temporal operator namespace update --visibility-archival-state enabled ${i[4]}`),h.$set(S)},i(i){d||(k(h.$$.fragment,i),d=!0)},o(i){y(h.$$.fragment,i),d=!1},d(i){i&&m(e),i&&m(l),i&&m(n),i&&m($),j(h,i)}}}function ql(a){let e,r=T("workflows.archived-workflows")+"",t,l,n,f,o,s,c,u=!a[0]&&xe();const p=[Cl,Al],$=[];function h(d,i){var _;return(_=d[3])!=null&&_.length?0:1}return f=h(a),o=$[f]=p[f](a),{c(){e=q("h1"),t=I(r),l=F(),u&&u.c(),n=F(),o.c(),s=U(),this.h()},l(d){e=A(d,"H1",{class:!0,"data-testid":!0});var i=N(e);t=P(i,r),i.forEach(m),l=W(d),u&&u.l(d),n=W(d),o.l(d),s=U(),this.h()},h(){E(e,"class","text-2xl"),E(e,"data-testid","archived-enabled-title")},m(d,i){g(d,e,i),v(e,t),g(d,l,i),u&&u.m(d,i),g(d,n,i),$[f].m(d,i),g(d,s,i),c=!0},p(d,i){d[0]?u&&(Y(),y(u,1,1,()=>{u=null}),x()):u?i&1&&k(u,1):(u=xe(),u.c(),k(u,1),u.m(n.parentNode,n));let _=f;f=h(d),f===_?$[f].p(d,i):(Y(),y($[_],1,1,()=>{$[_]=null}),x(),o=$[f],o?o.p(d,i):(o=$[f]=p[f](d),o.c()),k(o,1),o.m(s.parentNode,s))},i(d){c||(k(u),k(o),c=!0)},o(d){y(u),y(o),c=!1},d(d){d&&m(e),d&&m(l),u&&u.d(d),d&&m(n),$[f].d(d),d&&m(s)}}}function Ye(a){let e,r=T("workflows.archival-link-preface")+"",t,l,n=T("workflows.archival-link")+"",f,o,s,c,u;return c=new Ne({props:{content:`temporal operator namespace update --visibility-archival-state enabled ${a[4]}`,language:"text",inline:!0,copyIconTitle:T("common.copy-icon-title"),copySuccessIconTitle:T("common.copy-success-icon-title")}}),{c(){e=q("p"),t=I(r),l=q("a"),f=I(n),o=I(":"),s=F(),D(c.$$.fragment),this.h()},l(p){e=A(p,"P",{});var $=N(e);t=P($,r),l=A($,"A",{class:!0,href:!0,target:!0,rel:!0});var h=N(l);f=P(h,n),h.forEach(m),o=P($,":"),$.forEach(m),s=W(p),L(c.$$.fragment,p),this.h()},h(){E(l,"class","text-blue-700 underline"),E(l,"href","https://docs.temporal.io/clusters#archival"),E(l,"target","_blank"),E(l,"rel","noreferrer")},m(p,$){g(p,e,$),v(e,t),v(e,l),v(l,f),v(e,o),g(p,s,$),H(c,p,$),u=!0},p(p,$){const h={};$&16&&(h.content=`temporal operator namespace update --visibility-archival-state enabled ${p[4]}`),c.$set(h)},i(p){u||(k(c.$$.fragment,p),u=!0)},o(p){y(c.$$.fragment,p),u=!1},d(p){p&&m(e),p&&m(s),j(c,p)}}}function xe(a){let e,r;return e=new Sl({}),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function Al(a){let e,r;return e=new At({props:{title:T("workflows.workflow-empty-state-title"),content:T("workflows.archival-empty-state-description")}}),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},p:Z,i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function Cl(a){let e,r;return e=new Ct({props:{items:a[3],"aria-label":T("workflows.archived-workflows"),pageSizeSelectLabel:T("common.per-page"),previousButtonLabel:T("common.previous"),nextButtonLabel:T("common.next"),$$slots:{default:[Fl,({visibleItems:t})=>({7:t}),({visibleItems:t})=>t?128:0]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},p(t,l){const n={};l&8&&(n.items=t[3]),l&2192&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function et(a){let e,r;return e=new Vt({props:{workflow:a[8],namespace:a[4]}}),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},p(t,l){const n={};l&128&&(n.workflow=t[8]),l&16&&(n.namespace=t[4]),e.$set(n)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function Nl(a){let e,r,t=a[7],l=[];for(let f=0;f<t.length;f+=1)l[f]=et(Xe(a,t,f));const n=f=>y(l[f],1,1,()=>{l[f]=null});return{c(){for(let f=0;f<l.length;f+=1)l[f].c();e=U()},l(f){for(let o=0;o<l.length;o+=1)l[o].l(f);e=U()},m(f,o){for(let s=0;s<l.length;s+=1)l[s].m(f,o);g(f,e,o),r=!0},p(f,o){if(o&144){t=f[7];let s;for(s=0;s<t.length;s+=1){const c=Xe(f,t,s);l[s]?(l[s].p(c,o),k(l[s],1)):(l[s]=et(c),l[s].c(),k(l[s],1),l[s].m(e.parentNode,e))}for(Y(),s=t.length;s<l.length;s+=1)n(s);x()}},i(f){if(!r){for(let o=0;o<t.length;o+=1)k(l[o]);r=!0}},o(f){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)y(l[o]);r=!1},d(f){at(l,f),f&&m(e)}}}function Fl(a){let e,r;return e=new tl({props:{$$slots:{default:[Nl]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){H(e,t,l),r=!0},p(t,l){const n={};l&2192&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function Wl(a){let e,r,t,l,n,f;e=new dt({props:{title:`${T("workflows.archival")} | ${a[4]}`,url:a[5].url.href}});const o=[ql,Pl,Il],s=[];function c(u,p){return u[2]&&u[1]?0:u[2]?1:2}return t=c(a),l=s[t]=o[t](a),{c(){D(e.$$.fragment),r=F(),l.c(),n=U()},l(u){L(e.$$.fragment,u),r=W(u),l.l(u),n=U()},m(u,p){H(e,u,p),g(u,r,p),s[t].m(u,p),g(u,n,p),f=!0},p(u,[p]){const $={};p&16&&($.title=`${T("workflows.archival")} | ${u[4]}`),p&32&&($.url=u[5].url.href),e.$set($);let h=t;t=c(u),t===h?s[t].p(u,p):(Y(),y(s[h],1,1,()=>{s[h]=null}),x(),l=s[t],l?l.p(u,p):(l=s[t]=o[t](u),l.c()),k(l,1),l.m(n.parentNode,n))},i(u){f||(k(e.$$.fragment,u),k(l),f=!0)},o(u){y(e.$$.fragment,u),y(l),f=!1},d(u){j(e,u),u&&m(r),s[t].d(u),u&&m(n)}}}function Dl(a,e,r){let t,l,n,f,o,s;oe(a,Se,u=>r(5,s=u));let{data:c}=e;return a.$$set=u=>{"data"in u&&r(6,c=u.data)},a.$$.update=()=>{a.$$.dirty&64&&r(4,{namespace:{namespaceInfo:{name:t}},workflows:l,archivalEnabled:n,visibilityArchivalEnabled:f,archivalQueryingNotSupported:o}=c,t,(r(3,l),r(6,c)),(r(2,n),r(6,c)),(r(1,f),r(6,c)),(r(0,o),r(6,c)))},[o,f,n,l,t,s,c]}class fr extends ne{constructor(e){super(),fe(this,e,Dl,Wl,ie,{data:6})}}export{fr as component,nr as universal};
