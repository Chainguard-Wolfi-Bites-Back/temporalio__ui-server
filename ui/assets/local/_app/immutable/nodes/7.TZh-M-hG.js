import{s as ue,e as U,a as H,t as J,b as j,d as z,g as k,h as B,f as Z,j as Q,k as M,l as q,n as fe,c as Y,v as le,M as te,T as oe,a5 as at,w as re,x as Ae,y as it,a1 as Tt,Z as ut,S as St,a9 as ct,p as Ve,u as Ne,q as qe,r as Fe}from"../chunks/scheduler.IHo1m08M.js";import{S as ce,i as me,c as C,a as D,m as A,t as p,b as d,d as R,f as ne,g as G,e as K,h as mt}from"../chunks/index.4UXyTqh8.js";import{p as Te}from"../chunks/stores.RZJhBBDp.js";import{v as Wt}from"../chunks/data-encoder-settings.mYPPaKSm.js";import{L as Se}from"../chunks/link.DHcrYtQq.js";import{t as W}from"../chunks/translate.HrioCK44.js";import{g as pt,h as Mt,s as Vt,i as Le}from"../chunks/workflows.AuaDFJCb.js";import{e as Re,n as ye,b as ie,o as ke,p as be,c as ve,q as Ee,s as Ie,u as Ce}from"../chunks/route-for.Sod-w8dC.js";import{l as _t,L as Nt}from"../chunks/labs-mode-guard.r7V7u3y9.js";import{L as dt}from"../chunks/loading.RatbHzTo.js";import{a as gt}from"../chunks/index.yViM84X2.js";import{e as Pe}from"../chunks/each.YORdH0Ll.js";import{w as wt,g as Oe}from"../chunks/entry.V59v4BMW.js";import{w as qt,a as Ft,b as Ht,C as Bt,T as Lt}from"../chunks/workflow-terminate-enabled.CNbLSpZQ.js";import{C as yt}from"../chunks/checkbox.z1BZ_hIo.js";import{I as $t}from"../chunks/input.8E1IKD-K.js";import{M as ht}from"../chunks/modal.AjyPxjvH.js";import{R as Ot,a as Qt}from"../chunks/radio-input.eKwoMC9S.js";import{R as Qe}from"../chunks/workflow-actions.-K4W_iAA.js";import{r as kt,f as De,t as Me}from"../chunks/events.-DO1iIvS.js";import{p as Ut}from"../chunks/persist-store.iiccFty1.js";import{i as bt}from"../chunks/is-network-error.8f5XuXSS.js";import{C as jt}from"../chunks/code-block.u5biRZNv.js";import{t as zt}from"../chunks/toaster.rwsuKhXb.js";import{B as Yt}from"../chunks/button.dp1ICUDc.js";import{I as Jt}from"../chunks/icon.A4B6SwBA.js";import{c as He}from"../chunks/menu.MurygObJ.js";import{M as vt}from"../chunks/menu-divider.fy87Gb_j.js";import{S as Et}from"../chunks/split-button.aiur3ml6.js";import{T as It}from"../chunks/tooltip.RXh9IU65.js";import{c as Zt}from"../chunks/core-user.F4EXFPUE.js";import{r as he,w as $e,i as Gt}from"../chunks/workflow-run.WuRcs2nZ.js";import{w as Kt}from"../chunks/workflow-create-disabled.cynvHo9k.js";import{W as Xt}from"../chunks/workflow-status.3SJw_pKS.js";import{C as xt}from"../chunks/compatibility-badge.-sUcbX9s.js";import{k as er,j as tr}from"../chunks/pollers-service.bTnNfzTQ.js";import{A as Ct}from"../chunks/alert.k904dLFk.js";import{B as We}from"../chunks/badge.RgvMk2pC.js";import{C as rr}from"../chunks/index.L1gRVDMv.js";import{T as or,a as nr,b as _e}from"../chunks/tab.-0sl0e1D.js";import{n as lr}from"../chunks/namespaces.uhcvLk1O.js";import{g as sr}from"../chunks/get-workflow-relationships.XDZGjaGZ.js";import{h as fr}from"../chunks/has.Hk4nWl3x.js";import{a as ar,d as ir}from"../chunks/decode-payload.Hzve3l2u.js";import{f as ur}from"../chunks/events-service.X0Y6QYqE.js";import{a as cr}from"../chunks/auth-user.wG8l5OlX.js";import{b as Ue}from"../chunks/filters.43_TxyoI.js";function mr(n){let t=W("workflows.back-to-workflows")+"",r;return{c(){r=J(t)},l(e){r=Z(e,t)},m(e,o){M(e,r,o)},p:le,d(e){e&&k(r)}}}function pr(n){var g,I;let t,r,e,o,l,s,f=(((g=n[0])==null?void 0:g.statusCode)??"500")+"",a,i,c,w,h,$,m=(((I=n[0])==null?void 0:I.statusText)??"")+"",u,_;return e=new Se({props:{href:`${Re({namespace:n[2]})}?${n[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[mr]},$$scope:{ctx:n}}}),{c(){t=U("header"),r=U("div"),C(e.$$.fragment),o=H(),l=U("div"),s=U("h1"),a=J(f),i=H(),c=U("p"),w=J(n[1]),h=H(),$=U("p"),u=J(m),this.h()},l(v){t=j(v,"HEADER",{class:!0});var P=z(t);r=j(P,"DIV",{class:!0});var N=z(r);D(e.$$.fragment,N),N.forEach(k),P.forEach(k),o=B(v),l=j(v,"DIV",{class:!0});var b=z(l);s=j(b,"H1",{class:!0});var T=z(s);a=Z(T,f),T.forEach(k),i=B(b),c=j(b,"P",{class:!0});var E=z(c);w=Z(E,n[1]),E.forEach(k),h=B(b),$=j(b,"P",{class:!0});var F=z($);u=Z(F,m),F.forEach(k),b.forEach(k),this.h()},h(){Q(r,"class","mb-4 block"),Q(t,"class","mb-4 flex flex-col gap-1"),Q(s,"class","leading-0 text-[12rem] font-semibold"),Q(c,"class","-mt-12 text-lg"),Q($,"class","text-2xl font-bold text-red-700"),Q(l,"class","text-center align-middle")},m(v,P){M(v,t,P),q(t,r),A(e,r,null),M(v,o,P),M(v,l,P),q(l,s),q(s,a),q(l,i),q(l,c),q(c,w),q(l,h),q(l,$),q($,u),_=!0},p(v,[P]){var b,T;const N={};P&12&&(N.href=`${Re({namespace:v[2]})}?${v[3]}`),P&32&&(N.$$scope={dirty:P,ctx:v}),e.$set(N),(!_||P&1)&&f!==(f=(((b=v[0])==null?void 0:b.statusCode)??"500")+"")&&fe(a,f),(!_||P&2)&&fe(w,v[1]),(!_||P&1)&&m!==(m=(((T=v[0])==null?void 0:T.statusText)??"")+"")&&fe(u,m)},i(v){_||(p(e.$$.fragment,v),_=!0)},o(v){d(e.$$.fragment,v),_=!1},d(v){v&&(k(t),k(o),k(l)),R(e)}}}function _r(n,t,r){let e,o,l,s;Y(n,Te,a=>r(4,l=a)),Y(n,pt,a=>r(3,s=a));let{error:f}=t;return n.$$set=a=>{"error"in a&&r(0,f=a.error)},n.$$.update=()=>{n.$$.dirty&16&&r(2,{namespace:e}=l.params,e),n.$$.dirty&1&&r(1,o=f.statusCode===404?W("workflows.workflow-404-title"):W("workflows.workflow-error-title"))},[f,o,e,s,l]}class Dt extends ce{constructor(t){super(),me(this,t,_r,pr,ue,{error:0})}}const At=Ut("resetWorkflows",{});function je(n,t,r){const e=n.slice();return e[18]=t[r],e}function dr(n){let t,r=W("workflows.reset-modal-title")+"",e;return{c(){t=U("h3"),e=J(r),this.h()},l(o){t=j(o,"H3",{slot:!0});var l=z(t);e=Z(l,r),l.forEach(k),this.h()},h(){Q(t,"slot","title")},m(o,l){M(o,t,l),q(t,e)},p:le,d(o){o&&k(t)}}}function ze(n){let t,r;return t=new Qt({props:{id:"reset-event-"+n[18].id,value:n[18].id,label:n[18].id+" - "+n[18].eventType}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o&64&&(l.id="reset-event-"+e[18].id),o&64&&(l.value=e[18].id),o&64&&(l.label=e[18].id+" - "+e[18].eventType),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function gr(n){let t,r,e=Pe(n[6]),o=[];for(let s=0;s<e.length;s+=1)o[s]=ze(je(n,e,s));const l=s=>d(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();t=Ae()},l(s){for(let f=0;f<o.length;f+=1)o[f].l(s);t=Ae()},m(s,f){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(s,f);M(s,t,f),r=!0},p(s,f){if(f&64){e=Pe(s[6]);let a;for(a=0;a<e.length;a+=1){const i=je(s,e,a);o[a]?(o[a].p(i,f),p(o[a],1)):(o[a]=ze(i),o[a].c(),p(o[a],1),o[a].m(t.parentNode,t))}for(G(),a=e.length;a<o.length;a+=1)l(a);K()}},i(s){if(!r){for(let f=0;f<e.length;f+=1)p(o[f]);r=!0}},o(s){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)d(o[f]);r=!1},d(s){s&&k(t),it(o,s)}}}function wr(n){let t,r,e,o,l,s,f,a,i;r=new Ot({props:{name:"reset-event-id",group:n[7],class:"max-h-40 overflow-auto",description:W("workflows.reset-event-radio-group-description"),$$slots:{default:[gr]},$$scope:{ctx:n}}});function c(m){n[12](m)}let w={id:"reset-reapply-type-checkbox",label:W("workflows.reset-reapply-type-label")};n[5]!==void 0&&(w.checked=n[5]),o=new yt({props:w}),te.push(()=>ne(o,"checked",c));function h(m){n[13](m)}let $={id:"reset-reason",label:W("common.reason")};return n[4]!==void 0&&($.value=n[4]),f=new $t({props:$}),te.push(()=>ne(f,"value",h)),{c(){t=U("div"),C(r.$$.fragment),e=H(),C(o.$$.fragment),s=H(),C(f.$$.fragment),this.h()},l(m){t=j(m,"DIV",{class:!0});var u=z(t);D(r.$$.fragment,u),e=B(u),D(o.$$.fragment,u),s=B(u),D(f.$$.fragment,u),u.forEach(k),this.h()},h(){Q(t,"class","flex w-full flex-col gap-4")},m(m,u){M(m,t,u),A(r,t,null),q(t,e),A(o,t,null),q(t,s),A(f,t,null),i=!0},p(m,u){const _={};u&2097216&&(_.$$scope={dirty:u,ctx:m}),r.$set(_);const g={};!l&&u&32&&(l=!0,g.checked=m[5],oe(()=>l=!1)),o.$set(g);const I={};!a&&u&16&&(a=!0,I.value=m[4],oe(()=>a=!1)),f.$set(I)},i(m){i||(p(r.$$.fragment,m),p(o.$$.fragment,m),p(f.$$.fragment,m),i=!0)},o(m){d(r.$$.fragment,m),d(o.$$.fragment,m),d(f.$$.fragment,m),i=!1},d(m){m&&k(t),R(r),R(o),R(f)}}}function $r(n){let t,r,e,o;function l(a){n[14](a)}function s(a){n[15](a)}let f={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:W("common.confirm"),cancelText:W("common.cancel"),loading:n[3],confirmDisabled:!n[7],$$slots:{content:[wr],title:[dr]},$$scope:{ctx:n}};return n[2]!==void 0&&(f.error=n[2]),n[0]!==void 0&&(f.open=n[0]),t=new ht({props:f}),te.push(()=>ne(t,"error",l)),te.push(()=>ne(t,"open",s)),t.$on("confirmModal",n[9]),t.$on("cancelModal",n[8]),{c(){C(t.$$.fragment)},l(a){D(t.$$.fragment,a)},m(a,i){A(t,a,i),o=!0},p(a,[i]){const c={};i&8&&(c.loading=a[3]),i&2097264&&(c.$$scope={dirty:i,ctx:a}),!r&&i&4&&(r=!0,c.error=a[2],oe(()=>r=!1)),!e&&i&1&&(e=!0,c.open=a[0],oe(()=>e=!1)),t.$set(c)},i(a){o||(p(t.$$.fragment,a),o=!0)},o(a){d(t.$$.fragment,a),o=!1},d(a){R(t,a)}}}function hr(n,t,r){let e,o=le,l=()=>(o(),o=at(w,T=>r(16,e=T)),w),s,f;Y(n,kt,T=>r(6,f=T)),n.$$.on_destroy.push(()=>o());let{open:a}=t,{workflow:i}=t,{namespace:c}=t,{refresh:w}=t;l();let h="",$=!1,m=wt("");Y(n,m,T=>r(17,s=T));let u,_=!1;const g=()=>{r(0,a=!1),r(5,_=!1),re(m,s="",s),r(4,u="")},I=async()=>{r(2,h=""),r(3,$=!0);try{const T=await Mt({namespace:c,workflow:i,eventId:s,reason:u,reapplyType:_?Qe.Signal:Qe.None});T&&T.runId&&At.update(E=>({...E,[i.runId]:T.runId})),re(w,e=Date.now(),e),g()}catch(T){r(2,h=bt(T)?T.message:W("common.unknown-error"))}finally{r(3,$=!1)}g()};function v(T){_=T,r(5,_)}function P(T){u=T,r(4,u)}function N(T){h=T,r(2,h)}function b(T){a=T,r(0,a)}return n.$$set=T=>{"open"in T&&r(0,a=T.open),"workflow"in T&&r(10,i=T.workflow),"namespace"in T&&r(11,c=T.namespace),"refresh"in T&&l(r(1,w=T.refresh))},[a,w,h,$,u,_,f,m,g,I,i,c,v,P,N,b]}class kr extends ce{constructor(t){super(),me(this,t,hr,$r,ue,{open:0,workflow:10,namespace:11,refresh:1})}}function br(n){let t,r=W("workflows.signal-modal-title")+"",e;return{c(){t=U("h3"),e=J(r),this.h()},l(o){t=j(o,"H3",{slot:!0});var l=z(t);e=Z(l,r),l.forEach(k),this.h()},h(){Q(t,"slot","title")},m(o,l){M(o,t,l),q(t,e)},p:le,d(o){o&&k(t)}}}function vr(n){let t,r,e,o,l,s,f=W("workflows.signal-payload-input-label")+"",a,i,c,w=W("workflows.signal-payload-input-label-hint")+"",h,$,m,u;function _(v){n[12](v)}let g={id:"signal-name",label:W("workflows.signal-name-label"),required:!0};n[4]!==void 0&&(g.value=n[4]),r=new $t({props:g}),te.push(()=>ne(r,"value",_));let I={maxHeight:320,content:n[5],editable:!0,copyable:!1};return m=new jt({props:I}),n[13](m),m.$on("change",n[9]),{c(){t=U("div"),C(r.$$.fragment),o=H(),l=U("div"),s=U("span"),a=J(f),i=H(),c=U("span"),h=J(w),$=H(),C(m.$$.fragment),this.h()},l(v){t=j(v,"DIV",{slot:!0,class:!0});var P=z(t);D(r.$$.fragment,P),o=B(P),l=j(P,"DIV",{});var N=z(l);s=j(N,"SPAN",{class:!0});var b=z(s);a=Z(b,f),b.forEach(k),i=B(N),c=j(N,"SPAN",{class:!0});var T=z(c);h=Z(T,w),T.forEach(k),$=B(N),D(m.$$.fragment,N),N.forEach(k),P.forEach(k),this.h()},h(){Q(s,"class","font-secondary text-sm font-medium"),Q(c,"class","font-secondary text-xs font-light italic"),Q(t,"slot","content"),Q(t,"class","flex flex-col gap-4")},m(v,P){M(v,t,P),A(r,t,null),q(t,o),q(t,l),q(l,s),q(s,a),q(l,i),q(l,c),q(c,h),q(l,$),A(m,l,null),u=!0},p(v,P){const N={};!e&&P&16&&(e=!0,N.value=v[4],oe(()=>e=!1)),r.$set(N);const b={};P&32&&(b.content=v[5]),m.$set(b)},i(v){u||(p(r.$$.fragment,v),p(m.$$.fragment,v),u=!0)},o(v){d(r.$$.fragment,v),d(m.$$.fragment,v),u=!1},d(v){v&&k(t),R(r),n[13](null),R(m)}}}function Er(n){let t,r,e,o;function l(a){n[14](a)}function s(a){n[15](a)}let f={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:n[3],confirmText:W("common.submit"),cancelText:W("common.cancel"),confirmDisabled:!n[4],$$slots:{content:[vr],title:[br]},$$scope:{ctx:n}};return n[2]!==void 0&&(f.error=n[2]),n[0]!==void 0&&(f.open=n[0]),t=new ht({props:f}),te.push(()=>ne(t,"error",l)),te.push(()=>ne(t,"open",s)),t.$on("cancelModal",n[7]),t.$on("confirmModal",n[8]),{c(){C(t.$$.fragment)},l(a){D(t.$$.fragment,a)},m(a,i){A(t,a,i),o=!0},p(a,[i]){const c={};i&8&&(c.loading=a[3]),i&16&&(c.confirmDisabled=!a[4]),i&131184&&(c.$$scope={dirty:i,ctx:a}),!r&&i&4&&(r=!0,c.error=a[2],oe(()=>r=!1)),!e&&i&1&&(e=!0,c.open=a[0],oe(()=>e=!1)),t.$set(c)},i(a){o||(p(t.$$.fragment,a),o=!0)},o(a){d(t.$$.fragment,a),o=!1},d(a){R(t,a)}}}function Ir(n,t,r){let e,o=le,l=()=>(o(),o=at(i,b=>r(16,e=b)),i);n.$$.on_destroy.push(()=>o());let{open:s}=t,{workflow:f}=t,{namespace:a}=t,{refresh:i}=t;l();let c="",w=!1,h="",$="",m;const u=()=>{r(0,s=!1),r(5,$=""),r(4,h=""),m==null||m.resetView($)},_=async()=>{r(2,c=""),r(3,w=!0);try{await Vt({namespace:a,workflow:f,input:$,name:h}),re(i,e=Date.now(),e),zt.push({message:W("workflows.signal-success"),id:"workflow-signal-success-toast"}),u()}catch(b){r(2,c=bt(b)?b.message:W("common.unknown-error"))}finally{r(3,w=!1)}},g=b=>{r(5,$=b.detail)};function I(b){h=b,r(4,h)}function v(b){te[b?"unshift":"push"](()=>{m=b,r(6,m)})}function P(b){c=b,r(2,c)}function N(b){s=b,r(0,s)}return n.$$set=b=>{"open"in b&&r(0,s=b.open),"workflow"in b&&r(10,f=b.workflow),"namespace"in b&&r(11,a=b.namespace),"refresh"in b&&l(r(1,i=b.refresh))},[s,i,c,w,h,$,m,u,_,g,f,a,I,v,P,N]}class Cr extends ce{constructor(t){super(),me(this,t,Ir,Er,ue,{open:0,workflow:10,namespace:11,refresh:1})}}const Dr=(n,t,r)=>!n.disableWriteActions&&!n.workflowSignalDisabled&&!t.namespaceWriteDisabled(r);function Ye(n,t,r){const e=n.slice();return e[31]=t[r].onClick,e[32]=t[r].destructive,e[33]=t[r].label,e[34]=t[r].enabled,e[35]=t[r].testId,e[36]=t[r].tooltip,e}function Ar(n){let t,r;return t=new It({props:{bottomRight:!0,width:200,text:n[4],hide:n[7],$$slots:{default:[Sr]},$$scope:{ctx:n}}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o[0]&16&&(l.text=e[4]),o[0]&128&&(l.hide=e[7]),o[0]&2176|o[1]&256&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Rr(n){let t,r;return t=new Et({props:{id:"workflow-actions",position:"right",primaryActionDisabled:!n[7],label:W("workflows.reset"),menuLabel:W("workflows.workflow-actions"),$$slots:{default:[Mr]},$$scope:{ctx:n}}}),t.$on("click",n[25]),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o[0]&128&&(l.primaryActionDisabled=!e[7]),o[0]&3|o[1]&256&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Pr(n){let t,r;return t=new Et({props:{id:"workflow-actions",position:"right",disabled:n[14],primaryActionDisabled:!n[15]||n[2],label:W("workflows.request-cancellation"),menuLabel:W("workflows.workflow-actions"),$$slots:{default:[Fr]},$$scope:{ctx:n}}}),t.$on("click",n[23]),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o[0]&16384&&(l.disabled=e[14]),o[0]&32772&&(l.primaryActionDisabled=!e[15]||e[2]),o[0]&8195|o[1]&256&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Tr(n){let t=W("workflows.reset")+"",r;return{c(){r=J(t)},l(e){r=Z(e,t)},m(e,o){M(e,r,o)},p:le,d(e){e&&k(r)}}}function Sr(n){let t,r;return t=new Yt({props:{"aria-label":W("workflows.reset"),disabled:!n[7],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[Tr]},$$scope:{ctx:n}}}),t.$on("click",n[26]),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o[0]&128&&(l.disabled=!e[7]),o[1]&256&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Wr(n){let t=W("workflows.start-workflow-like-this-one")+"",r;return{c(){r=J(t)},l(e){r=Z(e,t)},m(e,o){M(e,r,o)},p:le,d(e){e&&k(r)}}}function Mr(n){let t,r;return t=new He({props:{"data-testid":"start-workflow-button",$$slots:{default:[Wr]},$$scope:{ctx:n}}}),t.$on("click",n[24]),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o[1]&256&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Je(n){let t,r;return t=new vt({}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Vr(n){let t=n[33]+"",r;return{c(){r=J(t)},l(e){r=Z(e,t)},m(e,o){M(e,r,o)},p(e,o){o[0]&8192&&t!==(t=e[33]+"")&&fe(r,t)},d(e){e&&k(r)}}}function Nr(n){let t,r;return t=new He({props:{destructive:n[32],disabled:!n[34],"data-testid":n[35],$$slots:{default:[Vr]},$$scope:{ctx:n}}}),t.$on("click",function(){Tt(n[31])&&n[31].apply(this,arguments)}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){n=e;const l={};o[0]&8192&&(l.destructive=n[32]),o[0]&8192&&(l.disabled=!n[34]),o[0]&8192&&(l["data-testid"]=n[35]),o[0]&8192|o[1]&256&&(l.$$scope={dirty:o,ctx:n}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Ze(n){let t,r,e,o=n[32]&&Je();return r=new It({props:{text:n[36],hide:!n[36],width:200,left:!0,$$slots:{default:[Nr]},$$scope:{ctx:n}}}),{c(){o&&o.c(),t=H(),C(r.$$.fragment)},l(l){o&&o.l(l),t=B(l),D(r.$$.fragment,l)},m(l,s){o&&o.m(l,s),M(l,t,s),A(r,l,s),e=!0},p(l,s){l[32]?o?s[0]&8192&&p(o,1):(o=Je(),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(G(),d(o,1,1,()=>{o=null}),K());const f={};s[0]&8192&&(f.text=l[36]),s[0]&8192&&(f.hide=!l[36]),s[0]&8192|s[1]&256&&(f.$$scope={dirty:s,ctx:l}),r.$set(f)},i(l){e||(p(o),p(r.$$.fragment,l),e=!0)},o(l){d(o),d(r.$$.fragment,l),e=!1},d(l){l&&k(t),o&&o.d(l),R(r,l)}}}function qr(n){let t=W("workflows.start-workflow-like-this-one")+"",r;return{c(){r=J(t)},l(e){r=Z(e,t)},m(e,o){M(e,r,o)},p:le,d(e){e&&k(r)}}}function Fr(n){let t,r,e,o,l,s=Pe(n[13]),f=[];for(let i=0;i<s.length;i+=1)f[i]=Ze(Ye(n,s,i));const a=i=>d(f[i],1,1,()=>{f[i]=null});return r=new vt({}),o=new He({props:{"data-testid":"start-workflow-button",$$slots:{default:[qr]},$$scope:{ctx:n}}}),o.$on("click",n[22]),{c(){for(let i=0;i<f.length;i+=1)f[i].c();t=H(),C(r.$$.fragment),e=H(),C(o.$$.fragment)},l(i){for(let c=0;c<f.length;c+=1)f[c].l(i);t=B(i),D(r.$$.fragment,i),e=B(i),D(o.$$.fragment,i)},m(i,c){for(let w=0;w<f.length;w+=1)f[w]&&f[w].m(i,c);M(i,t,c),A(r,i,c),M(i,e,c),A(o,i,c),l=!0},p(i,c){if(c[0]&8192){s=Pe(i[13]);let h;for(h=0;h<s.length;h+=1){const $=Ye(i,s,h);f[h]?(f[h].p($,c),p(f[h],1)):(f[h]=Ze($),f[h].c(),p(f[h],1),f[h].m(t.parentNode,t))}for(G(),h=s.length;h<f.length;h+=1)a(h);K()}const w={};c[1]&256&&(w.$$scope={dirty:c,ctx:i}),o.$set(w)},i(i){if(!l){for(let c=0;c<s.length;c+=1)p(f[c]);p(r.$$.fragment,i),p(o.$$.fragment,i),l=!0}},o(i){f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)d(f[c]);d(r.$$.fragment,i),d(o.$$.fragment,i),l=!1},d(i){i&&(k(t),k(e)),it(f,i),R(r,i),R(o,i)}}}function Ge(n){let t,r,e;function o(s){n[27](s)}let l={refresh:he,workflow:n[0],namespace:n[1]};return n[11]!==void 0&&(l.open=n[11]),t=new kr({props:l}),te.push(()=>ne(t,"open",o)),{c(){C(t.$$.fragment)},l(s){D(t.$$.fragment,s)},m(s,f){A(t,s,f),e=!0},p(s,f){const a={};f[0]&1&&(a.workflow=s[0]),f[0]&2&&(a.namespace=s[1]),!r&&f[0]&2048&&(r=!0,a.open=s[11],oe(()=>r=!1)),t.$set(a)},i(s){e||(p(t.$$.fragment,s),e=!0)},o(s){d(t.$$.fragment,s),e=!1},d(s){R(t,s)}}}function Ke(n){let t,r,e;function o(s){n[28](s)}let l={refresh:he,workflow:n[0],namespace:n[1]};return n[12]!==void 0&&(l.open=n[12]),t=new Cr({props:l}),te.push(()=>ne(t,"open",o)),{c(){C(t.$$.fragment)},l(s){D(t.$$.fragment,s)},m(s,f){A(t,s,f),e=!0},p(s,f){const a={};f[0]&1&&(a.workflow=s[0]),f[0]&2&&(a.namespace=s[1]),!r&&f[0]&4096&&(r=!0,a.open=s[12],oe(()=>r=!1)),t.$set(a)},i(s){e||(p(t.$$.fragment,s),e=!0)},o(s){d(t.$$.fragment,s),e=!1},d(s){R(t,s)}}}function Xe(n){let t,r,e;function o(s){n[29](s)}let l={refresh:he,workflow:n[0],namespace:n[1]};return n[9]!==void 0&&(l.open=n[9]),t=new Bt({props:l}),te.push(()=>ne(t,"open",o)),{c(){C(t.$$.fragment)},l(s){D(t.$$.fragment,s)},m(s,f){A(t,s,f),e=!0},p(s,f){const a={};f[0]&1&&(a.workflow=s[0]),f[0]&2&&(a.namespace=s[1]),!r&&f[0]&512&&(r=!0,a.open=s[9],oe(()=>r=!1)),t.$set(a)},i(s){e||(p(t.$$.fragment,s),e=!0)},o(s){d(t.$$.fragment,s),e=!1},d(s){R(t,s)}}}function xe(n){let t,r,e;function o(s){n[30](s)}let l={refresh:he,workflow:n[0],namespace:n[1]};return n[10]!==void 0&&(l.open=n[10]),t=new Lt({props:l}),te.push(()=>ne(t,"open",o)),{c(){C(t.$$.fragment)},l(s){D(t.$$.fragment,s)},m(s,f){A(t,s,f),e=!0},p(s,f){const a={};f[0]&1&&(a.workflow=s[0]),f[0]&2&&(a.namespace=s[1]),!r&&f[0]&1024&&(r=!0,a.open=s[10],oe(()=>r=!1)),t.$set(a)},i(s){e||(p(t.$$.fragment,s),e=!0)},o(s){d(t.$$.fragment,s),e=!1},d(s){R(t,s)}}}function Hr(n){let t,r,e,o,l,s,f,a,i;const c=[Pr,Rr,Ar],w=[];function h(g,I){return I[0]&256&&(t=null),g[3]?0:(t==null&&(t=!Kt(g[8])),t?1:2)}r=h(n,[-1,-1]),e=w[r]=c[r](n);let $=n[7]&&Ge(n),m=n[6]&&Ke(n),u=n[15]&&Xe(n),_=n[5]&&xe(n);return{c(){e.c(),o=H(),$&&$.c(),l=H(),m&&m.c(),s=H(),u&&u.c(),f=H(),_&&_.c(),a=Ae()},l(g){e.l(g),o=B(g),$&&$.l(g),l=B(g),m&&m.l(g),s=B(g),u&&u.l(g),f=B(g),_&&_.l(g),a=Ae()},m(g,I){w[r].m(g,I),M(g,o,I),$&&$.m(g,I),M(g,l,I),m&&m.m(g,I),M(g,s,I),u&&u.m(g,I),M(g,f,I),_&&_.m(g,I),M(g,a,I),i=!0},p(g,I){let v=r;r=h(g,I),r===v?w[r].p(g,I):(G(),d(w[v],1,1,()=>{w[v]=null}),K(),e=w[r],e?e.p(g,I):(e=w[r]=c[r](g),e.c()),p(e,1),e.m(o.parentNode,o)),g[7]?$?($.p(g,I),I[0]&128&&p($,1)):($=Ge(g),$.c(),p($,1),$.m(l.parentNode,l)):$&&(G(),d($,1,1,()=>{$=null}),K()),g[6]?m?(m.p(g,I),I[0]&64&&p(m,1)):(m=Ke(g),m.c(),p(m,1),m.m(s.parentNode,s)):m&&(G(),d(m,1,1,()=>{m=null}),K()),g[15]?u?(u.p(g,I),I[0]&32768&&p(u,1)):(u=Xe(g),u.c(),p(u,1),u.m(f.parentNode,f)):u&&(G(),d(u,1,1,()=>{u=null}),K()),g[5]?_?(_.p(g,I),I[0]&32&&p(_,1)):(_=xe(g),_.c(),p(_,1),_.m(a.parentNode,a)):_&&(G(),d(_,1,1,()=>{_=null}),K())},i(g){i||(p(e),p($),p(m),p(u),p(_),i=!0)},o(g){d(e),d($),d(m),d(u),d(_),i=!1},d(g){g&&(k(o),k(l),k(s),k(f),k(a)),w[r].d(g),$&&$.d(g),m&&m.d(g),u&&u.d(g),_&&_.d(g)}}}function Br(n,t,r){let e,o,l,s,f,a,i,c,w;Y(n,kt,O=>r(20,i=O)),Y(n,Te,O=>r(8,w=O));var h,$;let{workflow:m}=t,{namespace:u}=t,{cancelInProgress:_}=t,{isRunning:g}=t,I=!1,v=!1,P=!1,N=!1,b,T=Zt();Y(n,T,O=>r(21,c=O));let E;const F=()=>Oe(ye({namespace:u,workflowId:m.id,taskQueue:m.taskQueue,workflowType:m.name})),L=()=>r(9,I=!0),V=()=>Oe(ye({namespace:u,workflowId:m.id,taskQueue:m.taskQueue,workflowType:m.name})),ae=()=>r(11,P=!0),de=()=>r(11,P=!0);function S(O){P=O,r(11,P),r(7,f),r(4,b),r(6,o),r(5,l),r(19,s),r(0,m),r(20,i),r(17,h),r(18,$),r(8,w),r(21,c),r(1,u)}function y(O){N=O,r(12,N),r(7,f),r(4,b),r(6,o),r(5,l),r(19,s),r(0,m),r(20,i),r(17,h),r(18,$),r(8,w),r(21,c),r(1,u)}function ee(O){I=O,r(9,I)}function X(O){v=O,r(10,v),r(7,f),r(4,b),r(6,o),r(5,l),r(19,s),r(0,m),r(20,i),r(17,h),r(18,$),r(8,w),r(21,c),r(1,u)}return n.$$set=O=>{"workflow"in O&&r(0,m=O.workflow),"namespace"in O&&r(1,u=O.namespace),"cancelInProgress"in O&&r(2,_=O.cancelInProgress),"isRunning"in O&&r(3,g=O.isRunning)},n.$$.update=()=>{n.$$.dirty[0]&2097410&&r(15,e=qt(w.data.settings,c,u)),n.$$.dirty[0]&2097410&&r(6,o=Dr(w.data.settings,c,u)),n.$$.dirty[0]&2097410&&r(5,l=Ft(w.data.settings,c,u)),n.$$.dirty[0]&2097410&&r(19,s=Ht(w.data.settings,c,u)),n.$$.dirty[0]&1572865&&r(7,f=s&&m.pendingChildren.length===0&&i.length>0),n.$$.dirty[0]&224&&r(14,a=!f&&!o&&!l),n.$$.dirty[0]&1966081&&(s?s&&(r(17,h=m==null?void 0:m.pendingChildren)===null||h===void 0?void 0:h.length)>0?r(4,b=W("workflows.reset-disabled-pending-children")):s&&(r(18,$=m==null?void 0:m.pendingChildren)===null||$===void 0?void 0:$.length)===0&&i.length===0&&r(4,b=W("workflows.reset-disabled-no-events")):r(4,b=W("workflows.reset-disabled-unauthorized"))),n.$$.dirty[0]&240&&r(13,E=[{label:W("workflows.reset"),onClick:()=>r(11,P=!0),testId:"reset-button",enabled:f,tooltip:f?"":b},{label:W("workflows.signal"),onClick:()=>r(12,N=!0),testId:"signal-button",enabled:o,tooltip:o?"":W("workflows.signal-disabled")},{label:W("workflows.terminate"),onClick:()=>r(10,v=!0),testId:"terminate-button",enabled:l,destructive:!0,tooltip:l?"":W("workflows.terminate-disabled")}])},[m,u,_,g,b,l,o,f,w,I,v,P,N,E,a,e,T,h,$,s,i,c,F,L,V,ae,de,S,y,ee,X]}class Lr extends ce{constructor(t){super(),me(this,t,Br,Hr,ue,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function yr(n){let t,r,e=W("workers.buildId")+"",o,l,s;return l=new xt({props:{active:!0,buildId:n[0]}}),{c(){t=U("p"),r=U("span"),o=J(e),C(l.$$.fragment),this.h()},l(f){t=j(f,"P",{class:!0});var a=z(t);r=j(a,"SPAN",{});var i=z(r);o=Z(i,e),i.forEach(k),D(l.$$.fragment,a),a.forEach(k),this.h()},h(){Q(t,"class","flex items-center gap-1")},m(f,a){M(f,t,a),q(t,r),q(r,o),A(l,t,null),s=!0},p(f,[a]){const i={};a&1&&(i.buildId=f[0]),l.$set(i)},i(f){s||(p(l.$$.fragment,f),s=!0)},o(f){d(l.$$.fragment,f),s=!1},d(f){f&&k(t),R(l)}}}function Or(n,t,r){let e,{workflow:o}=t;return n.$$set=l=>{"workflow"in l&&r(1,o=l.workflow)},n.$$.update=()=>{n.$$.dirty&2&&r(0,e=er(o))},[e,o]}class Qr extends ce{constructor(t){super(),me(this,t,Or,yr,ue,{workflow:1})}}const Ur=(n,t)=>{const r=n==="Running",e=t==null?void 0:t.some(o=>(o==null?void 0:o.eventType)==="WorkflowExecutionCancelRequested");return r&&e},et=n=>{const t=n==null?void 0:n.indexOf("?");return t>-1?n.slice(0,t):n},x=(n,t,r=!1)=>{const e=et(n).split("/"),o=et(t).split("/");if(r&&e.length!==o.length)return!1;for(let l=0;l<e.length;l++){const s=e[l],f=o[l];if(s!==f)return!1}return!0};function jr(n){let t=(n[12]?W("common.workflows"):W("workflows.back-to-workflows"))+"",r;return{c(){r=J(t)},l(e){r=Z(e,t)},m(e,o){M(e,r,o)},p(e,o){o&4096&&t!==(t=(e[12]?W("common.workflows"):W("workflows.back-to-workflows"))+"")&&fe(r,t)},d(e){e&&k(r)}}}function tt(n){let t,r;return t=new Se({props:{href:ie({...n[11]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[zr]},$$scope:{ctx:n}}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o&2048&&(l.href=ie({...e[11]})),o&16777218&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function zr(n){var e;let t=((e=n[1])==null?void 0:e.runId)+"",r;return{c(){r=J(t)},l(o){r=Z(o,t)},m(o,l){M(o,r,l)},p(o,l){var s;l&2&&t!==(t=((s=o[1])==null?void 0:s.runId)+"")&&fe(r,t)},d(o){o&&k(r)}}}function rt(n){let t,r;return t=new Qr({props:{workflow:n[1]}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o&2&&(l.workflow=e[1]),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Yr(n){var e;let t=((e=n[1])==null?void 0:e.historyEvents)+"",r;return{c(){r=J(t)},l(o){r=Z(o,t)},m(o,l){M(o,r,l)},p(o,l){var s;l&2&&t!==(t=((s=o[1])==null?void 0:s.historyEvents)+"")&&fe(r,t)},d(o){o&&k(r)}}}function Jr(n){let t,r;return t=new We({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Yr]},$$scope:{ctx:n}}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o&16777218&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Zr(n){var e,o;let t=((o=(e=n[13])==null?void 0:e.pollers)==null?void 0:o.length)+"",r;return{c(){r=J(t)},l(l){r=Z(l,t)},m(l,s){M(l,r,s)},p(l,s){var f,a;s&8192&&t!==(t=((a=(f=l[13])==null?void 0:f.pollers)==null?void 0:a.length)+"")&&fe(r,t)},d(l){l&&k(r)}}}function Gr(n){let t,r;return t=new We({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Zr]},$$scope:{ctx:n}}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o&16785408&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Kr(n){let t=n[5].relationshipCount+"",r;return{c(){r=J(t)},l(e){r=Z(e,t)},m(e,o){M(e,r,o)},p(e,o){o&32&&t!==(t=e[5].relationshipCount+"")&&fe(r,t)},d(e){e&&k(r)}}}function Xr(n){let t,r;return t=new We({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Kr]},$$scope:{ctx:n}}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o&16777248&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function ot(n){let t,r;return t=new _e({props:{label:W("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Ce(n[11]),active:x(n[4].url.pathname,Ce(n[11])),$$slots:{default:[eo]},$$scope:{ctx:n}}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o&2048&&(l.href=Ce(e[11])),o&2064&&(l.active=x(e[4].url.pathname,Ce(e[11]))),o&16777730&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function nt(n){let t,r;return t=new Jt({props:{name:"canceled"}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function xr(n){var f,a;let t,r,e=((a=(f=n[1])==null?void 0:f.pendingActivities)==null?void 0:a.length)+"",o,l,s=n[9]&&nt();return{c(){t=U("div"),s&&s.c(),r=H(),o=J(e),this.h()},l(i){t=j(i,"DIV",{class:!0});var c=z(t);s&&s.l(c),r=B(c),o=Z(c,e),c.forEach(k),this.h()},h(){Q(t,"class","flex items-center gap-1")},m(i,c){M(i,t,c),s&&s.m(t,null),q(t,r),q(t,o),l=!0},p(i,c){var w,h;i[9]?s?c&512&&p(s,1):(s=nt(),s.c(),p(s,1),s.m(t,r)):s&&(G(),d(s,1,1,()=>{s=null}),K()),(!l||c&2)&&e!==(e=((h=(w=i[1])==null?void 0:w.pendingActivities)==null?void 0:h.length)+"")&&fe(o,e)},i(i){l||(p(s),l=!0)},o(i){d(s),l=!1},d(i){i&&k(t),s&&s.d()}}}function eo(n){let t,r;return t=new We({props:{type:n[9]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[xr]},$$scope:{ctx:n}}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o&512&&(l.type=e[9]?"warning":"primary"),o&16777730&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function to(n){let t,r,e,o,l,s,f,a,i,c,w,h,$;t=new _e({props:{label:W("workflows.history-tab"),id:"history-tab",href:ie({...n[11]}),active:x(n[4].url.pathname,ie({...n[11]})),$$slots:{default:[Jr]},$$scope:{ctx:n}}}),e=new _e({props:{label:W("workflows.workers-tab"),id:"workers-tab",href:ke(n[11]),active:x(n[4].url.pathname,ke(n[11])),$$slots:{default:[Gr]},$$scope:{ctx:n}}}),l=new _e({props:{label:W("workflows.relationships"),id:"relationships-tab",href:be(n[11]),active:x(n[4].url.pathname,be(n[11])),$$slots:{default:[Xr]},$$scope:{ctx:n}}});let m=!n[15]&&ot(n);return a=new _e({props:{label:W("workflows.call-stack-tab"),id:"call-stack-tab",href:ve(n[11]),active:x(n[4].url.pathname,ve(n[11]))}}),c=new _e({props:{label:W("workflows.queries-tab"),id:"queries-tab",href:Ee(n[11]),active:x(n[4].url.pathname,Ee(n[11]))}}),h=new _e({props:{label:W("workflows.metadata-tab"),id:"metadata-tab",href:Ie(n[11]),active:x(n[4].url.pathname,Ie(n[11]))}}),{c(){C(t.$$.fragment),r=H(),C(e.$$.fragment),o=H(),C(l.$$.fragment),s=H(),m&&m.c(),f=H(),C(a.$$.fragment),i=H(),C(c.$$.fragment),w=H(),C(h.$$.fragment)},l(u){D(t.$$.fragment,u),r=B(u),D(e.$$.fragment,u),o=B(u),D(l.$$.fragment,u),s=B(u),m&&m.l(u),f=B(u),D(a.$$.fragment,u),i=B(u),D(c.$$.fragment,u),w=B(u),D(h.$$.fragment,u)},m(u,_){A(t,u,_),M(u,r,_),A(e,u,_),M(u,o,_),A(l,u,_),M(u,s,_),m&&m.m(u,_),M(u,f,_),A(a,u,_),M(u,i,_),A(c,u,_),M(u,w,_),A(h,u,_),$=!0},p(u,_){const g={};_&2048&&(g.href=ie({...u[11]})),_&2064&&(g.active=x(u[4].url.pathname,ie({...u[11]}))),_&16777218&&(g.$$scope={dirty:_,ctx:u}),t.$set(g);const I={};_&2048&&(I.href=ke(u[11])),_&2064&&(I.active=x(u[4].url.pathname,ke(u[11]))),_&16785408&&(I.$$scope={dirty:_,ctx:u}),e.$set(I);const v={};_&2048&&(v.href=be(u[11])),_&2064&&(v.active=x(u[4].url.pathname,be(u[11]))),_&16777248&&(v.$$scope={dirty:_,ctx:u}),l.$set(v),u[15]?m&&(G(),d(m,1,1,()=>{m=null}),K()):m?(m.p(u,_),_&32768&&p(m,1)):(m=ot(u),m.c(),p(m,1),m.m(f.parentNode,f));const P={};_&2048&&(P.href=ve(u[11])),_&2064&&(P.active=x(u[4].url.pathname,ve(u[11]))),a.$set(P);const N={};_&2048&&(N.href=Ee(u[11])),_&2064&&(N.active=x(u[4].url.pathname,Ee(u[11]))),c.$set(N);const b={};_&2048&&(b.href=Ie(u[11])),_&2064&&(b.active=x(u[4].url.pathname,Ie(u[11]))),h.$set(b)},i(u){$||(p(t.$$.fragment,u),p(e.$$.fragment,u),p(l.$$.fragment,u),p(m),p(a.$$.fragment,u),p(c.$$.fragment,u),p(h.$$.fragment,u),$=!0)},o(u){d(t.$$.fragment,u),d(e.$$.fragment,u),d(l.$$.fragment,u),d(m),d(a.$$.fragment,u),d(c.$$.fragment,u),d(h.$$.fragment,u),$=!1},d(u){u&&(k(r),k(o),k(s),k(f),k(i),k(w)),R(t,u),R(e,u),R(l,u),m&&m.d(u),R(a,u),R(c,u),R(h,u)}}}function ro(n){let t,r;return t=new nr({props:{class:"flex flex-wrap gap-6 p-4 pl-0",label:"workflow detail",$$slots:{default:[to]},$$scope:{ctx:n}}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o&16820786&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function lt(n){let t,r,e,o;return r=new Ct({props:{icon:"info",intent:"info",title:W("workflows.cancel-request-sent"),$$slots:{default:[oo]},$$scope:{ctx:n}}}),{c(){t=U("div"),C(r.$$.fragment)},l(l){t=j(l,"DIV",{});var s=z(t);D(r.$$.fragment,s),s.forEach(k)},m(l,s){M(l,t,s),A(r,t,null),o=!0},p(l,s){const f={};s&16777216&&(f.$$scope={dirty:s,ctx:l}),r.$set(f)},i(l){o||(p(r.$$.fragment,l),l&&(e||ut(()=>{e=mt(t,gt,{duration:200,delay:100}),e.start()})),o=!0)},o(l){d(r.$$.fragment,l),o=!1},d(l){l&&k(t),R(r)}}}function oo(n){let t=W("workflows.cancel-request-sent-description")+"",r;return{c(){r=J(t)},l(e){r=Z(e,t)},m(e,o){M(e,r,o)},p:le,d(e){e&&k(r)}}}function st(n){let t,r,e,o;return r=new Ct({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:W("workflows.reset-success-alert-title"),$$slots:{default:[lo]},$$scope:{ctx:n}}}),{c(){t=U("div"),C(r.$$.fragment)},l(l){t=j(l,"DIV",{});var s=z(t);D(r.$$.fragment,s),s.forEach(k)},m(l,s){M(l,t,s),A(r,t,null),o=!0},p(l,s){const f={};s&16777229&&(f.$$scope={dirty:s,ctx:l}),r.$set(f)},i(l){o||(p(r.$$.fragment,l),l&&(e||ut(()=>{e=mt(t,gt,{duration:200,delay:100}),e.start()})),o=!0)},o(l){d(r.$$.fragment,l),o=!1},d(l){l&&k(t),R(r)}}}function no(n){let t;return{c(){t=J("here")},l(r){t=Z(r,"here")},m(r,e){M(r,t,e)},d(r){r&&k(t)}}}function lo(n){var l,s,f,a;let t,r,e,o;return r=new Se({props:{href:ie({namespace:n[0],workflow:(s=(l=n[2])==null?void 0:l.workflow)==null?void 0:s.id,run:n[3][(a=(f=n[2])==null?void 0:f.workflow)==null?void 0:a.runId]}),$$slots:{default:[no]},$$scope:{ctx:n}}}),{c(){t=J("You can find the resulting Workflow Execution "),C(r.$$.fragment),e=J(".")},l(i){t=Z(i,"You can find the resulting Workflow Execution "),D(r.$$.fragment,i),e=Z(i,".")},m(i,c){M(i,t,c),A(r,i,c),M(i,e,c),o=!0},p(i,c){var h,$,m,u;const w={};c&13&&(w.href=ie({namespace:i[0],workflow:($=(h=i[2])==null?void 0:h.workflow)==null?void 0:$.id,run:i[3][(u=(m=i[2])==null?void 0:m.workflow)==null?void 0:u.runId]})),c&16777216&&(w.$$scope={dirty:c,ctx:i}),r.$set(w)},i(i){o||(p(r.$$.fragment,i),o=!0)},o(i){d(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(e)),R(r,i)}}}function so(n){var ae,de;let t,r,e,o,l,s,f,a,i,c,w,h,$,m,u,_,g,I,v,P,N,b,T;e=new Se({props:{href:`${Re({namespace:n[0]})}?${n[14]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[jr]},$$scope:{ctx:n}}});let E=n[12]&&tt(n);c=new Xt({props:{status:(ae=n[1])==null?void 0:ae.status,big:!0}}),m=new rr({props:{copyIconTitle:W("common.copy-icon-title"),copySuccessIconTitle:W("common.copy-success-icon-title"),content:(de=n[1])==null?void 0:de.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis"}});let F=n[6]&&rt(n);I=new Lr({props:{isRunning:n[10],cancelInProgress:n[8],workflow:n[1],namespace:n[0]}}),P=new or({props:{$$slots:{default:[ro]},$$scope:{ctx:n}}});let L=n[8]&&lt(n),V=n[7]&&st(n);return{c(){t=U("div"),r=U("div"),C(e.$$.fragment),o=H(),E&&E.c(),l=H(),s=U("header"),f=U("div"),a=U("div"),i=U("div"),C(c.$$.fragment),w=H(),h=U("div"),$=U("h1"),C(m.$$.fragment),u=H(),F&&F.c(),_=H(),g=U("div"),C(I.$$.fragment),v=H(),C(P.$$.fragment),N=H(),L&&L.c(),b=H(),V&&V.c(),this.h()},l(S){t=j(S,"DIV",{class:!0});var y=z(t);r=j(y,"DIV",{class:!0});var ee=z(r);D(e.$$.fragment,ee),o=B(ee),E&&E.l(ee),ee.forEach(k),y.forEach(k),l=B(S),s=j(S,"HEADER",{class:!0});var X=z(s);f=j(X,"DIV",{class:!0});var O=z(f);a=j(O,"DIV",{class:!0});var se=z(a);i=j(se,"DIV",{class:!0});var ge=z(i);D(c.$$.fragment,ge),ge.forEach(k),w=B(se),h=j(se,"DIV",{class:!0});var pe=z(h);$=j(pe,"H1",{"data-testid":!0,class:!0});var we=z($);D(m.$$.fragment,we),we.forEach(k),u=B(pe),F&&F.l(pe),pe.forEach(k),se.forEach(k),_=B(O),g=j(O,"DIV",{class:!0});var Be=z(g);D(I.$$.fragment,Be),Be.forEach(k),O.forEach(k),v=B(X),D(P.$$.fragment,X),N=B(X),L&&L.l(X),b=B(X),V&&V.l(X),X.forEach(k),this.h()},h(){Q(r,"class","flex items-center gap-2"),Q(t,"class","flex items-center justify-between pb-4"),Q(i,"class","px-2"),Q($,"data-testid","workflow-id-heading"),Q($,"class","gap-0 overflow-hidden text-base font-medium lg:text-2xl"),Q(h,"class","flex flex-col flex-wrap gap-0"),Q(a,"class","flex flex-col items-center gap-4 lg:flex-row"),Q(g,"class","px-2"),Q(f,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),Q(s,"class","rounded-top flex flex-col gap-0")},m(S,y){M(S,t,y),q(t,r),A(e,r,null),q(r,o),E&&E.m(r,null),M(S,l,y),M(S,s,y),q(s,f),q(f,a),q(a,i),A(c,i,null),q(a,w),q(a,h),q(h,$),A(m,$,null),q(h,u),F&&F.m(h,null),q(f,_),q(f,g),A(I,g,null),q(s,v),A(P,s,null),q(s,N),L&&L.m(s,null),q(s,b),V&&V.m(s,null),T=!0},p(S,[y]){var pe,we;const ee={};y&16385&&(ee.href=`${Re({namespace:S[0]})}?${S[14]}`),y&16781312&&(ee.$$scope={dirty:y,ctx:S}),e.$set(ee),S[12]?E?(E.p(S,y),y&4096&&p(E,1)):(E=tt(S),E.c(),p(E,1),E.m(r,null)):E&&(G(),d(E,1,1,()=>{E=null}),K());const X={};y&2&&(X.status=(pe=S[1])==null?void 0:pe.status),c.$set(X);const O={};y&2&&(O.content=(we=S[1])==null?void 0:we.id),m.$set(O),S[6]?F?(F.p(S,y),y&64&&p(F,1)):(F=rt(S),F.c(),p(F,1),F.m(h,null)):F&&(G(),d(F,1,1,()=>{F=null}),K());const se={};y&1024&&(se.isRunning=S[10]),y&256&&(se.cancelInProgress=S[8]),y&2&&(se.workflow=S[1]),y&1&&(se.namespace=S[0]),I.$set(se);const ge={};y&16820786&&(ge.$$scope={dirty:y,ctx:S}),P.$set(ge),S[8]?L?(L.p(S,y),y&256&&p(L,1)):(L=lt(S),L.c(),p(L,1),L.m(s,b)):L&&(G(),d(L,1,1,()=>{L=null}),K()),S[7]?V?(V.p(S,y),y&128&&p(V,1)):(V=st(S),V.c(),p(V,1),V.m(s,null)):V&&(G(),d(V,1,1,()=>{V=null}),K())},i(S){T||(p(e.$$.fragment,S),p(E),p(c.$$.fragment,S),p(m.$$.fragment,S),p(F),p(I.$$.fragment,S),p(P.$$.fragment,S),p(L),p(V),T=!0)},o(S){d(e.$$.fragment,S),d(E),d(c.$$.fragment,S),d(m.$$.fragment,S),d(F),d(I.$$.fragment,S),d(P.$$.fragment,S),d(L),d(V),T=!1},d(S){S&&(k(t),k(l),k(s)),R(e),E&&E.d(),R(c),R(m),F&&F.d(),R(I),R(P),L&&L.d(),V&&V.d()}}}function fo(n,t,r){let e,o,l,s,f,a,i,c,w,h,$,m,u,_,g,I,v;Y(n,lr,V=>r(22,$=V)),Y(n,De,V=>r(23,m=V)),Y(n,$e,V=>r(2,u=V)),Y(n,At,V=>r(3,_=V)),Y(n,Te,V=>r(4,g=V)),Y(n,pt,V=>r(14,I=V)),Y(n,_t,V=>r(15,v=V));var P,N,b,T,E,F;let{namespace:L}=t;return n.$$set=V=>{"namespace"in V&&r(0,L=V.namespace)},n.$$.update=()=>{n.$$.dirty&4&&r(1,{workflow:e,workers:o}=u,e,(r(13,o),r(2,u))),n.$$.dirty&16&&r(12,l=g.params.id),n.$$.dirty&3&&r(11,s={namespace:L,workflow:e==null?void 0:e.id,run:e==null?void 0:e.runId}),n.$$.dirty&65540&&r(10,f=r(16,P=u==null?void 0:u.workflow)===null||P===void 0?void 0:P.isRunning),n.$$.dirty&131076&&r(9,a=["Terminated","TimedOut","Canceled"].includes(r(17,N=u.workflow)===null||N===void 0?void 0:N.status)),n.$$.dirty&8650756&&r(8,i=Ur(r(18,b=u==null?void 0:u.workflow)===null||b===void 0?void 0:b.status,m)),n.$$.dirty&524300&&r(7,c=fr(_,r(19,T=u==null?void 0:u.workflow)===null||T===void 0?void 0:T.runId)),n.$$.dirty&3145730&&r(6,w=r(20,E=e==null?void 0:e.assignedBuildId)!==null&&E!==void 0?E:r(21,F=e==null?void 0:e.mostRecentWorkerVersionStamp)===null||F===void 0?void 0:F.useVersioning),n.$$.dirty&12582914&&r(5,h=sr(e,m,$))},[L,e,u,_,g,h,w,c,i,a,f,s,l,o,I,v,P,N,b,T,E,F,$,m]}class Rt extends ce{constructor(t){super(),me(this,t,fo,so,ue,{namespace:0})}}async function ao({activity:n,namespace:t,settings:r,accessToken:e},{convertWithCodec:o=ar,decodeAttributes:l=ir}={}){const s=await o({attributes:n,namespace:t,settings:r,accessToken:e});return l(s)}const io=async({activity:n,namespace:t,settings:r,accessToken:e})=>await ao({activity:n,namespace:t,settings:r,accessToken:e}),ft=async(n,t,r,e)=>{const o=(n==null?void 0:n.pendingActivities)??[],l=[];for(const s of o){const f=await io({activity:s,namespace:t,settings:r,accessToken:e});l.push(f)}return l};function uo(n){let t,r,e,o;r=new Rt({props:{namespace:n[0].params.namespace}});const l=n[10].default,s=Ve(l,n,n[11],null);return{c(){t=U("div"),C(r.$$.fragment),e=H(),s&&s.c(),this.h()},l(f){t=j(f,"DIV",{class:!0});var a=z(t);D(r.$$.fragment,a),a.forEach(k),e=B(f),s&&s.l(f),this.h()},h(){Q(t,"class","px-8 pt-24 md:pt-20")},m(f,a){M(f,t,a),A(r,t,null),M(f,e,a),s&&s.m(f,a),o=!0},p(f,a){const i={};a&1&&(i.namespace=f[0].params.namespace),r.$set(i),s&&s.p&&(!o||a&2048)&&Ne(s,l,f,f[11],o?Fe(l,f[11],a,null):qe(f[11]),null)},i(f){o||(p(r.$$.fragment,f),p(s,f),o=!0)},o(f){d(r.$$.fragment,f),d(s,f),o=!1},d(f){f&&(k(t),k(e)),R(r),s&&s.d(f)}}}function co(n){let t,r;return t=new dt({props:{class:"pt-24"}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p:le,i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function mo(n){let t,r;return t=new Dt({props:{error:n[1]}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o&2&&(l.error=e[1]),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function po(n){let t,r,e,o,l;const s=[mo,co,uo],f=[];function a(i,c){return i[1]?0:i[2].workflow?2:1}return r=a(n),e=f[r]=s[r](n),{c(){t=U("div"),e.c(),this.h()},l(i){t=j(i,"DIV",{class:!0});var c=z(t);e.l(c),c.forEach(k),this.h()},h(){Q(t,"class",o="absolute bottom-0 left-0 right-0 "+(n[3]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-0")},m(i,c){M(i,t,c),f[r].m(t,null),l=!0},p(i,c){let w=r;r=a(i),r===w?f[r].p(i,c):(G(),d(f[w],1,1,()=>{f[w]=null}),K(),e=f[r],e?e.p(i,c):(e=f[r]=s[r](i),e.c()),p(e,1),e.m(t,null)),(!l||c&8&&o!==(o="absolute bottom-0 left-0 right-0 "+(i[3]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-0"))&&Q(t,"class",o)},i(i){l||(p(e),l=!0)},o(i){d(e),l=!1},d(i){i&&k(t),f[r].d()}}}function _o(n){let t,r,e;t=new Rt({props:{namespace:n[0].params.namespace}});const o=n[10].default,l=Ve(o,n,n[11],null);return{c(){C(t.$$.fragment),r=H(),l&&l.c()},l(s){D(t.$$.fragment,s),r=B(s),l&&l.l(s)},m(s,f){A(t,s,f),M(s,r,f),l&&l.m(s,f),e=!0},p(s,f){const a={};f&1&&(a.namespace=s[0].params.namespace),t.$set(a),l&&l.p&&(!e||f&2048)&&Ne(l,o,s,s[11],e?Fe(o,s[11],f,null):qe(s[11]),null)},i(s){e||(p(t.$$.fragment,s),p(l,s),e=!0)},o(s){d(t.$$.fragment,s),d(l,s),e=!1},d(s){s&&k(r),R(t,s),l&&l.d(s)}}}function go(n){let t,r;return t=new dt({}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p:le,i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function wo(n){let t,r;return t=new Dt({props:{error:n[1]}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,o){const l={};o&2&&(l.error=e[1]),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function $o(n){let t,r,e,o;const l=[wo,go,_o],s=[];function f(a,i){return a[1]?0:a[2].workflow?2:1}return r=f(n),e=s[r]=l[r](n),{c(){t=U("div"),e.c(),this.h()},l(a){t=j(a,"DIV",{class:!0,slot:!0});var i=z(t);e.l(i),i.forEach(k),this.h()},h(){Q(t,"class","flex h-full flex-col gap-0"),Q(t,"slot","fallback")},m(a,i){M(a,t,i),s[r].m(t,null),o=!0},p(a,i){let c=r;r=f(a),r===c?s[r].p(a,i):(G(),d(s[c],1,1,()=>{s[c]=null}),K(),e=s[r],e?e.p(a,i):(e=s[r]=l[r](a),e.c()),p(e,1),e.m(t,null))},i(a){o||(p(e),o=!0)},o(a){d(e),o=!1},d(a){a&&k(t),s[r].d()}}}function ho(n){let t,r;return t=new Nt({props:{$$slots:{fallback:[$o],default:[po]},$$scope:{ctx:n}}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,[o]){const l={};o&2063&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function ko(n,t,r){let e,o,l,s,f,a,i,c,w,h,$,m;Y(n,Ue,E=>r(7,s=E)),Y(n,Te,E=>r(0,f=E)),Y(n,he,E=>r(8,a=E)),Y(n,_t,E=>r(9,i=E)),Y(n,Me,E=>r(13,c=E)),Y(n,$e,E=>r(2,w=E)),Y(n,De,E=>r(14,h=E)),Y(n,cr,E=>r(15,$=E)),Y(n,Wt,E=>r(3,m=E));let{$$slots:u={},$$scope:_}=t,g,I;const v=async(E,F,L,V,ae)=>{const{settings:de}=f.data,{workflow:S,error:y}=await Le({namespace:E,workflowId:F,runId:L});if(y){r(1,g=y);return}const{taskQueue:ee}=S,X=await tr({queue:ee,namespace:E});S.pendingActivities=await ft(S,E,de,$==null?void 0:$.accessToken),re($e,w={workflow:S,workers:X},w),I=new AbortController,re(De,h=await ur({namespace:E,workflowId:F,runId:L,sort:ae?"ascending":V,signal:I.signal,historySize:S.historyEvents}),h)},P=async E=>{var F;if(E&&(!((F=w==null?void 0:w.workflow)===null||F===void 0)&&F.isRunning)){const{settings:L}=f.data,{workflow:V,error:ae}=await Le({namespace:e,workflowId:o,runId:l});if(ae){r(1,g=ae);return}V.pendingActivities=await ft(V,e,L,$==null?void 0:$.accessToken),re($e,w={...w,workflow:V},w)}},N=()=>{re(De,h=[],h),I&&I.abort()},b=()=>{re(Me,c=null,c),re($e,w=Gt,w),r(1,g=void 0),N()},T=()=>{re(Me,c=null,c),N()};return St(()=>{const E=f.url.searchParams.get("sort");E&&re(Ue,s=E,s)}),ct(()=>{b()}),n.$$set=E=>{"$$scope"in E&&r(11,_=E.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&r(6,{namespace:e,workflow:o,run:l}=f.params,e,(r(5,o),r(0,f)),(r(4,l),r(0,f))),n.$$.dirty&16&&b(),n.$$.dirty&640&&T(),n.$$.dirty&752&&v(e,o,l,s,i),n.$$.dirty&256&&P(a)},[f,g,w,m,l,o,e,s,a,i,u,_]}class bo extends ce{constructor(t){super(),me(this,t,ko,ho,ue,{})}}const Pt={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},vo=wt(Pt),Eo=()=>{vo.set(Pt)};function Io(n){let t;const r=n[0].default,e=Ve(r,n,n[1],null);return{c(){e&&e.c()},l(o){e&&e.l(o)},m(o,l){e&&e.m(o,l),t=!0},p(o,l){e&&e.p&&(!t||l&2)&&Ne(e,r,o,o[1],t?Fe(r,o[1],l,null):qe(o[1]),null)},i(o){t||(p(e,o),t=!0)},o(o){d(e,o),t=!1},d(o){e&&e.d(o)}}}function Co(n){let t,r;return t=new bo({props:{$$slots:{default:[Io]},$$scope:{ctx:n}}}),{c(){C(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,o){A(t,e,o),r=!0},p(e,[o]){const l={};o&2&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Do(n,t,r){let{$$slots:e={},$$scope:o}=t;return ct(()=>{Eo()}),n.$$set=l=>{"$$scope"in l&&r(1,o=l.$$scope)},[e,o]}class bn extends ce{constructor(t){super(),me(this,t,Do,Co,ue,{})}}export{bn as component};
