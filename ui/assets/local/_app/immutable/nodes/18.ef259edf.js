import{a as nt}from"../chunks/namespaces-service.607d9cb5.js";import{e as ft,g as Oe}from"../chunks/workflow-service.5c55ff2e.js";import{S as ne,b as fe,a as ie,C as D,D as L,E as H,j as k,g as y,F as j,K as oe,m as q,c as F,w as I,p as A,q as N,k as p,d as W,x as P,u as E,f as g,L as v,M as G,_ as lt,ag as rt,y as le,r as at,G as it,H as ut,I as ct,J as mt,n as Z,$ as qe,Z as Re,z as Y,h as x,A as pt,a0 as _t,a1 as $t,e as U,a7 as ot,aa as ht,ab as dt}from"../chunks/index.0942deb7.js";import{p as Se}from"../chunks/stores.a7e13093.js";import{P as wt}from"../chunks/page-title.433b384d.js";import{W as gt}from"../chunks/workflow-status.3ea56d65.js";import{t as bt,F as Ue,j as kt}from"../chunks/index.0b38c6d7.js";import{L as Ce}from"../chunks/link.458be88a.js";import{T as vt}from"../chunks/table-row.9c997398.js";import{t as T}from"../chunks/translate.135d909a.js";import{t as Ae,r as yt,b as te}from"../chunks/time-format.d59b7e27.js";import{u as Tt,v as Et,w as St,x as Qe,y as Me}from"../chunks/format-time.5082c525.js";import{d as It}from"../chunks/has.233e577a.js";import{g as Pt}from"../chunks/route-for.ad76720c.js";import{u as st}from"../chunks/update-query-parameters.1ca41a39.js";import{T as qt,a as At}from"../chunks/table-header-row.b9d52458.js";import{C as Ne}from"../chunks/code-block.1a2f36dd.js";import{E as Ct}from"../chunks/empty-state.64fbab21.js";import{P as Nt}from"../chunks/pagination.453325c9.js";import{g as ze}from"../chunks/navigation.3d97b663.js";import{B as Ft}from"../chunks/button.084b3225.js";import{I as Wt}from"../chunks/input.9c6c6c53.js";import{F as Ge}from"../chunks/pagination.015eb071.js";import{S as Dt,a as ge}from"../chunks/simple-select.4e19902f.js";import{I as Lt}from"../chunks/icon.33308831.js";const Ht=async function({params:a,url:t}){var u,$,S,b,C,Q,O,M;const{searchParams:r}=t;r.has("time-range")||r.set("time-range","1 day");const e=r.get("workflow-id"),l=r.get("workflow-type"),n=r.get("time-range"),f=r.get("status"),o=await nt(a.namespace),s=(S=($=(u=o.config)==null?void 0:u.historyArchivalUri)==null?void 0:$.toLowerCase())==null?void 0:S.startsWith("s3://"),c=(Q=(C=(b=o.config)==null?void 0:b.historyArchivalUri)==null?void 0:C.toLowerCase())==null?void 0:Q.startsWith("gs://"),i=s||c,m=i?{}:{workflowId:e,workflowType:l,closeTime:n,executionStatus:f},_=((O=o==null?void 0:o.config)==null?void 0:O.historyArchivalState)==="Enabled",h=((M=o==null?void 0:o.config)==null?void 0:M.visibilityArchivalState)==="Enabled",d=_&&h?await ft(a.namespace,m,fetch):null;return{workflows:d?d.workflows:[],namespace:o,archivalEnabled:_,visibilityArchivalEnabled:h,archivalQueryingNotSupported:i}},nr=Object.freeze(Object.defineProperty({__proto__:null,load:Ht},Symbol.toStringTag,{value:"Module"})),Ie=a=>t=>t.toLowerCase()===a.toLowerCase(),Ee=(a,t)=>a[t+2],jt=a=>{if(a){for(const t of St)if(a[t])return{[t]:a[t]}}},Bt=Ie("WorkflowType"),Ot=Ie("WorkflowId"),Rt=Ie("StartTime"),Ut=Ie("ExecutionStatus"),Qt=a=>{const t=bt(a),r={workflowId:"",workflowType:"",executionStatus:null,timeRange:null};return t.forEach((e,l)=>{if(Ot(e)&&(r.workflowId=Ee(t,l)),Bt(e)&&(r.workflowType=Ee(t,l)),Ut(e)){const n=Ee(t,l);It(n)&&(r.executionStatus=n)}if(Rt(e)){const n=Ee(t,l);try{const f=Tt(n),o=jt(f);r.timeRange=Et(o)}catch(f){console.error("Error parsing StartTime from query",f)}}}),r};function Mt(a){let t=a[0].id+"",r;return{c(){r=I(t)},l(e){r=P(e,t)},m(e,l){g(e,r,l)},p(e,l){l&1&&t!==(t=e[0].id+"")&&le(r,t)},d(e){e&&p(r)}}}function zt(a){var We,De,Le;let t,r,e,l,n,f,o,s,c,i=te(a[0].startTime,a[4],{relative:a[5]})+"",m,_,h,d,u=T("workflows.workflow-name")+"",$,S,b,C,Q=a[0].name+"",O,M,K,R,ue,ee,ce=te(a[0].endTime,a[4],{relative:a[5]})+"",be,ke,re,me,pe=te(a[0].startTime,a[4],{relative:a[5]})+"",ve,ye,ae,_e,$e=te(a[0].endTime,a[4],{relative:a[5]})+"",Te,V,Pe,Fe;return r=new gt({props:{status:a[0].status,delay:Qe(a[0].startTime)}}),n=new Ce({props:{href:a[2],$$slots:{default:[Mt]},$$scope:{ctx:a}}}),o=new Ue({props:{copyIconTitle:T("common.copy-icon-title"),copySuccessIconTitle:T("common.copy-success-icon-title"),filterIconTitle:T("common.filter-workflows"),show:a[1],content:a[0].id,filterable:!1}}),R=new Ue({props:{copyIconTitle:T("common.copy-icon-title"),copySuccessIconTitle:T("common.copy-success-icon-title"),filterIconTitle:T("common.filter-workflows"),show:a[1],content:a[0].name,onFilter:a[13],filtered:(Le=(De=(We=a[3].url)==null?void 0:We.searchParams)==null?void 0:De.get("query"))==null?void 0:Le.includes(a[0].name)}}),{c(){t=q("td"),D(r.$$.fragment),e=F(),l=q("td"),D(n.$$.fragment),f=F(),D(o.$$.fragment),s=F(),c=q("p"),m=I(i),_=F(),h=q("td"),d=q("h3"),$=I(u),S=I(":"),b=F(),C=q("button"),O=I(Q),K=F(),D(R.$$.fragment),ue=F(),ee=q("p"),be=I(ce),ke=F(),re=q("td"),me=q("p"),ve=I(pe),ye=F(),ae=q("td"),_e=q("p"),Te=I($e),this.h()},l(w){t=A(w,"TD",{});var B=N(t);L(r.$$.fragment,B),B.forEach(p),e=W(w),l=A(w,"TD",{class:!0});var J=N(l);L(n.$$.fragment,J),f=W(J),L(o.$$.fragment,J),s=W(J),c=A(J,"P",{class:!0});var se=N(c);m=P(se,i),se.forEach(p),J.forEach(p),_=W(w),h=A(w,"TD",{class:!0});var z=N(h);d=A(z,"H3",{class:!0});var X=N(d);$=P(X,u),S=P(X,":"),X.forEach(p),b=W(z),C=A(z,"BUTTON",{class:!0,"aria-label":!0});var he=N(C);O=P(he,Q),he.forEach(p),K=W(z),L(R.$$.fragment,z),ue=W(z),ee=A(z,"P",{class:!0});var de=N(ee);be=P(de,ce),de.forEach(p),z.forEach(p),ke=W(w),re=A(w,"TD",{class:!0});var we=N(re);me=A(we,"P",{});var He=N(me);ve=P(He,pe),He.forEach(p),we.forEach(p),ye=W(w),ae=A(w,"TD",{class:!0});var je=N(ae);_e=A(je,"P",{});var Be=N(_e);Te=P(Be,$e),Be.forEach(p),je.forEach(p),this.h()},h(){E(c,"class","inline-time-cell svelte-tyqpjy"),E(l,"class","relative break-words pr-4"),E(d,"class","md:hidden"),E(C,"class","table-link svelte-tyqpjy"),E(C,"aria-label",M=T("workflows.filter-by",{workflowName:a[0].name})),E(ee,"class","inline-time-cell svelte-tyqpjy"),E(h,"class","relative truncate"),E(re,"class","time-cell svelte-tyqpjy"),E(ae,"class","time-cell svelte-tyqpjy")},m(w,B){g(w,t,B),H(r,t,null),g(w,e,B),g(w,l,B),H(n,l,null),v(l,f),H(o,l,null),v(l,s),v(l,c),v(c,m),g(w,_,B),g(w,h,B),v(h,d),v(d,$),v(d,S),v(h,b),v(h,C),v(C,O),v(h,K),H(R,h,null),v(h,ue),v(h,ee),v(ee,be),g(w,ke,B),g(w,re,B),v(re,me),v(me,ve),g(w,ye,B),g(w,ae,B),v(ae,_e),v(_e,Te),V=!0,Pe||(Fe=[G(l,"mouseover",a[8]),G(l,"focus",a[9]),G(l,"mouseleave",a[10]),G(l,"blur",a[11]),G(C,"click",lt(rt(a[12]))),G(h,"mouseover",a[14]),G(h,"focus",a[15]),G(h,"mouseleave",a[16]),G(h,"blur",a[17])],Pe=!0)},p(w,B){var he,de,we;const J={};B&1&&(J.status=w[0].status),B&1&&(J.delay=Qe(w[0].startTime)),r.$set(J);const se={};B&4&&(se.href=w[2]),B&262145&&(se.$$scope={dirty:B,ctx:w}),n.$set(se);const z={};B&2&&(z.show=w[1]),B&1&&(z.content=w[0].id),o.$set(z),(!V||B&49)&&i!==(i=te(w[0].startTime,w[4],{relative:w[5]})+"")&&le(m,i),(!V||B&1)&&Q!==(Q=w[0].name+"")&&le(O,Q),(!V||B&1&&M!==(M=T("workflows.filter-by",{workflowName:w[0].name})))&&E(C,"aria-label",M);const X={};B&2&&(X.show=w[1]),B&1&&(X.content=w[0].name),B&1&&(X.onFilter=w[13]),B&9&&(X.filtered=(we=(de=(he=w[3].url)==null?void 0:he.searchParams)==null?void 0:de.get("query"))==null?void 0:we.includes(w[0].name)),R.$set(X),(!V||B&49)&&ce!==(ce=te(w[0].endTime,w[4],{relative:w[5]})+"")&&le(be,ce),(!V||B&49)&&pe!==(pe=te(w[0].startTime,w[4],{relative:w[5]})+"")&&le(ve,pe),(!V||B&49)&&$e!==($e=te(w[0].endTime,w[4],{relative:w[5]})+"")&&le(Te,$e)},i(w){V||(k(r.$$.fragment,w),k(n.$$.fragment,w),k(o.$$.fragment,w),k(R.$$.fragment,w),V=!0)},o(w){y(r.$$.fragment,w),y(n.$$.fragment,w),y(o.$$.fragment,w),y(R.$$.fragment,w),V=!1},d(w){w&&p(t),j(r),w&&p(e),w&&p(l),j(n),j(o),w&&p(_),w&&p(h),j(R),w&&p(ke),w&&p(re),w&&p(ye),w&&p(ae),Pe=!1,at(Fe)}}}function Gt(a){let t,r;return t=new vt({props:{class:"workflow-summary-row",$$slots:{default:[zt]},$$scope:{ctx:a}}}),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p(e,[l]){const n={};l&262207&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Kt(a,t,r){let e,l,n,f;oe(a,Se,O=>r(3,l=O)),oe(a,Ae,O=>r(4,n=O)),oe(a,yt,O=>r(5,f=O));let{namespace:o}=t,{workflow:s}=t,c=!1;const i=O=>{const M=Oe({timeRange:"All"}),K=l.url.searchParams.get("query"),R=Qt(K??M),ue=(R==null?void 0:R.workflowType)===O?"":O,ee=Oe({...R,workflowType:ue});st({url:l.url,parameter:"query",value:ee,allowEmpty:!0})},m=()=>r(1,c=!0),_=()=>r(1,c=!0),h=()=>r(1,c=!1),d=()=>r(1,c=!1),u=()=>i(s.name),$=()=>i(s.name),S=()=>r(1,c=!0),b=()=>r(1,c=!0),C=()=>r(1,c=!1),Q=()=>r(1,c=!1);return a.$$set=O=>{"namespace"in O&&r(7,o=O.namespace),"workflow"in O&&r(0,s=O.workflow)},a.$$.update=()=>{a.$$.dirty&129&&r(2,e=Pt({namespace:o,workflow:s.id,run:s.runId}))},[s,c,e,l,n,f,i,o,m,_,h,d,u,$,S,b,C,Q]}class Vt extends ne{constructor(t){super(),fe(this,t,Kt,Gt,ie,{namespace:7,workflow:0})}}function Jt(a){let t;const r=a[1].default,e=it(r,a,a[2],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,n){e&&e.m(l,n),t=!0},p(l,n){e&&e.p&&(!t||n&4)&&ut(e,r,l,l[2],t?mt(r,l[2],n,null):ct(l[2]),null)},i(l){t||(k(e,l),t=!0)},o(l){y(e,l),t=!1},d(l){e&&e.d(l)}}}function Zt(a){let t,r;return{c(){t=q("caption"),r=I("Workflows"),this.h()},l(e){t=A(e,"CAPTION",{class:!0,slot:!0});var l=N(t);r=P(l,"Workflows"),l.forEach(p),this.h()},h(){E(t,"class","sr-only"),E(t,"slot","caption")},m(e,l){g(e,t,l),v(t,r)},p:Z,d(e){e&&p(t)}}}function Xt(a){let t,r,e,l,n,f,o,s,c,i,m,_,h,d,u,$,S;return{c(){t=q("th"),r=I("Status"),e=F(),l=q("th"),n=I("Workflow ID"),f=F(),o=q("th"),s=I("Type"),c=F(),i=q("th"),m=I("Start"),_=F(),h=q("th"),d=I("End"),u=F(),$=q("th"),S=I("Summary"),this.h()},l(b){t=A(b,"TH",{class:!0});var C=N(t);r=P(C,"Status"),C.forEach(p),e=W(b),l=A(b,"TH",{class:!0});var Q=N(l);n=P(Q,"Workflow ID"),Q.forEach(p),f=W(b),o=A(b,"TH",{class:!0});var O=N(o);s=P(O,"Type"),O.forEach(p),c=W(b),i=A(b,"TH",{class:!0});var M=N(i);m=P(M,"Start"),M.forEach(p),_=W(b),h=A(b,"TH",{class:!0});var K=N(h);d=P(K,"End"),K.forEach(p),u=W(b),$=A(b,"TH",{class:!0,colspan:!0});var R=N($);S=P(R,"Summary"),R.forEach(p),this.h()},h(){E(t,"class","w-32 max-md:hidden"),E(l,"class","max-md:hidden md:w-auto"),E(o,"class","w-60 max-md:hidden"),E(i,"class","w-60 max-xl:hidden"),E(h,"class","w-60 max-xl:hidden"),E($,"class","md:hidden"),E($,"colspan","3")},m(b,C){g(b,t,C),v(t,r),g(b,e,C),g(b,l,C),v(l,n),g(b,f,C),g(b,o,C),v(o,s),g(b,c,C),g(b,i,C),v(i,m),g(b,_,C),g(b,h,C),v(h,d),g(b,u,C),g(b,$,C),v($,S)},p:Z,d(b){b&&p(t),b&&p(e),b&&p(l),b&&p(f),b&&p(o),b&&p(c),b&&p(i),b&&p(_),b&&p(h),b&&p(u),b&&p($)}}}function Yt(a){let t,r;return t=new At({props:{slot:"headers",$$slots:{default:[Xt]},$$scope:{ctx:a}}}),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p(e,l){const n={};l&4&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function xt(a){let t,r;return t=new qt({props:{class:"w-full md:table-fixed",updating:a[0],"data-testid":"workflows-table",$$slots:{headers:[Yt],caption:[Zt],default:[Jt]},$$scope:{ctx:a}}}),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p(e,[l]){const n={};l&1&&(n.updating=e[0]),l&4&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function el(a,t,r){let{$$slots:e={},$$scope:l}=t,{updating:n=!1}=t;return a.$$set=f=>{"updating"in f&&r(0,n=f.updating),"$$scope"in f&&r(2,l=f.$$scope)},[n,e,l]}class tl extends ne{constructor(t){super(),fe(this,t,el,xt,ie,{updating:0})}}function ll(a){let t;return{c(){t=I(a[2])},l(r){t=P(r,a[2])},m(r,e){g(r,t,e)},p(r,e){e&4&&le(t,r[2])},d(r){r&&p(t)}}}function rl(a){let t,r,e,l,n,f,o;return r=new Wt({props:{class:"w-full",unroundRight:!0,label:a[2],id:a[5],labelHidden:!0,icon:a[4]?"search":null,type:"search",name:a[3],value:a[1],placeholder:a[0],autocomplete:"off"}}),r.$on("input",a[7]),l=new Ft({props:{borderRadiusModifier:"square-left",type:"submit",$$slots:{default:[ll]},$$scope:{ctx:a}}}),{c(){t=q("form"),D(r.$$.fragment),e=F(),D(l.$$.fragment),this.h()},l(s){t=A(s,"FORM",{role:!0,class:!0});var c=N(t);L(r.$$.fragment,c),e=W(c),L(l.$$.fragment,c),c.forEach(p),this.h()},h(){E(t,"role","search"),E(t,"class","flex items-center")},m(s,c){g(s,t,c),H(r,t,null),v(t,e),H(l,t,null),n=!0,f||(o=G(t,"submit",rt(a[6])),f=!0)},p(s,[c]){const i={};c&4&&(i.label=s[2]),c&32&&(i.id=s[5]),c&16&&(i.icon=s[4]?"search":null),c&8&&(i.name=s[3]),c&2&&(i.value=s[1]),c&1&&(i.placeholder=s[0]),r.$set(i);const m={};c&260&&(m.$$scope={dirty:c,ctx:s}),l.$set(m)},i(s){n||(k(r.$$.fragment,s),k(l.$$.fragment,s),n=!0)},o(s){y(r.$$.fragment,s),y(l.$$.fragment,s),n=!1},d(s){s&&p(t),j(r),j(l),f=!1,o()}}}function al(a,t,r){let{placeholder:e=""}=t,{value:l=""}=t,{label:n=T("common.search")}=t,{name:f="query"}=t,{icon:o=!1}=t,{id:s=`${n.toLocaleUpperCase()}-input`}=t;function c(m){qe.call(this,a,m)}function i(m){qe.call(this,a,m)}return a.$$set=m=>{"placeholder"in m&&r(0,e=m.placeholder),"value"in m&&r(1,l=m.value),"label"in m&&r(2,n=m.label),"name"in m&&r(3,f=m.name),"icon"in m&&r(4,o=m.icon),"id"in m&&r(5,s=m.id)},[e,l,n,f,o,s,c,i]}class ol extends ne{constructor(t){super(),fe(this,t,al,rl,ie,{placeholder:0,value:1,label:2,name:3,icon:4,id:5})}}function sl(a){let t,r,e,l,n,f,o,s,c,i,m;return f=new Lt({props:{name:"search",class:"flex items-center text-gray-700"}}),{c(){t=q("div"),r=q("label"),e=I(a[0]),l=F(),n=q("span"),D(f.$$.fragment),o=F(),s=q("input"),this.h()},l(_){t=A(_,"DIV",{class:!0});var h=N(t);r=A(h,"LABEL",{for:!0,class:!0});var d=N(r);e=P(d,a[0]),d.forEach(p),l=W(h),n=A(h,"SPAN",{class:!0});var u=N(n);L(f.$$.fragment,u),u.forEach(p),o=W(h),s=A(h,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0}),h.forEach(p),this.h()},h(){E(r,"for",a[2]),E(r,"class","hidden"),E(n,"class","svelte-fxm0nn"),E(s,"type","search"),E(s,"class","block w-full focus:outline-none"),E(s,"placeholder",a[0]),E(s,"id",a[2]),E(t,"class","input-container bg-white focus-within:border-blue-700 svelte-fxm0nn")},m(_,h){g(_,t,h),v(t,r),v(r,e),v(t,l),v(t,n),H(f,n,null),v(t,o),v(t,s),Re(s,a[1]),c=!0,i||(m=[G(s,"input",a[7]),G(s,"keydown",lt(a[6]))],i=!0)},p(_,[h]){(!c||h&1)&&le(e,_[0]),(!c||h&1)&&E(s,"placeholder",_[0]),h&2&&Re(s,_[1])},i(_){c||(k(f.$$.fragment,_),c=!0)},o(_){y(f.$$.fragment,_),c=!1},d(_){_&&p(t),j(f),i=!1,at(m)}}}function nl(a,t,r){let e;oe(a,Se,_=>r(5,e=_));let{parameter:l}=t,{name:n}=t,{value:f}=t,o=l&&e.url.searchParams.get(l)||f;const s=`${l||n}-filter`,c=kt(st,300);function i(_){qe.call(this,a,_)}function m(){o=this.value,r(1,o)}return a.$$set=_=>{"parameter"in _&&r(3,l=_.parameter),"name"in _&&r(0,n=_.name),"value"in _&&r(4,f=_.value)},a.$$.update=()=>{a.$$.dirty&42&&c({parameter:l,value:o,url:e.url})},[n,o,s,l,f,e,i,m]}class Ke extends ne{constructor(t){super(),fe(this,t,nl,sl,ie,{parameter:3,name:0,value:4})}}function Ve(a,t,r){const e=a.slice();return e[7]=t[r].value,e[8]=t[r].label,e}function Je(a,t,r){const e=a.slice();return e[7]=t[r],e}function fl(a){let t,r;return t=new Ce({props:{class:"text-blue-700",$$slots:{default:[ul]},$$scope:{ctx:a}}}),t.$on("click",a[5]("advanced")),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p(e,l){const n={};l&8192&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function il(a){let t,r;return t=new Ce({props:{href:a[1].url.pathname,$$slots:{default:[cl]},$$scope:{ctx:a}}}),t.$on("click",a[5]("basic")),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p(e,l){const n={};l&2&&(n.href=e[1].url.pathname),l&8192&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function ul(a){let t=T("workflows.advanced-search")+"",r;return{c(){r=I(t)},l(e){r=P(e,t)},m(e,l){g(e,r,l)},p:Z,d(e){e&&p(r)}}}function cl(a){let t=T("workflows.basic-search")+"",r;return{c(){r=I(t)},l(e){r=P(e,t)},m(e,l){g(e,r,l)},p:Z,d(e){e&&p(r)}}}function ml(a){let t,r,e,l,n,f,o,s,c,i,m,_;r=new Ke({props:{parameter:"workflow-id",name:T("common.workflow-id"),value:yl}}),l=new Ke({props:{parameter:"workflow-type",name:T("common.workflow-type"),value:Tl}}),f=new Ge({props:{label:T("workflows.time-range"),parameter:"time-range",value:"24 hours",$$slots:{default:[$l]},$$scope:{ctx:a}}}),s=new Ge({props:{label:T("common.status"),parameter:"status",value:null,$$slots:{default:[dl]},$$scope:{ctx:a}}});function h(u){a[6](u)}let d={id:"filter-by-relative-time",$$slots:{default:[kl]},$$scope:{ctx:a}};return a[2]!==void 0&&(d.value=a[2]),i=new Dt({props:d}),pt.push(()=>_t(i,"value",h)),{c(){t=q("div"),D(r.$$.fragment),e=F(),D(l.$$.fragment),n=F(),D(f.$$.fragment),o=F(),D(s.$$.fragment),c=F(),D(i.$$.fragment),this.h()},l(u){t=A(u,"DIV",{class:!0,role:!0});var $=N(t);L(r.$$.fragment,$),e=W($),L(l.$$.fragment,$),n=W($),L(f.$$.fragment,$),o=W($),L(s.$$.fragment,$),c=W($),L(i.$$.fragment,$),$.forEach(p),this.h()},h(){E(t,"class","grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-5"),E(t,"role","search")},m(u,$){g(u,t,$),H(r,t,null),v(t,e),H(l,t,null),v(t,n),H(f,t,null),v(t,o),H(s,t,null),v(t,c),H(i,t,null),_=!0},p(u,$){const S={};$&8192&&(S.$$scope={dirty:$,ctx:u}),f.$set(S);const b={};$&8192&&(b.$$scope={dirty:$,ctx:u}),s.$set(b);const C={};$&8192&&(C.$$scope={dirty:$,ctx:u}),!m&&$&4&&(m=!0,C.value=u[2],$t(()=>m=!1)),i.$set(C)},i(u){_||(k(r.$$.fragment,u),k(l.$$.fragment,u),k(f.$$.fragment,u),k(s.$$.fragment,u),k(i.$$.fragment,u),_=!0)},o(u){y(r.$$.fragment,u),y(l.$$.fragment,u),y(f.$$.fragment,u),y(s.$$.fragment,u),y(i.$$.fragment,u),_=!1},d(u){u&&p(t),j(r),j(l),j(f),j(s),j(i)}}}function pl(a){let t,r;return t=new ol({props:{icon:!0,placeholder:T("common.search"),value:a[1].url.searchParams.get("query")}}),t.$on("submit",a[4]),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p(e,l){const n={};l&2&&(n.value=e[1].url.searchParams.get("query")),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function _l(a){let t=a[7]+"",r;return{c(){r=I(t)},l(e){r=P(e,t)},m(e,l){g(e,r,l)},p:Z,d(e){e&&p(r)}}}function Ze(a){let t,r;return t=new ge({props:{value:a[7],$$slots:{default:[_l]},$$scope:{ctx:a}}}),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p(e,l){const n={};l&8192&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function $l(a){let t,r,e=Me,l=[];for(let f=0;f<e.length;f+=1)l[f]=Ze(Je(a,e,f));const n=f=>y(l[f],1,1,()=>{l[f]=null});return{c(){for(let f=0;f<l.length;f+=1)l[f].c();t=U()},l(f){for(let o=0;o<l.length;o+=1)l[o].l(f);t=U()},m(f,o){for(let s=0;s<l.length;s+=1)l[s].m(f,o);g(f,t,o),r=!0},p(f,o){if(o&0){e=Me;let s;for(s=0;s<e.length;s+=1){const c=Je(f,e,s);l[s]?(l[s].p(c,o),k(l[s],1)):(l[s]=Ze(c),l[s].c(),k(l[s],1),l[s].m(t.parentNode,t))}for(Y(),s=e.length;s<l.length;s+=1)n(s);x()}},i(f){if(!r){for(let o=0;o<e.length;o+=1)k(l[o]);r=!0}},o(f){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)y(l[o]);r=!1},d(f){ot(l,f),f&&p(t)}}}function hl(a){let t=a[8]+"",r;return{c(){r=I(t)},l(e){r=P(e,t)},m(e,l){g(e,r,l)},p:Z,d(e){e&&p(r)}}}function Xe(a,t){let r,e,l;return e=new ge({props:{value:t[7],$$slots:{default:[hl]},$$scope:{ctx:t}}}),{key:a,first:null,c(){r=U(),D(e.$$.fragment),this.h()},l(n){r=U(),L(e.$$.fragment,n),this.h()},h(){this.first=r},m(n,f){g(n,r,f),H(e,n,f),l=!0},p(n,f){t=n;const o={};f&8192&&(o.$$scope={dirty:f,ctx:t}),e.$set(o)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){y(e.$$.fragment,n),l=!1},d(n){n&&p(r),j(e,n)}}}function dl(a){let t=[],r=new Map,e,l,n=Object.values(a[3]);const f=o=>o[8];for(let o=0;o<n.length;o+=1){let s=Ve(a,n,o),c=f(s);r.set(c,t[o]=Xe(c,s))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=U()},l(o){for(let s=0;s<t.length;s+=1)t[s].l(o);e=U()},m(o,s){for(let c=0;c<t.length;c+=1)t[c].m(o,s);g(o,e,s),l=!0},p(o,s){s&8&&(n=Object.values(o[3]),Y(),t=ht(t,s,f,1,o,n,r,e.parentNode,dt,Xe,e,Ve),x())},i(o){if(!l){for(let s=0;s<n.length;s+=1)k(t[s]);l=!0}},o(o){for(let s=0;s<t.length;s+=1)y(t[s]);l=!1},d(o){for(let s=0;s<t.length;s+=1)t[s].d(o);o&&p(e)}}}function wl(a){let t=T("common.relative")+"",r;return{c(){r=I(t)},l(e){r=P(e,t)},m(e,l){g(e,r,l)},p:Z,d(e){e&&p(r)}}}function gl(a){let t=T("common.utc")+"",r;return{c(){r=I(t)},l(e){r=P(e,t)},m(e,l){g(e,r,l)},p:Z,d(e){e&&p(r)}}}function bl(a){let t=T("common.local")+"",r;return{c(){r=I(t)},l(e){r=P(e,t)},m(e,l){g(e,r,l)},p:Z,d(e){e&&p(r)}}}function kl(a){let t,r,e,l,n,f;return t=new ge({props:{value:"relative",$$slots:{default:[wl]},$$scope:{ctx:a}}}),e=new ge({props:{value:"UTC",$$slots:{default:[gl]},$$scope:{ctx:a}}}),n=new ge({props:{value:"local",$$slots:{default:[bl]},$$scope:{ctx:a}}}),{c(){D(t.$$.fragment),r=F(),D(e.$$.fragment),l=F(),D(n.$$.fragment)},l(o){L(t.$$.fragment,o),r=W(o),L(e.$$.fragment,o),l=W(o),L(n.$$.fragment,o)},m(o,s){H(t,o,s),g(o,r,s),H(e,o,s),g(o,l,s),H(n,o,s),f=!0},p(o,s){const c={};s&8192&&(c.$$scope={dirty:s,ctx:o}),t.$set(c);const i={};s&8192&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const m={};s&8192&&(m.$$scope={dirty:s,ctx:o}),n.$set(m)},i(o){f||(k(t.$$.fragment,o),k(e.$$.fragment,o),k(n.$$.fragment,o),f=!0)},o(o){y(t.$$.fragment,o),y(e.$$.fragment,o),y(n.$$.fragment,o),f=!1},d(o){j(t,o),o&&p(r),j(e,o),o&&p(l),j(n,o)}}}function vl(a){let t,r,e,l,n,f,o,s;const c=[il,fl],i=[];function m(u,$){return u[0]?0:1}e=m(a),l=i[e]=c[e](a);const _=[pl,ml],h=[];function d(u,$){return u[0]?1:0}return f=d(a),o=h[f]=_[f](a),{c(){t=q("section"),r=q("p"),l.c(),n=F(),o.c(),this.h()},l(u){t=A(u,"SECTION",{class:!0});var $=N(t);r=A($,"P",{class:!0});var S=N(r);l.l(S),S.forEach(p),n=W($),o.l($),$.forEach(p),this.h()},h(){E(r,"class","text-right text-xs"),E(t,"class","flex flex-col gap-2")},m(u,$){g(u,t,$),v(t,r),i[e].m(r,null),v(t,n),h[f].m(t,null),s=!0},p(u,[$]){let S=e;e=m(u),e===S?i[e].p(u,$):(Y(),y(i[S],1,1,()=>{i[S]=null}),x(),l=i[e],l?l.p(u,$):(l=i[e]=c[e](u),l.c()),k(l,1),l.m(r,null));let b=f;f=d(u),f===b?h[f].p(u,$):(Y(),y(h[b],1,1,()=>{h[b]=null}),x(),o=h[f],o?o.p(u,$):(o=h[f]=_[f](u),o.c()),k(o,1),o.m(t,null))},i(u){s||(k(l),k(o),s=!0)},o(u){y(l),y(o),s=!1},d(u){u&&p(t),i[e].d(),h[f].d()}}}let yl="",Tl="";function El(a,t,r){let e,l;oe(a,Se,i=>r(1,e=i)),oe(a,Ae,i=>r(2,l=i));const n={All:{value:null,label:T("workflows.all-statuses")},"Timed Out":{value:"TimedOut",label:T("workflows.timed-out")},Completed:{value:"Completed",label:T("workflows.completed")},Failed:{value:"Failed",label:T("workflows.failed")},"Continued as New":{value:"ContinuedAsNew",label:T("workflows.continued-as-new")},Canceled:{value:"Canceled",label:T("workflows.canceled")},Terminated:{value:"Terminated",label:T("workflows.terminated")}};let f=e.url.searchParams.has("query");const o=i=>{const _=new FormData(i.target).get("query");e.url.searchParams.set("query",String(_)),ze(e.url.toString())},s=i=>m=>{const _=m.target;r(0,f=i==="advanced"),f||e.url.searchParams.delete("query"),ze(_.href)};function c(i){l=i,Ae.set(l)}return[f,e,l,n,o,s,c]}class Sl extends ne{constructor(t){super(),fe(this,t,El,vl,ie,{})}}function Ye(a,t,r){const e=a.slice();return e[8]=t[r],e}function Il(a){let t,r=T("workflows.archival-disabled-title")+"",e,l,n,f=T("workflows.archival-disabled-details")+"",o,s,c,i,m,_,h;i=new Ne({props:{content:`temporal operator namespace update --history-archival-state enabled ${a[4]}`,language:"text",inline:!0,copyIconTitle:T("common.copy-icon-title"),copySuccessIconTitle:T("common.copy-success-icon-title")}});let d=!a[1]&&xe(a);return{c(){t=q("h1"),e=I(r),l=F(),n=q("p"),o=I(f),s=I(":"),c=F(),D(i.$$.fragment),m=F(),d&&d.c(),_=U(),this.h()},l(u){t=A(u,"H1",{class:!0,"data-testid":!0});var $=N(t);e=P($,r),$.forEach(p),l=W(u),n=A(u,"P",{});var S=N(n);o=P(S,f),s=P(S,":"),S.forEach(p),c=W(u),L(i.$$.fragment,u),m=W(u),d&&d.l(u),_=U(),this.h()},h(){E(t,"class","text-2xl"),E(t,"data-testid","archived-disabled-title")},m(u,$){g(u,t,$),v(t,e),g(u,l,$),g(u,n,$),v(n,o),v(n,s),g(u,c,$),H(i,u,$),g(u,m,$),d&&d.m(u,$),g(u,_,$),h=!0},p(u,$){const S={};$&16&&(S.content=`temporal operator namespace update --history-archival-state enabled ${u[4]}`),i.$set(S),u[1]?d&&(Y(),y(d,1,1,()=>{d=null}),x()):d?(d.p(u,$),$&2&&k(d,1)):(d=xe(u),d.c(),k(d,1),d.m(_.parentNode,_))},i(u){h||(k(i.$$.fragment,u),k(d),h=!0)},o(u){y(i.$$.fragment,u),y(d),h=!1},d(u){u&&p(t),u&&p(l),u&&p(n),u&&p(c),j(i,u),u&&p(m),d&&d.d(u),u&&p(_)}}}function Pl(a){let t,r=T("workflows.visibility-disabled-archival")+"",e,l,n,f=T("workflows.archival-link-preface")+"",o,s,c=T("workflows.archival-link")+"",i,m,_,h,d;return h=new Ne({props:{content:`temporal operator namespace update --visibility-archival-state enabled ${a[4]}`,language:"text",inline:!0,copyIconTitle:T("common.copy-icon-title"),copySuccessIconTitle:T("common.copy-success-icon-title")}}),{c(){t=q("h1"),e=I(r),l=F(),n=q("p"),o=I(f),s=q("a"),i=I(c),m=I(":"),_=F(),D(h.$$.fragment),this.h()},l(u){t=A(u,"H1",{class:!0,"data-testid":!0});var $=N(t);e=P($,r),$.forEach(p),l=W(u),n=A(u,"P",{});var S=N(n);o=P(S,f),s=A(S,"A",{class:!0,href:!0,target:!0,rel:!0});var b=N(s);i=P(b,c),b.forEach(p),m=P(S,":"),S.forEach(p),_=W(u),L(h.$$.fragment,u),this.h()},h(){E(t,"class","text-2xl"),E(t,"data-testid","visibility-disabled-title"),E(s,"class","text-blue-700 underline"),E(s,"href","https://docs.temporal.io/clusters#archival"),E(s,"target","_blank"),E(s,"rel","noreferrer")},m(u,$){g(u,t,$),v(t,e),g(u,l,$),g(u,n,$),v(n,o),v(n,s),v(s,i),v(n,m),g(u,_,$),H(h,u,$),d=!0},p(u,$){const S={};$&16&&(S.content=`temporal operator namespace update --visibility-archival-state enabled ${u[4]}`),h.$set(S)},i(u){d||(k(h.$$.fragment,u),d=!0)},o(u){y(h.$$.fragment,u),d=!1},d(u){u&&p(t),u&&p(l),u&&p(n),u&&p(_),j(h,u)}}}function ql(a){let t,r=T("workflows.archived-workflows")+"",e,l,n,f,o,s,c,i=!a[0]&&et();const m=[Cl,Al],_=[];function h(d,u){var $;return($=d[3])!=null&&$.length?0:1}return f=h(a),o=_[f]=m[f](a),{c(){t=q("h1"),e=I(r),l=F(),i&&i.c(),n=F(),o.c(),s=U(),this.h()},l(d){t=A(d,"H1",{class:!0,"data-testid":!0});var u=N(t);e=P(u,r),u.forEach(p),l=W(d),i&&i.l(d),n=W(d),o.l(d),s=U(),this.h()},h(){E(t,"class","text-2xl"),E(t,"data-testid","archived-enabled-title")},m(d,u){g(d,t,u),v(t,e),g(d,l,u),i&&i.m(d,u),g(d,n,u),_[f].m(d,u),g(d,s,u),c=!0},p(d,u){d[0]?i&&(Y(),y(i,1,1,()=>{i=null}),x()):i?u&1&&k(i,1):(i=et(),i.c(),k(i,1),i.m(n.parentNode,n));let $=f;f=h(d),f===$?_[f].p(d,u):(Y(),y(_[$],1,1,()=>{_[$]=null}),x(),o=_[f],o?o.p(d,u):(o=_[f]=m[f](d),o.c()),k(o,1),o.m(s.parentNode,s))},i(d){c||(k(i),k(o),c=!0)},o(d){y(i),y(o),c=!1},d(d){d&&p(t),d&&p(l),i&&i.d(d),d&&p(n),_[f].d(d),d&&p(s)}}}function xe(a){let t,r=T("workflows.archival-link-preface")+"",e,l,n=T("workflows.archival-link")+"",f,o,s,c,i;return c=new Ne({props:{content:`temporal operator namespace update --visibility-archival-state enabled ${a[4]}`,language:"text",inline:!0,copyIconTitle:T("common.copy-icon-title"),copySuccessIconTitle:T("common.copy-success-icon-title")}}),{c(){t=q("p"),e=I(r),l=q("a"),f=I(n),o=I(":"),s=F(),D(c.$$.fragment),this.h()},l(m){t=A(m,"P",{});var _=N(t);e=P(_,r),l=A(_,"A",{class:!0,href:!0,target:!0,rel:!0});var h=N(l);f=P(h,n),h.forEach(p),o=P(_,":"),_.forEach(p),s=W(m),L(c.$$.fragment,m),this.h()},h(){E(l,"class","text-blue-700 underline"),E(l,"href","https://docs.temporal.io/clusters#archival"),E(l,"target","_blank"),E(l,"rel","noreferrer")},m(m,_){g(m,t,_),v(t,e),v(t,l),v(l,f),v(t,o),g(m,s,_),H(c,m,_),i=!0},p(m,_){const h={};_&16&&(h.content=`temporal operator namespace update --visibility-archival-state enabled ${m[4]}`),c.$set(h)},i(m){i||(k(c.$$.fragment,m),i=!0)},o(m){y(c.$$.fragment,m),i=!1},d(m){m&&p(t),m&&p(s),j(c,m)}}}function et(a){let t,r;return t=new Sl({}),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Al(a){let t,r;return t=new Ct({props:{title:T("workflows.workflow-empty-state-title"),content:T("workflows.archival-empty-state-description")}}),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p:Z,i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Cl(a){let t,r;return t=new Nt({props:{items:a[3],"aria-label":T("workflows.archived-workflows"),pageSizeSelectLabel:T("common.per-page"),previousButtonLabel:T("common.previous"),nextButtonLabel:T("common.next"),$$slots:{default:[Fl,({visibleItems:e})=>({7:e}),({visibleItems:e})=>e?128:0]},$$scope:{ctx:a}}}),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p(e,l){const n={};l&8&&(n.items=e[3]),l&2192&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function tt(a){let t,r;return t=new Vt({props:{workflow:a[8],namespace:a[4]}}),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p(e,l){const n={};l&128&&(n.workflow=e[8]),l&16&&(n.namespace=e[4]),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Nl(a){let t,r,e=a[7],l=[];for(let f=0;f<e.length;f+=1)l[f]=tt(Ye(a,e,f));const n=f=>y(l[f],1,1,()=>{l[f]=null});return{c(){for(let f=0;f<l.length;f+=1)l[f].c();t=U()},l(f){for(let o=0;o<l.length;o+=1)l[o].l(f);t=U()},m(f,o){for(let s=0;s<l.length;s+=1)l[s].m(f,o);g(f,t,o),r=!0},p(f,o){if(o&144){e=f[7];let s;for(s=0;s<e.length;s+=1){const c=Ye(f,e,s);l[s]?(l[s].p(c,o),k(l[s],1)):(l[s]=tt(c),l[s].c(),k(l[s],1),l[s].m(t.parentNode,t))}for(Y(),s=e.length;s<l.length;s+=1)n(s);x()}},i(f){if(!r){for(let o=0;o<e.length;o+=1)k(l[o]);r=!0}},o(f){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)y(l[o]);r=!1},d(f){ot(l,f),f&&p(t)}}}function Fl(a){let t,r;return t=new tl({props:{$$slots:{default:[Nl]},$$scope:{ctx:a}}}),{c(){D(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p(e,l){const n={};l&2192&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function Wl(a){let t,r,e,l,n,f;t=new wt({props:{title:`${T("workflows.archival")} | ${a[4]}`,url:a[5].url.href}});const o=[ql,Pl,Il],s=[];function c(i,m){return i[2]&&i[1]?0:i[2]?1:2}return e=c(a),l=s[e]=o[e](a),{c(){D(t.$$.fragment),r=F(),l.c(),n=U()},l(i){L(t.$$.fragment,i),r=W(i),l.l(i),n=U()},m(i,m){H(t,i,m),g(i,r,m),s[e].m(i,m),g(i,n,m),f=!0},p(i,[m]){const _={};m&16&&(_.title=`${T("workflows.archival")} | ${i[4]}`),m&32&&(_.url=i[5].url.href),t.$set(_);let h=e;e=c(i),e===h?s[e].p(i,m):(Y(),y(s[h],1,1,()=>{s[h]=null}),x(),l=s[e],l?l.p(i,m):(l=s[e]=o[e](i),l.c()),k(l,1),l.m(n.parentNode,n))},i(i){f||(k(t.$$.fragment,i),k(l),f=!0)},o(i){y(t.$$.fragment,i),y(l),f=!1},d(i){j(t,i),i&&p(r),s[e].d(i),i&&p(n)}}}function Dl(a,t,r){let e,l,n,f,o,s;oe(a,Se,i=>r(5,s=i));let{data:c}=t;return a.$$set=i=>{"data"in i&&r(6,c=i.data)},a.$$.update=()=>{a.$$.dirty&64&&r(4,{namespace:{namespaceInfo:{name:e}},workflows:l,archivalEnabled:n,visibilityArchivalEnabled:f,archivalQueryingNotSupported:o}=c,e,(r(3,l),r(6,c)),(r(2,n),r(6,c)),(r(1,f),r(6,c)),(r(0,o),r(6,c)))},[o,f,n,l,e,s,c]}class fr extends ne{constructor(t){super(),fe(this,t,Dl,Wl,ie,{data:6})}}export{fr as component,nr as universal};
