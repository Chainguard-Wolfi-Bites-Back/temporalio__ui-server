import{s as Ie,e as k,t as M,a as A,b,d as E,f as q,g as i,h as C,j as R,k as w,l as p,n as z,v as U,p as es,B as bl,u as ts,q as ls,r as ss,A as El,G as Il,c as ue,x as te,y as jl,w as Be,H as rs,_ as Qe,$ as Ue,W as Tl,m as Dl,D as ns,E as as}from"../chunks/scheduler.1-F21fJx.js";import{S as Te,i as De,c as N,a as F,m as B,t as P,b as V,d as Q,g as Ce,e as Me,h as je}from"../chunks/index.biMfyfPX.js";import{p as Ol}from"../chunks/stores.2znw6Kds.js";import{P as os}from"../chunks/page-title.KBOal5hW.js";import{h as Ge,u as zl}from"../chunks/await_block.w2shQVH3.js";import{e as qe,u as us,o as is}from"../chunks/each.rZJ6hA1D.js";import{w as fs,g as cs}from"../chunks/entry.zD9UoE0K.js";import{A as ds}from"../chunks/accordion.wTd-Ahck.js";import{t as _}from"../chunks/translate.u3aqOlwm.js";import{S as ms,l as Oe}from"../chunks/schedules.DtmfU8co.js";import{E as ps}from"../chunks/empty-state.vf1yVVb2.js";import{L as Fe}from"../chunks/link.Ro4go4Xc.js";import{d as Pl}from"../chunks/workflow-service.A85HKZ8t.js";import{t as xe,r as et,f as we}from"../chunks/time-format.rre86tHR.js";import{d as ye}from"../chunks/encode-uri.Mzeiosm2.js";import{n as Rl,b as Sl,h as Je,o as hs}from"../chunks/route-for.meHEbQb4.js";import{W as Gl}from"../chunks/workflow-status.WomR8-da.js";import{T as _s,W as $s}from"../chunks/translate.BZxiCTG4.js";import{B as gs}from"../chunks/button.u3U13o7N.js";import{L as Jl}from"../chunks/loading.DF4a861q.js";import{c as Ye}from"../chunks/menu.qxzDXBO2.js";import{M as Ze}from"../chunks/modal.POxZkKac.js";import{R as vs,a as ws}from"../chunks/radio-input.5LnakA19.js";import{S as ks}from"../chunks/split-button.l6659pvY.js";import{f as ze,d as bs,u as Es,p as Is,t as Ts}from"../chunks/schedule-service.bGzf-gfA.js";import{c as Ds}from"../chunks/core-user.fdgom12G.js";import{g as Ps,w as Rs,r as Vl}from"../chunks/workflows.0cIhs4iI.js";import{w as Ss}from"../chunks/write-actions-are-allowed.PYJkdV2D.js";function Vs(s){let e,l,t=_("common.notes")+"",r,n,a,o;return{c(){e=k("div"),l=k("h2"),r=M(t),n=A(),a=k("p"),o=M(s[0]),this.h()},l(u){e=b(u,"DIV",{});var f=E(e);l=b(f,"H2",{class:!0});var c=E(l);r=q(c,t),c.forEach(i),n=C(f),a=b(f,"P",{});var v=E(a);o=q(v,s[0]),v.forEach(i),f.forEach(i),this.h()},h(){R(l,"class","mb-4 text-2xl")},m(u,f){w(u,e,f),p(e,l),p(l,r),p(e,n),p(e,a),p(a,o)},p(u,[f]){f&1&&z(o,u[0])},i:U,o:U,d(u){u&&i(e)}}}function Ws(s,e,l){let{notes:t=""}=e;return s.$$set=r=>{"notes"in r&&l(0,t=r.notes)},[t]}class As extends Te{constructor(e){super(),De(this,e,Ws,Vs,Ie,{notes:0})}}function Wl(s){var a;let e,l=_("schedules.remaining-actions")+"",t,r=(((a=s[1])==null?void 0:a.remainingActions)??_("common.none"))+"",n;return{c(){e=k("p"),t=M(l),n=M(r)},l(o){e=b(o,"P",{});var u=E(e);t=q(u,l),n=q(u,r),u.forEach(i)},m(o,u){w(o,e,u),p(e,t),p(e,n)},p(o,u){var f;u&2&&r!==(r=(((f=o[1])==null?void 0:f.remainingActions)??_("common.none"))+"")&&z(n,r)},d(o){o&&i(e)}}}function Cs(s){var ie,Pe,$e,fe,ke,ee,Re;let e,l=_("schedules.start-time")+"",t,r,n=(((ie=s[0])==null?void 0:ie.startTime)??_("common.none"))+"",a,o,u,f=_("schedules.end-time")+"",c,v=(((Pe=s[0])==null?void 0:Pe.endTime)??_("common.none"))+"",I,d,h,$=_("schedules.jitter")+"",m,g=((($e=s[0])==null?void 0:$e.jitter)??_("common.none"))+"",W,G,y,le=_("schedules.exclusion-calendar")+"",X,ne=(((ke=(fe=s[0])==null?void 0:fe.excludeCalendar)==null?void 0:ke[0])??_("common.none"))+"",O,he,ae,Z,x=_("schedules.overlap-policy")+"",se,_e=(((ee=s[2])==null?void 0:ee.overlapPolicy)??_("common.none"))+"",re,j=((Re=s[1])==null?void 0:Re.limitedActions)&&Wl(s);return{c(){e=k("p"),t=M(l),r=A(),a=M(n),o=A(),u=k("p"),c=M(f),I=M(v),d=A(),h=k("p"),m=M($),W=M(g),G=A(),y=k("p"),X=M(le),O=M(ne),he=A(),j&&j.c(),ae=A(),Z=k("p"),se=M(x),re=M(_e)},l(H){e=b(H,"P",{});var L=E(e);t=q(L,l),r=C(L),a=q(L,n),L.forEach(i),o=C(H),u=b(H,"P",{});var me=E(u);c=q(me,f),I=q(me,v),me.forEach(i),d=C(H),h=b(H,"P",{});var ce=E(h);m=q(ce,$),W=q(ce,g),ce.forEach(i),G=C(H),y=b(H,"P",{});var T=E(y);X=q(T,le),O=q(T,ne),T.forEach(i),he=C(H),j&&j.l(H),ae=C(H),Z=b(H,"P",{});var oe=E(Z);se=q(oe,x),re=q(oe,_e),oe.forEach(i)},m(H,L){w(H,e,L),p(e,t),p(e,r),p(e,a),w(H,o,L),w(H,u,L),p(u,c),p(u,I),w(H,d,L),w(H,h,L),p(h,m),p(h,W),w(H,G,L),w(H,y,L),p(y,X),p(y,O),w(H,he,L),j&&j.m(H,L),w(H,ae,L),w(H,Z,L),p(Z,se),p(Z,re)},p(H,L){var me,ce,T,oe,ve,be,Y;L&1&&n!==(n=(((me=H[0])==null?void 0:me.startTime)??_("common.none"))+"")&&z(a,n),L&1&&v!==(v=(((ce=H[0])==null?void 0:ce.endTime)??_("common.none"))+"")&&z(I,v),L&1&&g!==(g=(((T=H[0])==null?void 0:T.jitter)??_("common.none"))+"")&&z(W,g),L&1&&ne!==(ne=(((ve=(oe=H[0])==null?void 0:oe.excludeCalendar)==null?void 0:ve[0])??_("common.none"))+"")&&z(O,ne),(be=H[1])!=null&&be.limitedActions?j?j.p(H,L):(j=Wl(H),j.c(),j.m(ae.parentNode,ae)):j&&(j.d(1),j=null),L&4&&_e!==(_e=(((Y=H[2])==null?void 0:Y.overlapPolicy)??_("common.none"))+"")&&z(re,_e)},d(H){H&&(i(e),i(o),i(u),i(d),i(h),i(G),i(y),i(he),i(ae),i(Z)),j&&j.d(H)}}}function Ms(s){let e,l,t,r;return e=new As({props:{notes:s[3]}}),t=new ds({props:{title:_("schedules.advanced-settings"),$$slots:{default:[Cs]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment),l=A(),N(t.$$.fragment)},l(n){F(e.$$.fragment,n),l=C(n),F(t.$$.fragment,n)},m(n,a){B(e,n,a),w(n,l,a),B(t,n,a),r=!0},p(n,[a]){const o={};a&8&&(o.notes=n[3]),e.$set(o);const u={};a&23&&(u.$$scope={dirty:a,ctx:n}),t.$set(u)},i(n){r||(P(e.$$.fragment,n),P(t.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),V(t.$$.fragment,n),r=!1},d(n){n&&i(l),Q(e,n),Q(t,n)}}}function qs(s,e,l){let{spec:t}=e,{state:r}=e,{policies:n}=e,{notes:a=""}=e;return s.$$set=o=>{"spec"in o&&l(0,t=o.spec),"state"in o&&l(1,r=o.state),"policies"in o&&l(2,n=o.policies),"notes"in o&&l(3,a=o.notes)},[t,r,n,a]}class Hs extends Te{constructor(e){super(),De(this,e,qs,Ms,Ie,{spec:0,state:1,policies:2,notes:3})}}function Ls(s){let e,l,t;const r=s[3].default,n=es(r,s,s[2],null);return{c(){e=k("div"),n&&n.c(),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=E(e);n&&n.l(o),o.forEach(i),this.h()},h(){R(e,"class",l="panel surface-primary "+s[1].class+" svelte-15yt26y"),bl(e,"error",s[0])},m(a,o){w(a,e,o),n&&n.m(e,null),t=!0},p(a,[o]){n&&n.p&&(!t||o&4)&&ts(n,r,a,a[2],t?ss(r,a[2],o,null):ls(a[2]),null),(!t||o&2&&l!==(l="panel surface-primary "+a[1].class+" svelte-15yt26y"))&&R(e,"class",l),(!t||o&3)&&bl(e,"error",a[0])},i(a){t||(P(n,a),t=!0)},o(a){V(n,a),t=!1},d(a){a&&i(e),n&&n.d(a)}}}function Ns(s,e,l){let{$$slots:t={},$$scope:r}=e,{error:n=!1}=e;return s.$$set=a=>{l(1,e=El(El({},e),Il(a))),"error"in a&&l(0,n=a.error),"$$scope"in a&&l(2,r=a.$$scope)},e=Il(e),[n,e,r,t]}class Ke extends Te{constructor(e){super(),De(this,e,Ns,Ls,Ie,{error:0})}}function Fs(s){let e,l=_("schedules.error-title")+"",t,r,n,a;return{c(){e=k("p"),t=M(l),r=A(),n=k("p"),a=M(s[0]),this.h()},l(o){e=b(o,"P",{class:!0});var u=E(e);t=q(u,l),u.forEach(i),r=C(o),n=b(o,"P",{class:!0});var f=E(n);a=q(f,s[0]),f.forEach(i),this.h()},h(){R(e,"class","error-text svelte-130heqv"),R(n,"class","error-text svelte-130heqv")},m(o,u){w(o,e,u),p(e,t),w(o,r,u),w(o,n,u),p(n,a)},p(o,u){u&1&&z(a,o[0])},d(o){o&&(i(e),i(r),i(n))}}}function Bs(s){let e,l;return e=new Ke({props:{error:!0,$$slots:{default:[Fs]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p(t,[r]){const n={};r&3&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function Qs(s,e,l){let{error:t=""}=e;return s.$$set=r=>{"error"in r&&l(0,t=r.error)},[t]}class Kl extends Te{constructor(e){super(),De(this,e,Qs,Bs,Ie,{error:0})}}function Us(s){let e,l=_("schedules.schedule-spec")+"",t,r,n,a,o;return a=new ms({props:{calendar:s[0],interval:s[1],class:"text-base"}}),{c(){e=k("h2"),t=M(l),r=A(),n=k("div"),N(a.$$.fragment),this.h()},l(u){e=b(u,"H2",{class:!0});var f=E(e);t=q(f,l),f.forEach(i),r=C(u),n=b(u,"DIV",{class:!0});var c=E(n);F(a.$$.fragment,c),c.forEach(i),this.h()},h(){R(e,"class","mb-4 text-2xl"),R(n,"class","pr-2")},m(u,f){w(u,e,f),p(e,t),w(u,r,f),w(u,n,f),B(a,n,null),o=!0},p(u,f){const c={};f&1&&(c.calendar=u[0]),f&2&&(c.interval=u[1]),a.$set(c)},i(u){o||(P(a.$$.fragment,u),o=!0)},o(u){V(a.$$.fragment,u),o=!1},d(u){u&&(i(e),i(r),i(n)),Q(a)}}}function js(s){let e,l;return e=new Ke({props:{$$slots:{default:[Us]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p(t,[r]){const n={};r&7&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function Os(s,e,l){let{calendar:t=void 0}=e,{interval:r=void 0}=e;return s.$$set=n=>{"calendar"in n&&l(0,t=n.calendar),"interval"in n&&l(1,r=n.interval)},[t,r]}class zs extends Te{constructor(e){super(),De(this,e,Os,js,Ie,{calendar:0,interval:1})}}function Al(s,e,l){const t=s.slice();return t[6]=e[l],t}function Gs(s){let e=_("common.view-all-runs")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function Js(s){let e,l,t,r,n=s[6].startWorkflowResult.workflowId+"",a,o,u,f,c=we(s[6].actualTime,s[3],{relative:s[4]})+"",v;return{c(){e=k("div"),l=k("div"),t=A(),r=k("div"),a=M(n),o=A(),u=k("div"),f=k("p"),v=M(c),this.h()},l(I){e=b(I,"DIV",{class:!0});var d=E(e);l=b(d,"DIV",{class:!0}),E(l).forEach(i),t=C(d),r=b(d,"DIV",{class:!0});var h=E(r);a=q(h,n),h.forEach(i),o=C(d),u=b(d,"DIV",{class:!0});var $=E(u);f=b($,"P",{});var m=E(f);v=q(m,c),m.forEach(i),$.forEach(i),d.forEach(i),this.h()},h(){R(l,"class","w-28"),R(r,"class","w-96"),R(u,"class","ml-auto"),R(e,"class","row svelte-1qym6rq")},m(I,d){w(I,e,d),p(e,l),p(e,t),p(e,r),p(r,a),p(e,o),p(e,u),p(u,f),p(f,v)},p(I,d){d&1&&n!==(n=I[6].startWorkflowResult.workflowId+"")&&z(a,n),d&25&&c!==(c=we(I[6].actualTime,I[3],{relative:I[4]})+"")&&z(v,c)},i:U,o:U,d(I){I&&i(e)}}}function Ks(s){let e,l,t,r,n,a,o,u,f,c=we(s[6].actualTime,s[3],{relative:s[4]})+"",v,I;return t=new Gl({props:{status:s[9].status}}),a=new Fe({props:{href:Sl({workflow:s[6].startWorkflowResult.workflowId,run:s[6].startWorkflowResult.runId,namespace:s[1]}),$$slots:{default:[Xs]},$$scope:{ctx:s}}}),{c(){e=k("div"),l=k("div"),N(t.$$.fragment),r=A(),n=k("div"),N(a.$$.fragment),o=A(),u=k("div"),f=k("p"),v=M(c),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=E(e);l=b(h,"DIV",{class:!0});var $=E(l);F(t.$$.fragment,$),$.forEach(i),r=C(h),n=b(h,"DIV",{class:!0});var m=E(n);F(a.$$.fragment,m),m.forEach(i),o=C(h),u=b(h,"DIV",{class:!0});var g=E(u);f=b(g,"P",{});var W=E(f);v=q(W,c),W.forEach(i),g.forEach(i),h.forEach(i),this.h()},h(){R(l,"class","w-28"),R(n,"class","mx-2 w-auto break-words"),R(u,"class","ml-auto"),R(e,"class","row svelte-1qym6rq")},m(d,h){w(d,e,h),p(e,l),B(t,l,null),p(e,r),p(e,n),B(a,n,null),p(e,o),p(e,u),p(u,f),p(f,v),I=!0},p(d,h){const $={};h&3&&($.status=d[9].status),t.$set($);const m={};h&3&&(m.href=Sl({workflow:d[6].startWorkflowResult.workflowId,run:d[6].startWorkflowResult.runId,namespace:d[1]})),h&1025&&(m.$$scope={dirty:h,ctx:d}),a.$set(m),(!I||h&25)&&c!==(c=we(d[6].actualTime,d[3],{relative:d[4]})+"")&&z(v,c)},i(d){I||(P(t.$$.fragment,d),P(a.$$.fragment,d),I=!0)},o(d){V(t.$$.fragment,d),V(a.$$.fragment,d),I=!1},d(d){d&&i(e),Q(t),Q(a)}}}function Xs(s){let e=s[6].startWorkflowResult.workflowId+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p(t,r){r&1&&e!==(e=t[6].startWorkflowResult.workflowId+"")&&z(l,e)},d(t){t&&i(l)}}}function Ys(s){return{c:U,l:U,m:U,p:U,i:U,o:U,d:U}}function Cl(s,e){let l,t,r,n,a={ctx:e,current:null,token:null,hasCatch:!0,pending:Ys,then:Ks,catch:Js,value:9,blocks:[,,,]};return Ge(r=Pl({namespace:e[1],workflowId:ye(e[6].startWorkflowResult.workflowId),runId:e[6].startWorkflowResult.runId},fetch),a),{key:s,first:null,c(){l=te(),t=te(),a.block.c(),this.h()},l(o){l=te(),t=te(),a.block.l(o),this.h()},h(){this.first=l},m(o,u){w(o,l,u),w(o,t,u),a.block.m(o,a.anchor=u),a.mount=()=>t.parentNode,a.anchor=t,n=!0},p(o,u){e=o,a.ctx=e,u&3&&r!==(r=Pl({namespace:e[1],workflowId:ye(e[6].startWorkflowResult.workflowId),runId:e[6].startWorkflowResult.runId},fetch))&&Ge(r,a)||zl(a,e,u)},i(o){n||(P(a.block),n=!0)},o(o){for(let u=0;u<3;u+=1){const f=a.blocks[u];V(f)}n=!1},d(o){o&&(i(l),i(t)),a.block.d(o),a.token=null,a=null}}}function Ml(s){let e,l;return e=new ps({props:{title:_("schedules.recent-runs-empty-state-title")}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p:U,i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function Zs(s){let e,l,t=_("schedules.recent-runs")+"",r,n,a,o,u=[],f=new Map,c,v,I;a=new Fe({props:{href:Rl({namespace:s[1],query:s[2]}),$$slots:{default:[Gs]},$$scope:{ctx:s}}});let d=qe(s[5](s[0]));const h=m=>{var g,W;return(W=(g=m[6])==null?void 0:g.startWorkflowResult)==null?void 0:W.workflowId};for(let m=0;m<d.length;m+=1){let g=Al(s,d,m),W=h(g);f.set(W,u[m]=Cl(W,g))}let $=!s[0].length&&Ml();return{c(){e=k("div"),l=k("h2"),r=M(t),n=A(),N(a.$$.fragment),o=A();for(let m=0;m<u.length;m+=1)u[m].c();c=A(),$&&$.c(),v=te(),this.h()},l(m){e=b(m,"DIV",{class:!0});var g=E(e);l=b(g,"H2",{class:!0});var W=E(l);r=q(W,t),W.forEach(i),n=C(g),F(a.$$.fragment,g),g.forEach(i),o=C(m);for(let G=0;G<u.length;G+=1)u[G].l(m);c=C(m),$&&$.l(m),v=te(),this.h()},h(){R(l,"class","mb-4 text-2xl"),R(e,"class","flex justify-between")},m(m,g){w(m,e,g),p(e,l),p(l,r),p(e,n),B(a,e,null),w(m,o,g);for(let W=0;W<u.length;W+=1)u[W]&&u[W].m(m,g);w(m,c,g),$&&$.m(m,g),w(m,v,g),I=!0},p(m,g){const W={};g&6&&(W.href=Rl({namespace:m[1],query:m[2]})),g&1024&&(W.$$scope={dirty:g,ctx:m}),a.$set(W),g&59&&(d=qe(m[5](m[0])),Ce(),u=us(u,g,h,1,m,d,f,c.parentNode,is,Cl,c,Al),Me()),m[0].length?$&&(Ce(),V($,1,1,()=>{$=null}),Me()):$?($.p(m,g),g&1&&P($,1)):($=Ml(),$.c(),P($,1),$.m(v.parentNode,v))},i(m){if(!I){P(a.$$.fragment,m);for(let g=0;g<d.length;g+=1)P(u[g]);P($),I=!0}},o(m){V(a.$$.fragment,m);for(let g=0;g<u.length;g+=1)V(u[g]);V($),I=!1},d(m){m&&(i(e),i(o),i(c),i(v)),Q(a);for(let g=0;g<u.length;g+=1)u[g].d(m);$&&$.d(m)}}}function ys(s){let e,l;return e=new Ke({props:{class:"w-full",$$slots:{default:[Zs]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p(t,[r]){const n={};r&1055&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function xs(s,e,l){let t,r;ue(s,xe,f=>l(3,t=f)),ue(s,et,f=>l(4,r=f));let{recentRuns:n=[]}=e,{namespace:a}=e,{workflowQuery:o}=e;const u=f=>{var c,v;return(v=(c=f==null?void 0:f.sort((I,d)=>new Date(d.actualTime).getTime()-new Date(I.actualTime).getTime()))===null||c===void 0?void 0:c.slice(0,5))!==null&&v!==void 0?v:[]};return s.$$set=f=>{"recentRuns"in f&&l(0,n=f.recentRuns),"namespace"in f&&l(1,a=f.namespace),"workflowQuery"in f&&l(2,o=f.workflowQuery)},[n,a,o,t,r,u]}class er extends Te{constructor(e){super(),De(this,e,xs,ys,Ie,{recentRuns:0,namespace:1,workflowQuery:2})}}function ql(s,e,l){const t=s.slice();return t[3]=e[l],t}function Hl(s){let e,l,t=we(s[3],s[1],{relative:s[2],relativeLabel:_("common.from-now")})+"",r,n;return{c(){e=k("div"),l=k("p"),r=M(t),n=A(),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=E(e);l=b(o,"P",{});var u=E(l);r=q(u,t),u.forEach(i),n=C(o),o.forEach(i),this.h()},h(){R(e,"class","row svelte-9sf42k")},m(a,o){w(a,e,o),p(e,l),p(l,r),p(e,n)},p(a,o){o&7&&t!==(t=we(a[3],a[1],{relative:a[2],relativeLabel:_("common.from-now")})+"")&&z(r,t)},d(a){a&&i(e)}}}function tr(s){let e,l=_("schedules.upcoming-runs")+"",t,r,n,a=qe(s[0].slice(0,5)),o=[];for(let u=0;u<a.length;u+=1)o[u]=Hl(ql(s,a,u));return{c(){e=k("h2"),t=M(l),r=A();for(let u=0;u<o.length;u+=1)o[u].c();n=te(),this.h()},l(u){e=b(u,"H2",{class:!0});var f=E(e);t=q(f,l),f.forEach(i),r=C(u);for(let c=0;c<o.length;c+=1)o[c].l(u);n=te(),this.h()},h(){R(e,"class","mb-4 text-2xl")},m(u,f){w(u,e,f),p(e,t),w(u,r,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(u,f);w(u,n,f)},p(u,f){if(f&7){a=qe(u[0].slice(0,5));let c;for(c=0;c<a.length;c+=1){const v=ql(u,a,c);o[c]?o[c].p(v,f):(o[c]=Hl(v),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=a.length}},d(u){u&&(i(e),i(r),i(n)),jl(o,u)}}}function lr(s){let e,l;return e=new Ke({props:{$$slots:{default:[tr]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p(t,[r]){const n={};r&71&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function sr(s,e,l){let t,r;ue(s,xe,a=>l(1,t=a)),ue(s,et,a=>l(2,r=a));let{futureRuns:n=[]}=e;return s.$$set=a=>{"futureRuns"in a&&l(0,n=a.futureRuns)},[n,t,r]}class rr extends Te{constructor(e){super(),De(this,e,sr,lr,Ie,{futureRuns:0})}}function Ll(s,e,l){const t=s.slice();return t[42]=e[l],t}function nr(s){var d;let e,l,t,r,n,a,o,u,f,c,v,I;return t=new Fe({props:{href:Je({namespace:s[14]}),icon:"chevron-left",$$slots:{default:[ar]},$$scope:{ctx:s}}}),v=new Kl({props:{error:(d=s[13])==null?void 0:d.message}}),{c(){e=k("header"),l=k("div"),N(t.$$.fragment),r=A(),n=k("h1"),a=M(s[15]),o=A(),u=k("p"),f=M(s[14]),c=A(),N(v.$$.fragment),this.h()},l(h){e=b(h,"HEADER",{class:!0});var $=E(e);l=b($,"DIV",{class:!0});var m=E(l);F(t.$$.fragment,m),r=C(m),n=b(m,"H1",{class:!0,"data-testid":!0});var g=E(n);a=q(g,s[15]),g.forEach(i),o=C(m),u=b(m,"P",{class:!0});var W=E(u);f=q(W,s[14]),W.forEach(i),m.forEach(i),$.forEach(i),c=C(h),F(v.$$.fragment,h),this.h()},h(){R(n,"class","mt-8 select-all text-2xl font-medium"),R(n,"data-testid","schedule-name"),R(u,"class","text-sm"),R(l,"class","relative flex flex-col gap-1"),R(e,"class","mb-8")},m(h,$){w(h,e,$),p(e,l),B(t,l,null),p(l,r),p(l,n),p(n,a),p(l,o),p(l,u),p(u,f),w(h,c,$),B(v,h,$),I=!0},p(h,$){var W;const m={};$[1]&16384&&(m.$$scope={dirty:$,ctx:h}),t.$set(m);const g={};$[0]&1&&(g.error=(W=h[13])==null?void 0:W.message),v.$set(g)},i(h){I||(P(t.$$.fragment,h),P(v.$$.fragment,h),I=!0)},o(h){V(t.$$.fragment,h),V(v.$$.fragment,h),I=!1},d(h){h&&(i(e),i(c)),Q(t),Q(v,h)}}}function ar(s){let e=_("schedules.back-to-schedules")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function or(s){let e,l,t,r;const n=[ir,ur],a=[];function o(u,f){return u[7]?0:1}return e=o(s),l=a[e]=n[e](s),{c(){l.c(),t=te()},l(u){l.l(u),t=te()},m(u,f){a[e].m(u,f),w(u,t,f),r=!0},p(u,f){let c=e;e=o(u),e===c?a[e].p(u,f):(Ce(),V(a[c],1,1,()=>{a[c]=null}),Me(),l=a[e],l?l.p(u,f):(l=a[e]=n[e](u),l.c()),P(l,1),l.m(t.parentNode,t))},i(u){r||(P(l),r=!0)},o(u){V(l),r=!1},d(u){u&&i(t),a[e].d(u)}}}function ur(s){var st,rt,nt,at,ot,ut,it,ft,ct,dt,mt,pt,ht,_t,$t,gt,vt,wt,kt,bt,Et,It,Tt,Dt,Pt,Rt,St,Vt,Wt,At,Ct,Mt,qt,Ht,Lt,Nt,Ft;let e,l,t,r,n,a,o,u,f,c,v,I,d=((ot=(at=(nt=(rt=(st=s[41])==null?void 0:st.schedule)==null?void 0:rt.action)==null?void 0:nt.startWorkflow)==null?void 0:at.workflowType)==null?void 0:ot.name)+"",h,$,m,g,W=_("common.created",{created:we((it=(ut=s[41])==null?void 0:ut.info)==null?void 0:it.createTime,s[8],{relative:s[9]})})+"",G,y,le,X,ne,O,he,ae,Z,x,se,_e,re,j,ie,Pe,$e,fe,ke,ee,Re,H,L,me,ce,T,oe,ve,be;t=new Fe({props:{href:Je({namespace:s[14]}),icon:"chevron-left",$$slots:{default:[fr]},$$scope:{ctx:s}}}),c=new Gl({props:{status:(ft=s[41])!=null&&ft.schedule.state.paused?"Paused":"Running"}});let Y=((dt=(ct=s[41])==null?void 0:ct.info)==null?void 0:dt.updateTime)&&Nl(s);X=new ks({props:{position:"right",label:(ht=(pt=(mt=s[41])==null?void 0:mt.schedule)==null?void 0:pt.state)!=null&&ht.paused?_("schedules.unpause"):_("schedules.pause"),menuLabel:_("schedules.schedule-actions"),id:"schedule-actions",disabled:s[6],$$slots:{default:[pr]},$$scope:{ctx:s}}}),X.$on("click",s[29]);let J=(($t=(_t=s[41])==null?void 0:_t.info)==null?void 0:$t.invalidScheduleError)&&Fl(s),K=s[10]&&Bl(s);se=new er({props:{namespace:s[14],recentRuns:(vt=(gt=s[41])==null?void 0:gt.info)==null?void 0:vt.recentActions,workflowQuery:s[16]}}),re=new rr({props:{futureRuns:(kt=(wt=s[41])==null?void 0:wt.info)==null?void 0:kt.futureActionTimes}}),ie=new Hs({props:{spec:(Et=(bt=s[41])==null?void 0:bt.schedule)==null?void 0:Et.spec,state:(Tt=(It=s[41])==null?void 0:It.schedule)==null?void 0:Tt.state,policies:(Pt=(Dt=s[41])==null?void 0:Dt.schedule)==null?void 0:Pt.policies,notes:(Vt=(St=(Rt=s[41])==null?void 0:Rt.schedule)==null?void 0:St.state)==null?void 0:Vt.notes}}),fe=new zs({props:{calendar:(Mt=(Ct=(At=(Wt=s[41])==null?void 0:Wt.schedule)==null?void 0:At.spec)==null?void 0:Ct.structuredCalendar)==null?void 0:Mt[0],interval:(Nt=(Lt=(Ht=(qt=s[41])==null?void 0:qt.schedule)==null?void 0:Ht.spec)==null?void 0:Lt.interval)==null?void 0:Nt[0]}});function Xl(D){s[32](D)}function Yl(){return s[33](s[41])}let tt={id:"pause-schedule-modal",confirmType:"primary",confirmText:(Ft=s[41])!=null&&Ft.schedule.state.paused?_("schedules.unpause"):_("schedules.pause"),cancelText:_("common.cancel"),confirmDisabled:!s[4],$$slots:{content:[$r],title:[_r]},$$scope:{ctx:s}};s[1]!==void 0&&(tt.open=s[1]),ee=new Ze({props:tt}),Qe.push(()=>je(ee,"open",Xl)),ee.$on("confirmModal",Yl),ee.$on("cancelModal",s[24]);function Zl(D){s[34](D)}let lt={id:"trigger-schedule-modal",large:!0,confirmType:"primary",confirmText:_("schedules.trigger"),cancelText:_("common.cancel"),loading:s[5],$$slots:{content:[wr],title:[gr]},$$scope:{ctx:s}};s[2]!==void 0&&(lt.open=s[2]),L=new Ze({props:lt}),Qe.push(()=>je(L,"open",Zl)),L.$on("confirmModal",s[35]),L.$on("cancelModal",s[36]);function yl(D){s[37](D)}function xl(D){s[38](D)}let Xe={id:"delete-schedule-modal",confirmType:"destructive",confirmText:_("common.delete"),cancelText:_("common.cancel"),$$slots:{content:[br],title:[kr]},$$scope:{ctx:s}};return s[3]!==void 0&&(Xe.open=s[3]),s[13]!==void 0&&(Xe.error=s[13]),T=new Ze({props:Xe}),Qe.push(()=>je(T,"open",yl)),Qe.push(()=>je(T,"error",xl)),T.$on("confirmModal",s[21]),T.$on("cancelModal",s[24]),{c(){e=k("header"),l=k("div"),N(t.$$.fragment),r=A(),n=k("h1"),a=k("span"),o=M(s[15]),u=A(),f=k("div"),N(c.$$.fragment),v=A(),I=k("p"),h=M(d),$=A(),m=k("div"),g=k("p"),G=M(W),y=A(),Y&&Y.c(),le=A(),N(X.$$.fragment),ne=A(),O=k("div"),J&&J.c(),he=A(),K&&K.c(),ae=A(),Z=k("div"),x=k("div"),N(se.$$.fragment),_e=A(),N(re.$$.fragment),j=A(),N(ie.$$.fragment),Pe=A(),$e=k("div"),N(fe.$$.fragment),ke=A(),N(ee.$$.fragment),H=A(),N(L.$$.fragment),ce=A(),N(T.$$.fragment),this.h()},l(D){e=b(D,"HEADER",{class:!0});var S=E(e);l=b(S,"DIV",{class:!0});var de=E(l);F(t.$$.fragment,de),r=C(de),n=b(de,"H1",{class:!0});var He=E(n);a=b(He,"SPAN",{class:!0,"data-testid":!0});var Ve=E(a);o=q(Ve,s[15]),Ve.forEach(i),He.forEach(i),u=C(de),f=b(de,"DIV",{class:!0});var We=E(f);F(c.$$.fragment,We),v=C(We),I=b(We,"P",{});var Le=E(I);h=q(Le,d),Le.forEach(i),We.forEach(i),$=C(de),m=b(de,"DIV",{class:!0});var Se=E(m);g=b(Se,"P",{});var Ae=E(g);G=q(Ae,W),Ae.forEach(i),Se.forEach(i),y=C(de),Y&&Y.l(de),de.forEach(i),le=C(S),F(X.$$.fragment,S),S.forEach(i),ne=C(D),O=b(D,"DIV",{class:!0});var pe=E(O);J&&J.l(pe),he=C(pe),K&&K.l(pe),ae=C(pe),Z=b(pe,"DIV",{class:!0});var Ee=E(Z);x=b(Ee,"DIV",{class:!0});var ge=E(x);F(se.$$.fragment,ge),_e=C(ge),F(re.$$.fragment,ge),j=C(ge),F(ie.$$.fragment,ge),ge.forEach(i),Pe=C(Ee),$e=b(Ee,"DIV",{class:!0});var Ne=E($e);F(fe.$$.fragment,Ne),Ne.forEach(i),Ee.forEach(i),pe.forEach(i),ke=C(D),F(ee.$$.fragment,D),H=C(D),F(L.$$.fragment,D),ce=C(D),F(T.$$.fragment,D),this.h()},h(){R(a,"class","select-all font-medium"),R(a,"data-testid","schedule-name"),R(n,"class","relative flex items-center text-2xl"),R(f,"class","flex items-center gap-2 text-lg"),R(m,"class","flex items-center gap-2 text-sm"),R(l,"class","relative flex flex-col gap-4"),R(e,"class","mb-8 flex flex-row justify-between gap-4"),R(x,"class","flex w-full flex-col items-start gap-4 xl:w-2/3"),R($e,"class","w-full xl:w-1/3"),R(Z,"class","flex flex-col gap-4 xl:flex-row"),R(O,"class","flex flex-col gap-4 pb-24")},m(D,S){w(D,e,S),p(e,l),B(t,l,null),p(l,r),p(l,n),p(n,a),p(a,o),p(l,u),p(l,f),B(c,f,null),p(f,v),p(f,I),p(I,h),p(l,$),p(l,m),p(m,g),p(g,G),p(l,y),Y&&Y.m(l,null),p(e,le),B(X,e,null),w(D,ne,S),w(D,O,S),J&&J.m(O,null),p(O,he),K&&K.m(O,null),p(O,ae),p(O,Z),p(Z,x),B(se,x,null),p(x,_e),B(re,x,null),p(x,j),B(ie,x,null),p(Z,Pe),p(Z,$e),B(fe,$e,null),w(D,ke,S),B(ee,D,S),w(D,H,S),B(L,D,S),w(D,ce,S),B(T,D,S),be=!0},p(D,S){var Ne,Bt,Qt,Ut,jt,Ot,zt,Gt,Jt,Kt,Xt,Yt,Zt,yt,xt,el,tl,ll,sl,rl,nl,al,ol,ul,il,fl,cl,dl,ml,pl,hl,_l,$l,gl,vl,wl,kl;s=D;const de={};S[1]&16384&&(de.$$scope={dirty:S,ctx:s}),t.$set(de);const He={};S[0]&1&&(He.status=(Ne=s[41])!=null&&Ne.schedule.state.paused?"Paused":"Running"),c.$set(He),(!be||S[0]&1)&&d!==(d=((Ot=(jt=(Ut=(Qt=(Bt=s[41])==null?void 0:Bt.schedule)==null?void 0:Qt.action)==null?void 0:Ut.startWorkflow)==null?void 0:jt.workflowType)==null?void 0:Ot.name)+"")&&z(h,d),(!be||S[0]&769)&&W!==(W=_("common.created",{created:we((Gt=(zt=s[41])==null?void 0:zt.info)==null?void 0:Gt.createTime,s[8],{relative:s[9]})})+"")&&z(G,W),(Kt=(Jt=s[41])==null?void 0:Jt.info)!=null&&Kt.updateTime?Y?Y.p(s,S):(Y=Nl(s),Y.c(),Y.m(l,null)):Y&&(Y.d(1),Y=null);const Ve={};S[0]&1&&(Ve.label=(Zt=(Yt=(Xt=s[41])==null?void 0:Xt.schedule)==null?void 0:Yt.state)!=null&&Zt.paused?_("schedules.unpause"):_("schedules.pause")),S[0]&64&&(Ve.disabled=s[6]),S[0]&12|S[1]&16384&&(Ve.$$scope={dirty:S,ctx:s}),X.$set(Ve),(xt=(yt=s[41])==null?void 0:yt.info)!=null&&xt.invalidScheduleError?J?(J.p(s,S),S[0]&1&&P(J,1)):(J=Fl(s),J.c(),P(J,1),J.m(O,he)):J&&(Ce(),V(J,1,1,()=>{J=null}),Me()),s[10]?K?(K.p(s,S),S[0]&1024&&P(K,1)):(K=Bl(s),K.c(),P(K,1),K.m(O,ae)):K&&(Ce(),V(K,1,1,()=>{K=null}),Me());const We={};S[0]&1&&(We.recentRuns=(tl=(el=s[41])==null?void 0:el.info)==null?void 0:tl.recentActions),se.$set(We);const Le={};S[0]&1&&(Le.futureRuns=(sl=(ll=s[41])==null?void 0:ll.info)==null?void 0:sl.futureActionTimes),re.$set(Le);const Se={};S[0]&1&&(Se.spec=(nl=(rl=s[41])==null?void 0:rl.schedule)==null?void 0:nl.spec),S[0]&1&&(Se.state=(ol=(al=s[41])==null?void 0:al.schedule)==null?void 0:ol.state),S[0]&1&&(Se.policies=(il=(ul=s[41])==null?void 0:ul.schedule)==null?void 0:il.policies),S[0]&1&&(Se.notes=(dl=(cl=(fl=s[41])==null?void 0:fl.schedule)==null?void 0:cl.state)==null?void 0:dl.notes),ie.$set(Se);const Ae={};S[0]&1&&(Ae.calendar=(_l=(hl=(pl=(ml=s[41])==null?void 0:ml.schedule)==null?void 0:pl.spec)==null?void 0:hl.structuredCalendar)==null?void 0:_l[0]),S[0]&1&&(Ae.interval=(wl=(vl=(gl=($l=s[41])==null?void 0:$l.schedule)==null?void 0:gl.spec)==null?void 0:vl.interval)==null?void 0:wl[0]),fe.$set(Ae);const pe={};S[0]&1&&(pe.confirmText=(kl=s[41])!=null&&kl.schedule.state.paused?_("schedules.unpause"):_("schedules.pause")),S[0]&16&&(pe.confirmDisabled=!s[4]),S[0]&17|S[1]&16384&&(pe.$$scope={dirty:S,ctx:s}),!Re&&S[0]&2&&(Re=!0,pe.open=s[1],Ue(()=>Re=!1)),ee.$set(pe);const Ee={};S[0]&32&&(Ee.loading=s[5]),S[1]&16384&&(Ee.$$scope={dirty:S,ctx:s}),!me&&S[0]&4&&(me=!0,Ee.open=s[2],Ue(()=>me=!1)),L.$set(Ee);const ge={};S[1]&16384&&(ge.$$scope={dirty:S,ctx:s}),!oe&&S[0]&8&&(oe=!0,ge.open=s[3],Ue(()=>oe=!1)),!ve&&S[0]&8192&&(ve=!0,ge.error=s[13],Ue(()=>ve=!1)),T.$set(ge)},i(D){be||(P(t.$$.fragment,D),P(c.$$.fragment,D),P(X.$$.fragment,D),P(J),P(K),P(se.$$.fragment,D),P(re.$$.fragment,D),P(ie.$$.fragment,D),P(fe.$$.fragment,D),P(ee.$$.fragment,D),P(L.$$.fragment,D),P(T.$$.fragment,D),be=!0)},o(D){V(t.$$.fragment,D),V(c.$$.fragment,D),V(X.$$.fragment,D),V(J),V(K),V(se.$$.fragment,D),V(re.$$.fragment,D),V(ie.$$.fragment,D),V(fe.$$.fragment,D),V(ee.$$.fragment,D),V(L.$$.fragment,D),V(T.$$.fragment,D),be=!1},d(D){D&&(i(e),i(ne),i(O),i(ke),i(H),i(ce)),Q(t),Q(c),Y&&Y.d(),Q(X),J&&J.d(),K&&K.d(),Q(se),Q(re),Q(ie),Q(fe),Q(ee,D),Q(L,D),Q(T,D)}}}function ir(s){let e,l;return e=new Jl({props:{title:_("schedules.deleting"),class:"my-2"}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p:U,i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function fr(s){let e=_("schedules.back-to-schedules")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function Nl(s){var n,a;let e,l,t=_("common.last-updated",{updated:we((a=(n=s[41])==null?void 0:n.info)==null?void 0:a.updateTime,s[8],{relative:s[9]})})+"",r;return{c(){e=k("div"),l=k("p"),r=M(t),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=E(e);l=b(u,"P",{});var f=E(l);r=q(f,t),f.forEach(i),u.forEach(i),this.h()},h(){R(e,"class","flex items-center gap-2 text-sm")},m(o,u){w(o,e,u),p(e,l),p(l,r)},p(o,u){var f,c;u[0]&769&&t!==(t=_("common.last-updated",{updated:we((c=(f=o[41])==null?void 0:f.info)==null?void 0:c.updateTime,o[8],{relative:o[9]})})+"")&&z(r,t)},d(o){o&&i(e)}}}function cr(s){let e=_("schedules.trigger")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function dr(s){let e=_("common.edit")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function mr(s){let e=_("common.delete")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function pr(s){let e,l,t,r,n,a;return e=new Ye({props:{"data-testid":"trigger-schedule",$$slots:{default:[cr]},$$scope:{ctx:s}}}),e.$on("click",s[27]),t=new Ye({props:{"data-testid":"edit-schedule",href:hs({namespace:s[14],scheduleId:s[15]}),$$slots:{default:[dr]},$$scope:{ctx:s}}}),n=new Ye({props:{"data-testid":"delete-schedule",destructive:!0,$$slots:{default:[mr]},$$scope:{ctx:s}}}),n.$on("click",s[28]),{c(){N(e.$$.fragment),l=A(),N(t.$$.fragment),r=A(),N(n.$$.fragment)},l(o){F(e.$$.fragment,o),l=C(o),F(t.$$.fragment,o),r=C(o),F(n.$$.fragment,o)},m(o,u){B(e,o,u),w(o,l,u),B(t,o,u),w(o,r,u),B(n,o,u),a=!0},p(o,u){const f={};u[1]&16384&&(f.$$scope={dirty:u,ctx:o}),e.$set(f);const c={};u[1]&16384&&(c.$$scope={dirty:u,ctx:o}),t.$set(c);const v={};u[1]&16384&&(v.$$scope={dirty:u,ctx:o}),n.$set(v)},i(o){a||(P(e.$$.fragment,o),P(t.$$.fragment,o),P(n.$$.fragment,o),a=!0)},o(o){V(e.$$.fragment,o),V(t.$$.fragment,o),V(n.$$.fragment,o),a=!1},d(o){o&&(i(l),i(r)),Q(e,o),Q(t,o),Q(n,o)}}}function Fl(s){var r,n;let e,l,t;return l=new Kl({props:{error:(n=(r=s[41])==null?void 0:r.info)==null?void 0:n.invalidScheduleError}}),{c(){e=k("div"),N(l.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=E(e);F(l.$$.fragment,o),o.forEach(i),this.h()},h(){R(e,"class","w-full xl:w-1/2")},m(a,o){w(a,e,o),B(l,e,null),t=!0},p(a,o){var f,c;const u={};o[0]&1&&(u.error=(c=(f=a[41])==null?void 0:f.info)==null?void 0:c.invalidScheduleError),l.$set(u)},i(a){t||(P(l.$$.fragment,a),t=!0)},o(a){V(l.$$.fragment,a),t=!1},d(a){a&&i(e),Q(l)}}}function Bl(s){let e,l,t,r=s[11].count.toLocaleString()+"",n,a,o,u,f,c,v,I;return o=new _s({props:{key:"common.workflows-plural",count:s[11].count}}),f=new gs({props:{size:"xs",variant:"ghost",leadingIcon:"retry",$$slots:{default:[hr]},$$scope:{ctx:s}}}),f.$on("click",s[30]),v=new $s({props:{staticQuery:s[16]}}),{c(){e=k("div"),l=k("div"),t=k("span"),n=M(r),a=A(),N(o.$$.fragment),u=A(),N(f.$$.fragment),c=A(),N(v.$$.fragment),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=E(e);l=b(h,"DIV",{class:!0});var $=E(l);t=b($,"SPAN",{"data-testid":!0});var m=E(t);n=q(m,r),a=C(m),F(o.$$.fragment,m),m.forEach(i),u=C($),F(f.$$.fragment,$),$.forEach(i),c=C(h),F(v.$$.fragment,h),h.forEach(i),this.h()},h(){R(t,"data-testid","workflow-count"),R(l,"class","flex items-center gap-2"),R(e,"class","flex w-full flex-col gap-2 text-lg")},m(d,h){w(d,e,h),p(e,l),p(l,t),p(t,n),p(t,a),B(o,t,null),p(l,u),B(f,l,null),p(e,c),B(v,e,null),I=!0},p(d,h){(!I||h[0]&2048)&&r!==(r=d[11].count.toLocaleString()+"")&&z(n,r);const $={};h[0]&2048&&($.count=d[11].count),o.$set($);const m={};h[0]&2048|h[1]&16384&&(m.$$scope={dirty:h,ctx:d}),f.$set(m)},i(d){I||(P(o.$$.fragment,d),P(f.$$.fragment,d),P(v.$$.fragment,d),I=!0)},o(d){V(o.$$.fragment,d),V(f.$$.fragment,d),V(v.$$.fragment,d),I=!1},d(d){d&&i(e),Q(o),Q(f),Q(v)}}}function Ql(s){let e,l=s[11].newCount.toLocaleString()+"",t;return{c(){e=M("+"),t=M(l)},l(r){e=q(r,"+"),t=q(r,l)},m(r,n){w(r,e,n),w(r,t,n)},p(r,n){n[0]&2048&&l!==(l=r[11].newCount.toLocaleString()+"")&&z(t,l)},d(r){r&&(i(e),i(t))}}}function hr(s){let e,l=s[11].newCount>0&&Ql(s);return{c(){l&&l.c(),e=te()},l(t){l&&l.l(t),e=te()},m(t,r){l&&l.m(t,r),w(t,e,r)},p(t,r){t[11].newCount>0?l?l.p(t,r):(l=Ql(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){t&&i(e),l&&l.d(t)}}}function _r(s){var r;let e,l=((r=s[41])!=null&&r.schedule.state.paused?_("schedules.unpause-modal-title"):_("schedules.pause-modal-title"))+"",t;return{c(){e=k("h3"),t=M(l),this.h()},l(n){e=b(n,"H3",{slot:!0});var a=E(e);t=q(a,l),a.forEach(i),this.h()},h(){R(e,"slot","title")},m(n,a){w(n,e,a),p(e,t)},p(n,a){var o;a[0]&1&&l!==(l=((o=n[41])!=null&&o.schedule.state.paused?_("schedules.unpause-modal-title"):_("schedules.pause-modal-title"))+"")&&z(t,l)},d(n){n&&i(e)}}}function $r(s){var d,h;let e,l,t=((d=s[41])!=null&&d.schedule.state.paused?_("schedules.unpause-modal-confirmation",{schedule:s[15]}):_("schedules.pause-modal-confirmation",{schedule:s[15]}))+"",r,n,a,o=((h=s[41])!=null&&h.schedule.state.paused?_("schedules.unpause-reason"):_("schedules.pause-reason"))+"",u,f,c,v,I;return{c(){e=k("div"),l=k("p"),r=M(t),n=A(),a=k("p"),u=M(o),f=A(),c=k("input"),this.h()},l($){e=b($,"DIV",{slot:!0});var m=E(e);l=b(m,"P",{});var g=E(l);r=q(g,t),g.forEach(i),n=C(m),a=b(m,"P",{class:!0});var W=E(a);u=q(W,o),W.forEach(i),f=C(m),c=b(m,"INPUT",{class:!0,placeholder:!0}),m.forEach(i),this.h()},h(){R(a,"class","my-4"),R(c,"class","mt-4 block w-full rounded-md border border-slate-200 p-2"),R(c,"placeholder",_("common.reason")),R(e,"slot","content")},m($,m){w($,e,m),p(e,l),p(l,r),p(e,n),p(e,a),p(a,u),p(e,f),p(e,c),Tl(c,s[4]),v||(I=[Dl(c,"input",s[31]),Dl(c,"keydown",ns(s[26]))],v=!0)},p($,m){var g,W;m[0]&1&&t!==(t=((g=$[41])!=null&&g.schedule.state.paused?_("schedules.unpause-modal-confirmation",{schedule:$[15]}):_("schedules.pause-modal-confirmation",{schedule:$[15]}))+"")&&z(r,t),m[0]&1&&o!==(o=((W=$[41])!=null&&W.schedule.state.paused?_("schedules.unpause-reason"):_("schedules.pause-reason"))+"")&&z(u,o),m[0]&16&&c.value!==$[4]&&Tl(c,$[4])},d($){$&&i(e),v=!1,as(I)}}}function gr(s){let e,l=_("schedules.trigger-modal-title")+"",t;return{c(){e=k("h3"),t=M(l),this.h()},l(r){e=b(r,"H3",{slot:!0});var n=E(e);t=q(n,l),n.forEach(i),this.h()},h(){R(e,"slot","title")},m(r,n){w(r,e,n),p(e,t)},p:U,d(r){r&&i(e)}}}function Ul(s){let e,l;return e=new ws({props:{id:s[42].value,value:s[42].value,label:s[42].label,description:s[42].description}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p:U,i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function vr(s){let e,l,t=qe(s[19]),r=[];for(let a=0;a<t.length;a+=1)r[a]=Ul(Ll(s,t,a));const n=a=>V(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=te()},l(a){for(let o=0;o<r.length;o+=1)r[o].l(a);e=te()},m(a,o){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,o);w(a,e,o),l=!0},p(a,o){if(o[0]&524288){t=qe(a[19]);let u;for(u=0;u<t.length;u+=1){const f=Ll(a,t,u);r[u]?(r[u].p(f,o),P(r[u],1)):(r[u]=Ul(f),r[u].c(),P(r[u],1),r[u].m(e.parentNode,e))}for(Ce(),u=t.length;u<r.length;u+=1)n(u);Me()}},i(a){if(!l){for(let o=0;o<t.length;o+=1)P(r[o]);l=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)V(r[o]);l=!1},d(a){a&&i(e),jl(r,a)}}}function wr(s){let e,l,t;return l=new vs({props:{group:s[18],name:"trigger-event-id",class:"h-auto overflow-auto",$$slots:{default:[vr]},$$scope:{ctx:s}}}),{c(){e=k("div"),N(l.$$.fragment),this.h()},l(r){e=b(r,"DIV",{slot:!0});var n=E(e);F(l.$$.fragment,n),n.forEach(i),this.h()},h(){R(e,"slot","content")},m(r,n){w(r,e,n),B(l,e,null),t=!0},p(r,n){const a={};n[1]&16384&&(a.$$scope={dirty:n,ctx:r}),l.$set(a)},i(r){t||(P(l.$$.fragment,r),t=!0)},o(r){V(l.$$.fragment,r),t=!1},d(r){r&&i(e),Q(l)}}}function kr(s){let e,l=_("schedules.delete-modal-title")+"",t;return{c(){e=k("h3"),t=M(l),this.h()},l(r){e=b(r,"H3",{slot:!0});var n=E(e);t=q(n,l),n.forEach(i),this.h()},h(){R(e,"slot","title")},m(r,n){w(r,e,n),p(e,t)},p:U,d(r){r&&i(e)}}}function br(s){let e,l,t=_("schedules.delete-modal-confirmation",{schedule:s[15]})+"",r;return{c(){e=k("div"),l=k("p"),r=M(t),this.h()},l(n){e=b(n,"DIV",{slot:!0});var a=E(e);l=b(a,"P",{});var o=E(l);r=q(o,t),o.forEach(i),a.forEach(i),this.h()},h(){R(e,"slot","content")},m(n,a){w(n,e,a),p(e,l),p(l,r)},p:U,d(n){n&&i(e)}}}function Er(s){let e,l,t,r,n,a,o,u,f,c,v,I;return t=new Fe({props:{href:Je({namespace:s[14]}),icon:"chevron-left",$$slots:{default:[Ir]},$$scope:{ctx:s}}}),v=new Jl({}),{c(){e=k("header"),l=k("div"),N(t.$$.fragment),r=A(),n=k("h1"),a=M(s[15]),o=A(),u=k("p"),f=M(s[14]),c=A(),N(v.$$.fragment),this.h()},l(d){e=b(d,"HEADER",{class:!0});var h=E(e);l=b(h,"DIV",{class:!0});var $=E(l);F(t.$$.fragment,$),r=C($),n=b($,"H1",{class:!0,"data-testid":!0});var m=E(n);a=q(m,s[15]),m.forEach(i),o=C($),u=b($,"P",{class:!0});var g=E(u);f=q(g,s[14]),g.forEach(i),$.forEach(i),h.forEach(i),c=C(d),F(v.$$.fragment,d),this.h()},h(){R(n,"class","select-all text-2xl font-medium"),R(n,"data-testid","schedule-name"),R(u,"class","text-sm"),R(l,"class","relative flex flex-col gap-4"),R(e,"class","mb-8")},m(d,h){w(d,e,h),p(e,l),B(t,l,null),p(l,r),p(l,n),p(n,a),p(l,o),p(l,u),p(u,f),w(d,c,h),B(v,d,h),I=!0},p(d,h){const $={};h[1]&16384&&($.$$scope={dirty:h,ctx:d}),t.$set($)},i(d){I||(P(t.$$.fragment,d),P(v.$$.fragment,d),I=!0)},o(d){V(t.$$.fragment,d),V(v.$$.fragment,d),I=!1},d(d){d&&(i(e),i(c)),Q(t),Q(v,d)}}}function Ir(s){let e=_("schedules.back-to-schedules")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:U,d(t){t&&i(l)}}}function Tr(s){let e,l,t,r={ctx:s,current:null,token:null,hasCatch:!0,pending:Er,then:or,catch:nr,value:41,error:13,blocks:[,,,]};return Ge(l=s[0],r),{c(){e=te(),r.block.c()},l(n){e=te(),r.block.l(n)},m(n,a){w(n,e,a),r.block.m(n,r.anchor=a),r.mount=()=>e.parentNode,r.anchor=e,t=!0},p(n,a){s=n,r.ctx=s,a[0]&1&&l!==(l=s[0])&&Ge(l,r)||zl(r,s,a)},i(n){t||(P(r.block),t=!0)},o(n){for(let a=0;a<3;a+=1){const o=r.blocks[a];V(o)}t=!1},d(n){n&&i(e),r.block.d(n),r.token=null,r=null}}}function Dr(s,e,l){let t,r,n,a,o,u,f,c,v,I;ue(s,Oe,T=>l(7,n=T)),ue(s,Ol,T=>l(40,o=T)),ue(s,xe,T=>l(8,u=T)),ue(s,et,T=>l(9,f=T)),ue(s,Ps,T=>l(10,c=T)),ue(s,Rs,T=>l(11,v=T)),ue(s,Vl,T=>l(12,I=T));let d=o.params.namespace,h=o.params.schedule,$=`TemporalScheduledById="${h}"`;const m={namespace:d,scheduleId:ye(h)};let g=ze(m),W=!1,G=!1,y=!1,le="",X="",ne=!1,O=fs("Unspecified");ue(s,O,T=>l(39,r=T));let he=[{description:_("schedules.trigger-unspecified-description"),label:_("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:_("schedules.trigger-allow-all-description"),label:_("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:_("schedules.trigger-skip-description"),label:_("schedules.trigger-skip-title"),value:"Skip"},{description:_("schedules.trigger-buffer-one-description"),label:_("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:_("schedules.trigger-buffer-all-description"),label:_("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:_("schedules.trigger-cancel-other-description"),label:_("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:_("schedules.trigger-terminate-other-description"),label:_("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],ae=Ds();ue(s,ae,T=>l(25,a=T));const Z=async()=>{l(13,X="");try{Be(Oe,n=!0,n),await bs({namespace:d,scheduleId:h}),l(3,y=!1),setTimeout(()=>{Be(Oe,n=!1,n),cs(Je({namespace:d}))},2e3),l(4,le="")}catch(T){l(13,X=_("schedules.delete-schedule-error",{error:T==null?void 0:T.message})),Be(Oe,n=!1,n)}},x=async T=>{var oe,ve;!((ve=(oe=T==null?void 0:T.schedule)===null||oe===void 0?void 0:oe.state)===null||ve===void 0)&&ve.paused?await Es({namespace:d,scheduleId:h,reason:le}):await Is({namespace:d,scheduleId:h,reason:le}),l(0,g=ze(m)),l(4,le=""),l(1,W=!1)},se=async()=>{l(5,ne=!0),await Ts({namespace:d,scheduleId:h,overlapPolicy:r}),setTimeout(()=>{l(0,g=ze(m)),l(2,G=!1),l(5,ne=!1)},1e3)},_e=()=>{l(4,le="")};function re(T){rs.call(this,s,T)}const j=()=>l(2,G=!0),ie=()=>l(3,y=!0),Pe=()=>l(1,W=!0),$e=()=>{l(0,g=ze(m)),Be(Vl,I=Date.now(),I)};function fe(){le=this.value,l(4,le)}function ke(T){W=T,l(1,W)}const ee=T=>x(T);function Re(T){G=T,l(2,G)}const H=()=>se(),L=()=>l(2,G=!1);function me(T){y=T,l(3,y)}function ce(T){X=T,l(13,X)}return s.$$.update=()=>{s.$$.dirty[0]&33554432&&l(6,t=a.namespaceWriteDisabled(d)||!Ss())},[g,W,G,y,le,ne,t,n,u,f,c,v,I,X,d,h,$,m,O,he,ae,Z,x,se,_e,a,re,j,ie,Pe,$e,fe,ke,ee,Re,H,L,me,ce]}class Pr extends Te{constructor(e){super(),De(this,e,Dr,Tr,Ie,{},null,[-1,-1])}}function Rr(s){let e,l,t,r;return e=new os({props:{title:`Schedule | ${s[1]}`,url:s[0].url.href}}),t=new Pr({}),{c(){N(e.$$.fragment),l=A(),N(t.$$.fragment)},l(n){F(e.$$.fragment,n),l=C(n),F(t.$$.fragment,n)},m(n,a){B(e,n,a),w(n,l,a),B(t,n,a),r=!0},p(n,[a]){const o={};a&1&&(o.url=n[0].url.href),e.$set(o)},i(n){r||(P(e.$$.fragment,n),P(t.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),V(t.$$.fragment,n),r=!1},d(n){n&&i(l),Q(e,n),Q(t,n)}}}function Sr(s,e,l){let t;ue(s,Ol,n=>l(0,t=n));const r=t.params.schedule;return[t,r]}class rn extends Te{constructor(e){super(),De(this,e,Sr,Rr,Ie,{})}}export{rn as component};
