import{s as J,a as j,h as q,k as h,g,c as E,e as ee,b as te,d as re,j as ne,x as N,w as G,t as K,f as O,n as Q,v as C}from"../chunks/scheduler.yuwC4fMQ.js";import{S as T,i as U,c as d,a as y,m as v,t as c,g as L,b as p,e as F,d as $}from"../chunks/index.m6evPz-M.js";import{e as M,u as oe,o as le}from"../chunks/each.oHGYpoql.js";import{p as se}from"../chunks/stores.5FfT8PtW.js";import{E as ie,a as fe,b as ae}from"../chunks/event-summary-table.xVppuDXT.js";import{E as ue,i as me}from"../chunks/get-workflow-relationships.Y9Pxt9kq.js";import{L as ce}from"../chunks/link.QxVM9ki3.js";import{t as pe}from"../chunks/translate.eu_ZgPaL.js";import{g as _e}from"../chunks/index.dE0HYVTp.js";import{f as ge}from"../chunks/events-service.YImANhqL.js";import{a as he}from"../chunks/event-view.HIsN3C1E.js";import{f as S,e as ke}from"../chunks/events.wotNFgUU.js";import{w as we}from"../chunks/workflow-run.Kk43P01V.js";import{b as de}from"../chunks/route-for.5AVbJUm_.js";function P(s,t,r){const e=s.slice();return e[19]=t[r],e}function z(s){let t,r,e,l;const f=[ve,ye],i=[];function n(o,a){return o[3]?0:1}return r=n(s),e=i[r]=f[r](s),{c(){t=ee("h2"),e.c(),this.h()},l(o){t=te(o,"H2",{class:!0});var a=re(t);e.l(a),a.forEach(g),this.h()},h(){ne(t,"class","flex w-full items-center text-lg font-medium")},m(o,a){h(o,t,a),i[r].m(t,null),l=!0},p(o,a){let u=r;r=n(o),r===u?i[r].p(o,a):(L(),p(i[u],1,1,()=>{i[u]=null}),F(),e=i[r],e?e.p(o,a):(e=i[r]=f[r](o),e.c()),c(e,1),e.m(t,null))},i(o){l||(c(e),l=!0)},o(o){p(e),l=!1},d(o){o&&g(t),i[r].d()}}}function ye(s){let t=s[0].displayName+"",r;return{c(){r=K(t)},l(e){r=O(e,t)},m(e,l){h(e,r,l)},p(e,l){l&1&&t!==(t=e[0].displayName+"")&&Q(r,t)},i:C,o:C,d(e){e&&g(r)}}}function ve(s){let t,r;return t=new ce({props:{href:s[3],$$slots:{default:[$e]},$$scope:{ctx:s}}}),{c(){d(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,l){v(t,e,l),r=!0},p(e,l){const f={};l&8&&(f.href=e[3]),l&4194305&&(f.$$scope={dirty:l,ctx:e}),t.$set(f)},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){$(t,e)}}}function $e(s){let t=s[0].displayName+"",r;return{c(){r=K(t)},l(e){r=O(e,t)},m(e,l){h(e,r,l)},p(e,l){l&1&&t!==(t=e[0].displayName+"")&&Q(r,t)},d(e){e&&g(r)}}}function B(s){let t,r;return t=new fe({props:{loading:s[2],title:pe("events.group-empty-state-title"),content:""}}),{c(){d(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,l){v(t,e,l),r=!0},p(e,l){const f={};l&4&&(f.loading=e[2]),t.$set(f)},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){$(t,e)}}}function D(s,t){let r,e,l;return e=new ae({props:{event:t[19],compact:V,expandAll:!0,initialItem:t[6],active:!0}}),{key:s,first:null,c(){r=N(),d(e.$$.fragment),this.h()},l(f){r=N(),y(e.$$.fragment,f),this.h()},h(){this.first=r},m(f,i){h(f,r,i),v(e,f,i),l=!0},p(f,i){t=f;const n={};i&16&&(n.event=t[19]),i&64&&(n.initialItem=t[6]),e.$set(n)},i(f){l||(c(e.$$.fragment,f),l=!0)},o(f){p(e.$$.fragment,f),l=!1},d(f){f&&g(r),$(e,f)}}}function be(s){let t=[],r=new Map,e,l,f=M(s[4]);const i=o=>`${o[19].id}-${o[19].timestamp}`;for(let o=0;o<f.length;o+=1){let a=P(s,f,o),u=i(a);r.set(u,t[o]=D(u,a))}let n=null;return f.length||(n=B(s)),{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=N(),n&&n.c()},l(o){for(let a=0;a<t.length;a+=1)t[a].l(o);e=N(),n&&n.l(o)},m(o,a){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(o,a);h(o,e,a),n&&n.m(o,a),l=!0},p(o,a){a&84&&(f=M(o[4]),L(),t=oe(t,a,i,1,o,f,r,e.parentNode,le,D,e,P),F(),!f.length&&n?n.p(o,a):f.length?n&&(L(),p(n,1,1,()=>{n=null}),F()):(n=B(o),n.c(),c(n,1),n.m(e.parentNode,e)))},i(o){if(!l){for(let a=0;a<f.length;a+=1)c(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)p(t[a]);l=!1},d(o){o&&g(e);for(let a=0;a<t.length;a+=1)t[a].d(o);n&&n.d(o)}}}function Ee(s){let t,r,e,l,f,i=s[0]&&z(s);return r=new ue({props:{history:s[1],maxHeight:240}}),l=new ie({props:{updating:s[5],compact:V,$$slots:{default:[be]},$$scope:{ctx:s}}}),{c(){i&&i.c(),t=j(),d(r.$$.fragment),e=j(),d(l.$$.fragment)},l(n){i&&i.l(n),t=q(n),y(r.$$.fragment,n),e=q(n),y(l.$$.fragment,n)},m(n,o){i&&i.m(n,o),h(n,t,o),v(r,n,o),h(n,e,o),v(l,n,o),f=!0},p(n,[o]){n[0]?i?(i.p(n,o),o&1&&c(i,1)):(i=z(n),i.c(),c(i,1),i.m(t.parentNode,t)):i&&(L(),p(i,1,1,()=>{i=null}),F());const a={};o&2&&(a.history=n[1]),r.$set(a);const u={};o&32&&(u.updating=n[5]),o&4194388&&(u.$$scope={dirty:o,ctx:n}),l.$set(u)},i(n){f||(c(i),c(r.$$.fragment,n),c(l.$$.fragment,n),f=!0)},o(n){p(i),p(r.$$.fragment,n),p(l.$$.fragment,n),f=!1},d(n){n&&(g(t),g(e)),i&&i.d(n),$(r,n),$(l,n)}}}const V=!0;function He(s,t,r){let e,l,f,i,n,o,a,u,A,R,H,_,b,W,k;E(s,he,m=>r(12,H=m)),E(s,S,m=>r(1,_=m)),E(s,ke,m=>r(13,b=m)),E(s,we,m=>r(15,W=m)),E(s,se,m=>r(14,k=m));let I=!1;const X=()=>{G(S,_=[],_),r(2,I=!0)},Y=async(m,w,x)=>{(W.workflow.id!==w||!_.length)&&(r(2,I=!0),X(),G(S,_=await ge({namespace:m,workflowId:w,runId:x,sort:H}),_),r(2,I=!1))};function Z(m){const w=m==null?void 0:m.eventList.find(me);return w?de({namespace:e,workflow:w.attributes.workflowExecution.workflowId,run:w.attributes.workflowExecution.runId}):""}return s.$$.update=()=>{s.$$.dirty&16384&&r(7,{namespace:e,workflow:l,run:f,id:i}=k.params,e,(r(11,l),r(14,k)),(r(10,f),r(14,k)),(r(8,i),r(14,k))),s.$$.dirty&3200&&Y(e,l,f),s.$$.dirty&8194&&r(9,n=_.length?_:b==null?void 0:b.start),s.$$.dirty&512&&r(6,o=n==null?void 0:n[0]),s.$$.dirty&514&&r(5,a=n.length&&!_.length),s.$$.dirty&4354&&r(0,u=_e(_,H).find(m=>m.id===i)),s.$$.dirty&1&&r(4,A=u?[u]:[]),s.$$.dirty&1&&r(3,R=Z(u))},[u,_,I,R,A,a,o,e,i,n,f,l,H,b,k]}class Ie extends T{constructor(t){super(),U(this,t,He,Ee,J,{})}}function Ne(s){let t,r;return t=new Ie({}),{c(){d(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,l){v(t,e,l),r=!0},p:C,i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){$(t,e)}}}class De extends T{constructor(t){super(),U(this,t,null,Ne,J,{})}}export{De as component};
