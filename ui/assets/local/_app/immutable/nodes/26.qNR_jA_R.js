import{s as re,e as w,t as B,a as D,b as v,d as I,f as V,g as c,h as q,j as b,k as p,l as R,c as ee,x as O,n as G,v as y,y as ze,I as $e,i as x,p as Ue,u as Ge,q as Je,r as Xe}from"../chunks/scheduler.IHo1m08M.js";import{S as se,i as ae,c as N,a as P,m as Q,t as k,b as E,d as H,g as z,e as U}from"../chunks/index.4UXyTqh8.js";import{p as _e}from"../chunks/stores.r-rxtBU3.js";import{P as Ze}from"../chunks/page-title.X0je_0RH.js";import{h as te,u as me}from"../chunks/await_block.xV4gRlGU.js";import{P as he,W as xe}from"../chunks/worker-table.XbTqNwgH.js";import{T as et,a as tt,b as be}from"../chunks/tab.xPmxl0Qc.js";import{t as j}from"../chunks/translate.HrioCK44.js";import{g as lt,a as rt,b as st,c as at,d as ke,e as ge,f as we,p as nt,h as it,i as ve,j as Te}from"../chunks/pollers-service.7p64af_V.js";import{e as X,u as oe,o as fe}from"../chunks/each.YORdH0Ll.js";import{B as ot}from"../chunks/badge.h0vp8Kmo.js";import{C as de}from"../chunks/compatibility-badge.EtPGROfg.js";import{E as ue}from"../chunks/empty-state.XqTzTG5G.js";import{T as ie,a as ce}from"../chunks/table-header-row._fLSSl19.js";import{T as ne}from"../chunks/table-row.5eLYBDWm.js";import{t as Le,r as ft,f as le}from"../chunks/time-format.d6Qqnv3u.js";import"../chunks/auth-user.YoPHscvK.js";import"../chunks/toaster.N_9QUkYq.js";import"../chunks/paths.ihZQdIKn.js";import"../chunks/entry.DAASZ7Ik.js";import{T as Ye}from"../chunks/table.CB3iCUZY.js";function Ee(o,t,r){const e=o.slice();e[8]=t[r];const s=st(e[8]);e[9]=s;const l=at(e[2],e[0],e[9]);return e[10]=l,e}function Ce(o,t,r){const e=o.slice();return e[13]=t[r],e[15]=r,e}function Ie(o,t,r){const e=o.slice();return e[9]=t[r],e}function ye(o){let t,r,e,s,l;return e=new ue({props:{title:j("workers.no-version-sets-found")}}),{c(){t=w("tr"),r=w("td"),N(e.$$.fragment),s=D(),this.h()},l(i){t=v(i,"TR",{class:!0});var a=I(t);r=v(a,"TD",{colspan:!0});var f=I(r);P(e.$$.fragment,f),f.forEach(c),s=q(a),a.forEach(c),this.h()},h(){b(r,"colspan","6"),b(t,"class","w-full")},m(i,a){p(i,t,a),R(t,r),Q(e,r,null),R(t,s),l=!0},p:y,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){E(e.$$.fragment,i),l=!1},d(i){i&&c(t),H(e)}}}function Re(o){let t=j("workers.overall")+"",r;return{c(){r=B(t)},l(e){r=V(e,t)},m(e,s){p(e,r,s)},p:y,d(e){e&&c(r)}}}function ut(o){let t,r=o[15]===0&&Re();return{c(){r&&r.c(),t=O()},l(e){r&&r.l(e),t=O()},m(e,s){r&&r.m(e,s),p(e,t,s)},p(e,s){e[15]===0?r?r.p(e,s):(r=Re(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){e&&c(t),r&&r.d(e)}}}function ct(o){let t=j("workers.default")+"",r;return{c(){r=B(t)},l(e){r=V(e,t)},m(e,s){p(e,r,s)},p:y,d(e){e&&c(r)}}}function _t(o){let t=j("workers.default")+"",r,e;return{c(){r=B(t),e=D()},l(s){r=V(s,t),e=q(s)},m(s,l){p(s,r,l),p(s,e,l)},p:y,d(s){s&&(c(r),c(e))}}}function De(o){let t,r;return t=new de({props:{active:!1,buildId:o[9],$$slots:{"default-worker":[_t]},$$scope:{ctx:o}}}),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p(e,s){const l={};s&16&&(l.buildId=e[9]),s&262144&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function mt(o){let t,r,e,s,l,i,a;r=new de({props:{defaultVersion:!0,active:o[15]===0,buildId:ke(o[13].buildIds),$$slots:{"default-worker":[ct],"overall-default-worker":[ut]},$$scope:{ctx:o}}});let f=X(ge(o[13].buildIds)),n=[];for(let u=0;u<f.length;u+=1)n[u]=De(Ie(o,f,u));const _=u=>E(n[u],1,1,()=>{n[u]=null});return{c(){t=w("td"),N(r.$$.fragment),e=D(),s=w("td"),l=w("div");for(let u=0;u<n.length;u+=1)n[u].c();i=D(),this.h()},l(u){t=v(u,"TD",{class:!0,"data-testid":!0});var m=I(t);P(r.$$.fragment,m),m.forEach(c),e=q(u),s=v(u,"TD",{class:!0,"data-testid":!0});var d=I(s);l=v(d,"DIV",{class:!0});var $=I(l);for(let h=0;h<n.length;h+=1)n[h].l($);$.forEach(c),d.forEach(c),i=q(u),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","version-default"),b(l,"class","flex flex-wrap gap-2 font-mono"),b(s,"class","text-left"),b(s,"data-testid","version-compatible-builds")},m(u,m){p(u,t,m),Q(r,t,null),p(u,e,m),p(u,s,m),R(s,l);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(l,null);p(u,i,m),a=!0},p(u,m){const d={};if(m&16&&(d.active=u[15]===0),m&16&&(d.buildId=ke(u[13].buildIds)),m&262160&&(d.$$scope={dirty:m,ctx:u}),r.$set(d),m&16){f=X(ge(u[13].buildIds));let $;for($=0;$<f.length;$+=1){const h=Ie(u,f,$);n[$]?(n[$].p(h,m),k(n[$],1)):(n[$]=De(h),n[$].c(),k(n[$],1),n[$].m(l,null))}for(z(),$=f.length;$<n.length;$+=1)_($);U()}},i(u){if(!a){k(r.$$.fragment,u);for(let m=0;m<f.length;m+=1)k(n[m]);a=!0}},o(u){E(r.$$.fragment,u),n=n.filter(Boolean);for(let m=0;m<n.length;m+=1)E(n[m]);a=!1},d(u){u&&(c(t),c(e),c(s),c(i)),H(r),ze(n,u)}}}function qe(o,t){let r,e,s;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[mt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=O(),N(e.$$.fragment),this.h()},l(l){r=O(),P(e.$$.fragment,l),this.h()},h(){this.first=r},m(l,i){p(l,r,i),Q(e,l,i),s=!0},p(l,i){t=l;const a={};i&262160&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(l){s||(k(e.$$.fragment,l),s=!0)},o(l){E(e.$$.fragment,l),s=!1},d(l){l&&c(r),H(e,l)}}}function dt(o){let t=[],r=new Map,e,s,l=X(o[4]);const i=f=>f[15];for(let f=0;f<l.length;f+=1){let n=Ce(o,l,f),_=i(n);r.set(_,t[f]=qe(_,n))}let a=null;return l.length||(a=ye()),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=O(),a&&a.c()},l(f){for(let n=0;n<t.length;n+=1)t[n].l(f);e=O(),a&&a.l(f)},m(f,n){for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(f,n);p(f,e,n),a&&a.m(f,n),s=!0},p(f,n){n&16&&(l=X(f[4]),z(),t=oe(t,n,i,1,f,l,r,e.parentNode,fe,qe,e,Ce),U(),!l.length&&a?a.p(f,n):l.length?a&&(z(),E(a,1,1,()=>{a=null}),U()):(a=ye(),a.c(),k(a,1),a.m(e.parentNode,e)))},i(f){if(!s){for(let n=0;n<l.length;n+=1)k(t[n]);s=!0}},o(f){for(let n=0;n<t.length;n+=1)E(t[n]);s=!1},d(f){f&&c(e);for(let n=0;n<t.length;n+=1)t[n].d(f);a&&a.d(f)}}}function pt(o){let t,r=j("workers.default")+"",e,s,l,i=j("workers.compatible-build-ids")+"",a;return{c(){t=w("th"),e=B(r),s=D(),l=w("th"),a=B(i),this.h()},l(f){t=v(f,"TH",{class:!0});var n=I(t);e=V(n,r),n.forEach(c),s=q(f),l=v(f,"TH",{class:!0});var _=I(l);a=V(_,i),_.forEach(c),this.h()},h(){b(t,"class","w-3/12"),b(l,"class","w-9/12")},m(f,n){p(f,t,n),R(t,e),p(f,s,n),p(f,l,n),R(l,a)},p:y,d(f){f&&(c(t),c(s),c(l))}}}function $t(o){let t,r;return t=new ce({props:{slot:"headers",$$slots:{default:[pt]},$$scope:{ctx:o}}}),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p(e,s){const l={};s&262144&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function ht(o){var e,s;let t=(((s=(e=o[1])==null?void 0:e.pollers)==null?void 0:s.length)||0)+"",r;return{c(){r=B(t)},l(l){r=V(l,t)},m(l,i){p(l,r,i)},p(l,i){var a,f;i&2&&t!==(t=(((f=(a=l[1])==null?void 0:a.pollers)==null?void 0:f.length)||0)+"")&&G(r,t)},d(l){l&&c(r)}}}function Ne(o){let t,r,e,s,l,i;return e=new ue({props:{title:j("workflows.workers-empty-state")}}),{c(){t=w("tr"),r=w("td"),N(e.$$.fragment),l=D(),this.h()},l(a){t=v(a,"TR",{class:!0});var f=I(t);r=v(f,"TD",{colspan:!0});var n=I(r);P(e.$$.fragment,n),n.forEach(c),l=q(f),f.forEach(c),this.h()},h(){var a,f;b(r,"colspan",s=(f=(a=o[2])==null?void 0:a.buildIdReachability)!=null&&f.length?8:6),b(t,"class","w-full")},m(a,f){p(a,t,f),R(t,r),Q(e,r,null),R(t,l),i=!0},p(a,f){var n,_;(!i||f&4&&s!==(s=(_=(n=a[2])==null?void 0:n.buildIdReachability)!=null&&_.length?8:6))&&b(r,"colspan",s)},i(a){i||(k(e.$$.fragment,a),i=!0)},o(a){E(e.$$.fragment,a),i=!1},d(a){a&&c(t),H(e)}}}function Pe(o){let t,r,e,s,l,i,a,f=o[10]+"",n,_;return e=new de({props:{defaultVersion:o[9]===o[3],active:o[9]===o[3],buildId:o[9],$$slots:{"default-worker":[kt],"overall-default-worker":[bt]},$$scope:{ctx:o}}}),{c(){t=w("td"),r=w("p"),N(e.$$.fragment),s=D(),l=w("td"),i=w("p"),a=w("span"),n=B(f),this.h()},l(u){t=v(u,"TD",{class:!0,"data-testid":!0});var m=I(t);r=v(m,"P",{class:!0});var d=I(r);P(e.$$.fragment,d),d.forEach(c),m.forEach(c),s=q(u),l=v(u,"TD",{class:!0,"data-testid":!0});var $=I(l);i=v($,"P",{});var h=I(i);a=v(h,"SPAN",{class:!0});var T=I(a);n=V(T,f),T.forEach(c),h.forEach(c),$.forEach(c),this.h()},h(){b(r,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(a,"class","svelte-kdqm2r"),$e(a,"reachability",!!o[10]),b(l,"class","text-left"),b(l,"data-testid","worker-last-access-time")},m(u,m){p(u,t,m),R(t,r),Q(e,r,null),p(u,s,m),p(u,l,m),R(l,i),R(i,a),R(a,n),_=!0},p(u,m){const d={};m&10&&(d.defaultVersion=u[9]===u[3]),m&10&&(d.active=u[9]===u[3]),m&2&&(d.buildId=u[9]),m&262154&&(d.$$scope={dirty:m,ctx:u}),e.$set(d),(!_||m&7)&&f!==(f=u[10]+"")&&G(n,f),(!_||m&7)&&$e(a,"reachability",!!u[10])},i(u){_||(k(e.$$.fragment,u),_=!0)},o(u){E(e.$$.fragment,u),_=!1},d(u){u&&(c(t),c(s),c(l)),H(e)}}}function Qe(o){let t=j("workers.overall")+"",r;return{c(){r=B(t)},l(e){r=V(e,t)},m(e,s){p(e,r,s)},p:y,d(e){e&&c(r)}}}function bt(o){let t,r=o[9]===o[3]&&Qe();return{c(){r&&r.c(),t=O()},l(e){r&&r.l(e),t=O()},m(e,s){r&&r.m(e,s),p(e,t,s)},p(e,s){e[9]===e[3]?r?r.p(e,s):(r=Qe(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){e&&c(t),r&&r.d(e)}}}function kt(o){let t=j("workers.default")+"",r;return{c(){r=B(t)},l(e){r=V(e,t)},m(e,s){p(e,r,s)},p:y,d(e){e&&c(r)}}}function gt(o){var M,A;let t,r,e=o[8].identity+"",s,l,i,a,f,n=le(o[8].lastAccessTime,o[5],{relative:o[6]})+"",_,u,m,d,$,h,T,W,K,S=((A=(M=o[2])==null?void 0:M.buildIdReachability)==null?void 0:A.length)&&Pe(o);return d=new he({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("WORKFLOW")}}),T=new he({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("ACTIVITY")}}),{c(){t=w("td"),r=w("p"),s=B(e),l=D(),S&&S.c(),i=D(),a=w("td"),f=w("p"),_=B(n),u=D(),m=w("td"),N(d.$$.fragment),$=D(),h=w("td"),N(T.$$.fragment),W=D(),this.h()},l(g){t=v(g,"TD",{class:!0,"data-testid":!0});var C=I(t);r=v(C,"P",{class:!0});var F=I(r);s=V(F,e),F.forEach(c),C.forEach(c),l=q(g),S&&S.l(g),i=q(g),a=v(g,"TD",{class:!0,"data-testid":!0});var L=I(a);f=v(L,"P",{class:!0});var Y=I(f);_=V(Y,n),Y.forEach(c),L.forEach(c),u=q(g),m=v(g,"TD",{"data-testid":!0});var J=I(m);P(d.$$.fragment,J),J.forEach(c),$=q(g),h=v(g,"TD",{"data-testid":!0});var Z=I(h);P(T.$$.fragment,Z),Z.forEach(c),W=q(g),this.h()},h(){b(r,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(f,"class","select-all"),b(a,"class","text-left"),b(a,"data-testid","worker-last-access-time"),b(m,"data-testid","workflow-poller"),b(h,"data-testid","activity-poller")},m(g,C){p(g,t,C),R(t,r),R(r,s),p(g,l,C),S&&S.m(g,C),p(g,i,C),p(g,a,C),R(a,f),R(f,_),p(g,u,C),p(g,m,C),Q(d,m,null),p(g,$,C),p(g,h,C),Q(T,h,null),p(g,W,C),K=!0},p(g,C){var Y,J;(!K||C&2)&&e!==(e=g[8].identity+"")&&G(s,e),(J=(Y=g[2])==null?void 0:Y.buildIdReachability)!=null&&J.length?S?(S.p(g,C),C&4&&k(S,1)):(S=Pe(g),S.c(),k(S,1),S.m(i.parentNode,i)):S&&(z(),E(S,1,1,()=>{S=null}),U()),(!K||C&98)&&n!==(n=le(g[8].lastAccessTime,g[5],{relative:g[6]})+"")&&G(_,n);const F={};C&2&&(F.includesTaskQueueType=g[8].taskQueueTypes.includes("WORKFLOW")),d.$set(F);const L={};C&2&&(L.includesTaskQueueType=g[8].taskQueueTypes.includes("ACTIVITY")),T.$set(L)},i(g){K||(k(S),k(d.$$.fragment,g),k(T.$$.fragment,g),K=!0)},o(g){E(S),E(d.$$.fragment,g),E(T.$$.fragment,g),K=!1},d(g){g&&(c(t),c(l),c(i),c(a),c(u),c(m),c($),c(h),c(W)),S&&S.d(g),H(d),H(T)}}}function He(o,t){let r,e,s;return e=new ne({props:{"data-testid":"worker-row",$$slots:{default:[gt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=O(),N(e.$$.fragment),this.h()},l(l){r=O(),P(e.$$.fragment,l),this.h()},h(){this.first=r},m(l,i){p(l,r,i),Q(e,l,i),s=!0},p(l,i){t=l;const a={};i&262255&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(l){s||(k(e.$$.fragment,l),s=!0)},o(l){E(e.$$.fragment,l),s=!1},d(l){l&&c(r),H(e,l)}}}function wt(o){var f;let t=[],r=new Map,e,s,l=X((f=o[1])==null?void 0:f.pollers);const i=n=>n[8].identity;for(let n=0;n<l.length;n+=1){let _=Ee(o,l,n),u=i(_);r.set(u,t[n]=He(u,_))}let a=null;return l.length||(a=Ne(o)),{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=O(),a&&a.c()},l(n){for(let _=0;_<t.length;_+=1)t[_].l(n);e=O(),a&&a.l(n)},m(n,_){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(n,_);p(n,e,_),a&&a.m(n,_),s=!0},p(n,_){var u;_&111&&(l=X((u=n[1])==null?void 0:u.pollers),z(),t=oe(t,_,i,1,n,l,r,e.parentNode,fe,He,e,Ee),U(),!l.length&&a?a.p(n,_):l.length?a&&(z(),E(a,1,1,()=>{a=null}),U()):(a=Ne(n),a.c(),k(a,1),a.m(e.parentNode,e)))},i(n){if(!s){for(let _=0;_<l.length;_+=1)k(t[_]);s=!0}},o(n){for(let _=0;_<t.length;_+=1)E(t[_]);s=!1},d(n){n&&c(e);for(let _=0;_<t.length;_+=1)t[_].d(n);a&&a.d(n)}}}function vt(o){let t,r=j("workflows.workers-tab")+"",e;return{c(){t=w("caption"),e=B(r),this.h()},l(s){t=v(s,"CAPTION",{class:!0,slot:!0});var l=I(t);e=V(l,r),l.forEach(c),this.h()},h(){b(t,"class","sr-only"),b(t,"slot","caption")},m(s,l){p(s,t,l),R(t,e)},p:y,d(s){s&&c(t)}}}function Be(o){let t,r=j("workers.version")+"",e,s,l,i=j("workers.retirability")+"",a;return{c(){t=w("th"),e=B(r),s=D(),l=w("th"),a=B(i),this.h()},l(f){t=v(f,"TH",{class:!0});var n=I(t);e=V(n,r),n.forEach(c),s=q(f),l=v(f,"TH",{class:!0});var _=I(l);a=V(_,i),_.forEach(c),this.h()},h(){b(t,"class","w-3/12"),b(l,"class","w-2/12")},m(f,n){p(f,t,n),R(t,e),p(f,s,n),p(f,l,n),R(l,a)},p:y,d(f){f&&(c(t),c(s),c(l))}}}function Tt(o){var A,g;let t,r=j("common.id")+"",e,s,l,i,a,f=j("workflows.last-accessed")+"",n,_,u,m,d=j("workflows.workflow-task-handler")+"",$,h,T,W,K=j("workflows.activity-handler")+"",S,M=((g=(A=o[2])==null?void 0:A.buildIdReachability)==null?void 0:g.length)&&Be();return{c(){t=w("th"),e=B(r),l=D(),M&&M.c(),i=D(),a=w("th"),n=B(f),_=D(),u=w("th"),m=w("p"),$=B(d),h=D(),T=w("th"),W=w("p"),S=B(K),this.h()},l(C){t=v(C,"TH",{class:!0});var F=I(t);e=V(F,r),F.forEach(c),l=q(C),M&&M.l(C),i=q(C),a=v(C,"TH",{class:!0});var L=I(a);n=V(L,f),L.forEach(c),_=q(C),u=v(C,"TH",{class:!0});var Y=I(u);m=v(Y,"P",{class:!0});var J=I(m);$=V(J,d),J.forEach(c),Y.forEach(c),h=q(C),T=v(C,"TH",{class:!0});var Z=I(T);W=v(Z,"P",{class:!0});var pe=I(W);S=V(pe,K),pe.forEach(c),Z.forEach(c),this.h()},h(){var C,F;b(t,"class",s=(F=(C=o[2])==null?void 0:C.buildIdReachability)!=null&&F.length?"w-3/12":"w-6/12"),b(a,"class","w-2/12"),b(m,"class","text-center"),b(u,"class","w-2/12"),b(W,"class","text-center"),b(T,"class","w-2/12 text-center")},m(C,F){p(C,t,F),R(t,e),p(C,l,F),M&&M.m(C,F),p(C,i,F),p(C,a,F),R(a,n),p(C,_,F),p(C,u,F),R(u,m),R(m,$),p(C,h,F),p(C,T,F),R(T,W),R(W,S)},p(C,F){var L,Y,J,Z;F&4&&s!==(s=(Y=(L=C[2])==null?void 0:L.buildIdReachability)!=null&&Y.length?"w-3/12":"w-6/12")&&b(t,"class",s),(Z=(J=C[2])==null?void 0:J.buildIdReachability)!=null&&Z.length?M?M.p(C,F):(M=Be(),M.c(),M.m(i.parentNode,i)):M&&(M.d(1),M=null)},d(C){C&&(c(t),c(l),c(i),c(a),c(_),c(u),c(h),c(T)),M&&M.d(C)}}}function Et(o){let t,r;return t=new ce({props:{slot:"headers",$$slots:{default:[Tt]},$$scope:{ctx:o}}}),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p(e,s){const l={};s&262148&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function Ct(o){let t,r=j("workers.version-sets")+"",e,s,l,i,a,f=j("workers.workers")+"",n,_,u,m,d,$;return l=new ie({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[$t],default:[dt]},$$scope:{ctx:o}}}),u=new ot({props:{type:"count",class:"rounded-sm",$$slots:{default:[ht]},$$scope:{ctx:o}}}),d=new ie({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[Et],caption:[vt],default:[wt]},$$scope:{ctx:o}}}),{c(){t=w("h2"),e=B(r),s=D(),N(l.$$.fragment),i=D(),a=w("h2"),n=B(f),_=D(),N(u.$$.fragment),m=D(),N(d.$$.fragment),this.h()},l(h){t=v(h,"H2",{class:!0,"data-testid":!0});var T=I(t);e=V(T,r),T.forEach(c),s=q(h),P(l.$$.fragment,h),i=q(h),a=v(h,"H2",{class:!0,"data-testid":!0});var W=I(a);n=V(W,f),_=q(W),P(u.$$.fragment,W),W.forEach(c),m=q(h),P(d.$$.fragment,h),this.h()},h(){b(t,"class","text-base font-medium"),b(t,"data-testid","version-sets"),b(a,"class","flex items-center gap-2 text-base font-medium"),b(a,"data-testid","workers")},m(h,T){p(h,t,T),R(t,e),p(h,s,T),Q(l,h,T),p(h,i,T),p(h,a,T),R(a,n),R(a,_),Q(u,a,null),p(h,m,T),Q(d,h,T),$=!0},p(h,[T]){const W={};T&262160&&(W.$$scope={dirty:T,ctx:h}),l.$set(W);const K={};T&262146&&(K.$$scope={dirty:T,ctx:h}),u.$set(K);const S={};T&262255&&(S.$$scope={dirty:T,ctx:h}),d.$set(S)},i(h){$||(k(l.$$.fragment,h),k(u.$$.fragment,h),k(d.$$.fragment,h),$=!0)},o(h){E(l.$$.fragment,h),E(u.$$.fragment,h),E(d.$$.fragment,h),$=!1},d(h){h&&(c(t),c(s),c(i),c(a),c(m)),H(l,h),H(u),H(d,h)}}}function It(o,t,r){let e,s,l,i;ee(o,Le,u=>r(5,l=u)),ee(o,ft,u=>r(6,i=u));let{taskQueue:a}=t,{workers:f}=t,{reachability:n=void 0}=t,{compatibility:_=void 0}=t;return o.$$set=u=>{"taskQueue"in u&&r(0,a=u.taskQueue),"workers"in u&&r(1,f=u.workers),"reachability"in u&&r(2,n=u.reachability),"compatibility"in u&&r(7,_=u.compatibility)},o.$$.update=()=>{o.$$.dirty&128&&r(4,e=lt(_)),o.$$.dirty&128&&r(3,s=rt(_))},[a,f,n,s,e,l,i,_]}class yt extends se{constructor(t){super(),ae(this,t,It,Ct,re,{taskQueue:0,workers:1,reachability:2,compatibility:7})}}function Ve(o,t,r){const e=o.slice();return e[11]=t[r],e[13]=r,e}function Fe(o,t,r){const e=o.slice();return e[11]=t[r],e[13]=r,e}function Se(o){let t,r,e,s;return e=new ue({props:{title:j("workers.no-assignment-rules-found")}}),{c(){t=w("tr"),r=w("td"),N(e.$$.fragment),this.h()},l(l){t=v(l,"TR",{class:!0});var i=I(t);r=v(i,"TD",{colspan:!0});var a=I(r);P(e.$$.fragment,a),a.forEach(c),i.forEach(c),this.h()},h(){b(r,"colspan","6"),b(t,"class","w-full")},m(l,i){p(l,t,i),R(t,r),Q(e,r,null),s=!0},p:y,i(l){s||(k(e.$$.fragment,l),s=!0)},o(l){E(e.$$.fragment,l),s=!1},d(l){l&&c(t),H(e)}}}function Rt(o){var K,S,M;let t,r=o[13]+"",e,s,l,i=((K=o[11].rule)==null?void 0:K.targetBuildId)+"",a,f,n,_=((((M=(S=o[11].rule)==null?void 0:S.percentageRamp)==null?void 0:M.rampPercentage)||1)*100).toFixed(0)+"",u,m,d,$,h,T=le(o[11].createTime,o[4])+"",W;return{c(){t=w("td"),e=B(r),s=D(),l=w("td"),a=B(i),f=D(),n=w("td"),u=B(_),m=B("%"),d=D(),$=w("td"),h=w("p"),W=B(T),this.h()},l(A){t=v(A,"TD",{class:!0,"data-testid":!0});var g=I(t);e=V(g,r),g.forEach(c),s=q(A),l=v(A,"TD",{class:!0,"data-testid":!0});var C=I(l);a=V(C,i),C.forEach(c),f=q(A),n=v(A,"TD",{class:!0,"data-testid":!0});var F=I(n);u=V(F,_),m=V(F,"%"),F.forEach(c),d=q(A),$=v(A,"TD",{class:!0,"data-testid":!0});var L=I($);h=v(L,"P",{});var Y=I(h);W=V(Y,T),Y.forEach(c),L.forEach(c),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","index"),b(l,"class","break-all text-left"),b(l,"data-testid","target-source"),b(n,"class","text-right"),b(n,"data-testid","target-source"),b($,"class","justfiy-between flex w-full items-center text-right"),b($,"data-testid","target-source")},m(A,g){p(A,t,g),R(t,e),p(A,s,g),p(A,l,g),R(l,a),p(A,f,g),p(A,n,g),R(n,u),R(n,m),p(A,d,g),p(A,$,g),R($,h),R(h,W)},p(A,g){var C,F,L;g&4&&r!==(r=A[13]+"")&&G(e,r),g&4&&i!==(i=((C=A[11].rule)==null?void 0:C.targetBuildId)+"")&&G(a,i),g&4&&_!==(_=((((L=(F=A[11].rule)==null?void 0:F.percentageRamp)==null?void 0:L.rampPercentage)||1)*100).toFixed(0)+"")&&G(u,_),g&20&&T!==(T=le(A[11].createTime,A[4])+"")&&G(W,T)},d(A){A&&(c(t),c(s),c(l),c(f),c(n),c(d),c($))}}}function Ae(o,t){let r,e,s;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Rt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=O(),N(e.$$.fragment),this.h()},l(l){r=O(),P(e.$$.fragment,l),this.h()},h(){this.first=r},m(l,i){p(l,r,i),Q(e,l,i),s=!0},p(l,i){t=l;const a={};i&32788&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(l){s||(k(e.$$.fragment,l),s=!0)},o(l){E(e.$$.fragment,l),s=!1},d(l){l&&c(r),H(e,l)}}}function We(o){let t,r;return t=new ne({props:{"data-testid":"view-all",class:"cursor-pointer bg-slate-100",$$slots:{default:[Dt]},$$scope:{ctx:o}}}),t.$on("click",o[10]),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p(e,s){const l={};s&32768&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function Dt(o){let t,r,e,s=j("workers.view-all-assignment-rules")+"",l,i,a,f,n;return{c(){t=w("td"),r=D(),e=w("td"),l=B(s),i=D(),a=w("td"),f=D(),n=w("td"),this.h()},l(_){t=v(_,"TD",{}),I(t).forEach(c),r=q(_),e=v(_,"TD",{class:!0});var u=I(e);l=V(u,s),u.forEach(c),i=q(_),a=v(_,"TD",{}),I(a).forEach(c),f=q(_),n=v(_,"TD",{}),I(n).forEach(c),this.h()},h(){b(e,"class","break-all text-left text-blue-700 underline")},m(_,u){p(_,t,u),p(_,r,u),p(_,e,u),R(e,l),p(_,i,u),p(_,a,u),p(_,f,u),p(_,n,u)},p:y,d(_){_&&(c(t),c(r),c(e),c(i),c(a),c(f),c(n))}}}function qt(o){var _;let t=[],r=new Map,e,s,l,i=X(o[2]);const a=u=>u[13];for(let u=0;u<i.length;u+=1){let m=Fe(o,i,u),d=a(m);r.set(d,t[u]=Ae(d,m))}let f=null;i.length||(f=Se());let n=!o[0]&&((_=o[1])==null?void 0:_.length)&&We(o);return{c(){for(let u=0;u<t.length;u+=1)t[u].c();f&&f.c(),e=D(),n&&n.c(),s=O()},l(u){for(let m=0;m<t.length;m+=1)t[m].l(u);f&&f.l(u),e=q(u),n&&n.l(u),s=O()},m(u,m){for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(u,m);f&&f.m(u,m),p(u,e,m),n&&n.m(u,m),p(u,s,m),l=!0},p(u,m){var d;m&20&&(i=X(u[2]),z(),t=oe(t,m,a,1,u,i,r,e.parentNode,fe,Ae,e,Fe),U(),!i.length&&f?f.p(u,m):i.length?f&&(z(),E(f,1,1,()=>{f=null}),U()):(f=Se(),f.c(),k(f,1),f.m(e.parentNode,e))),!u[0]&&((d=u[1])!=null&&d.length)?n?(n.p(u,m),m&3&&k(n,1)):(n=We(u),n.c(),k(n,1),n.m(s.parentNode,s)):n&&(z(),E(n,1,1,()=>{n=null}),U())},i(u){if(!l){for(let m=0;m<i.length;m+=1)k(t[m]);k(n),l=!0}},o(u){for(let m=0;m<t.length;m+=1)E(t[m]);E(n),l=!1},d(u){u&&(c(e),c(s));for(let m=0;m<t.length;m+=1)t[m].d(u);f&&f.d(u),n&&n.d(u)}}}function Nt(o){let t,r="Index",e,s,l="Target Build ID",i,a,f="Ramp",n,_,u="Create Time";return{c(){t=w("th"),t.textContent=r,e=D(),s=w("th"),s.textContent=l,i=D(),a=w("th"),a.textContent=f,n=D(),_=w("th"),_.textContent=u,this.h()},l(m){t=v(m,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-9c3h6b"&&(t.textContent=r),e=q(m),s=v(m,"TH",{class:!0,"data-svelte-h":!0}),x(s)!=="svelte-1y9wj7a"&&(s.textContent=l),i=q(m),a=v(m,"TH",{class:!0,"data-svelte-h":!0}),x(a)!=="svelte-v0wniv"&&(a.textContent=f),n=q(m),_=v(m,"TH",{class:!0,"data-svelte-h":!0}),x(_)!=="svelte-1bmkxw8"&&(_.textContent=u),this.h()},h(){b(t,"class","w-20"),b(s,"class","grow"),b(a,"class","w-20"),b(_,"class","text-right")},m(m,d){p(m,t,d),p(m,e,d),p(m,s,d),p(m,i,d),p(m,a,d),p(m,n,d),p(m,_,d)},p:y,d(m){m&&(c(t),c(e),c(s),c(i),c(a),c(n),c(_))}}}function Pt(o){let t,r;return t=new ce({props:{slot:"headers",$$slots:{default:[Nt]},$$scope:{ctx:o}}}),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p(e,s){const l={};s&32768&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function Oe(o){let t,r,e,s,l;return e=new ue({props:{title:j("workers.no-redirect-rules-found")}}),{c(){t=w("tr"),r=w("td"),N(e.$$.fragment),s=D(),this.h()},l(i){t=v(i,"TR",{class:!0});var a=I(t);r=v(a,"TD",{colspan:!0});var f=I(r);P(e.$$.fragment,f),f.forEach(c),s=q(a),a.forEach(c),this.h()},h(){b(r,"colspan","6"),b(t,"class","w-full")},m(i,a){p(i,t,a),R(t,r),Q(e,r,null),R(t,s),l=!0},p:y,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){E(e.$$.fragment,i),l=!1},d(i){i&&c(t),H(e)}}}function Qt(o){let t,r=o[11].rule.sourceBuildId+"",e,s,l,i=o[11].rule.targetBuildId+"",a,f,n,_=le(o[11].createTime,o[4])+"",u,m;return{c(){t=w("td"),e=B(r),s=D(),l=w("td"),a=B(i),f=D(),n=w("td"),u=B(_),m=D(),this.h()},l(d){t=v(d,"TD",{class:!0,"data-testid":!0});var $=I(t);e=V($,r),$.forEach(c),s=q(d),l=v(d,"TD",{class:!0,"data-testid":!0});var h=I(l);a=V(h,i),h.forEach(c),f=q(d),n=v(d,"TD",{class:!0,"data-testid":!0});var T=I(n);u=V(T,_),T.forEach(c),m=q(d),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","target-source"),b(l,"class","text-left"),b(l,"data-testid","target-source"),b(n,"class","text-left"),b(n,"data-testid","target-source")},m(d,$){p(d,t,$),R(t,e),p(d,s,$),p(d,l,$),R(l,a),p(d,f,$),p(d,n,$),R(n,u),p(d,m,$)},p(d,$){$&8&&r!==(r=d[11].rule.sourceBuildId+"")&&G(e,r),$&8&&i!==(i=d[11].rule.targetBuildId+"")&&G(a,i),$&24&&_!==(_=le(d[11].createTime,d[4])+"")&&G(u,_)},d(d){d&&(c(t),c(s),c(l),c(f),c(n),c(m))}}}function je(o,t){let r,e,s;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Qt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=O(),N(e.$$.fragment),this.h()},l(l){r=O(),P(e.$$.fragment,l),this.h()},h(){this.first=r},m(l,i){p(l,r,i),Q(e,l,i),s=!0},p(l,i){t=l;const a={};i&32792&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(l){s||(k(e.$$.fragment,l),s=!0)},o(l){E(e.$$.fragment,l),s=!1},d(l){l&&c(r),H(e,l)}}}function Ht(o){let t=[],r=new Map,e,s,l=X(o[3]);const i=f=>f[13];for(let f=0;f<l.length;f+=1){let n=Ve(o,l,f),_=i(n);r.set(_,t[f]=je(_,n))}let a=null;return l.length||(a=Oe()),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=O(),a&&a.c()},l(f){for(let n=0;n<t.length;n+=1)t[n].l(f);e=O(),a&&a.l(f)},m(f,n){for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(f,n);p(f,e,n),a&&a.m(f,n),s=!0},p(f,n){n&24&&(l=X(f[3]),z(),t=oe(t,n,i,1,f,l,r,e.parentNode,fe,je,e,Ve),U(),!l.length&&a?a.p(f,n):l.length?a&&(z(),E(a,1,1,()=>{a=null}),U()):(a=Oe(),a.c(),k(a,1),a.m(e.parentNode,e)))},i(f){if(!s){for(let n=0;n<l.length;n+=1)k(t[n]);s=!0}},o(f){for(let n=0;n<t.length;n+=1)E(t[n]);s=!1},d(f){f&&c(e);for(let n=0;n<t.length;n+=1)t[n].d(f);a&&a.d(f)}}}function Bt(o){let t,r="Source Build ID",e,s,l="Target Build ID",i,a,f="Create Time";return{c(){t=w("th"),t.textContent=r,e=D(),s=w("th"),s.textContent=l,i=D(),a=w("th"),a.textContent=f,this.h()},l(n){t=v(n,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1ojbhda"&&(t.textContent=r),e=q(n),s=v(n,"TH",{class:!0,"data-svelte-h":!0}),x(s)!=="svelte-1kj4z8i"&&(s.textContent=l),i=q(n),a=v(n,"TH",{class:!0,"data-svelte-h":!0}),x(a)!=="svelte-jrosx7"&&(a.textContent=f),this.h()},h(){b(t,"class","w-1/3"),b(s,"class","w-1/3"),b(a,"class","w-1/3")},m(n,_){p(n,t,_),p(n,e,_),p(n,s,_),p(n,i,_),p(n,a,_)},p:y,d(n){n&&(c(t),c(e),c(s),c(i),c(a))}}}function Vt(o){let t,r;return t=new ce({props:{slot:"headers",$$slots:{default:[Bt]},$$scope:{ctx:o}}}),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p(e,s){const l={};s&32768&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function Ft(o){let t,r=j("workers.assignment-rules")+"",e,s,l,i,a,f=j("workers.redirect-rules")+"",n,_,u,m;return l=new ie({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[Pt],default:[qt]},$$scope:{ctx:o}}}),u=new ie({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[Vt],default:[Ht]},$$scope:{ctx:o}}}),{c(){t=w("h2"),e=B(r),s=D(),N(l.$$.fragment),i=D(),a=w("h2"),n=B(f),_=D(),N(u.$$.fragment),this.h()},l(d){t=v(d,"H2",{class:!0,"data-testid":!0});var $=I(t);e=V($,r),$.forEach(c),s=q(d),P(l.$$.fragment,d),i=q(d),a=v(d,"H2",{class:!0,"data-testid":!0});var h=I(a);n=V(h,f),h.forEach(c),_=q(d),P(u.$$.fragment,d),this.h()},h(){b(t,"class","text-base font-medium"),b(t,"data-testid","worker-rules"),b(a,"class","text-base font-medium"),b(a,"data-testid","worker-rules")},m(d,$){p(d,t,$),R(t,e),p(d,s,$),Q(l,d,$),p(d,i,$),p(d,a,$),R(a,n),p(d,_,$),Q(u,d,$),m=!0},p(d,[$]){const h={};$&32791&&(h.$$scope={dirty:$,ctx:d}),l.$set(h);const T={};$&32792&&(T.$$scope={dirty:$,ctx:d}),u.$set(T)},i(d){m||(k(l.$$.fragment,d),k(u.$$.fragment,d),m=!0)},o(d){E(l.$$.fragment,d),E(u.$$.fragment,d),m=!1},d(d){d&&(c(t),c(s),c(i),c(a),c(_)),H(l,d),H(u,d)}}}function St(o,t,r){let e,s,l,i,a,f,n,_;ee(o,Le,$=>r(4,_=$));let{rules:u}=t,m=!1;const d=()=>r(0,m=!m);return o.$$set=$=>{"rules"in $&&r(5,u=$.rules)},o.$$.update=()=>{o.$$.dirty&32&&r(8,{assignmentRules:e=[],compatibleRedirectRules:s=[]}=u,e,(r(3,s),r(5,u))),o.$$.dirty&256&&r(9,l=e.find($=>{var h,T,W,K;return!(!((T=(h=$.rule)===null||h===void 0?void 0:h.percentageRamp)===null||T===void 0)&&T.rampPercentage)||((K=(W=$.rule)===null||W===void 0?void 0:W.percentageRamp)===null||K===void 0?void 0:K.rampPercentage.toFixed(0))==="1"})),o.$$.dirty&768&&r(7,i=e.indexOf(l)),o.$$.dirty&384&&r(6,a=e.filter(($,h)=>h<=i)),o.$$.dirty&384&&r(1,f=e.filter(($,h)=>h>i)),o.$$.dirty&67&&r(2,n=m?[...a,...f]:a)},[m,f,n,s,_,u,a,i,e,l,d]}class At extends se{constructor(t){super(),ae(this,t,St,Ft,re,{rules:5})}}function Me(o){o[9]=o[12].rules,o[10]=o[12].compatibility,o[11]=o[12].versionSets}const Wt=o=>({compatibility:o&33}),Ke=o=>({compatibility:o[10]});function Ot(o){return{c:y,l:y,m:y,p:y,i:y,o:y,d:y}}function jt(o){Me(o);let t,r,e,s,l;const i=[Lt,Kt,Mt],a=[];function f(n,_){var u;return _&37&&(t=null),t==null&&(t=!!n[2](n[9])),t?0:n[4]&&((u=n[11])!=null&&u.length)?1:2}return r=f(o,-1),e=a[r]=i[r](o),{c(){e.c(),s=O()},l(n){e.l(n),s=O()},m(n,_){a[r].m(n,_),p(n,s,_),l=!0},p(n,_){Me(n);let u=r;r=f(n,_),r===u?a[r].p(n,_):(z(),E(a[u],1,1,()=>{a[u]=null}),U(),e=a[r],e?e.p(n,_):(e=a[r]=i[r](n),e.c()),k(e,1),e.m(s.parentNode,s))},i(n){l||(k(e),l=!0)},o(n){E(e),l=!1},d(n){n&&c(s),a[r].d(n)}}}function Mt(o){let t,r="No versioning configured for task queue.";return{c(){t=w("p"),t.textContent=r},l(e){t=v(e,"P",{"data-svelte-h":!0}),x(t)!=="svelte-1l2qp7c"&&(t.textContent=r)},m(e,s){p(e,t,s)},p:y,i:y,o:y,d(e){e&&c(t)}}}function Kt(o){let t,r,e,s={ctx:o,current:null,token:null,hasCatch:!1,pending:Ut,then:zt,catch:Yt,value:13,blocks:[,,,]};return te(r=ve({namespace:o[5],buildIds:o[3],queue:o[0]}),s),{c(){t=O(),s.block.c()},l(l){t=O(),s.block.l(l)},m(l,i){p(l,t,i),s.block.m(l,s.anchor=i),s.mount=()=>t.parentNode,s.anchor=t,e=!0},p(l,i){o=l,s.ctx=o,i&41&&r!==(r=ve({namespace:o[5],buildIds:o[3],queue:o[0]}))&&te(r,s)||me(s,o,i)},i(l){e||(k(s.block),e=!0)},o(l){for(let i=0;i<3;i+=1){const a=s.blocks[i];E(a)}e=!1},d(l){l&&c(t),s.block.d(l),s.token=null,s=null}}}function Lt(o){let t,r;return t=new At({props:{rules:o[9]}}),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p(e,s){const l={};s&33&&(l.rules=e[9]),t.$set(l)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function Yt(o){return{c:y,l:y,m:y,p:y,i:y,o:y,d:y}}function zt(o){let t,r,e;const s=o[8].default,l=Ue(s,o,o[7],Ke);return r=new yt({props:{taskQueue:o[0],workers:o[1],compatibility:o[10],reachability:o[13]}}),{c(){l&&l.c(),t=D(),N(r.$$.fragment)},l(i){l&&l.l(i),t=q(i),P(r.$$.fragment,i)},m(i,a){l&&l.m(i,a),p(i,t,a),Q(r,i,a),e=!0},p(i,a){l&&l.p&&(!e||a&161)&&Ge(l,s,i,i[7],e?Xe(s,i[7],a,Wt):Je(i[7]),Ke);const f={};a&1&&(f.taskQueue=i[0]),a&2&&(f.workers=i[1]),a&33&&(f.compatibility=i[10]),a&41&&(f.reachability=i[13]),r.$set(f)},i(i){e||(k(l,i),k(r.$$.fragment,i),e=!0)},o(i){E(l,i),E(r.$$.fragment,i),e=!1},d(i){i&&c(t),l&&l.d(i),H(r,i)}}}function Ut(o){let t,r;return t=new Ye({props:{rows:3}}),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p:y,i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function Gt(o){let t,r;return t=new Ye({props:{rows:3}}),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p:y,i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function Jt(o){let t,r,e,s={ctx:o,current:null,token:null,hasCatch:!1,pending:Gt,then:jt,catch:Ot,value:12,blocks:[,,,]};return te(r=we({namespace:o[5],queue:o[0]}),s),{c(){t=O(),s.block.c()},l(l){t=O(),s.block.l(l)},m(l,i){p(l,t,i),s.block.m(l,s.anchor=i),s.mount=()=>t.parentNode,s.anchor=t,e=!0},p(l,[i]){o=l,s.ctx=o,i&33&&r!==(r=we({namespace:o[5],queue:o[0]}))&&te(r,s)||me(s,o,i)},i(l){e||(k(s.block),e=!0)},o(l){for(let i=0;i<3;i+=1){const a=s.blocks[i];E(a)}e=!1},d(l){l&&c(t),s.block.d(l),s.token=null,s=null}}}function Xt(o,t,r){let e,s,l,i,a;ee(o,_e,m=>r(6,a=m));let{$$slots:f={},$$scope:n}=t,{taskQueue:_}=t,{workers:u}=t;return o.$$set=m=>{"taskQueue"in m&&r(0,_=m.taskQueue),"workers"in m&&r(1,u=m.workers),"$$scope"in m&&r(7,n=m.$$scope)},o.$$.update=()=>{o.$$.dirty&64&&r(5,{namespace:e}=a.params,e),o.$$.dirty&2&&r(4,s=nt(u.pollers)),o.$$.dirty&2&&r(3,l=it(u.pollers))},r(2,i=m=>(m==null?void 0:m.assignmentRules)||(m==null?void 0:m.compatibleRedirectRules)),[_,u,i,l,s,e,a,n,f]}class Zt extends se{constructor(t){super(),ae(this,t,Xt,Jt,re,{taskQueue:0,workers:1})}}function xt(o){return{c:y,l:y,m:y,p:y,i:y,o:y,d:y}}function el(o){let t,r,e,s,l,i,a,f,n;l=new et({props:{$$slots:{default:[ll]},$$scope:{ctx:o}}});const _=[sl,rl],u=[];function m(d,$){return d[0]==="versioning"?0:1}return a=m(o),f=u[a]=_[a](o),{c(){t=w("section"),r=w("h2"),e=B(o[2]),s=D(),N(l.$$.fragment),i=D(),f.c(),this.h()},l(d){t=v(d,"SECTION",{class:!0});var $=I(t);r=v($,"H2",{class:!0,"data-testid":!0});var h=I(r);e=V(h,o[2]),h.forEach(c),s=q($),P(l.$$.fragment,$),i=q($),f.l($),$.forEach(c),this.h()},h(){b(r,"class","text-lg font-medium"),b(r,"data-testid","task-queue-name"),b(t,"class","flex flex-col gap-4")},m(d,$){p(d,t,$),R(t,r),R(r,e),R(t,s),Q(l,t,null),R(t,i),u[a].m(t,null),n=!0},p(d,$){(!n||$&4)&&G(e,d[2]);const h={};$&129&&(h.$$scope={dirty:$,ctx:d}),l.$set(h);let T=a;a=m(d),a===T?u[a].p(d,$):(z(),E(u[T],1,1,()=>{u[T]=null}),U(),f=u[a],f?f.p(d,$):(f=u[a]=_[a](d),f.c()),k(f,1),f.m(t,null))},i(d){n||(k(l.$$.fragment,d),k(f),n=!0)},o(d){E(l.$$.fragment,d),E(f),n=!1},d(d){d&&c(t),H(l),u[a].d()}}}function tl(o){let t,r,e,s;return t=new be({props:{label:j("workers.workers"),id:"worker-tab",onClick:o[4]}}),e=new be({props:{label:j("workers.versioning"),id:"versioning-tab",onClick:o[5]}}),{c(){N(t.$$.fragment),r=D(),N(e.$$.fragment)},l(l){P(t.$$.fragment,l),r=q(l),P(e.$$.fragment,l)},m(l,i){Q(t,l,i),p(l,r,i),Q(e,l,i),s=!0},p(l,i){const a={};i&1&&(a.onClick=l[4]),t.$set(a);const f={};i&1&&(f.onClick=l[5]),e.$set(f)},i(l){s||(k(t.$$.fragment,l),k(e.$$.fragment,l),s=!0)},o(l){E(t.$$.fragment,l),E(e.$$.fragment,l),s=!1},d(l){l&&c(r),H(t,l),H(e,l)}}}function ll(o){let t,r;return t=new tt({props:{class:"flex flex-wrap gap-6 p-4 pl-0",label:"task queue detail",$$slots:{default:[tl]},$$scope:{ctx:o}}}),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p(e,s){const l={};s&129&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function rl(o){let t,r;return t=new xe({props:{workers:o[6]}}),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p(e,s){const l={};s&6&&(l.workers=e[6]),t.$set(l)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function sl(o){let t,r;return t=new Zt({props:{taskQueue:o[2],workers:o[6]}}),{c(){N(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){Q(t,e,s),r=!0},p(e,s){const l={};s&4&&(l.taskQueue=e[2]),s&6&&(l.workers=e[6]),t.$set(l)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function al(o){return{c:y,l:y,m:y,p:y,i:y,o:y,d:y}}function nl(o){let t,r,e,s={ctx:o,current:null,token:null,hasCatch:!1,pending:al,then:el,catch:xt,value:6,blocks:[,,,]};return te(r=Te({queue:o[2],namespace:o[1]}),s),{c(){t=O(),s.block.c()},l(l){t=O(),s.block.l(l)},m(l,i){p(l,t,i),s.block.m(l,s.anchor=i),s.mount=()=>t.parentNode,s.anchor=t,e=!0},p(l,[i]){o=l,s.ctx=o,i&6&&r!==(r=Te({queue:o[2],namespace:o[1]}))&&te(r,s)||me(s,o,i)},i(l){e||(k(s.block),e=!0)},o(l){for(let i=0;i<3;i+=1){const a=s.blocks[i];E(a)}e=!1},d(l){l&&c(t),s.block.d(l),s.token=null,s=null}}}function il(o,t,r){let e,s,l;ee(o,_e,n=>r(3,l=n));let i="workers";const a=()=>r(0,i="workers"),f=()=>r(0,i="versioning");return o.$$.update=()=>{o.$$.dirty&8&&r(2,{queue:e,namespace:s}=l.params,e,(r(1,s),r(3,l)))},[i,s,e,l,a,f]}class ol extends se{constructor(t){super(),ae(this,t,il,nl,re,{})}}function fl(o){let t,r,e,s;return t=new Ze({props:{title:`Task Queue | ${o[1]}`,url:o[0].url.href}}),e=new ol({}),{c(){N(t.$$.fragment),r=D(),N(e.$$.fragment)},l(l){P(t.$$.fragment,l),r=q(l),P(e.$$.fragment,l)},m(l,i){Q(t,l,i),p(l,r,i),Q(e,l,i),s=!0},p(l,[i]){const a={};i&1&&(a.url=l[0].url.href),t.$set(a)},i(l){s||(k(t.$$.fragment,l),k(e.$$.fragment,l),s=!0)},o(l){E(t.$$.fragment,l),E(e.$$.fragment,l),s=!1},d(l){l&&c(r),H(t,l),H(e,l)}}}function ul(o,t,r){let e;ee(o,_e,l=>r(0,e=l));const s=e.params.queue;return[e,s]}class Pl extends se{constructor(t){super(),ae(this,t,ul,fl,re,{})}}export{Pl as component};
