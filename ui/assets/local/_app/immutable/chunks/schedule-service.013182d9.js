import{S as _,b as S,a as b,m as E,C as T,p as v,q as p,D as k,k as h,u as m,f as q,E as P,j as x,g as C,F as A,N as g,O as y}from"./index.19667caa.js";import{C as O}from"./code-block.0c0f4b87.js";import{s as r}from"./parse-with-big-int.bccd89af.js";import{r as l,a as u}from"./route-for-api.8ce7cd4d.js";import{v as d}from"./toaster.6590c542.js";function I(o){let e,n,a,c;return n=new O({props:{copyable:!0,inline:o[2],testId:"schedule-calendar",language:"json",content:JSON.stringify(o[0]||o[1],null,2)}}),{c(){e=E("div"),T(n.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0});var t=p(e);k(n.$$.fragment,t),t.forEach(h),this.h()},h(){m(e,"class",a="flex flex-col "+o[3].class)},m(s,t){q(s,e,t),P(n,e,null),c=!0},p(s,[t]){const i={};t&4&&(i.inline=s[2]),t&3&&(i.content=JSON.stringify(s[0]||s[1],null,2)),n.$set(i),(!c||t&8&&a!==(a="flex flex-col "+s[3].class))&&m(e,"class",a)},i(s){c||(x(n.$$.fragment,s),c=!0)},o(s){C(n.$$.fragment,s),c=!1},d(s){s&&h(e),A(n)}}}function D(o,e,n){let{calendar:a=void 0}=e,{interval:c=void 0}=e,{inline:s=!1}=e;return o.$$set=t=>{n(3,e=g(g({},e),y(t))),"calendar"in t&&n(0,a=t.calendar),"interval"in t&&n(1,c=t.interval),"inline"in t&&n(2,s=t.inline)},e=y(e),[a,c,s,e]}class B extends _{constructor(e){super(),S(this,e,D,I,b,{calendar:0,interval:1,inline:2})}}const L=async(o,e=fetch)=>{let n="";const a=i=>{var f;return n=((f=i==null?void 0:i.body)==null?void 0:f.message)??`Error fetching schedules: ${i.status}: ${i.statusText}`},c=l("schedules",{namespace:o}),{schedules:s,nextPageToken:t}=await u(c,{params:{},onError:a,request:e})??{schedules:[],nextPageToken:""};return{schedules:s,nextPageToken:String(t),error:n}};async function V(o,e=fetch){const n=l("schedule",o);return u(n,{request:e})}async function W(o,e=fetch){const n=l("schedule.delete",o);return u(n,{request:e,options:{method:"DELETE"}})}async function w({namespace:o,body:e}){let n="";const a=t=>{var i;return n=((i=t==null?void 0:t.body)==null?void 0:i.message)??`Error creating schedule: ${t.status}: ${t.statusText}`},c=l("schedules",{namespace:o}),{conflictToken:s}=await u(c,{options:{method:"POST",body:r({request_id:d(),...e})},onError:a});return{conflictToken:s,error:n}}async function z({namespace:o,scheduleId:e,body:n}){let a="";const c=t=>{var i;return a=((i=t==null?void 0:t.body)==null?void 0:i.message)??`Error editing schedule: ${t.status}: ${t.statusText}`},s=l("schedule",{namespace:o,scheduleId:e});return await u(s,{options:{method:"POST",body:r({request_id:d(),...n})},onError:c}),{error:a}}async function G({namespace:o,scheduleId:e,reason:n}){const a={patch:{pause:n}},c=l("schedule",{namespace:o,scheduleId:e});return await u(c,{options:{method:"PATCH",body:r({...a,request_id:d()})},onError:s=>console.error(s)})}async function K({namespace:o,scheduleId:e,reason:n}){const a={patch:{unpause:n}},c=l("schedule",{namespace:o,scheduleId:e});return await u(c,{options:{method:"PATCH",body:r({...a,request_id:d()})}})}export{B as S,V as a,w as c,W as d,z as e,L as f,G as p,K as u};
