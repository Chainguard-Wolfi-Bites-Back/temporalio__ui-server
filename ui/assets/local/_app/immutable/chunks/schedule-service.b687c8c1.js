import{s as h}from"./parse-with-big-int.0036a80a.js";import{r as a,a as i}from"./route-for-api.2cff3d9d.js";import{v as l}from"./toaster.12571902.js";const y=async(e,o=fetch)=>{let t="";const n=s=>{var d;return t=((d=s==null?void 0:s.body)==null?void 0:d.message)??`Error fetching schedules: ${s.status}: ${s.statusText}`},c=a("schedules",{namespace:e}),{schedules:r,nextPageToken:u}=await i(c,{params:{},onError:n,request:o})??{schedules:[],nextPageToken:""};return{schedules:r,nextPageToken:String(u),error:t}};async function g(e,o=fetch){const t=a("schedule",e);return i(t,{request:o})}async function S(e,o=fetch){const t=a("schedule",e);return i(t,{request:o,options:{method:"DELETE"}})}async function T({namespace:e,scheduleId:o,body:t}){let n="";const c=s=>{var d;return n=((d=s==null?void 0:s.body)==null?void 0:d.message)??`Error creating schedule: ${s.status}: ${s.statusText}`},r=a("schedule",{namespace:e,scheduleId:o}),{conflictToken:u}=await i(r,{options:{method:"POST",body:h({request_id:l(),...t})},onError:c});return{conflictToken:u,error:n}}async function E({namespace:e,scheduleId:o,body:t}){let n="";const c=u=>{var s;return n=((s=u==null?void 0:u.body)==null?void 0:s.message)??`Error editing schedule: ${u.status}: ${u.statusText}`},r=a("schedule.edit",{namespace:e,scheduleId:o});return await i(r,{options:{method:"POST",body:h({request_id:l(),...t})},onError:c}),{error:n}}async function P({namespace:e,scheduleId:o,reason:t}){const n={patch:{pause:t}},c=a("schedule.patch",{namespace:e,scheduleId:o});return await i(c,{options:{method:"POST",body:h({...n,request_id:l()})},onError:r=>console.error(r)})}async function b({namespace:e,scheduleId:o,reason:t}){const n={patch:{unpause:t}},c=a("schedule.patch",{namespace:e,scheduleId:o});return await i(c,{options:{method:"POST",body:h({...n,request_id:l()})}})}async function x({namespace:e,scheduleId:o,overlapPolicy:t}){const n={patch:{triggerImmediately:{overlapPolicy:t}}},c=a("schedule.patch",{namespace:e,scheduleId:o});return await i(c,{options:{method:"POST",body:h({...n,request_id:l()})}})}export{g as a,T as c,S as d,E as e,y as f,P as p,x as t,b as u};
