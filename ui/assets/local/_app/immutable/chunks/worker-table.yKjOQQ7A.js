import{s as te,e as w,t as W,a as P,b as T,d as g,f as A,h as x,g as i,j as d,k as _,l as b,c as j,n as V,x as q,y as ae,v as Y}from"./scheduler.IHo1m08M.js";import{S as se,i as le,c as C,a as F,m as B,t as y,b as Q,d as N,g as z,e as G}from"./index.4UXyTqh8.js";import{e as J}from"./each.YORdH0Ll.js";import{B as re}from"./badge.RgvMk2pC.js";import{E as oe}from"./empty-state.r4CgJ8sq.js";import{T as ne,a as ce}from"./table-header-row._fLSSl19.js";import{T as ie}from"./table-row.5eLYBDWm.js";import{t as E}from"./translate.HrioCK44.js";import"./auth-user.4qsj44KZ.js";import"./toaster.BVeQKEnq.js";import"./paths.K2hJuZeF.js";import"./entry.-XaCSJ8U.js";import{t as ue,r as fe,f as M}from"./time-format.ToLv8mhz.js";import{I as me}from"./icon.A4B6SwBA.js";function pe(u){let e,l;return e=new me({props:{name:u[0]?"checkmark":"close",class:"m-auto "+(u[0]?"text-blue-700":"text-primary"),title:u[0]?E("common.yes"):E("common.no")}}),{c(){C(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){B(e,t,s),l=!0},p(t,[s]){const r={};s&1&&(r.name=t[0]?"checkmark":"close"),s&1&&(r.class="m-auto "+(t[0]?"text-blue-700":"text-primary")),s&1&&(r.title=t[0]?E("common.yes"):E("common.no")),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){Q(e.$$.fragment,t),l=!1},d(t){N(e,t)}}}function $e(u,e,l){let{includesTaskQueueType:t}=e;return u.$$set=s=>{"includesTaskQueueType"in s&&l(0,t=s.includesTaskQueueType)},[t]}class U extends se{constructor(e){super(),le(this,e,$e,pe,te,{includesTaskQueueType:0})}}function X(u,e,l){const t=u.slice();return t[3]=e[l],t}function _e(u){var t,s;let e=(((s=(t=u[0])==null?void 0:t.pollers)==null?void 0:s.length)||0)+"",l;return{c(){l=W(e)},l(r){l=A(r,e)},m(r,a){_(r,l,a)},p(r,a){var m,n;a&1&&e!==(e=(((n=(m=r[0])==null?void 0:m.pollers)==null?void 0:n.length)||0)+"")&&V(l,e)},d(r){r&&i(l)}}}function Z(u){let e,l,t,s,r;return t=new oe({props:{title:E("workflows.workers-empty-state")}}),{c(){e=w("tr"),l=w("td"),C(t.$$.fragment),s=P(),this.h()},l(a){e=T(a,"TR",{class:!0});var m=g(e);l=T(m,"TD",{colspan:!0});var n=g(l);F(t.$$.fragment,n),n.forEach(i),s=x(m),m.forEach(i),this.h()},h(){d(l,"colspan",6),d(e,"class","w-full")},m(a,m){_(a,e,m),b(e,l),B(t,l,null),b(e,s),r=!0},p:Y,i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){Q(t.$$.fragment,a),r=!1},d(a){a&&i(e),N(t)}}}function de(u){let e,l,t=u[3].identity+"",s,r,a,m,n=M(u[3].lastAccessTime,u[1],{relative:u[2]})+"",o,f,p,h,D,k,v,R,I;return h=new U({props:{includesTaskQueueType:u[3].taskQueueTypes.includes("WORKFLOW")}}),v=new U({props:{includesTaskQueueType:u[3].taskQueueTypes.includes("ACTIVITY")}}),{c(){e=w("td"),l=w("p"),s=W(t),r=P(),a=w("td"),m=w("p"),o=W(n),f=P(),p=w("td"),C(h.$$.fragment),D=P(),k=w("td"),C(v.$$.fragment),R=P(),this.h()},l(c){e=T(c,"TD",{class:!0,"data-testid":!0});var $=g(e);l=T($,"P",{class:!0});var H=g(l);s=A(H,t),H.forEach(i),$.forEach(i),r=x(c),a=T(c,"TD",{class:!0,"data-testid":!0});var O=g(a);m=T(O,"P",{class:!0});var K=g(m);o=A(K,n),K.forEach(i),O.forEach(i),f=x(c),p=T(c,"TD",{"data-testid":!0});var L=g(p);F(h.$$.fragment,L),L.forEach(i),D=x(c),k=T(c,"TD",{"data-testid":!0});var S=g(k);F(v.$$.fragment,S),S.forEach(i),R=x(c),this.h()},h(){d(l,"class","select-all"),d(e,"class","text-left"),d(e,"data-testid","worker-identity"),d(m,"class","select-all"),d(a,"class","text-left"),d(a,"data-testid","worker-last-access-time"),d(p,"data-testid","workflow-poller"),d(k,"data-testid","activity-poller")},m(c,$){_(c,e,$),b(e,l),b(l,s),_(c,r,$),_(c,a,$),b(a,m),b(m,o),_(c,f,$),_(c,p,$),B(h,p,null),_(c,D,$),_(c,k,$),B(v,k,null),_(c,R,$),I=!0},p(c,$){(!I||$&1)&&t!==(t=c[3].identity+"")&&V(s,t),(!I||$&7)&&n!==(n=M(c[3].lastAccessTime,c[1],{relative:c[2]})+"")&&V(o,n);const H={};$&1&&(H.includesTaskQueueType=c[3].taskQueueTypes.includes("WORKFLOW")),h.$set(H);const O={};$&1&&(O.includesTaskQueueType=c[3].taskQueueTypes.includes("ACTIVITY")),v.$set(O)},i(c){I||(y(h.$$.fragment,c),y(v.$$.fragment,c),I=!0)},o(c){Q(h.$$.fragment,c),Q(v.$$.fragment,c),I=!1},d(c){c&&(i(e),i(r),i(a),i(f),i(p),i(D),i(k),i(R)),N(h),N(v)}}}function ee(u){let e,l;return e=new ie({props:{"data-testid":"worker-row",$$slots:{default:[de]},$$scope:{ctx:u}}}),{c(){C(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){B(e,t,s),l=!0},p(t,s){const r={};s&71&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){Q(e.$$.fragment,t),l=!1},d(t){N(e,t)}}}function he(u){var m;let e,l,t=J((m=u[0])==null?void 0:m.pollers),s=[];for(let n=0;n<t.length;n+=1)s[n]=ee(X(u,t,n));const r=n=>Q(s[n],1,1,()=>{s[n]=null});let a=null;return t.length||(a=Z()),{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=q(),a&&a.c()},l(n){for(let o=0;o<s.length;o+=1)s[o].l(n);e=q(),a&&a.l(n)},m(n,o){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(n,o);_(n,e,o),a&&a.m(n,o),l=!0},p(n,o){var f;if(o&7){t=J((f=n[0])==null?void 0:f.pollers);let p;for(p=0;p<t.length;p+=1){const h=X(n,t,p);s[p]?(s[p].p(h,o),y(s[p],1)):(s[p]=ee(h),s[p].c(),y(s[p],1),s[p].m(e.parentNode,e))}for(z(),p=t.length;p<s.length;p+=1)r(p);G(),!t.length&&a?a.p(n,o):t.length?a&&(z(),Q(a,1,1,()=>{a=null}),G()):(a=Z(),a.c(),y(a,1),a.m(e.parentNode,e))}},i(n){if(!l){for(let o=0;o<t.length;o+=1)y(s[o]);l=!0}},o(n){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)Q(s[o]);l=!1},d(n){n&&i(e),ae(s,n),a&&a.d(n)}}}function we(u){let e,l=E("workflows.workers-tab")+"",t;return{c(){e=w("caption"),t=W(l),this.h()},l(s){e=T(s,"CAPTION",{class:!0,slot:!0});var r=g(e);t=A(r,l),r.forEach(i),this.h()},h(){d(e,"class","sr-only"),d(e,"slot","caption")},m(s,r){_(s,e,r),b(e,t)},p:Y,d(s){s&&i(e)}}}function Te(u){let e,l=E("common.id")+"",t,s,r,a=E("workflows.last-accessed")+"",m,n,o,f,p=E("workflows.workflow-task-handler")+"",h,D,k,v,R=E("workflows.activity-handler")+"",I;return{c(){e=w("th"),t=W(l),s=P(),r=w("th"),m=W(a),n=P(),o=w("th"),f=w("p"),h=W(p),D=P(),k=w("th"),v=w("p"),I=W(R),this.h()},l(c){e=T(c,"TH",{class:!0});var $=g(e);t=A($,l),$.forEach(i),s=x(c),r=T(c,"TH",{class:!0});var H=g(r);m=A(H,a),H.forEach(i),n=x(c),o=T(c,"TH",{class:!0});var O=g(o);f=T(O,"P",{class:!0});var K=g(f);h=A(K,p),K.forEach(i),O.forEach(i),D=x(c),k=T(c,"TH",{class:!0});var L=g(k);v=T(L,"P",{class:!0});var S=g(v);I=A(S,R),S.forEach(i),L.forEach(i),this.h()},h(){d(e,"class","w-6/12"),d(r,"class","w-2/12"),d(f,"class","text-center"),d(o,"class","w-2/12"),d(v,"class","text-center"),d(k,"class","w-2/12 text-center")},m(c,$){_(c,e,$),b(e,t),_(c,s,$),_(c,r,$),b(r,m),_(c,n,$),_(c,o,$),b(o,f),b(f,h),_(c,D,$),_(c,k,$),b(k,v),b(v,I)},p:Y,d(c){c&&(i(e),i(s),i(r),i(n),i(o),i(D),i(k))}}}function ge(u){let e,l;return e=new ce({props:{slot:"headers",$$slots:{default:[Te]},$$scope:{ctx:u}}}),{c(){C(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){B(e,t,s),l=!0},p(t,s){const r={};s&64&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){Q(e.$$.fragment,t),l=!1},d(t){N(e,t)}}}function ke(u){let e,l=E("workers.workers")+"",t,s,r,a,m,n;return r=new re({props:{type:"count",class:"rounded-sm",$$slots:{default:[_e]},$$scope:{ctx:u}}}),m=new ne({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[ge],caption:[we],default:[he]},$$scope:{ctx:u}}}),{c(){e=w("h2"),t=W(l),s=P(),C(r.$$.fragment),a=P(),C(m.$$.fragment),this.h()},l(o){e=T(o,"H2",{class:!0,"data-testid":!0});var f=g(e);t=A(f,l),s=x(f),F(r.$$.fragment,f),f.forEach(i),a=x(o),F(m.$$.fragment,o),this.h()},h(){d(e,"class","flex items-center gap-2 text-base font-medium"),d(e,"data-testid","workers")},m(o,f){_(o,e,f),b(e,t),b(e,s),B(r,e,null),_(o,a,f),B(m,o,f),n=!0},p(o,[f]){const p={};f&65&&(p.$$scope={dirty:f,ctx:o}),r.$set(p);const h={};f&71&&(h.$$scope={dirty:f,ctx:o}),m.$set(h)},i(o){n||(y(r.$$.fragment,o),y(m.$$.fragment,o),n=!0)},o(o){Q(r.$$.fragment,o),Q(m.$$.fragment,o),n=!1},d(o){o&&(i(e),i(a)),N(r),N(m,o)}}}function ve(u,e,l){let t,s;j(u,ue,a=>l(1,t=a)),j(u,fe,a=>l(2,s=a));let{workers:r}=e;return u.$$set=a=>{"workers"in a&&l(0,r=a.workers)},[r,t,s]}class Be extends se{constructor(e){super(),le(this,e,ve,ke,te,{workers:0})}}export{U as P,Be as W};
