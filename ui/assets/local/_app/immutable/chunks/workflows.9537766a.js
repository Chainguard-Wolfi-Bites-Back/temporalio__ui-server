import{d as a,r as u,w as e}from"./index.c0615b9d.js";import{p as i}from"./stores.b5efdfbf.js";import{t as d}from"./translate.230dcc19.js";import{a as p,b as k,d as y}from"./workflow-service.5da6c3a0.js";const m=300,h=async(r,s,o)=>{s.set(!0);try{await o()}catch(t){console.error(t)}r.set(!1),setTimeout(()=>{s.set(!1)},m)},b=e(0),W=a([i],([r])=>{var s,o;return(o=(s=r.data)==null?void 0:s.settings)==null?void 0:o.hideWorkflowQueryErrors}),g=a([i],([r])=>r.params.namespace),q=a([i],([r])=>r.url.searchParams.get("query")),C=a([g,q,b,p,W],([r,s,o,t,n])=>({namespace:r,query:s,refresh:o,supportsAdvancedVisibility:t,hideWorkflowQueryErrors:n})),E=r=>{V.set(r)},Q=r=>C.subscribe(({namespace:s,query:o,supportsAdvancedVisibility:t,hideWorkflowQueryErrors:n})=>{h(A,v,async()=>{const{workflows:w,error:l}=await k(s,{query:o});if(r(w),t){const f=await y(s,o);E(f)}l?n?c.set(d("workflows","workflows-error-querying")):c.set(l):c.set("")})}),T=e(""),v=e(!0),A=e(!0),V=e({count:0,totalCount:0}),c=e(""),j=u([],Q),z=e("");export{z as a,c as b,V as c,j as d,A as l,b as r,v as u,T as w};
