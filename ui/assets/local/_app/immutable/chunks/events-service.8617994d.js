import{t as u}from"./index.91efad0e.js";import{m as y}from"./has.d2b0b725.js";import{p as g}from"./paginated.24c0c107.js";import{r as d,a as p}from"./route-for-api.830c7acb.js";const h=t=>!y(t)||t==="descending"?"events.descending":t==="ascending"?"events.ascending":"events.descending",A=async({namespace:t,workflowId:e,runId:n,sort:s,onStart:r,onUpdate:a,onComplete:o})=>{const c=h(s),i=d(c,{namespace:t,workflowId:e});return(await g(async m=>p(i,{token:m,request:fetch,params:{"execution.runId":n}}),{onStart:r,onUpdate:a,onComplete:o})).history.events},I=async({namespace:t,workflowId:e,runId:n,sort:s,onStart:r,onUpdate:a,onComplete:o})=>{const c=h(s),i=d(c,{namespace:t,workflowId:e}),v=await g(async w=>p(i,{token:w,request:fetch,params:{"execution.runId":n}}),{onStart:r,onUpdate:a,onComplete:o});return await u(v.history.events)},f=async({namespace:t,workflowId:e,runId:n,sort:s})=>{const r=d(`events.${s}`,{namespace:t,workflowId:e});try{return(await p(r,{request:fetch,params:{maximumPageSize:"20","execution.runId":n}})).history.events}catch{return[]}},P=async t=>{const e=await f({...t,sort:"ascending"}),n=await f({...t,sort:"descending"}),[s,r]=await Promise.all([u(e),u(n)]);return{start:s,end:r}};export{A as a,I as b,P as f};
