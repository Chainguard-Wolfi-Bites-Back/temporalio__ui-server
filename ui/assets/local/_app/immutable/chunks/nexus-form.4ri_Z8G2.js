import{s as qe,w as De,k as X,g as A,c as Qe,p as pe,u as he,q as ge,r as be,e as M,a as P,b as z,d as Q,h as T,j as q,W as ue,l as k,X as Se,m as le,G as Xe,H as Ze,t as Z,f as B,n as _e,I as fe,B as se,M as ce,T as de,a9 as Be,x as Ie,i as Ge,v as je}from"./scheduler.GSXCNEL-.js";import{S as Ne,i as Le,g as Ke,b as V,e as We,t as H,c as G,a as K,m as W,d as J,f as me}from"./index.h9J8o6HM.js";import{w as Je}from"./entry.NfzfCZ-u.js";import{p as Oe}from"./stores.x6XkzOgQ.js";import{A as Ue}from"./alert.IznqYMNt.js";import{C as Ye}from"./combobox.UEFEgrru.js";import{I as Pe}from"./input.7_Bb2F9H.js";import{L as ye}from"./label.5cYAXCd-.js";import{t as Te}from"./tw-merge.NbP7EmZe.js";import{M as xe}from"./multi-select.8Kkr3AL9.js";import{t as D}from"./translate.HrioCK44.js";const $e=l=>({}),Ve=l=>({});function el(l){let e;const t=l[3].fallback,s=pe(t,l,l[2],Ve);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o&4)&&he(s,t,n,n[2],e?be(t,n[2],o,$e):ge(n[2]),Ve)},i(n){e||(H(s,n),e=!0)},o(n){V(s,n),e=!1},d(n){s&&s.d(n)}}}function ll(l){let e;const t=l[3].default,s=pe(t,l,l[2],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o&4)&&he(s,t,n,n[2],e?be(t,n[2],o,null):ge(n[2]),null)},i(n){e||(H(s,n),e=!0)},o(n){V(s,n),e=!1},d(n){s&&s.d(n)}}}function tl(l){let e,t,s,n;const o=[ll,el],a=[];function v(r,_){var h,N,u;return r[0]||(u=(N=(h=r[1].data)==null?void 0:h.settings)==null?void 0:N.runtimeEnvironment)!=null&&u.isCloud?0:1}return e=v(l),t=a[e]=o[e](l),{c(){t.c(),s=De()},l(r){t.l(r),s=De()},m(r,_){a[e].m(r,_),X(r,s,_),n=!0},p(r,[_]){let h=e;e=v(r),e===h?a[e].p(r,_):(Ke(),V(a[h],1,1,()=>{a[h]=null}),We(),t=a[e],t?t.p(r,_):(t=a[e]=o[e](r),t.c()),H(t,1),t.m(s.parentNode,s))},i(r){n||(H(t),n=!0)},o(r){V(t),n=!1},d(r){r&&A(s),a[e].d(r)}}}function nl(l,e,t){let s;Qe(l,Oe,v=>t(1,s=v));let{$$slots:n={},$$scope:o}=e,{isCloud:a=!1}=e;return l.$$set=v=>{"isCloud"in v&&t(0,a=v.isCloud),"$$scope"in v&&t(2,o=v.$$scope)},[a,s,o,n]}class sl extends Ne{constructor(e){super(),Le(this,e,nl,tl,qe,{isCloud:0})}}const al=l=>({}),He=l=>({});function Me(l){let e,t;return{c(){e=M("p"),t=Z(l[9]),this.h()},l(s){e=z(s,"P",{class:!0});var n=Q(e);t=B(n,l[9]),n.forEach(A),this.h()},h(){q(e,"class","pb-2 text-sm")},m(s,n){X(s,e,n),k(e,t)},p(s,n){n&512&&_e(t,s[9])},d(s){s&&A(e)}}}function ze(l){var v;let e,t,s=(((v=l[0])==null?void 0:v.length)??0)+"",n,o,a;return{c(){e=M("span"),t=M("span"),n=Z(s),o=Z(" / "),a=Z(l[10]),this.h()},l(r){e=z(r,"SPAN",{class:!0});var _=Q(e);t=z(_,"SPAN",{class:!0});var h=Q(t);n=B(h,s),h.forEach(A),o=B(_," / "),a=B(_,l[10]),_.forEach(A),this.h()},h(){var r,_;q(t,"class","text-blue-700 svelte-c0kk3m"),fe(t,"warn",l[10]-((r=l[0])==null?void 0:r.length)<=5),fe(t,"error",l[10]===((_=l[0])==null?void 0:_.length)),q(e,"class","count svelte-c0kk3m")},m(r,_){X(r,e,_),k(e,t),k(t,n),k(e,o),k(e,a)},p(r,_){var h,N,u;_&1&&s!==(s=(((h=r[0])==null?void 0:h.length)??0)+"")&&_e(n,s),_&1025&&fe(t,"warn",r[10]-((N=r[0])==null?void 0:N.length)<=5),_&1025&&fe(t,"error",r[10]===((u=r[0])==null?void 0:u.length)),_&1024&&_e(a,r[10])},d(r){r&&A(e)}}}function il(l){let e,t,s,n,o,a,v,r,_,h,N,u,w,C;t=new ye({props:{required:l[8],hidden:l[6],label:l[5],for:l[7]}});let b=l[9]&&Me(l),E=l[10]&&!l[1]&&ze(l);const S=l[13].info,L=pe(S,l,l[12],He);return{c(){e=M("div"),G(t.$$.fragment),s=P(),b&&b.c(),n=P(),o=M("div"),a=M("textarea"),_=P(),E&&E.c(),h=P(),L&&L.c(),this.h()},l(f){e=z(f,"DIV",{class:!0});var d=Q(e);K(t.$$.fragment,d),s=T(d),b&&b.l(d),n=T(d),o=z(d,"DIV",{class:!0});var g=Q(o);a=z(g,"TEXTAREA",{class:!0,id:!0,placeholder:!0,rows:!0,spellcheck:!0,maxlength:!0}),Q(a).forEach(A),_=T(g),E&&E.l(g),g.forEach(A),h=T(d),L&&L.l(d),d.forEach(A),this.h()},h(){q(a,"class",v=ue(Te("surface-input min-h-fit w-full rounded-lg border-2 border-subtle px-3 py-2 font-mono text-sm focus-visible:border-information focus-visible:shadow-[0_0_0_4px_rgb(97,115,243,0.7)] focus-visible:outline-none enabled:hover:border-information",l[1]&&"cursor-not-allowed opacity-50"))+" svelte-c0kk3m"),q(a,"id",l[7]),a.disabled=l[1],q(a,"placeholder",l[2]),q(a,"rows",l[3]),q(a,"spellcheck",l[4]),q(a,"maxlength",r=l[10]>0?l[10]:void 0),q(o,"class","relative mt-2"),q(e,"class",N=ue(l[11])+" svelte-c0kk3m")},m(f,d){X(f,e,d),W(t,e,null),k(e,s),b&&b.m(e,null),k(e,n),k(e,o),k(o,a),Se(a,l[0]),k(o,_),E&&E.m(o,null),k(e,h),L&&L.m(e,null),u=!0,w||(C=[le(a,"input",l[19]),le(a,"input",l[14]),le(a,"change",l[15]),le(a,"focus",l[16]),le(a,"blur",l[17]),le(a,"keydown",Xe(l[18]))],w=!0)},p(f,[d]){const g={};d&256&&(g.required=f[8]),d&64&&(g.hidden=f[6]),d&32&&(g.label=f[5]),d&128&&(g.for=f[7]),t.$set(g),f[9]?b?b.p(f,d):(b=Me(f),b.c(),b.m(e,n)):b&&(b.d(1),b=null),(!u||d&2&&v!==(v=ue(Te("surface-input min-h-fit w-full rounded-lg border-2 border-subtle px-3 py-2 font-mono text-sm focus-visible:border-information focus-visible:shadow-[0_0_0_4px_rgb(97,115,243,0.7)] focus-visible:outline-none enabled:hover:border-information",f[1]&&"cursor-not-allowed opacity-50"))+" svelte-c0kk3m"))&&q(a,"class",v),(!u||d&128)&&q(a,"id",f[7]),(!u||d&2)&&(a.disabled=f[1]),(!u||d&4)&&q(a,"placeholder",f[2]),(!u||d&8)&&q(a,"rows",f[3]),(!u||d&16)&&q(a,"spellcheck",f[4]),(!u||d&1024&&r!==(r=f[10]>0?f[10]:void 0))&&q(a,"maxlength",r),d&1&&Se(a,f[0]),f[10]&&!f[1]?E?E.p(f,d):(E=ze(f),E.c(),E.m(o,null)):E&&(E.d(1),E=null),L&&L.p&&(!u||d&4096)&&he(L,S,f,f[12],u?be(S,f[12],d,al):ge(f[12]),He),(!u||d&2048&&N!==(N=ue(f[11])+" svelte-c0kk3m"))&&q(e,"class",N)},i(f){u||(H(t.$$.fragment,f),H(L,f),u=!0)},o(f){V(t.$$.fragment,f),V(L,f),u=!1},d(f){f&&A(e),J(t),b&&b.d(),E&&E.d(),L&&L.d(f),w=!1,Ze(C)}}}function ol(l,e,t){let{$$slots:s={},$$scope:n}=e,{disabled:o=!1}=e,{placeholder:a=""}=e,{rows:v=10}=e,{spellcheck:r=null}=e,{value:_}=e,{label:h}=e,{labelHidden:N=!1}=e,{id:u}=e,{required:w=!1}=e,{description:C=""}=e,{maxLength:b=0}=e,{class:E="text-primary"}=e;function S(m){se.call(this,l,m)}function L(m){se.call(this,l,m)}function f(m){se.call(this,l,m)}function d(m){se.call(this,l,m)}function g(m){se.call(this,l,m)}function I(){_=this.value,t(0,_)}return l.$$set=m=>{"disabled"in m&&t(1,o=m.disabled),"placeholder"in m&&t(2,a=m.placeholder),"rows"in m&&t(3,v=m.rows),"spellcheck"in m&&t(4,r=m.spellcheck),"value"in m&&t(0,_=m.value),"label"in m&&t(5,h=m.label),"labelHidden"in m&&t(6,N=m.labelHidden),"id"in m&&t(7,u=m.id),"required"in m&&t(8,w=m.required),"description"in m&&t(9,C=m.description),"maxLength"in m&&t(10,b=m.maxLength),"class"in m&&t(11,E=m.class),"$$scope"in m&&t(12,n=m.$$scope)},[_,o,a,v,r,h,N,u,w,C,b,E,n,s,S,L,f,d,g,I]}class rl extends Ne{constructor(e){super(),Le(this,e,ol,il,qe,{disabled:1,placeholder:2,rows:3,spellcheck:4,value:0,label:5,labelHidden:6,id:7,required:8,description:9,maxLength:10,class:11})}}const ul=l=>({}),Fe=l=>({});function fl(l){let e,t,s=D("nexus.access-policy")+"",n,o,a,v=D("nexus.allowed-caller-namespaces-description")+"",r,_,h,N;return h=new xe({props:{id:"caller-namespace-filter-menu",options:l[11],initialSelected:l[10],label:l[8].length?D("nexus.selected-namespaces",{count:l[8].length}):D("nexus.select-namespaces"),selectAllLabel:D("common.select-all"),clearAllLabel:D("common.clear-all-capitalized"),initialSelectedAll:!1,onChange:l[12]}}),{c(){e=M("div"),t=M("p"),n=Z(s),o=P(),a=M("p"),r=Z(v),_=P(),G(h.$$.fragment),this.h()},l(u){e=z(u,"DIV",{class:!0});var w=Q(e);t=z(w,"P",{class:!0});var C=Q(t);n=B(C,s),C.forEach(A),o=T(w),a=z(w,"P",{class:!0});var b=Q(a);r=B(b,v),b.forEach(A),w.forEach(A),_=T(u),K(h.$$.fragment,u),this.h()},h(){q(t,"class","text-base text-primary"),q(a,"class","text-xs text-secondary"),q(e,"class","flex flex-col gap-0")},m(u,w){X(u,e,w),k(e,t),k(t,n),k(e,o),k(e,a),k(a,r),X(u,_,w),W(h,u,w),N=!0},p(u,w){const C={};w[0]&2048&&(C.options=u[11]),w[0]&1024&&(C.initialSelected=u[10]),w[0]&256&&(C.label=u[8].length?D("nexus.selected-namespaces",{count:u[8].length}):D("nexus.select-namespaces")),h.$set(C)},i(u){N||(H(h.$$.fragment,u),N=!0)},o(u){V(h.$$.fragment,u),N=!1},d(u){u&&(A(e),A(_)),J(h,u)}}}function cl(l){let e,t="Do not include sensitive data.";return{c(){e=M("p"),e.textContent=t,this.h()},l(s){e=z(s,"P",{class:!0,slot:!0,"data-svelte-h":!0}),Ge(e)!=="svelte-1l2nhqf"&&(e.textContent=t),this.h()},h(){q(e,"class","text-xs text-secondary"),q(e,"slot","info")},m(s,n){X(s,e,n)},p:je,d(s){s&&A(e)}}}function dl(l){var s;let e=((s=l[1])==null?void 0:s.message)+"",t;return{c(){t=Z(e)},l(n){t=B(n,e)},m(n,o){X(n,t,o)},p(n,o){var a;o[0]&2&&e!==(e=((a=n[1])==null?void 0:a.message)+"")&&_e(t,e)},d(n){n&&A(t)}}}function ml(l){var $;let e,t,s,n,o,a,v=D("nexus.target")+"",r,_,h,N=D("nexus.target-description")+"",u,w,C,b,E,S,L,f,d,g,I,m,y,O,F,j;function x(i){l[17](i)}let U={required:!0,disabled:l[2],error:!l[4]||!l[9](l[4]),hintText:D("nexus.endpoint-name-hint"),label:D("nexus.endpoint-name"),id:"name",maxLength:255,placeholder:D("nexus.endpoint-name-placeholder")};l[4]!==void 0&&(U.value=l[4]),t=new Pe({props:U}),ce.push(()=>me(t,"value",x));function te(i){l[18](i)}let ae={label:D("nexus.target-namespace"),toggleLabel:D("common.namespaces"),noResultsText:D("common.no-results"),valid:!!l[6],error:"Please select a target Namespace.",required:!0,id:"target-namespace",placeholder:D("nexus.select-namespace"),leadingIcon:"namespace-switcher",options:l[0],optionValueKey:"namespace",minSize:32};l[6]!==void 0&&(ae.value=l[6]),C=new Ye({props:ae}),ce.push(()=>me(C,"value",te));function ve(i){l[19](i)}let ie={required:!0,error:!l[7],label:D("common.task-queue"),id:"task-queue",placeholder:D("nexus.task-queue-placeholder")};l[7]!==void 0&&(ie.value=l[7]),S=new Pe({props:ie}),ce.push(()=>me(S,"value",ve)),d=new sl({props:{isCloud:l[3],$$slots:{default:[fl]},$$scope:{ctx:l}}});function ke(i){l[20](i)}let oe={label:D("common.description"),description:D("nexus.nexus-description"),id:"description",placeholder:D("nexus.description-placeholder"),$$slots:{info:[cl]},$$scope:{ctx:l}};l[5]!==void 0&&(oe.value=l[5]),I=new rl({props:oe}),ce.push(()=>me(I,"value",ke));const ne=l[16].footer,c=pe(ne,l,l[21],Fe);return F=new Ue({props:{title:($=l[1])==null?void 0:$.statusText,intent:"error",hidden:!l[1],$$slots:{default:[dl]},$$scope:{ctx:l}}}),{c(){e=M("div"),G(t.$$.fragment),n=P(),o=M("div"),a=M("p"),r=Z(v),_=P(),h=M("p"),u=Z(N),w=P(),G(C.$$.fragment),E=P(),G(S.$$.fragment),f=P(),G(d.$$.fragment),g=P(),G(I.$$.fragment),y=P(),c&&c.c(),O=P(),G(F.$$.fragment),this.h()},l(i){e=z(i,"DIV",{class:!0});var p=Q(e);K(t.$$.fragment,p),n=T(p),o=z(p,"DIV",{class:!0});var R=Q(o);a=z(R,"P",{class:!0});var Y=Q(a);r=B(Y,v),Y.forEach(A),_=T(R),h=z(R,"P",{class:!0});var ee=Q(h);u=B(ee,N),ee.forEach(A),R.forEach(A),w=T(p),K(C.$$.fragment,p),E=T(p),K(S.$$.fragment,p),f=T(p),K(d.$$.fragment,p),g=T(p),K(I.$$.fragment,p),y=T(p),c&&c.l(p),p.forEach(A),O=T(i),K(F.$$.fragment,i),this.h()},h(){q(a,"class","text-base text-primary"),q(h,"class","text-xs text-secondary"),q(o,"class","flex flex-col gap-0"),q(e,"class","flex w-full flex-col gap-4 xl:w-1/2")},m(i,p){X(i,e,p),W(t,e,null),k(e,n),k(e,o),k(o,a),k(a,r),k(o,_),k(o,h),k(h,u),k(e,w),W(C,e,null),k(e,E),W(S,e,null),k(e,f),W(d,e,null),k(e,g),W(I,e,null),k(e,y),c&&c.m(e,null),X(i,O,p),W(F,i,p),j=!0},p(i,p){var Ae;const R={};p[0]&4&&(R.disabled=i[2]),p[0]&528&&(R.error=!i[4]||!i[9](i[4])),!s&&p[0]&16&&(s=!0,R.value=i[4],de(()=>s=!1)),t.$set(R);const Y={};p[0]&64&&(Y.valid=!!i[6]),p[0]&1&&(Y.options=i[0]),!b&&p[0]&64&&(b=!0,Y.value=i[6],de(()=>b=!1)),C.$set(Y);const ee={};p[0]&128&&(ee.error=!i[7]),!L&&p[0]&128&&(L=!0,ee.value=i[7],de(()=>L=!1)),S.$set(ee);const we={};p[0]&8&&(we.isCloud=i[3]),p[0]&2100480&&(we.$$scope={dirty:p,ctx:i}),d.$set(we);const Ce={};p[0]&2097152&&(Ce.$$scope={dirty:p,ctx:i}),!m&&p[0]&32&&(m=!0,Ce.value=i[5],de(()=>m=!1)),I.$set(Ce),c&&c.p&&(!j||p[0]&2097152)&&he(c,ne,i,i[21],j?be(ne,i[21],p,ul):ge(i[21]),Fe);const re={};p[0]&2&&(re.title=(Ae=i[1])==null?void 0:Ae.statusText),p[0]&2&&(re.hidden=!i[1]),p[0]&2097154&&(re.$$scope={dirty:p,ctx:i}),F.$set(re)},i(i){j||(H(t.$$.fragment,i),H(C.$$.fragment,i),H(S.$$.fragment,i),H(d.$$.fragment,i),H(I.$$.fragment,i),H(c,i),H(F.$$.fragment,i),j=!0)},o(i){V(t.$$.fragment,i),V(C.$$.fragment,i),V(S.$$.fragment,i),V(d.$$.fragment,i),V(I.$$.fragment,i),V(c,i),V(F.$$.fragment,i),j=!1},d(i){i&&(A(e),A(O)),J(t),J(C),J(S),J(d),J(I),c&&c.d(i),J(F,i)}}}const Re={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},Ee=Je(Re),_l=/^[A-Za-z_][A-Za-z0-9_]*$/;function pl(l,e,t){let s,n,o,a,v=je;Qe(l,Ee,c=>t(31,a=c)),l.$$.on_destroy.push(()=>v());let{$$slots:r={},$$scope:_}=e;var h,N,u,w,C,b,E,S,L,f,d;let{endpoint:g=void 0}=e,{namespaceList:I=[]}=e,{error:m=void 0}=e,{nameDisabled:y=!1}=e,{isCloud:O=!0}=e,F=((h=g==null?void 0:g.spec)===null||h===void 0?void 0:h.name)||"",j=((N=g==null?void 0:g.spec)===null||N===void 0?void 0:N.descriptionString)||"",x=((C=(w=(u=g==null?void 0:g.spec)===null||u===void 0?void 0:u.target)===null||w===void 0?void 0:w.worker)===null||C===void 0?void 0:C.namespace)||"",U=((S=(E=(b=g==null?void 0:g.spec)===null||b===void 0?void 0:b.target)===null||E===void 0?void 0:E.worker)===null||S===void 0?void 0:S.taskQueue)||"",te=((L=g==null?void 0:g.spec)===null||L===void 0?void 0:L.allowedCallerNamespaces)||[];const ae=(c,$,i,p,R)=>{Ie(Ee,a={spec:{name:c,descriptionString:$,target:{worker:{namespace:i,taskQueue:p}},allowedCallerNamespaces:R}},a)},ve=c=>{t(8,te=c.map($=>$.value))};Be(()=>{Ie(Ee,a=Re,a)});function ie(c){F=c,t(4,F)}function ke(c){x=c,t(6,x)}function oe(c){U=c,t(7,U)}function ne(c){j=c,t(5,j)}return l.$$set=c=>{"endpoint"in c&&t(13,g=c.endpoint),"namespaceList"in c&&t(0,I=c.namespaceList),"error"in c&&t(1,m=c.error),"nameDisabled"in c&&t(2,y=c.nameDisabled),"isCloud"in c&&t(3,O=c.isCloud),"$$scope"in c&&t(21,_=c.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&496&&ae(F,j,x,U,te),l.$$.dirty[0]&1&&t(11,s=I.map(c=>({value:c.namespace,label:c.namespace}))),l.$$.dirty[0]&57344&&t(10,n=(t(15,d=t(14,f=g==null?void 0:g.spec)===null||f===void 0?void 0:f.allowedCallerNamespaces)===null||d===void 0?void 0:d.map(c=>({value:c,label:c})))||[])},t(9,o=c=>_l.test(c)),[I,m,y,O,F,j,x,U,te,o,n,s,ve,g,f,d,r,ie,ke,oe,ne,_]}class Al extends Ne{constructor(e){super(),Le(this,e,pl,ml,qe,{endpoint:13,namespaceList:0,error:1,nameDisabled:2,isCloud:3},null,[-1,-1])}}export{Al as N,Ee as e};
