import{S as V,i as v,s as T,K as E,L as I,M as S,N as U,g as W,d as q,C as k}from"./index.df672b57.js";import{p as w}from"./stores.a8e9eab2.js";import{a as B}from"./auth-user.85cbb4f5.js";import{g as K,e as L,f as M,h as N,d as j}from"./decode-payload.aa4dcd66.js";import{s as _}from"./parse-with-big-int.b2dd742c.js";const z=e=>({decodedValue:e&1}),C=e=>({decodedValue:e[0]});function D(e){let a;const o=e[9].default,s=E(o,e,e[8],C);return{c(){s&&s.c()},l(t){s&&s.l(t)},m(t,n){s&&s.m(t,n),a=!0},p(t,[n]){s&&s.p&&(!a||n&257)&&I(s,o,t,t[8],a?U(o,t[8],n,z):S(t[8]),C)},i(t){a||(W(s,t),a=!0)},o(t){q(s,t),a=!1},d(t){s&&s.d(t)}}}function F(e,a,o){let s,t,n,g,m,c;k(e,B,d=>o(11,m=d)),k(e,w,d=>o(7,c=d));let{$$slots:P={},$$scope:y}=a;var r;let{value:i}=a,{key:l=""}=a,b=l&&(i!=null&&i[l])?i[l]:i,f=_(b);const A=async d=>{try{const p=await N(d,c.params.namespace,g,m.accessToken),u=j(p),h=l&&(u==null?void 0:u[l]);h?o(0,f=_(h)):o(0,f=_(u))}catch{console.error("Could not decode payloads")}};return e.$$set=d=>{"value"in d&&o(1,i=d.value),"key"in d&&o(2,l=d.key),"$$scope"in d&&o(8,y=d.$$scope)},e.$$.update=()=>{e.$$.dirty&128&&o(6,s=K(c.data.settings)),e.$$.dirty&128&&o(5,t=L(c.data.settings)),e.$$.dirty&128&&o(4,n=M(c.data.settings)),e.$$.dirty&248&&(g={...c.data.settings,codec:{...o(3,r=c.data.settings)===null||r===void 0?void 0:r.codec,endpoint:s,passAccessToken:t,includeCredentials:n}}),e.$$.dirty&2&&A(i)},[f,i,l,r,n,t,s,c,y,P]}class R extends V{constructor(a){super(),v(this,a,F,D,T,{value:1,key:2})}}export{R as P};
