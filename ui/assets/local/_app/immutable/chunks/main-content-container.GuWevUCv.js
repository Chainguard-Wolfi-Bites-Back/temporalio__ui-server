import{D as g,s as W,z as S,a1 as lo,e as E,b as H,d as I,g as b,j as k,I as V,k as F,E as M,A as O,a as R,h as U,W as Y,l as z,c as A,p as Z,m as ro,u as w,q as x,r as $,v as ao,w as B}from"./scheduler.IHo1m08M.js";import{S as J,i as K,c as y,a as L,m as j,t as v,b as p,d as D,g as co,e as fo}from"./index.4UXyTqh8.js";import{w as q}from"./entry.DhsdgYHq.js";import{h as uo}from"./has.Hk4nWl3x.js";import{f as mo,a as To}from"./events.f0xTKu15.js";import{g as no,a as so}from"./spread.rEx3vLA9.js";import{B as io}from"./button.ht5JWjxk.js";const ho=t=>t===null||typeof t!="object"||Array.isArray(t)?!1:!!uo(t,"activityType"),N=200,G=q(0),P=q(N),d=q([]),h=q([]),_o=()=>{h.set([]),d.set([]),G.set(0),P.set(N)},Mo=()=>{h.set([]),d.set([])},Oo=t=>{d.set([]),g(h).includes(t.id)?h.set(g(h).filter(o=>o!==t.id)):h.set([...g(h),t.id])},No=t=>{d.set([]),g(h).includes(t.id)?h.set([]):h.set([t.id])},Wo=t=>{h.set([]),g(d).includes(t.id)?d.set([]):d.set([t.id])},Fo=(t,o)=>{if(h.set([]),ho(t)){d.set(g(d).filter(l=>l!==t.activityId));return}if(g(d).includes(t.id))d.set(g(d).filter(l=>l!==t.id));else{const l=g(d).find(s=>o==null?void 0:o.eventIds.has(s));l?d.set([...g(d).filter(s=>s!==l),t.id]):d.set([...g(d),t.id])}};function go(t){let o,l,s;const r=[{size:"sm"},{variant:"primary"},{leadingIcon:"arrow-down"},t[2]];let i={};for(let e=0;e<r.length;e+=1)i=S(i,r[e]);return l=new io({props:i}),l.$on("click",function(){lo(t[1])&&t[1].apply(this,arguments)}),{c(){o=E("div"),y(l.$$.fragment),this.h()},l(e){o=H(e,"DIV",{class:!0});var n=I(o);L(l.$$.fragment,n),n.forEach(b),this.h()},h(){k(o,"class","jump-to-bottom relative svelte-1a615g3"),V(o,"hidden",t[0])},m(e,n){F(e,o,n),j(l,o,null),s=!0},p(e,[n]){t=e;const u=n&4?no(r,[r[0],r[1],r[2],so(t[2])]):{};l.$set(u),(!s||n&1)&&V(o,"hidden",t[0])},i(e){s||(v(l.$$.fragment,e),s=!0)},o(e){p(l.$$.fragment,e),s=!1},d(e){e&&b(o),D(l)}}}function vo(t,o,l){const s=["hidden","onScrollToBottomClick"];let r=M(o,s),{hidden:i}=o,{onScrollToBottomClick:e}=o;return t.$$set=n=>{o=S(S({},o),O(n)),l(2,r=M(o,s)),"hidden"in n&&l(0,i=n.hidden),"onScrollToBottomClick"in n&&l(1,e=n.onScrollToBottomClick)},[i,e,r]}class bo extends J{constructor(o){super(),K(this,o,vo,go,W,{hidden:0,onScrollToBottomClick:1})}}function po(t){let o,l,s;const r=[{size:"sm"},{variant:"primary"},{leadingIcon:"arrow-up"},t[2]];let i={};for(let e=0;e<r.length;e+=1)i=S(i,r[e]);return l=new io({props:i}),l.$on("click",function(){lo(t[1])&&t[1].apply(this,arguments)}),{c(){o=E("div"),y(l.$$.fragment),this.h()},l(e){o=H(e,"DIV",{});var n=I(o);L(l.$$.fragment,n),n.forEach(b),this.h()},h(){V(o,"invisible",t[0])},m(e,n){F(e,o,n),j(l,o,null),s=!0},p(e,[n]){t=e;const u=n&4?no(r,[r[0],r[1],r[2],so(t[2])]):{};l.$set(u),(!s||n&1)&&V(o,"invisible",t[0])},i(e){s||(v(l.$$.fragment,e),s=!0)},o(e){p(l.$$.fragment,e),s=!1},d(e){e&&b(o),D(l)}}}function So(t,o,l){const s=["hidden","onScrollToTopClick"];let r=M(o,s),{hidden:i}=o,{onScrollToTopClick:e}=o;return t.$$set=n=>{o=S(S({},o),O(n)),l(2,r=M(o,s)),"hidden"in n&&l(0,i=n.hidden),"onScrollToTopClick"in n&&l(1,e=n.onScrollToTopClick)},[i,e,r]}class ko extends J{constructor(o){super(),K(this,o,So,po,W,{hidden:0,onScrollToTopClick:1})}}function oo(t){let o,l;return o=new bo({props:{hidden:t[1],onScrollToBottomClick:t[3],"aria-label":t[5]}}),{c(){y(o.$$.fragment)},l(s){L(o.$$.fragment,s)},m(s,r){j(o,s,r),l=!0},p(s,r){const i={};r&2&&(i.hidden=s[1]),r&8&&(i.onScrollToBottomClick=s[3]),r&32&&(i["aria-label"]=s[5]),o.$set(i)},i(s){l||(v(o.$$.fragment,s),l=!0)},o(s){p(o.$$.fragment,s),l=!1},d(s){D(o,s)}}}function Co(t){let o,l,s,r,i;l=new ko({props:{hidden:t[0],onScrollToTopClick:t[2],"aria-label":t[4]}});let e=t[6].length&&oo(t);return{c(){o=E("div"),y(l.$$.fragment),s=R(),e&&e.c(),this.h()},l(n){o=H(n,"DIV",{id:!0,class:!0});var u=I(o);L(l.$$.fragment,u),s=U(u),e&&e.l(u),u.forEach(b),this.h()},h(){k(o,"id","scroll-container"),k(o,"class",r=Y(t[7].class)+" svelte-1qpv1pk")},m(n,u){F(n,o,u),j(l,o,null),z(o,s),e&&e.m(o,null),i=!0},p(n,[u]){const T={};u&1&&(T.hidden=n[0]),u&4&&(T.onScrollToTopClick=n[2]),u&16&&(T["aria-label"]=n[4]),l.$set(T),n[6].length?e?(e.p(n,u),u&64&&v(e,1)):(e=oo(n),e.c(),v(e,1),e.m(o,null)):e&&(co(),p(e,1,1,()=>{e=null}),fo()),(!i||u&128&&r!==(r=Y(n[7].class)+" svelte-1qpv1pk"))&&k(o,"class",r)},i(n){i||(v(l.$$.fragment,n),v(e),i=!0)},o(n){p(l.$$.fragment,n),p(e),i=!1},d(n){n&&b(o),D(l),e&&e.d()}}}function Bo(t,o,l){let s;A(t,mo,c=>l(6,s=c));let{scrollToTopHidden:r=!0}=o,{scrollToBottomHidden:i=!1}=o,{onScrollToTopClick:e}=o,{onScrollToBottomClick:n}=o,{scrollToTopAriaLabel:u}=o,{scrollToBottomAriaLabel:T}=o;return t.$$set=c=>{l(7,o=S(S({},o),O(c))),"scrollToTopHidden"in c&&l(0,r=c.scrollToTopHidden),"scrollToBottomHidden"in c&&l(1,i=c.scrollToBottomHidden),"onScrollToTopClick"in c&&l(2,e=c.onScrollToTopClick),"onScrollToBottomClick"in c&&l(3,n=c.onScrollToBottomClick),"scrollToTopAriaLabel"in c&&l(4,u=c.scrollToTopAriaLabel),"scrollToBottomAriaLabel"in c&&l(5,T=c.scrollToBottomAriaLabel)},o=O(o),[r,i,e,n,u,T,s,o]}class Ao extends J{constructor(o){super(),K(this,o,Bo,Co,W,{scrollToTopHidden:0,scrollToBottomHidden:1,onScrollToTopClick:2,onScrollToBottomClick:3,scrollToTopAriaLabel:4,scrollToBottomAriaLabel:5})}}const Eo=t=>({}),to=t=>({});function Ho(t){let o,l,s,r,i,e,n,u;const T=t[5].default,c=Z(T,t,t[4],null),C=t[5].main,m=Z(C,t,t[4],to);return i=new Ao({props:{scrollToTopHidden:t[0],scrollToBottomHidden:Io,onScrollToTopClick:t[1],onScrollToBottomClick:t[2],scrollToTopAriaLabel:"Scroll to top",scrollToBottomAriaLabel:"Scroll to bottom"}}),{c(){o=E("div"),c&&c.c(),l=R(),s=E("main"),m&&m.c(),r=R(),y(i.$$.fragment),this.h()},l(f){o=H(f,"DIV",{id:!0,class:!0});var a=I(o);c&&c.l(a),l=U(a),s=H(a,"MAIN",{id:!0});var _=I(s);m&&m.l(_),_.forEach(b),r=U(a),L(i.$$.fragment,a),a.forEach(b),this.h()},h(){k(s,"id","content"),k(o,"id","content-wrapper"),k(o,"class","relative h-screen w-max flex-auto overflow-auto")},m(f,a){F(f,o,a),c&&c.m(o,null),z(o,l),z(o,s),m&&m.m(s,null),z(o,r),j(i,o,null),e=!0,n||(u=ro(o,"scroll",t[3]),n=!0)},p(f,[a]){c&&c.p&&(!e||a&16)&&w(c,T,f,f[4],e?$(T,f[4],a,null):x(f[4]),null),m&&m.p&&(!e||a&16)&&w(m,C,f,f[4],e?$(C,f[4],a,Eo):x(f[4]),to);const _={};a&1&&(_.scrollToTopHidden=f[0]),i.$set(_)},i(f){e||(v(c,f),v(m,f),v(i.$$.fragment,f),e=!0)},o(f){p(c,f),p(m,f),p(i.$$.fragment,f),e=!1},d(f){f&&b(o),c&&c.d(f),m&&m.d(f),D(i),n=!1,u()}}}const eo=q(0);let Io=!1,yo=150;function Q(){return document.getElementById("content-wrapper")}function Lo(t,o,l){let s,r=ao,i,e,n;A(t,eo,a=>l(6,s=a)),A(t,P,a=>l(7,i=a)),A(t,G,a=>l(8,e=a)),A(t,To,a=>l(9,n=a)),t.$$.on_destroy.push(()=>r());let{$$slots:u={},$$scope:T}=o,c=!0;function C(){var a;B(G,e=0,e),B(P,i=N,i),(a=Q())===null||a===void 0||a.scrollTo(0,0)}function m(){var a,_;const X=n==null?void 0:n.length;X&&(_o(),B(P,i=X,i),B(G,e=i-N,e)),(a=Q())===null||a===void 0||a.scrollTo(0,(_=Q())===null||_===void 0?void 0:_.scrollHeight)}function f(a){const _=a.target;B(eo,s=_.scrollTop,s),l(0,c=s<yo)}return t.$$set=a=>{"$$scope"in a&&l(4,T=a.$$scope)},[c,C,m,f,T,u]}class Jo extends J{constructor(o){super(),K(this,o,Lo,Ho,W,{})}}export{Jo as M,Wo as a,G as b,Mo as c,eo as d,P as e,N as f,Oo as g,No as h,ho as i,_o as j,h as k,d as l,Fo as s};
