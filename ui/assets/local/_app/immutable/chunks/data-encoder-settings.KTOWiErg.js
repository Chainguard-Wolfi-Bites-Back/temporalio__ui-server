import{s as me,e as q,a as O,b as H,d as R,h as F,g as C,j as E,D as x,Y as be,k as M,l as k,Z as ve,m as ne,F as We,G as Xe,t as z,f as J,n as oe,p as Ye,u as Ze,q as ze,r as Je,B as re,L as le,V as se,v as de,x as ke,c as $,_ as Ke,ae as Qe,$ as Ue,w as U}from"./scheduler.78ThUSKQ.js";import{S as pe,i as ge,c as W,a as X,m as Y,t as I,g as Pe,b as B,e as je,d as Z,f as ie,h as ye}from"./index.G2Max4V_.js";import{L as $e}from"./label.HmJE01Em.js";import{T as we}from"./toggle-switch.2Fc58pRH.js";import{t as V}from"./translate.HrioCK44.js";import{o as Ee,i as Ce,p as Te,c as De,v as xe,d as et}from"./data-encoder-config.gt6y0r6O.js";import{r as Ve}from"./workflow-run.i9R6U3GA.js";import{d as tt}from"./menu.zjapZZ1D.js";import{L as nt}from"./link.8Fq0E5vj.js";import{B as Le}from"./button.S2NULlON.js";import{A as lt}from"./accordion.NcdlnJ20.js";import{p as st}from"./stores.DJqO8c3n.js";import{a as it}from"./index.GCKs2DhI.js";import{w as Oe}from"./entry.e-bJqD8Y.js";import{R as at,a as Ae}from"./radio-input.xgtwc0b0.js";const rt=l=>({}),Se=l=>({});function Ie(l){let n,e;return{c(){n=q("p"),e=z(l[11]),this.h()},l(t){n=H(t,"P",{class:!0});var i=R(n);e=J(i,l[11]),i.forEach(C),this.h()},h(){E(n,"class","pb-2 text-sm")},m(t,i){M(t,n,i),k(n,e)},p(t,i){i&2048&&oe(e,t[11])},d(t){t&&C(n)}}}function qe(l){var p;let n,e,t=(((p=l[0])==null?void 0:p.length)??0)+"",i,a,s;return{c(){n=q("span"),e=q("span"),i=z(t),a=z(" / "),s=z(l[12]),this.h()},l(d){n=H(d,"SPAN",{class:!0});var f=R(n);e=H(f,"SPAN",{class:!0});var u=R(e);i=J(u,t),u.forEach(C),a=J(f," / "),s=J(f,l[12]),f.forEach(C),this.h()},h(){var d,f;E(e,"class","text-blue-700 svelte-a17n6a"),x(e,"warn",l[12]-((d=l[0])==null?void 0:d.length)<=5),x(e,"error",l[12]===((f=l[0])==null?void 0:f.length)),E(n,"class","count svelte-a17n6a")},m(d,f){M(d,n,f),k(n,e),k(e,i),k(n,a),k(n,s)},p(d,f){var u,b,T;f&1&&t!==(t=(((u=d[0])==null?void 0:u.length)??0)+"")&&oe(i,t),f&4097&&x(e,"warn",d[12]-((b=d[0])==null?void 0:b.length)<=5),f&4097&&x(e,"error",d[12]===((T=d[0])==null?void 0:T.length)),f&4096&&oe(s,d[12])},d(d){d&&C(n)}}}function He(l){let n,e,t=l[2]&&Re(l);const i=l[15].error,a=Ye(i,l,l[14],Se);return{c(){t&&t.c(),n=O(),a&&a.c()},l(s){t&&t.l(s),n=F(s),a&&a.l(s)},m(s,p){t&&t.m(s,p),M(s,n,p),a&&a.m(s,p),e=!0},p(s,p){s[2]?t?t.p(s,p):(t=Re(s),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null),a&&a.p&&(!e||p&16384)&&Ze(a,i,s,s[14],e?Je(i,s[14],p,rt):ze(s[14]),Se)},i(s){e||(I(a,s),e=!0)},o(s){B(a,s),e=!1},d(s){s&&C(n),t&&t.d(s),a&&a.d(s)}}}function Re(l){let n,e;return{c(){n=q("p"),e=z(l[2])},l(t){n=H(t,"P",{});var i=R(n);e=J(i,l[2]),i.forEach(C)},m(t,i){M(t,n,i),k(n,e)},p(t,i){i&4&&oe(e,t[2])},d(t){t&&C(n)}}}function ot(l){let n,e,t,i,a,s,p,d,f,u,b,T,v,S,N;e=new $e({props:{required:l[10],hidden:l[8],label:l[7],for:l[9]}});let g=l[11]&&Ie(l),h=l[12]&&!l[1]&&qe(l),_=!l[3]&&He(l);return{c(){n=q("div"),W(e.$$.fragment),t=O(),g&&g.c(),i=O(),a=q("div"),s=q("textarea"),d=O(),h&&h.c(),f=O(),u=q("div"),_&&_.c(),this.h()},l(o){n=H(o,"DIV",{class:!0});var r=R(n);X(e.$$.fragment,r),t=F(r),g&&g.l(r),i=F(r),a=H(r,"DIV",{class:!0});var w=R(a);s=H(w,"TEXTAREA",{class:!0,id:!0,placeholder:!0,rows:!0,spellcheck:!0,maxlength:!0}),R(s).forEach(C),d=F(w),h&&h.l(w),w.forEach(C),f=F(r),u=H(r,"DIV",{class:!0,"aria-live":!0});var L=R(u);_&&_.l(L),L.forEach(C),r.forEach(C),this.h()},h(){E(s,"class","surface-input min-h-fit w-full rounded-lg border-2 border-subtle px-3 py-2 font-mono text-sm focus-visible:border-information focus-visible:shadow-[0_0_0_4px_rgb(97,115,243,0.7)] focus-visible:outline-none enabled:hover:border-information svelte-a17n6a"),E(s,"id",l[9]),s.disabled=l[1],E(s,"placeholder",l[4]),E(s,"rows",l[5]),E(s,"spellcheck",l[6]),E(s,"maxlength",p=l[12]>0?l[12]:void 0),x(s,"error",!l[3]),E(a,"class","relative"),E(u,"class","error-msg svelte-a17n6a"),E(u,"aria-live",b=l[3]?"off":"assertive"),x(u,"min-width",l[12]),E(n,"class",T=be(l[13])+" svelte-a17n6a")},m(o,r){M(o,n,r),Y(e,n,null),k(n,t),g&&g.m(n,null),k(n,i),k(n,a),k(a,s),ve(s,l[0]),k(a,d),h&&h.m(a,null),k(n,f),k(n,u),_&&_.m(u,null),v=!0,S||(N=[ne(s,"input",l[21]),ne(s,"input",l[16]),ne(s,"change",l[17]),ne(s,"focus",l[18]),ne(s,"blur",l[19]),ne(s,"keydown",We(l[20]))],S=!0)},p(o,[r]){const w={};r&1024&&(w.required=o[10]),r&256&&(w.hidden=o[8]),r&128&&(w.label=o[7]),r&512&&(w.for=o[9]),e.$set(w),o[11]?g?g.p(o,r):(g=Ie(o),g.c(),g.m(n,i)):g&&(g.d(1),g=null),(!v||r&512)&&E(s,"id",o[9]),(!v||r&2)&&(s.disabled=o[1]),(!v||r&16)&&E(s,"placeholder",o[4]),(!v||r&32)&&E(s,"rows",o[5]),(!v||r&64)&&E(s,"spellcheck",o[6]),(!v||r&4096&&p!==(p=o[12]>0?o[12]:void 0))&&E(s,"maxlength",p),r&1&&ve(s,o[0]),(!v||r&8)&&x(s,"error",!o[3]),o[12]&&!o[1]?h?h.p(o,r):(h=qe(o),h.c(),h.m(a,null)):h&&(h.d(1),h=null),o[3]?_&&(Pe(),B(_,1,1,()=>{_=null}),je()):_?(_.p(o,r),r&8&&I(_,1)):(_=He(o),_.c(),I(_,1),_.m(u,null)),(!v||r&8&&b!==(b=o[3]?"off":"assertive"))&&E(u,"aria-live",b),(!v||r&4096)&&x(u,"min-width",o[12]),(!v||r&8192&&T!==(T=be(o[13])+" svelte-a17n6a"))&&E(n,"class",T)},i(o){v||(I(e.$$.fragment,o),I(_),v=!0)},o(o){B(e.$$.fragment,o),B(_),v=!1},d(o){o&&C(n),Z(e),g&&g.d(),h&&h.d(),_&&_.d(),S=!1,Xe(N)}}}function dt(l,n,e){let{$$slots:t={},$$scope:i}=n,{disabled:a=!1}=n,{error:s=""}=n,{isValid:p=!0}=n,{placeholder:d=""}=n,{rows:f=5}=n,{spellcheck:u=null}=n,{value:b}=n,{label:T}=n,{labelHidden:v=!1}=n,{id:S}=n,{required:N=!1}=n,{description:g=""}=n,{maxLength:h=0}=n,{class:_="text-primary"}=n;function o(c){re.call(this,l,c)}function r(c){re.call(this,l,c)}function w(c){re.call(this,l,c)}function L(c){re.call(this,l,c)}function j(c){re.call(this,l,c)}function P(){b=this.value,e(0,b)}return l.$$set=c=>{"disabled"in c&&e(1,a=c.disabled),"error"in c&&e(2,s=c.error),"isValid"in c&&e(3,p=c.isValid),"placeholder"in c&&e(4,d=c.placeholder),"rows"in c&&e(5,f=c.rows),"spellcheck"in c&&e(6,u=c.spellcheck),"value"in c&&e(0,b=c.value),"label"in c&&e(7,T=c.label),"labelHidden"in c&&e(8,v=c.labelHidden),"id"in c&&e(9,S=c.id),"required"in c&&e(10,N=c.required),"description"in c&&e(11,g=c.description),"maxLength"in c&&e(12,h=c.maxLength),"class"in c&&e(13,_=c.class),"$$scope"in c&&e(14,i=c.$$scope)},[b,a,s,p,d,f,u,T,v,S,N,g,h,_,i,t,o,r,w,L,j,P]}class ft extends pe{constructor(n){super(),ge(this,n,dt,ot,me,{disabled:1,error:2,isValid:3,placeholder:4,rows:5,spellcheck:6,value:0,label:7,labelHidden:8,id:9,required:10,description:11,maxLength:12,class:13})}}function Be(l){let n,e=V("data-encoder.include-cross-origin-credentials-warning")+"",t;return{c(){n=q("small"),t=z(e),this.h()},l(i){n=H(i,"SMALL",{"data-testid":!0});var a=R(n);t=J(a,e),a.forEach(C),this.h()},h(){E(n,"data-testid","data-encoder-cross-origin-credentials")},m(i,a){M(i,n,a),k(n,t)},p:de,d(i){i&&C(n)}}}function ct(l){let n,e,t,i,a,s,p,d,f,u,b,T;function v(r){l[4](r)}let S={id:"data-encoder-endpoint-input",rows:3,placeholder:V("data-encoder.endpoint-placeholder"),error:l[3],isValid:!l[3],label:V("data-encoder.endpoint-title"),description:V("data-encoder.endpoint-description")};l[0]!==void 0&&(S.value=l[0]),t=new ft({props:S}),le.push(()=>ie(t,"value",v));function N(r){l[5](r)}let g={label:V("data-encoder.pass-access-token-label"),id:"pass-access-token","data-testid":"data-encoder-pass-access-token"};l[1]!==void 0&&(g.checked=l[1]),s=new we({props:g}),le.push(()=>ie(s,"checked",N));function h(r){l[6](r)}let _={label:V("data-encoder.include-cross-origin-credentials-label"),id:"pass-access-credentials","data-testid":"data-encoder-include-credentials"};l[2]!==void 0&&(_.checked=l[2]),f=new we({props:_}),le.push(()=>ie(f,"checked",h));let o=l[2]&&Be();return{c(){n=q("div"),e=q("div"),W(t.$$.fragment),a=O(),W(s.$$.fragment),d=O(),W(f.$$.fragment),b=O(),o&&o.c(),this.h()},l(r){n=H(r,"DIV",{class:!0});var w=R(n);e=H(w,"DIV",{class:!0});var L=R(e);X(t.$$.fragment,L),a=F(L),X(s.$$.fragment,L),d=F(L),X(f.$$.fragment,L),b=F(L),o&&o.l(L),L.forEach(C),w.forEach(C),this.h()},h(){E(e,"class","flex flex-col gap-2"),E(n,"class","flex flex-col gap-4")},m(r,w){M(r,n,w),k(n,e),Y(t,e,null),k(e,a),Y(s,e,null),k(e,d),Y(f,e,null),k(e,b),o&&o.m(e,null),T=!0},p(r,[w]){const L={};w&8&&(L.error=r[3]),w&8&&(L.isValid=!r[3]),!i&&w&1&&(i=!0,L.value=r[0],se(()=>i=!1)),t.$set(L);const j={};!p&&w&2&&(p=!0,j.checked=r[1],se(()=>p=!1)),s.$set(j);const P={};!u&&w&4&&(u=!0,P.checked=r[2],se(()=>u=!1)),f.$set(P),r[2]?o?o.p(r,w):(o=Be(),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(r){T||(I(t.$$.fragment,r),I(s.$$.fragment,r),I(f.$$.fragment,r),T=!0)},o(r){B(t.$$.fragment,r),B(s.$$.fragment,r),B(f.$$.fragment,r),T=!1},d(r){r&&C(n),Z(t),Z(s),Z(f),o&&o.d()}}}function ut(l,n,e){let{endpoint:t=""}=n,{passToken:i=!1}=n,{includeCreds:a=!1}=n,{error:s=""}=n;function p(u){t=u,e(0,t)}function d(u){i=u,e(1,i)}function f(u){a=u,e(2,a)}return l.$$set=u=>{"endpoint"in u&&e(0,t=u.endpoint),"passToken"in u&&e(1,i=u.passToken),"includeCreds"in u&&e(2,a=u.includeCreds),"error"in u&&e(3,s=u.error)},[t,i,a,s,p,d,f]}class _t extends pe{constructor(n){super(),ge(this,n,ut,ct,me,{endpoint:0,passToken:1,includeCreds:2,error:3})}}const mt=l=>l.replace(/\/+$/,"");function Ne(l){let n,e,t,i,a=V("common.codec-server")+"",s,p,d,f=V("data-encoder.codec-server-description-prefix")+"",u,b,T,v=V("data-encoder.codec-server-description-suffix",{level:l[5]})+"",S,N,g,h,_,o,r,w,L,j,P,c,K,D,ue,ae,_e,he;b=new nt({props:{href:"https://docs.temporal.io/dataconversion#codec-server",newTab:!0,$$slots:{default:[pt]},$$scope:{ctx:l}}}),g=new lt({props:{"data-testid":"override-accordion",title:l[6]?V("data-encoder.browser-override-description",{level:l[5]}):V("data-encoder.no-browser-override-description",{level:l[5]}),$$slots:{default:[ht]},$$scope:{ctx:l}}});function Fe(m){l[14](m)}function Ge(m){l[15](m)}function Me(m){l[16](m)}let fe={error:l[4]};return l[0]!==void 0&&(fe.endpoint=l[0]),l[1]!==void 0&&(fe.passToken=l[1]),l[3]!==void 0&&(fe.includeCreds=l[3]),_=new _t({props:fe}),le.push(()=>ie(_,"endpoint",Fe)),le.push(()=>ie(_,"passToken",Ge)),le.push(()=>ie(_,"includeCreds",Me)),P=new Le({props:{disabled:!!l[4],"data-testid":"confirm-data-encoder-button",type:"submit",$$slots:{default:[bt]},$$scope:{ctx:l}}}),P.$on("click",l[9]),K=new Le({props:{variant:"ghost","data-testid":"cancel-data-encoder-button",$$slots:{default:[vt]},$$scope:{ctx:l}}}),K.$on("click",l[8]),{c(){n=q("aside"),e=q("div"),t=q("div"),i=q("h3"),s=z(a),p=O(),d=q("p"),u=z(f),W(b.$$.fragment),T=O(),S=z(v),N=O(),W(g.$$.fragment),h=O(),W(_.$$.fragment),L=O(),j=q("div"),W(P.$$.fragment),c=O(),W(K.$$.fragment),this.h()},l(m){n=H(m,"ASIDE",{class:!0});var A=R(n);e=H(A,"DIV",{class:!0});var G=R(e);t=H(G,"DIV",{class:!0});var te=R(t);i=H(te,"H3",{"data-testid":!0,class:!0});var y=R(i);s=J(y,a),y.forEach(C),te.forEach(C),p=F(G),d=H(G,"P",{class:!0});var Q=R(d);u=J(Q,f),X(b.$$.fragment,Q),T=F(Q),S=J(Q,v),Q.forEach(C),N=F(G),X(g.$$.fragment,G),h=F(G),X(_.$$.fragment,G),L=F(G),j=H(G,"DIV",{class:!0});var ee=R(j);X(P.$$.fragment,ee),c=F(ee),X(K.$$.fragment,ee),ee.forEach(C),G.forEach(C),A.forEach(C),this.h()},h(){E(i,"data-testid","data-encoder-title"),E(i,"class","text-xl"),E(t,"class","flex items-center justify-between space-x-2"),E(d,"class","text-sm"),E(j,"class","flex items-center gap-4"),E(e,"class","flex w-full flex-col gap-4 xl:w-1/2"),E(n,"class","surface-primary relative flex h-[540px] w-full flex-col gap-6 overflow-auto border-b border-subtle p-12")},m(m,A){M(m,n,A),k(n,e),k(e,t),k(t,i),k(i,s),k(e,p),k(e,d),k(d,u),Y(b,d,null),k(d,T),k(d,S),k(e,N),Y(g,e,null),k(e,h),Y(_,e,null),k(e,L),k(e,j),Y(P,j,null),k(j,c),Y(K,j,null),ae=!0,_e||(he=Ke(D=tt.call(null,n,l[17])),_e=!0)},p(m,A){const G={};A&8388608&&(G.$$scope={dirty:A,ctx:m}),b.$set(G),(!ae||A&32)&&v!==(v=V("data-encoder.codec-server-description-suffix",{level:m[5]})+"")&&oe(S,v);const te={};A&96&&(te.title=m[6]?V("data-encoder.browser-override-description",{level:m[5]}):V("data-encoder.no-browser-override-description",{level:m[5]})),A&8388640&&(te.$$scope={dirty:A,ctx:m}),g.$set(te);const y={};A&16&&(y.error=m[4]),!o&&A&1&&(o=!0,y.endpoint=m[0],se(()=>o=!1)),!r&&A&2&&(r=!0,y.passToken=m[1],se(()=>r=!1)),!w&&A&8&&(w=!0,y.includeCreds=m[3],se(()=>w=!1)),_.$set(y);const Q={};A&16&&(Q.disabled=!!m[4]),A&8388608&&(Q.$$scope={dirty:A,ctx:m}),P.$set(Q);const ee={};A&8388608&&(ee.$$scope={dirty:A,ctx:m}),K.$set(ee),D&&Qe(D.update)&&A&4&&D.update.call(null,m[17])},i(m){ae||(I(b.$$.fragment,m),I(g.$$.fragment,m),I(_.$$.fragment,m),I(P.$$.fragment,m),I(K.$$.fragment,m),m&&(ue||Ue(()=>{ue=ye(n,it,{y:-50,delay:0,duration:500}),ue.start()})),ae=!0)},o(m){B(b.$$.fragment,m),B(g.$$.fragment,m),B(_.$$.fragment,m),B(P.$$.fragment,m),B(K.$$.fragment,m),ae=!1},d(m){m&&C(n),Z(b),Z(g),Z(_),Z(P),Z(K),_e=!1,he()}}}function pt(l){let n=V("common.codec-server")+"",e;return{c(){e=z(n)},l(t){e=J(t,n)},m(t,i){M(t,e,i)},p:de,d(t){t&&C(e)}}}function gt(l){let n,e,t,i;return n=new Ae({props:{id:"use-configuration-endpoint-radio","data-testid":"use-configuration-endpoint-input",value:!1,label:V("data-encoder.no-browser-override-description",{level:l[5]})}}),t=new Ae({props:{id:"use-local-endpoint-radio","data-testid":"use-local-endpoint-input",value:!0,label:V("data-encoder.browser-override-description",{level:l[5]})}}),{c(){W(n.$$.fragment),e=O(),W(t.$$.fragment)},l(a){X(n.$$.fragment,a),e=F(a),X(t.$$.fragment,a)},m(a,s){Y(n,a,s),M(a,e,s),Y(t,a,s),i=!0},p(a,s){const p={};s&32&&(p.label=V("data-encoder.no-browser-override-description",{level:a[5]})),n.$set(p);const d={};s&32&&(d.label=V("data-encoder.browser-override-description",{level:a[5]})),t.$set(d)},i(a){i||(I(n.$$.fragment,a),I(t.$$.fragment,a),i=!0)},o(a){B(n.$$.fragment,a),B(t.$$.fragment,a),i=!1},d(a){a&&C(e),Z(n,a),Z(t,a)}}}function ht(l){let n,e;return n=new at({props:{name:"override",group:l[7],$$slots:{default:[gt]},$$scope:{ctx:l}}}),{c(){W(n.$$.fragment)},l(t){X(n.$$.fragment,t)},m(t,i){Y(n,t,i),e=!0},p(t,i){const a={};i&8388640&&(a.$$scope={dirty:i,ctx:t}),n.$set(a)},i(t){e||(I(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){Z(n,t)}}}function bt(l){let n=V("common.apply")+"",e;return{c(){e=z(n)},l(t){e=J(t,n)},m(t,i){M(t,e,i)},p:de,d(t){t&&C(e)}}}function vt(l){let n=V("common.cancel")+"",e;return{c(){e=z(n)},l(t){e=J(t,n)},m(t,i){M(t,e,i)},p:de,d(t){t&&C(e)}}}function kt(l){let n,e,t=l[2]&&Ne(l);return{c(){t&&t.c(),n=ke()},l(i){t&&t.l(i),n=ke()},m(i,a){t&&t.m(i,a),M(i,n,a),e=!0},p(i,[a]){i[2]?t?(t.p(i,a),a&4&&I(t,1)):(t=Ne(i),t.c(),I(t,1),t.m(n.parentNode,n)):t&&(Pe(),B(t,1,1,()=>{t=null}),je())},i(i){e||(I(t),e=!0)},o(i){B(t),e=!1},d(i){i&&C(n),t&&t.d(i)}}}const ce=Oe(!1);function wt(l,n,e){let t,i,a,s,p,d,f,u=de,b,T,v;$(l,Ve,D=>e(18,a=D)),$(l,st,D=>e(13,s=D)),$(l,Ee,D=>e(19,d=D)),$(l,ce,D=>e(2,f=D)),$(l,Ce,D=>e(20,b=D)),$(l,Te,D=>e(21,T=D)),$(l,De,D=>e(22,v=D)),l.$$.on_destroy.push(()=>u());var S,N,g;let h=v??"",_=T??!1,o=b??!1,r=Oe(d);$(l,r,D=>e(6,p=D));const w=()=>{e(0,h=v),e(1,_=T),e(3,o=b),U(r,p=d,p),U(ce,f=!1,f)},L=()=>{e(4,t=""),U(De,v=mt(h),v),U(Te,T=_,T),U(Ce,b=o,b),U(ce,f=!1,f),U(Ee,d=p,d),s.url.pathname.endsWith("history")&&U(Ve,a=Date.now(),a)};function j(D){h=D,e(0,h)}function P(D){_=D,e(1,_)}function c(D){o=D,e(3,o)}const K=()=>U(ce,f=!1,f);return l.$$.update=()=>{l.$$.dirty&15360&&e(5,i=!(e(12,g=e(11,N=e(10,S=s.data)===null||S===void 0?void 0:S.settings)===null||N===void 0?void 0:N.runtimeEnvironment)===null||g===void 0)&&g.isCloud?V("common.namespaces"):V("common.cluster")),l.$$.dirty&3&&(_&&!xe(h)?e(4,t=V("data-encoder.access-token-https-error")):h&&!et(h)?e(4,t=V("data-encoder.prefix-error")):e(4,t="")),l.$$.dirty&4&&(f||w())},e(4,t=""),[h,_,f,o,t,i,p,r,w,L,S,N,g,s,j,P,c,K]}class jt extends pe{constructor(n){super(),ge(this,n,wt,kt,me,{})}}export{jt as D,ce as v};
