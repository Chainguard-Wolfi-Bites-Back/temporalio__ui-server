import{S as E,b as v,a as k,e as g,f as T,z as q,g as h,n as P,h as I,j as m,k as _,N as y,U as p,m as O,C,p as A,q as D,D as F,u as S,E as j,F as x}from"./index.9b814669.js";import{C as N}from"./code-block.ab025a02.js";import{s as r}from"./parse-with-big-int.0036a80a.js";import{r as l,a as u}from"./route-for-api.ab5d9b26.js";import{v as f}from"./toaster.643dfe05.js";function b(a){let t,n,c,s;return n=new N({props:{copyable:!0,inline:a[2],testId:"schedule-calendar",language:"json",content:r(a[0]||a[1])}}),{c(){t=O("div"),C(n.$$.fragment),this.h()},l(e){t=A(e,"DIV",{class:!0});var o=D(t);F(n.$$.fragment,o),o.forEach(_),this.h()},h(){S(t,"class",c="flex flex-col "+a[3].class)},m(e,o){T(e,t,o),j(n,t,null),s=!0},p(e,o){const i={};o&4&&(i.inline=e[2]),o&3&&(i.content=r(e[0]||e[1])),n.$set(i),(!s||o&8&&c!==(c="flex flex-col "+e[3].class))&&S(t,"class",c)},i(e){s||(m(n.$$.fragment,e),s=!0)},o(e){h(n.$$.fragment,e),s=!1},d(e){e&&_(t),x(n)}}}function w(a){let t=[a[0],a[1]],n,c,s=b(a);return{c(){s.c(),n=g()},l(e){s.l(e),n=g()},m(e,o){s.m(e,o),T(e,n,o),c=!0},p(e,[o]){o&3&&k(t,t=[e[0],e[1]])?(q(),h(s,1,1,P),I(),s=b(e),s.c(),m(s,1),s.m(n.parentNode,n)):s.p(e,o)},i(e){c||(m(s),c=!0)},o(e){h(s),c=!1},d(e){e&&_(n),s.d(e)}}}function z(a,t,n){let{calendar:c=void 0}=t,{interval:s=void 0}=t,{inline:e=!1}=t;return a.$$set=o=>{n(3,t=y(y({},t),p(o))),"calendar"in o&&n(0,c=o.calendar),"interval"in o&&n(1,s=o.interval),"inline"in o&&n(2,e=o.inline)},t=p(t),[c,s,e,t]}class G extends E{constructor(t){super(),v(this,t,z,w,k,{calendar:0,interval:1,inline:2})}}const H=async(a,t=fetch)=>{let n="";const c=i=>{var d;return n=((d=i==null?void 0:i.body)==null?void 0:d.message)??`Error fetching schedules: ${i.status}: ${i.statusText}`},s=l("schedules",{namespace:a}),{schedules:e,nextPageToken:o}=await u(s,{params:{},onError:c,request:t})??{schedules:[],nextPageToken:""};return{schedules:e,nextPageToken:String(o),error:n}};async function J(a,t=fetch){const n=l("schedule",a);return u(n,{request:t})}async function K(a,t=fetch){const n=l("schedule",a);return u(n,{request:t,options:{method:"DELETE"}})}async function M({namespace:a,scheduleId:t,body:n}){let c="";const s=i=>{var d;return c=((d=i==null?void 0:i.body)==null?void 0:d.message)??`Error creating schedule: ${i.status}: ${i.statusText}`},e=l("schedule",{namespace:a,scheduleId:t}),{conflictToken:o}=await u(e,{options:{method:"POST",body:r({request_id:f(),...n})},onError:s});return{conflictToken:o,error:c}}async function Q({namespace:a,scheduleId:t,body:n}){let c="";const s=o=>{var i;return c=((i=o==null?void 0:o.body)==null?void 0:i.message)??`Error editing schedule: ${o.status}: ${o.statusText}`},e=l("schedule.edit",{namespace:a,scheduleId:t});return await u(e,{options:{method:"POST",body:r({request_id:f(),...n})},onError:s}),{error:c}}async function R({namespace:a,scheduleId:t,reason:n}){const c={patch:{pause:n}},s=l("schedule.patch",{namespace:a,scheduleId:t});return await u(s,{options:{method:"POST",body:r({...c,request_id:f()})},onError:e=>console.error(e)})}async function X({namespace:a,scheduleId:t,reason:n}){const c={patch:{unpause:n}},s=l("schedule.patch",{namespace:a,scheduleId:t});return await u(s,{options:{method:"POST",body:r({...c,request_id:f()})}})}async function Y({namespace:a,scheduleId:t,overlapPolicy:n}){const c={patch:{triggerImmediately:{overlapPolicy:n}}},s=l("schedule.patch",{namespace:a,scheduleId:t});return await u(s,{options:{method:"POST",body:r({...c,request_id:f()})}})}export{G as S,J as a,M as c,K as d,Q as e,H as f,R as p,Y as t,X as u};
