import{S as A,i as V,s as v,K as T,L as E,M as I,N as M,g as S,d as U,C as h,o as W}from"./index.bac36631.js";import{p as q}from"./stores.bdd70682.js";import{a as w}from"./auth-user.4216321a.js";import{g as B,e as K,f as L,h as N,d as j}from"./decode-payload.896fb825.js";import{s as _}from"./parse-with-big-int.b2dd742c.js";const z=t=>({decodedValue:t&1}),k=t=>({decodedValue:t[0]});function D(t){let n;const o=t[9].default,s=T(o,t,t[8],k);return{c(){s&&s.c()},l(e){s&&s.l(e)},m(e,d){s&&s.m(e,d),n=!0},p(e,[d]){s&&s.p&&(!n||d&257)&&E(s,o,e,e[8],n?M(o,e[8],d,z):I(e[8]),k)},i(e){n||(S(s,e),n=!0)},o(e){U(s,e),n=!1},d(e){s&&s.d(e)}}}function F(t,n,o){let s,e,d,g,m,c;h(t,w,a=>o(11,m=a)),h(t,q,a=>o(7,c=a));let{$$slots:C={},$$scope:y}=n;var r;let{value:i}=n,{key:l=""}=n,P=l&&(i!=null&&i[l])?i[l]:i,f=_(P);const b=async()=>{try{const a=await N(i,c.params.namespace,g,m.accessToken),u=j(a),p=l&&(u==null?void 0:u[l]);p?o(0,f=_(p)):o(0,f=_(u))}catch{console.error("Could not decode payloads")}};return W(()=>{b()}),t.$$set=a=>{"value"in a&&o(1,i=a.value),"key"in a&&o(2,l=a.key),"$$scope"in a&&o(8,y=a.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&o(6,s=B(c.data.settings)),t.$$.dirty&128&&o(5,e=K(c.data.settings)),t.$$.dirty&128&&o(4,d=L(c.data.settings)),t.$$.dirty&248&&(g={...c.data.settings,codec:{...o(3,r=c.data.settings)===null||r===void 0?void 0:r.codec,endpoint:s,passAccessToken:e,includeCredentials:d}})},[f,i,l,r,d,e,s,c,y,C]}class R extends A{constructor(n){super(),V(this,n,F,D,v,{value:1,key:2})}}export{R as P};
