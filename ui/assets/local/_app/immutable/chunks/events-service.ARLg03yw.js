import{t as u}from"./index.9-j057bB.js";import{i as y}from"./has._Y9Lh-nL.js";import{p as g}from"./paginated.4ejMCrVk.js";import{r as d,a as p}from"./route-for-api.i8iKNpjZ.js";const h=t=>!y(t)||t==="descending"?"events.descending":t==="ascending"?"events.ascending":"events.descending",A=async({namespace:t,workflowId:e,runId:n,sort:s,onStart:r,onUpdate:a,onComplete:o})=>{const c=h(s),i=d(c,{namespace:t,workflowId:e});return(await g(async f=>p(i,{token:f,request:fetch,params:{"execution.runId":n}}),{onStart:r,onUpdate:a,onComplete:o})).history.events},I=async({namespace:t,workflowId:e,runId:n,sort:s,onStart:r,onUpdate:a,onComplete:o})=>{const c=h(s),i=d(c,{namespace:t,workflowId:e}),v=await g(async w=>p(i,{token:w,request:fetch,params:{"execution.runId":n}}),{onStart:r,onUpdate:a,onComplete:o});return await u(v.history.events)},m=async({namespace:t,workflowId:e,runId:n,sort:s})=>{const r=d(`events.${s}`,{namespace:t,workflowId:e});try{return(await p(r,{request:fetch,params:{maximumPageSize:"20","execution.runId":n}})).history.events}catch{return[]}},P=async t=>{const e=await m({...t,sort:"ascending"}),n=await m({...t,sort:"descending"}),[s,r]=await Promise.all([u(e),u(n)]);return{start:s,end:r}};export{P as a,A as b,I as f};
