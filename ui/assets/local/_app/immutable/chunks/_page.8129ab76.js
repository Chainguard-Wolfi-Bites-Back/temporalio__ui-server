import{e as b}from"./workflow-service.b1a9b9c6.js";import{a as v}from"./namespaces-service.b6c6cbf7.js";const k=async function({params:o,url:g}){var c,n,l,f,w;const{searchParams:e}=g;e.has("time-range")||e.set("time-range","1 day");const h=e.get("workflow-id"),d=e.get("workflow-type"),m=e.get("time-range"),u=e.get("status"),t=await v(o.namespace),a=(l=(n=(c=t.config)==null?void 0:c.historyArchivalUri)==null?void 0:n.toLowerCase())==null?void 0:l.startsWith("s3://"),y=a?{}:{workflowId:h,workflowType:d,closeTime:m,executionStatus:u},i=((f=t==null?void 0:t.config)==null?void 0:f.historyArchivalState)==="Enabled",s=((w=t==null?void 0:t.config)==null?void 0:w.visibilityArchivalState)==="Enabled",r=i&&s?await b(o.namespace,y,fetch):null;return{workflows:r?r.workflows:[],namespace:t,archivalEnabled:i,visibilityArchivalEnabled:s,isS3Bucket:a}},S=Object.freeze(Object.defineProperty({__proto__:null,load:k},Symbol.toStringTag,{value:"Module"}));export{S as _,k as l};
