import{S as D,i as H,s as J,Z as B,w as U,P as W,y as x,z as y,A as z,$ as Y,a3 as P,Q as $,g as p,d as v,B as G,C as ee,a1 as T,K as te,L as ne,M as oe,N as re,e as w,b as se,v as ae,f as le,a4 as ue,h as ce,aj as _}from"./index.df672b57.js";import{p as ie}from"./stores.181f31a6.js";import{u as fe}from"./update-query-parameters.0d01a6d8.js";import{S as _e,a as he}from"./simple-select.c28daf86.js";import{h as ge,w as j}from"./singletons.49e0f351.js";function E(t,e,a){const s=t.slice();return s[14]=e[a],s}function Q(t){let e,a;return e=new he({props:{value:t[14]}}),{c(){x(e.$$.fragment)},l(s){y(e.$$.fragment,s)},m(s,n){z(e,s,n),a=!0},p(s,n){const l={};n&1&&(l.value=s[14]),e.$set(l)},i(s){a||(p(e.$$.fragment,s),a=!0)},o(s){v(e.$$.fragment,s),a=!1},d(s){G(e,s)}}}function me(t){let e,a,s=t[0].map(V),n=[];for(let o=0;o<s.length;o+=1)n[o]=Q(E(t,s,o));const l=o=>v(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=w()},l(o){for(let r=0;r<n.length;r+=1)n[r].l(o);e=w()},m(o,r){for(let u=0;u<n.length;u+=1)n[u].m(o,r);se(o,e,r),a=!0},p(o,r){if(r&1){s=o[0].map(V);let u;for(u=0;u<s.length;u+=1){const h=E(o,s,u);n[u]?(n[u].p(h,r),p(n[u],1)):(n[u]=Q(h),n[u].c(),p(n[u],1),n[u].m(e.parentNode,e))}for(ae(),u=s.length;u<n.length;u+=1)l(u);le()}},i(o){if(!a){for(let r=0;r<s.length;r+=1)p(n[r]);a=!0}},o(o){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)v(n[r]);a=!1},d(o){ue(n,o),o&&ce(e)}}}function de(t){let e;const a=t[9].default,s=te(a,t,t[11],null),n=s||me(t);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,o){n&&n.m(l,o),e=!0},p(l,o){s?s.p&&(!e||o&2048)&&ne(s,a,l,l[11],e?re(a,l[11],o,null):oe(l[11]),null):n&&n.p&&(!e||o&1)&&n.p(l,e?o:-1)},i(l){e||(p(n,l),e=!0)},o(l){v(n,l),e=!1},d(l){n&&n.d(l)}}}function pe(t){let e,a,s;const n=[{id:t[2]},t[4],{class:"border-[1px]  outline-none focus-visible:outline focus-visible:outline-blue-700"}];function l(r){t[10](r)}let o={$$slots:{default:[de]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)o=B(o,n[r]);return t[1]!==void 0&&(o.value=t[1]),e=new _e({props:o}),U.push(()=>W(e,"value",l)),e.$on("change",t[3]),{c(){x(e.$$.fragment)},l(r){y(e.$$.fragment,r)},m(r,u){z(e,r,u),s=!0},p(r,[u]){const h=u&20?Y(n,[u&4&&{id:r[2]},u&16&&P(r[4]),n[2]]):{};u&2049&&(h.$$scope={dirty:u,ctx:r}),!a&&u&2&&(a=!0,h.value=r[1],$(()=>a=!1)),e.$set(h)},i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){v(e.$$.fragment,r),s=!1},d(r){G(e,r)}}}const V=t=>t.toString();function be(t,e,a){let s;ee(t,ie,f=>a(12,s=f));let{$$slots:n={},$$scope:l}=e,{label:o}=e,{value:r}=e,{options:u=[]}=e,{parameter:h=null}=e,{position:g=void 0}=e;const M=`${h||o}-${g?`${g}-filter`:"filter"}`;let d=h&&s.url.searchParams.get(h)||r&&r.toString();const b=()=>{fe({parameter:h,value:d,url:s.url}).then(f=>a(5,r=f))};function R(f){d=f,a(1,d)}return t.$$set=f=>{a(4,e=B(B({},e),T(f))),"label"in f&&a(6,o=f.label),"value"in f&&a(5,r=f.value),"options"in f&&a(0,u=f.options),"parameter"in f&&a(7,h=f.parameter),"position"in f&&a(8,g=f.position),"$$scope"in f&&a(11,l=f.$$scope)},e=T(e),[u,d,M,b,e,r,o,h,g,n,R,l]}class Ae extends D{constructor(e){super(),H(this,e,be,pe,J,{label:6,value:5,options:0,parameter:7,position:8})}}const I=100,Z=["100","250","500"],Fe="per-page",Be="page",Ce=Z[Z.length-1],S=(t,e)=>Math.floor(t/e)+1,Ne=(t,e)=>e<=9?new Array(e).fill(0).map((a,s)=>s+1):t<5?[1,2,3,4,5,NaN,e-2,e-1,e]:t>=5&&t<=e-5?[1,2,NaN,t-1,t,t+1,NaN,e-1,e]:t>=e-5?[1,2,NaN,e-5,e-4,e-3,e-2,e-1,e]:[],L=(t,e,a)=>{if(isNaN(t)||t<=1)return 0;if(t>O(e,a)){const s=a.length-e;return s>0?s:0}return Math.floor(e*(t-1))},ve=(t,e,a)=>{const s=S(t,e);return L(s,e,a)},q=(t,e)=>Math.min(t-1,e-1),O=(t,e)=>Math.ceil(e.length/t),A=(t,e)=>isNaN(t)||t<0?0:t<e.length?t:e.length-1,F=(t,e)=>t>=e.length||t<0,Ke=(t=[],e=I,a=0)=>{e=Ie(e);const s=ve(C(a),e,t),n=j(e),l=j(s),o=j(void 0),r=c=>{n.set(C(c))},u=()=>{b(),l.update(c=>{const i=c+_(n);return F(i,t)?c:A(i,t)})},h=()=>{b(),l.update(c=>{const i=c-_(n);return A(i,t)})},g=c=>{const i=_(n),m=L(Number(c),i,t),N=t.slice(m,m+i).length;return _(o)>N-1&&o.set(N-1),l.set(m)},M=c=>{const i=S(Number(c),_(n));g(i)},k=c=>{for(let i=0;i<t.length;i++)if(c(t[i]))return i},d=c=>{const i=k(c);return S(i,_(n))},b=(c=void 0)=>{c===void 0&&o.set(c);const i=t.slice(_(l),_(l)+_(n)).length,m=q(i,_(n));c<=m&&o.set(c)},R=()=>{const c=t.slice(_(l),_(l)+_(n)).length,i=q(c,_(n));_(o)===void 0?o.set(0):_(o)<i&&o.set(_(o)+1)},f=()=>{const c=_(o)>=1?_(o)-1:0;o.set(c)},{subscribe:X}=ge([l,n,o],([c,i,m])=>{const N=O(i,t),K=S(c,i);return{items:t.slice(c,c+i),initialItem:t[0],hasPrevious:!F(c-i,t),hasNext:!F(c+i,t),startingIndex:c,endingIndex:A(c+i-1,t),length:t.length,pageSize:i,currentPage:K,totalPages:N,activeRowIndex:m,pageShortcuts:Ne(K,N)}});return{subscribe:X,adjustPageSize:r,next:u,previous:h,jumpToPage:g,jumpToIndex:M,findIndex:k,findPage:d,nextRow:R,previousRow:f,setActiveRowIndex:b}},Ie=(t=I)=>{const e=C(t);return isNaN(e)||!e?I:e},C=(t=0)=>{const e=Number(t);return isNaN(e)||!e?0:Math.abs(e)};export{Ae as F,Ce as M,Ie as a,Ke as b,Be as c,I as d,Z as o,Fe as p};
