import{s as me,e as q,t as W,a as O,b as B,d as R,f as X,g as E,h as M,j as w,B as Z,Y as be,k as Y,l as k,Z as ve,m as ne,D as Xe,n as ae,E as Ye,p as Ze,u as ze,q as Fe,r as Ge,H as oe,U as le,V as se,v as de,x as ke,c as x,_ as Je,ae as Ke,$ as Qe,w as y}from"./scheduler.yC7E9Oae.js";import{S as pe,i as ge,t as N,g as Pe,b as j,e as je,f as ie,c as F,a as G,m as J,d as K,h as ye}from"./index.OseOCDgU.js";import{T as we}from"./toggle-switch.eLndha6m.js";import{t as D}from"./translate.HrioCK44.js";import{o as Ee,i as Ce,p as Te,c as De,v as $e,d as xe}from"./data-encoder-config.4t7JpqzO.js";import{r as Ve}from"./workflow-run.lpcVoKmi.js";import{d as et}from"./menu.MT1Uu-yc.js";import{L as tt}from"./link.BtQh6e1y.js";import{B as Ae}from"./button.0p6d05Tp.js";import{A as nt}from"./accordion.p8Yv4uNQ.js";import{p as lt}from"./stores.6ehccxjO.js";import{a as st}from"./index.Y2J3Z0Cw.js";import{w as Oe}from"./entry.dkUbn6lb.js";import{R as it,a as Le}from"./radio-input.jc-sLQPc.js";const at=l=>({}),Se=l=>({});function He(l){let n,e;return{c(){n=q("p"),e=W(l[11]),this.h()},l(t){n=B(t,"P",{class:!0});var s=R(n);e=X(s,l[11]),s.forEach(E),this.h()},h(){w(n,"class","pb-2 text-sm")},m(t,s){Y(t,n,s),k(n,e)},p(t,s){s&2048&&ae(e,t[11])},d(t){t&&E(n)}}}function Ie(l){var o;let n,e,t=(((o=l[0])==null?void 0:o.length)??0)+"",s,i,r;return{c(){n=q("span"),e=q("span"),s=W(t),i=W(" / "),r=W(l[12]),this.h()},l(c){n=B(c,"SPAN",{class:!0});var u=R(n);e=B(u,"SPAN",{class:!0});var h=R(e);s=X(h,t),h.forEach(E),i=X(u," / "),r=X(u,l[12]),u.forEach(E),this.h()},h(){var c,u;w(e,"class","text-blue-700 svelte-ial24b"),Z(e,"warn",l[12]-((c=l[0])==null?void 0:c.length)<=5),Z(e,"error",l[12]===((u=l[0])==null?void 0:u.length)),w(n,"class","count svelte-ial24b")},m(c,u){Y(c,n,u),k(n,e),k(e,s),k(n,i),k(n,r)},p(c,u){var h,p,C;u&1&&t!==(t=(((h=c[0])==null?void 0:h.length)??0)+"")&&ae(s,t),u&4097&&Z(e,"warn",c[12]-((p=c[0])==null?void 0:p.length)<=5),u&4097&&Z(e,"error",c[12]===((C=c[0])==null?void 0:C.length)),u&4096&&ae(r,c[12])},d(c){c&&E(n)}}}function qe(l){let n,e,t=l[2]&&Be(l);const s=l[15].error,i=Ze(s,l,l[14],Se);return{c(){t&&t.c(),n=O(),i&&i.c()},l(r){t&&t.l(r),n=M(r),i&&i.l(r)},m(r,o){t&&t.m(r,o),Y(r,n,o),i&&i.m(r,o),e=!0},p(r,o){r[2]?t?t.p(r,o):(t=Be(r),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null),i&&i.p&&(!e||o&16384)&&ze(i,s,r,r[14],e?Ge(s,r[14],o,at):Fe(r[14]),Se)},i(r){e||(N(i,r),e=!0)},o(r){j(i,r),e=!1},d(r){r&&E(n),t&&t.d(r),i&&i.d(r)}}}function Be(l){let n,e;return{c(){n=q("p"),e=W(l[2])},l(t){n=B(t,"P",{});var s=R(n);e=X(s,l[2]),s.forEach(E)},m(t,s){Y(t,n,s),k(n,e)},p(t,s){s&4&&ae(e,t[2])},d(t){t&&E(n)}}}function rt(l){let n,e,t,s,i,r,o,c,u,h,p,C,A,b,P,L,v=l[11]&&He(l),m=l[12]&&!l[1]&&Ie(l),f=!l[3]&&qe(l);return{c(){n=q("div"),e=q("label"),t=W(l[7]),s=O(),v&&v.c(),i=O(),r=q("div"),o=q("textarea"),u=O(),m&&m.c(),h=O(),p=q("div"),f&&f.c(),this.h()},l(a){n=B(a,"DIV",{class:!0});var d=R(n);e=B(d,"LABEL",{for:!0,class:!0});var V=R(e);t=X(V,l[7]),V.forEach(E),s=M(d),v&&v.l(d),i=M(d),r=B(d,"DIV",{class:!0});var H=R(r);o=B(H,"TEXTAREA",{class:!0,id:!0,placeholder:!0,rows:!0,spellcheck:!0,maxlength:!0}),R(o).forEach(E),u=M(H),m&&m.l(H),H.forEach(E),h=M(d),p=B(d,"DIV",{class:!0,"aria-live":!0});var I=R(p);f&&f.l(I),I.forEach(E),d.forEach(E),this.h()},h(){w(e,"for",l[9]),w(e,"class","svelte-ial24b"),Z(e,"required",l[10]),Z(e,"sr-only",l[8]),w(o,"class","surface-input min-h-fit w-full rounded-lg border-2 border-subtle px-3 py-2 font-mono text-sm focus-visible:border-information focus-visible:shadow-[0_0_0_4px_rgb(97,115,243,0.7)] focus-visible:outline-none enabled:hover:border-information svelte-ial24b"),w(o,"id",l[9]),o.disabled=l[1],w(o,"placeholder",l[4]),w(o,"rows",l[5]),w(o,"spellcheck",l[6]),w(o,"maxlength",c=l[12]>0?l[12]:void 0),Z(o,"error",!l[3]),w(r,"class","relative"),w(p,"class","error-msg svelte-ial24b"),w(p,"aria-live",C=l[3]?"off":"assertive"),Z(p,"min-width",l[12]),w(n,"class",A=be(l[13])+" svelte-ial24b")},m(a,d){Y(a,n,d),k(n,e),k(e,t),k(n,s),v&&v.m(n,null),k(n,i),k(n,r),k(r,o),ve(o,l[0]),k(r,u),m&&m.m(r,null),k(n,h),k(n,p),f&&f.m(p,null),b=!0,P||(L=[ne(o,"input",l[21]),ne(o,"input",l[16]),ne(o,"change",l[17]),ne(o,"focus",l[18]),ne(o,"blur",l[19]),ne(o,"keydown",Xe(l[20]))],P=!0)},p(a,[d]){(!b||d&128)&&ae(t,a[7]),(!b||d&512)&&w(e,"for",a[9]),(!b||d&1024)&&Z(e,"required",a[10]),(!b||d&256)&&Z(e,"sr-only",a[8]),a[11]?v?v.p(a,d):(v=He(a),v.c(),v.m(n,i)):v&&(v.d(1),v=null),(!b||d&512)&&w(o,"id",a[9]),(!b||d&2)&&(o.disabled=a[1]),(!b||d&16)&&w(o,"placeholder",a[4]),(!b||d&32)&&w(o,"rows",a[5]),(!b||d&64)&&w(o,"spellcheck",a[6]),(!b||d&4096&&c!==(c=a[12]>0?a[12]:void 0))&&w(o,"maxlength",c),d&1&&ve(o,a[0]),(!b||d&8)&&Z(o,"error",!a[3]),a[12]&&!a[1]?m?m.p(a,d):(m=Ie(a),m.c(),m.m(r,null)):m&&(m.d(1),m=null),a[3]?f&&(Pe(),j(f,1,1,()=>{f=null}),je()):f?(f.p(a,d),d&8&&N(f,1)):(f=qe(a),f.c(),N(f,1),f.m(p,null)),(!b||d&8&&C!==(C=a[3]?"off":"assertive"))&&w(p,"aria-live",C),(!b||d&4096)&&Z(p,"min-width",a[12]),(!b||d&8192&&A!==(A=be(a[13])+" svelte-ial24b"))&&w(n,"class",A)},i(a){b||(N(f),b=!0)},o(a){j(f),b=!1},d(a){a&&E(n),v&&v.d(),m&&m.d(),f&&f.d(),P=!1,Ye(L)}}}function ot(l,n,e){let{$$slots:t={},$$scope:s}=n,{disabled:i=!1}=n,{error:r=""}=n,{isValid:o=!0}=n,{placeholder:c=""}=n,{rows:u=5}=n,{spellcheck:h=null}=n,{value:p}=n,{label:C}=n,{labelHidden:A=!1}=n,{id:b}=n,{required:P=!1}=n,{description:L=""}=n,{maxLength:v=0}=n,{class:m="text-primary"}=n;function f(_){oe.call(this,l,_)}function a(_){oe.call(this,l,_)}function d(_){oe.call(this,l,_)}function V(_){oe.call(this,l,_)}function H(_){oe.call(this,l,_)}function I(){p=this.value,e(0,p)}return l.$$set=_=>{"disabled"in _&&e(1,i=_.disabled),"error"in _&&e(2,r=_.error),"isValid"in _&&e(3,o=_.isValid),"placeholder"in _&&e(4,c=_.placeholder),"rows"in _&&e(5,u=_.rows),"spellcheck"in _&&e(6,h=_.spellcheck),"value"in _&&e(0,p=_.value),"label"in _&&e(7,C=_.label),"labelHidden"in _&&e(8,A=_.labelHidden),"id"in _&&e(9,b=_.id),"required"in _&&e(10,P=_.required),"description"in _&&e(11,L=_.description),"maxLength"in _&&e(12,v=_.maxLength),"class"in _&&e(13,m=_.class),"$$scope"in _&&e(14,s=_.$$scope)},[p,i,r,o,c,u,h,C,A,b,P,L,v,m,s,t,f,a,d,V,H,I]}class dt extends pe{constructor(n){super(),ge(this,n,ot,rt,me,{disabled:1,error:2,isValid:3,placeholder:4,rows:5,spellcheck:6,value:0,label:7,labelHidden:8,id:9,required:10,description:11,maxLength:12,class:13})}}function Re(l){let n,e=D("data-encoder.include-cross-origin-credentials-warning")+"",t;return{c(){n=q("small"),t=W(e),this.h()},l(s){n=B(s,"SMALL",{"data-testid":!0});var i=R(n);t=X(i,e),i.forEach(E),this.h()},h(){w(n,"data-testid","data-encoder-cross-origin-credentials")},m(s,i){Y(s,n,i),k(n,t)},p:de,d(s){s&&E(n)}}}function ft(l){let n,e,t,s,i,r,o,c,u,h,p,C;function A(a){l[4](a)}let b={id:"data-encoder-endpoint-input",rows:3,placeholder:D("data-encoder.endpoint-placeholder"),error:l[3],isValid:!l[3],label:D("data-encoder.endpoint-title"),description:D("data-encoder.endpoint-description")};l[0]!==void 0&&(b.value=l[0]),t=new dt({props:b}),le.push(()=>ie(t,"value",A));function P(a){l[5](a)}let L={label:D("data-encoder.pass-access-token-label"),id:"pass-access-token","data-testid":"data-encoder-pass-access-token"};l[1]!==void 0&&(L.checked=l[1]),r=new we({props:L}),le.push(()=>ie(r,"checked",P));function v(a){l[6](a)}let m={label:D("data-encoder.include-cross-origin-credentials-label"),id:"pass-access-credentials","data-testid":"data-encoder-include-credentials"};l[2]!==void 0&&(m.checked=l[2]),u=new we({props:m}),le.push(()=>ie(u,"checked",v));let f=l[2]&&Re();return{c(){n=q("div"),e=q("div"),F(t.$$.fragment),i=O(),F(r.$$.fragment),c=O(),F(u.$$.fragment),p=O(),f&&f.c(),this.h()},l(a){n=B(a,"DIV",{class:!0});var d=R(n);e=B(d,"DIV",{class:!0});var V=R(e);G(t.$$.fragment,V),i=M(V),G(r.$$.fragment,V),c=M(V),G(u.$$.fragment,V),p=M(V),f&&f.l(V),V.forEach(E),d.forEach(E),this.h()},h(){w(e,"class","flex flex-col gap-2"),w(n,"class","flex flex-col gap-4")},m(a,d){Y(a,n,d),k(n,e),J(t,e,null),k(e,i),J(r,e,null),k(e,c),J(u,e,null),k(e,p),f&&f.m(e,null),C=!0},p(a,[d]){const V={};d&8&&(V.error=a[3]),d&8&&(V.isValid=!a[3]),!s&&d&1&&(s=!0,V.value=a[0],se(()=>s=!1)),t.$set(V);const H={};!o&&d&2&&(o=!0,H.checked=a[1],se(()=>o=!1)),r.$set(H);const I={};!h&&d&4&&(h=!0,I.checked=a[2],se(()=>h=!1)),u.$set(I),a[2]?f?f.p(a,d):(f=Re(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(a){C||(N(t.$$.fragment,a),N(r.$$.fragment,a),N(u.$$.fragment,a),C=!0)},o(a){j(t.$$.fragment,a),j(r.$$.fragment,a),j(u.$$.fragment,a),C=!1},d(a){a&&E(n),K(t),K(r),K(u),f&&f.d()}}}function ct(l,n,e){let{endpoint:t=""}=n,{passToken:s=!1}=n,{includeCreds:i=!1}=n,{error:r=""}=n;function o(h){t=h,e(0,t)}function c(h){s=h,e(1,s)}function u(h){i=h,e(2,i)}return l.$$set=h=>{"endpoint"in h&&e(0,t=h.endpoint),"passToken"in h&&e(1,s=h.passToken),"includeCreds"in h&&e(2,i=h.includeCreds),"error"in h&&e(3,r=h.error)},[t,s,i,r,o,c,u]}class ut extends pe{constructor(n){super(),ge(this,n,ct,ft,me,{endpoint:0,passToken:1,includeCreds:2,error:3})}}const _t=l=>l.replace(/\/+$/,"");function Ne(l){let n,e,t,s,i=D("common.codec-server")+"",r,o,c,u=D("data-encoder.codec-server-description-prefix")+"",h,p,C,A=D("data-encoder.codec-server-description-suffix",{level:l[5]})+"",b,P,L,v,m,f,a,d,V,H,I,_,z,T,ue,re,_e,he;p=new tt({props:{href:"https://docs.temporal.io/dataconversion#codec-server",newTab:!0,$$slots:{default:[mt]},$$scope:{ctx:l}}}),L=new nt({props:{"data-testid":"override-accordion",title:l[6]?D("data-encoder.browser-override-description",{level:l[5]}):D("data-encoder.no-browser-override-description",{level:l[5]}),$$slots:{default:[gt]},$$scope:{ctx:l}}});function Me(g){l[14](g)}function Ue(g){l[15](g)}function We(g){l[16](g)}let fe={error:l[4]};return l[0]!==void 0&&(fe.endpoint=l[0]),l[1]!==void 0&&(fe.passToken=l[1]),l[3]!==void 0&&(fe.includeCreds=l[3]),m=new ut({props:fe}),le.push(()=>ie(m,"endpoint",Me)),le.push(()=>ie(m,"passToken",Ue)),le.push(()=>ie(m,"includeCreds",We)),I=new Ae({props:{disabled:!!l[4],"data-testid":"confirm-data-encoder-button",type:"submit",$$slots:{default:[ht]},$$scope:{ctx:l}}}),I.$on("click",l[9]),z=new Ae({props:{variant:"ghost","data-testid":"cancel-data-encoder-button",$$slots:{default:[bt]},$$scope:{ctx:l}}}),z.$on("click",l[8]),{c(){n=q("aside"),e=q("div"),t=q("div"),s=q("h3"),r=W(i),o=O(),c=q("p"),h=W(u),F(p.$$.fragment),C=O(),b=W(A),P=O(),F(L.$$.fragment),v=O(),F(m.$$.fragment),V=O(),H=q("div"),F(I.$$.fragment),_=O(),F(z.$$.fragment),this.h()},l(g){n=B(g,"ASIDE",{class:!0});var S=R(n);e=B(S,"DIV",{class:!0});var U=R(e);t=B(U,"DIV",{class:!0});var te=R(t);s=B(te,"H3",{"data-testid":!0,class:!0});var $=R(s);r=X($,i),$.forEach(E),te.forEach(E),o=M(U),c=B(U,"P",{class:!0});var Q=R(c);h=X(Q,u),G(p.$$.fragment,Q),C=M(Q),b=X(Q,A),Q.forEach(E),P=M(U),G(L.$$.fragment,U),v=M(U),G(m.$$.fragment,U),V=M(U),H=B(U,"DIV",{class:!0});var ee=R(H);G(I.$$.fragment,ee),_=M(ee),G(z.$$.fragment,ee),ee.forEach(E),U.forEach(E),S.forEach(E),this.h()},h(){w(s,"data-testid","data-encoder-title"),w(s,"class","text-xl"),w(t,"class","flex items-center justify-between space-x-2"),w(c,"class","text-sm"),w(H,"class","flex items-center gap-4"),w(e,"class","flex w-full flex-col gap-4 xl:w-1/2"),w(n,"class","surface-primary relative flex h-[540px] w-full flex-col gap-6 overflow-auto border-b border-subtle p-12")},m(g,S){Y(g,n,S),k(n,e),k(e,t),k(t,s),k(s,r),k(e,o),k(e,c),k(c,h),J(p,c,null),k(c,C),k(c,b),k(e,P),J(L,e,null),k(e,v),J(m,e,null),k(e,V),k(e,H),J(I,H,null),k(H,_),J(z,H,null),re=!0,_e||(he=Je(T=et.call(null,n,l[17])),_e=!0)},p(g,S){const U={};S&8388608&&(U.$$scope={dirty:S,ctx:g}),p.$set(U),(!re||S&32)&&A!==(A=D("data-encoder.codec-server-description-suffix",{level:g[5]})+"")&&ae(b,A);const te={};S&96&&(te.title=g[6]?D("data-encoder.browser-override-description",{level:g[5]}):D("data-encoder.no-browser-override-description",{level:g[5]})),S&8388640&&(te.$$scope={dirty:S,ctx:g}),L.$set(te);const $={};S&16&&($.error=g[4]),!f&&S&1&&(f=!0,$.endpoint=g[0],se(()=>f=!1)),!a&&S&2&&(a=!0,$.passToken=g[1],se(()=>a=!1)),!d&&S&8&&(d=!0,$.includeCreds=g[3],se(()=>d=!1)),m.$set($);const Q={};S&16&&(Q.disabled=!!g[4]),S&8388608&&(Q.$$scope={dirty:S,ctx:g}),I.$set(Q);const ee={};S&8388608&&(ee.$$scope={dirty:S,ctx:g}),z.$set(ee),T&&Ke(T.update)&&S&4&&T.update.call(null,g[17])},i(g){re||(N(p.$$.fragment,g),N(L.$$.fragment,g),N(m.$$.fragment,g),N(I.$$.fragment,g),N(z.$$.fragment,g),g&&(ue||Qe(()=>{ue=ye(n,st,{y:-50,delay:0,duration:500}),ue.start()})),re=!0)},o(g){j(p.$$.fragment,g),j(L.$$.fragment,g),j(m.$$.fragment,g),j(I.$$.fragment,g),j(z.$$.fragment,g),re=!1},d(g){g&&E(n),K(p),K(L),K(m),K(I),K(z),_e=!1,he()}}}function mt(l){let n=D("common.codec-server")+"",e;return{c(){e=W(n)},l(t){e=X(t,n)},m(t,s){Y(t,e,s)},p:de,d(t){t&&E(e)}}}function pt(l){let n,e,t,s;return n=new Le({props:{id:"use-configuration-endpoint-radio","data-testid":"use-configuration-endpoint-input",value:!1,label:D("data-encoder.no-browser-override-description",{level:l[5]})}}),t=new Le({props:{id:"use-local-endpoint-radio","data-testid":"use-local-endpoint-input",value:!0,label:D("data-encoder.browser-override-description",{level:l[5]})}}),{c(){F(n.$$.fragment),e=O(),F(t.$$.fragment)},l(i){G(n.$$.fragment,i),e=M(i),G(t.$$.fragment,i)},m(i,r){J(n,i,r),Y(i,e,r),J(t,i,r),s=!0},p(i,r){const o={};r&32&&(o.label=D("data-encoder.no-browser-override-description",{level:i[5]})),n.$set(o);const c={};r&32&&(c.label=D("data-encoder.browser-override-description",{level:i[5]})),t.$set(c)},i(i){s||(N(n.$$.fragment,i),N(t.$$.fragment,i),s=!0)},o(i){j(n.$$.fragment,i),j(t.$$.fragment,i),s=!1},d(i){i&&E(e),K(n,i),K(t,i)}}}function gt(l){let n,e;return n=new it({props:{name:"override",group:l[7],$$slots:{default:[pt]},$$scope:{ctx:l}}}),{c(){F(n.$$.fragment)},l(t){G(n.$$.fragment,t)},m(t,s){J(n,t,s),e=!0},p(t,s){const i={};s&8388640&&(i.$$scope={dirty:s,ctx:t}),n.$set(i)},i(t){e||(N(n.$$.fragment,t),e=!0)},o(t){j(n.$$.fragment,t),e=!1},d(t){K(n,t)}}}function ht(l){let n=D("common.apply")+"",e;return{c(){e=W(n)},l(t){e=X(t,n)},m(t,s){Y(t,e,s)},p:de,d(t){t&&E(e)}}}function bt(l){let n=D("common.cancel")+"",e;return{c(){e=W(n)},l(t){e=X(t,n)},m(t,s){Y(t,e,s)},p:de,d(t){t&&E(e)}}}function vt(l){let n,e,t=l[2]&&Ne(l);return{c(){t&&t.c(),n=ke()},l(s){t&&t.l(s),n=ke()},m(s,i){t&&t.m(s,i),Y(s,n,i),e=!0},p(s,[i]){s[2]?t?(t.p(s,i),i&4&&N(t,1)):(t=Ne(s),t.c(),N(t,1),t.m(n.parentNode,n)):t&&(Pe(),j(t,1,1,()=>{t=null}),je())},i(s){e||(N(t),e=!0)},o(s){j(t),e=!1},d(s){s&&E(n),t&&t.d(s)}}}const ce=Oe(!1);function kt(l,n,e){let t,s,i,r,o,c,u,h=de,p,C,A;x(l,Ve,T=>e(18,i=T)),x(l,lt,T=>e(13,r=T)),x(l,Ee,T=>e(19,c=T)),x(l,ce,T=>e(2,u=T)),x(l,Ce,T=>e(20,p=T)),x(l,Te,T=>e(21,C=T)),x(l,De,T=>e(22,A=T)),l.$$.on_destroy.push(()=>h());var b,P,L;let v=A??"",m=C??!1,f=p??!1,a=Oe(c);x(l,a,T=>e(6,o=T));const d=()=>{e(0,v=A),e(1,m=C),e(3,f=p),y(a,o=c,o),y(ce,u=!1,u)},V=()=>{e(4,t=""),y(De,A=_t(v),A),y(Te,C=m,C),y(Ce,p=f,p),y(ce,u=!1,u),y(Ee,c=o,c),r.url.pathname.endsWith("history")&&y(Ve,i=Date.now(),i)};function H(T){v=T,e(0,v)}function I(T){m=T,e(1,m)}function _(T){f=T,e(3,f)}const z=()=>y(ce,u=!1,u);return l.$$.update=()=>{l.$$.dirty&15360&&e(5,s=!(e(12,L=e(11,P=e(10,b=r.data)===null||b===void 0?void 0:b.settings)===null||P===void 0?void 0:P.runtimeEnvironment)===null||L===void 0)&&L.isCloud?D("common.namespaces"):D("common.cluster")),l.$$.dirty&3&&(m&&!$e(v)?e(4,t=D("data-encoder.access-token-https-error")):v&&!xe(v)?e(4,t=D("data-encoder.prefix-error")):e(4,t="")),l.$$.dirty&4&&(u||d())},e(4,t=""),[v,m,u,f,t,s,o,a,d,V,b,P,L,r,H,I,_,z]}class Nt extends pe{constructor(n){super(),ge(this,n,kt,vt,me,{})}}export{Nt as D,ce as v};
