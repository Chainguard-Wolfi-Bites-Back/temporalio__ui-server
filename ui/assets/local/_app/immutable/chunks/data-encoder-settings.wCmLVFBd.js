import{s as me,e as I,t as G,a as O,b as q,d as R,f as M,g as E,h as X,j as k,F as Y,X as be,k as W,l as w,Y as ve,m as ne,G as Me,n as re,H as We,p as Ye,u as Ze,q as ze,r as Je,D as oe,S as se,T as le,v as de,x as we,c as x,Z as Ke,a0 as Qe,_ as Ue,w as y}from"./scheduler.nTMv1MXo.js";import{S as pe,i as ge,t as B,g as Ne,b as P,e as Pe,f as ie,c as z,a as J,m as K,d as Q,h as ye}from"./index.7zaskILM.js";import{T as ke}from"./toggle-switch.wzmqlMCQ.js";import{t as D}from"./translate.gmg0mSLF.js";import{o as Ee,i as Ce,p as Te,c as De,v as $e,d as xe}from"./data-encoder-config.8G9guL8T.js";import{r as Ve}from"./workflow-run.5xu6sFJt.js";import{d as et}from"./menu.Q_9zKrRF.js";import{L as tt}from"./link.OwWX3vt8.js";import{B as Ae}from"./button.VVBIa67B.js";import{A as nt}from"./accordion.Yc7gkgcG.js";import{p as st}from"./stores.MTgLDI8p.js";import{a as lt}from"./index.9WTMLd_y.js";import{w as Oe}from"./entry.1am3rJe4.js";import{R as it,a as Se}from"./radio-input.iETaBaTD.js";const rt=s=>({}),Le=s=>({});function je(s){let n,e;return{c(){n=I("p"),e=G(s[11]),this.h()},l(t){n=q(t,"P",{class:!0});var l=R(n);e=M(l,s[11]),l.forEach(E),this.h()},h(){k(n,"class","pb-2 text-sm")},m(t,l){W(t,n,l),w(n,e)},p(t,l){l&2048&&re(e,t[11])},d(t){t&&E(n)}}}function He(s){var o;let n,e,t=(((o=s[0])==null?void 0:o.length)??0)+"",l,i,a;return{c(){n=I("span"),e=I("span"),l=G(t),i=G(" / "),a=G(s[12]),this.h()},l(c){n=q(c,"SPAN",{class:!0});var u=R(n);e=q(u,"SPAN",{class:!0});var h=R(e);l=M(h,t),h.forEach(E),i=M(u," / "),a=M(u,s[12]),u.forEach(E),this.h()},h(){var c,u;k(e,"class","text-blue-700 svelte-wesj95"),Y(e,"warn",s[12]-((c=s[0])==null?void 0:c.length)<=5),Y(e,"error",s[12]===((u=s[0])==null?void 0:u.length)),k(n,"class","count svelte-wesj95")},m(c,u){W(c,n,u),w(n,e),w(e,l),w(n,i),w(n,a)},p(c,u){var h,p,C;u&1&&t!==(t=(((h=c[0])==null?void 0:h.length)??0)+"")&&re(l,t),u&4097&&Y(e,"warn",c[12]-((p=c[0])==null?void 0:p.length)<=5),u&4097&&Y(e,"error",c[12]===((C=c[0])==null?void 0:C.length)),u&4096&&re(a,c[12])},d(c){c&&E(n)}}}function Ie(s){let n,e,t=s[2]&&qe(s);const l=s[15].error,i=Ye(l,s,s[14],Le);return{c(){t&&t.c(),n=O(),i&&i.c()},l(a){t&&t.l(a),n=X(a),i&&i.l(a)},m(a,o){t&&t.m(a,o),W(a,n,o),i&&i.m(a,o),e=!0},p(a,o){a[2]?t?t.p(a,o):(t=qe(a),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null),i&&i.p&&(!e||o&16384)&&Ze(i,l,a,a[14],e?Je(l,a[14],o,rt):ze(a[14]),Le)},i(a){e||(B(i,a),e=!0)},o(a){P(i,a),e=!1},d(a){a&&E(n),t&&t.d(a),i&&i.d(a)}}}function qe(s){let n,e;return{c(){n=I("p"),e=G(s[2])},l(t){n=q(t,"P",{});var l=R(n);e=M(l,s[2]),l.forEach(E)},m(t,l){W(t,n,l),w(n,e)},p(t,l){l&4&&re(e,t[2])},d(t){t&&E(n)}}}function at(s){let n,e,t,l,i,a,o,c,u,h,p,C,A,b,N,S,v=s[11]&&je(s),m=s[12]&&!s[1]&&He(s),f=!s[3]&&Ie(s);return{c(){n=I("div"),e=I("label"),t=G(s[7]),l=O(),v&&v.c(),i=O(),a=I("div"),o=I("textarea"),u=O(),m&&m.c(),h=O(),p=I("div"),f&&f.c(),this.h()},l(r){n=q(r,"DIV",{class:!0});var d=R(n);e=q(d,"LABEL",{for:!0,class:!0});var V=R(e);t=M(V,s[7]),V.forEach(E),l=X(d),v&&v.l(d),i=X(d),a=q(d,"DIV",{class:!0});var j=R(a);o=q(j,"TEXTAREA",{class:!0,id:!0,placeholder:!0,rows:!0,spellcheck:!0,maxlength:!0}),R(o).forEach(E),u=X(j),m&&m.l(j),j.forEach(E),h=X(d),p=q(d,"DIV",{class:!0,"aria-live":!0});var H=R(p);f&&f.l(H),H.forEach(E),d.forEach(E),this.h()},h(){k(e,"for",s[9]),k(e,"class","svelte-wesj95"),Y(e,"required",s[10]),Y(e,"sr-only",s[8]),k(o,"class","min-h-fit w-full rounded-lg border-2 border-subtle bg-transparent px-3 py-2 font-mono text-sm focus-visible:border-information focus-visible:shadow-[0_0_0_4px_rgb(97,115,243,0.7)] focus-visible:outline-none enabled:hover:border-information svelte-wesj95"),k(o,"id",s[9]),o.disabled=s[1],k(o,"placeholder",s[4]),k(o,"rows",s[5]),k(o,"spellcheck",s[6]),k(o,"maxlength",c=s[12]>0?s[12]:void 0),Y(o,"error",!s[3]),k(a,"class","relative"),k(p,"class","error-msg svelte-wesj95"),k(p,"aria-live",C=s[3]?"off":"assertive"),Y(p,"min-width",s[12]),k(n,"class",A=be(s[13])+" svelte-wesj95")},m(r,d){W(r,n,d),w(n,e),w(e,t),w(n,l),v&&v.m(n,null),w(n,i),w(n,a),w(a,o),ve(o,s[0]),w(a,u),m&&m.m(a,null),w(n,h),w(n,p),f&&f.m(p,null),b=!0,N||(S=[ne(o,"input",s[21]),ne(o,"input",s[16]),ne(o,"change",s[17]),ne(o,"focus",s[18]),ne(o,"blur",s[19]),ne(o,"keydown",Me(s[20]))],N=!0)},p(r,[d]){(!b||d&128)&&re(t,r[7]),(!b||d&512)&&k(e,"for",r[9]),(!b||d&1024)&&Y(e,"required",r[10]),(!b||d&256)&&Y(e,"sr-only",r[8]),r[11]?v?v.p(r,d):(v=je(r),v.c(),v.m(n,i)):v&&(v.d(1),v=null),(!b||d&512)&&k(o,"id",r[9]),(!b||d&2)&&(o.disabled=r[1]),(!b||d&16)&&k(o,"placeholder",r[4]),(!b||d&32)&&k(o,"rows",r[5]),(!b||d&64)&&k(o,"spellcheck",r[6]),(!b||d&4096&&c!==(c=r[12]>0?r[12]:void 0))&&k(o,"maxlength",c),d&1&&ve(o,r[0]),(!b||d&8)&&Y(o,"error",!r[3]),r[12]&&!r[1]?m?m.p(r,d):(m=He(r),m.c(),m.m(a,null)):m&&(m.d(1),m=null),r[3]?f&&(Ne(),P(f,1,1,()=>{f=null}),Pe()):f?(f.p(r,d),d&8&&B(f,1)):(f=Ie(r),f.c(),B(f,1),f.m(p,null)),(!b||d&8&&C!==(C=r[3]?"off":"assertive"))&&k(p,"aria-live",C),(!b||d&4096)&&Y(p,"min-width",r[12]),(!b||d&8192&&A!==(A=be(r[13])+" svelte-wesj95"))&&k(n,"class",A)},i(r){b||(B(f),b=!0)},o(r){P(f),b=!1},d(r){r&&E(n),v&&v.d(),m&&m.d(),f&&f.d(),N=!1,We(S)}}}function ot(s,n,e){let{$$slots:t={},$$scope:l}=n,{disabled:i=!1}=n,{error:a=""}=n,{isValid:o=!0}=n,{placeholder:c=""}=n,{rows:u=5}=n,{spellcheck:h=null}=n,{value:p}=n,{label:C}=n,{labelHidden:A=!1}=n,{id:b}=n,{required:N=!1}=n,{description:S=""}=n,{maxLength:v=0}=n,{class:m="text-primary"}=n;function f(_){oe.call(this,s,_)}function r(_){oe.call(this,s,_)}function d(_){oe.call(this,s,_)}function V(_){oe.call(this,s,_)}function j(_){oe.call(this,s,_)}function H(){p=this.value,e(0,p)}return s.$$set=_=>{"disabled"in _&&e(1,i=_.disabled),"error"in _&&e(2,a=_.error),"isValid"in _&&e(3,o=_.isValid),"placeholder"in _&&e(4,c=_.placeholder),"rows"in _&&e(5,u=_.rows),"spellcheck"in _&&e(6,h=_.spellcheck),"value"in _&&e(0,p=_.value),"label"in _&&e(7,C=_.label),"labelHidden"in _&&e(8,A=_.labelHidden),"id"in _&&e(9,b=_.id),"required"in _&&e(10,N=_.required),"description"in _&&e(11,S=_.description),"maxLength"in _&&e(12,v=_.maxLength),"class"in _&&e(13,m=_.class),"$$scope"in _&&e(14,l=_.$$scope)},[p,i,a,o,c,u,h,C,A,b,N,S,v,m,l,t,f,r,d,V,j,H]}class dt extends pe{constructor(n){super(),ge(this,n,ot,at,me,{disabled:1,error:2,isValid:3,placeholder:4,rows:5,spellcheck:6,value:0,label:7,labelHidden:8,id:9,required:10,description:11,maxLength:12,class:13})}}function Re(s){let n,e=D("data-encoder.include-cross-origin-credentials-warning")+"",t;return{c(){n=I("small"),t=G(e),this.h()},l(l){n=q(l,"SMALL",{"data-testid":!0});var i=R(n);t=M(i,e),i.forEach(E),this.h()},h(){k(n,"data-testid","data-encoder-cross-origin-credentials")},m(l,i){W(l,n,i),w(n,t)},p:de,d(l){l&&E(n)}}}function ft(s){let n,e,t,l,i,a,o,c,u,h,p,C;function A(r){s[4](r)}let b={id:"data-encoder-endpoint-input",rows:3,placeholder:D("data-encoder.endpoint-placeholder"),error:s[3],isValid:!s[3],label:D("data-encoder.endpoint-title"),description:D("data-encoder.endpoint-description")};s[0]!==void 0&&(b.value=s[0]),t=new dt({props:b}),se.push(()=>ie(t,"value",A));function N(r){s[5](r)}let S={label:D("data-encoder.pass-access-token-label"),id:"pass-access-token","data-testid":"data-encoder-pass-access-token"};s[1]!==void 0&&(S.checked=s[1]),a=new ke({props:S}),se.push(()=>ie(a,"checked",N));function v(r){s[6](r)}let m={label:D("data-encoder.include-cross-origin-credentials-label"),id:"pass-access-credentials","data-testid":"data-encoder-include-credentials"};s[2]!==void 0&&(m.checked=s[2]),u=new ke({props:m}),se.push(()=>ie(u,"checked",v));let f=s[2]&&Re();return{c(){n=I("div"),e=I("div"),z(t.$$.fragment),i=O(),z(a.$$.fragment),c=O(),z(u.$$.fragment),p=O(),f&&f.c(),this.h()},l(r){n=q(r,"DIV",{class:!0});var d=R(n);e=q(d,"DIV",{class:!0});var V=R(e);J(t.$$.fragment,V),i=X(V),J(a.$$.fragment,V),c=X(V),J(u.$$.fragment,V),p=X(V),f&&f.l(V),V.forEach(E),d.forEach(E),this.h()},h(){k(e,"class","flex flex-col gap-2"),k(n,"class","flex flex-col gap-4")},m(r,d){W(r,n,d),w(n,e),K(t,e,null),w(e,i),K(a,e,null),w(e,c),K(u,e,null),w(e,p),f&&f.m(e,null),C=!0},p(r,[d]){const V={};d&8&&(V.error=r[3]),d&8&&(V.isValid=!r[3]),!l&&d&1&&(l=!0,V.value=r[0],le(()=>l=!1)),t.$set(V);const j={};!o&&d&2&&(o=!0,j.checked=r[1],le(()=>o=!1)),a.$set(j);const H={};!h&&d&4&&(h=!0,H.checked=r[2],le(()=>h=!1)),u.$set(H),r[2]?f?f.p(r,d):(f=Re(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(r){C||(B(t.$$.fragment,r),B(a.$$.fragment,r),B(u.$$.fragment,r),C=!0)},o(r){P(t.$$.fragment,r),P(a.$$.fragment,r),P(u.$$.fragment,r),C=!1},d(r){r&&E(n),Q(t),Q(a),Q(u),f&&f.d()}}}function ct(s,n,e){let{endpoint:t=""}=n,{passToken:l=!1}=n,{includeCreds:i=!1}=n,{error:a=""}=n;function o(h){t=h,e(0,t)}function c(h){l=h,e(1,l)}function u(h){i=h,e(2,i)}return s.$$set=h=>{"endpoint"in h&&e(0,t=h.endpoint),"passToken"in h&&e(1,l=h.passToken),"includeCreds"in h&&e(2,i=h.includeCreds),"error"in h&&e(3,a=h.error)},[t,l,i,a,o,c,u]}class ut extends pe{constructor(n){super(),ge(this,n,ct,ft,me,{endpoint:0,passToken:1,includeCreds:2,error:3})}}const _t=s=>s.replace(/\/+$/,"");function Be(s){let n,e,t,l,i=D("common.codec-server")+"",a,o,c,u=D("data-encoder.codec-server-description-prefix")+"",h,p,C,A=D("data-encoder.codec-server-description-suffix",{level:s[5]})+"",b,N,S,v,m,f,r,d,V,j,H,_,Z,T,ue,ae,_e,he;p=new tt({props:{href:"https://docs.temporal.io/dataconversion#codec-server",newTab:!0,$$slots:{default:[mt]},$$scope:{ctx:s}}}),S=new nt({props:{"data-testid":"override-accordion",title:s[6]?D("data-encoder.browser-override-description",{level:s[5]}):D("data-encoder.no-browser-override-description",{level:s[5]}),$$slots:{default:[gt]},$$scope:{ctx:s}}});function Xe(g){s[14](g)}function Fe(g){s[15](g)}function Ge(g){s[16](g)}let fe={error:s[4]};return s[0]!==void 0&&(fe.endpoint=s[0]),s[1]!==void 0&&(fe.passToken=s[1]),s[3]!==void 0&&(fe.includeCreds=s[3]),m=new ut({props:fe}),se.push(()=>ie(m,"endpoint",Xe)),se.push(()=>ie(m,"passToken",Fe)),se.push(()=>ie(m,"includeCreds",Ge)),H=new Ae({props:{disabled:!!s[4],"data-testid":"confirm-data-encoder-button",type:"submit",$$slots:{default:[ht]},$$scope:{ctx:s}}}),H.$on("click",s[9]),Z=new Ae({props:{variant:"ghost","data-testid":"cancel-data-encoder-button",$$slots:{default:[bt]},$$scope:{ctx:s}}}),Z.$on("click",s[8]),{c(){n=I("aside"),e=I("div"),t=I("div"),l=I("h3"),a=G(i),o=O(),c=I("p"),h=G(u),z(p.$$.fragment),C=O(),b=G(A),N=O(),z(S.$$.fragment),v=O(),z(m.$$.fragment),V=O(),j=I("div"),z(H.$$.fragment),_=O(),z(Z.$$.fragment),this.h()},l(g){n=q(g,"ASIDE",{class:!0});var L=R(n);e=q(L,"DIV",{class:!0});var F=R(e);t=q(F,"DIV",{class:!0});var te=R(t);l=q(te,"H3",{"data-testid":!0,class:!0});var $=R(l);a=M($,i),$.forEach(E),te.forEach(E),o=X(F),c=q(F,"P",{class:!0});var U=R(c);h=M(U,u),J(p.$$.fragment,U),C=X(U),b=M(U,A),U.forEach(E),N=X(F),J(S.$$.fragment,F),v=X(F),J(m.$$.fragment,F),V=X(F),j=q(F,"DIV",{class:!0});var ee=R(j);J(H.$$.fragment,ee),_=X(ee),J(Z.$$.fragment,ee),ee.forEach(E),F.forEach(E),L.forEach(E),this.h()},h(){k(l,"data-testid","data-encoder-title"),k(l,"class","text-xl"),k(t,"class","flex items-center justify-between space-x-2"),k(c,"class","text-sm"),k(j,"class","flex items-center gap-4"),k(e,"class","flex w-full flex-col gap-4 xl:w-1/2"),k(n,"class","relative flex h-[540px] w-full flex-col gap-6 overflow-auto border-b border-blue-100 bg-blue-50 p-12")},m(g,L){W(g,n,L),w(n,e),w(e,t),w(t,l),w(l,a),w(e,o),w(e,c),w(c,h),K(p,c,null),w(c,C),w(c,b),w(e,N),K(S,e,null),w(e,v),K(m,e,null),w(e,V),w(e,j),K(H,j,null),w(j,_),K(Z,j,null),ae=!0,_e||(he=Ke(T=et.call(null,n,s[17])),_e=!0)},p(g,L){const F={};L&8388608&&(F.$$scope={dirty:L,ctx:g}),p.$set(F),(!ae||L&32)&&A!==(A=D("data-encoder.codec-server-description-suffix",{level:g[5]})+"")&&re(b,A);const te={};L&96&&(te.title=g[6]?D("data-encoder.browser-override-description",{level:g[5]}):D("data-encoder.no-browser-override-description",{level:g[5]})),L&8388640&&(te.$$scope={dirty:L,ctx:g}),S.$set(te);const $={};L&16&&($.error=g[4]),!f&&L&1&&(f=!0,$.endpoint=g[0],le(()=>f=!1)),!r&&L&2&&(r=!0,$.passToken=g[1],le(()=>r=!1)),!d&&L&8&&(d=!0,$.includeCreds=g[3],le(()=>d=!1)),m.$set($);const U={};L&16&&(U.disabled=!!g[4]),L&8388608&&(U.$$scope={dirty:L,ctx:g}),H.$set(U);const ee={};L&8388608&&(ee.$$scope={dirty:L,ctx:g}),Z.$set(ee),T&&Qe(T.update)&&L&4&&T.update.call(null,g[17])},i(g){ae||(B(p.$$.fragment,g),B(S.$$.fragment,g),B(m.$$.fragment,g),B(H.$$.fragment,g),B(Z.$$.fragment,g),g&&(ue||Ue(()=>{ue=ye(n,lt,{y:-50,delay:0,duration:500}),ue.start()})),ae=!0)},o(g){P(p.$$.fragment,g),P(S.$$.fragment,g),P(m.$$.fragment,g),P(H.$$.fragment,g),P(Z.$$.fragment,g),ae=!1},d(g){g&&E(n),Q(p),Q(S),Q(m),Q(H),Q(Z),_e=!1,he()}}}function mt(s){let n=D("common.codec-server")+"",e;return{c(){e=G(n)},l(t){e=M(t,n)},m(t,l){W(t,e,l)},p:de,d(t){t&&E(e)}}}function pt(s){let n,e,t,l;return n=new Se({props:{id:"use-configuration-endpoint-radio","data-testid":"use-configuration-endpoint-input",value:!1,label:D("data-encoder.no-browser-override-description",{level:s[5]})}}),t=new Se({props:{id:"use-local-endpoint-radio","data-testid":"use-local-endpoint-input",value:!0,label:D("data-encoder.browser-override-description",{level:s[5]})}}),{c(){z(n.$$.fragment),e=O(),z(t.$$.fragment)},l(i){J(n.$$.fragment,i),e=X(i),J(t.$$.fragment,i)},m(i,a){K(n,i,a),W(i,e,a),K(t,i,a),l=!0},p(i,a){const o={};a&32&&(o.label=D("data-encoder.no-browser-override-description",{level:i[5]})),n.$set(o);const c={};a&32&&(c.label=D("data-encoder.browser-override-description",{level:i[5]})),t.$set(c)},i(i){l||(B(n.$$.fragment,i),B(t.$$.fragment,i),l=!0)},o(i){P(n.$$.fragment,i),P(t.$$.fragment,i),l=!1},d(i){i&&E(e),Q(n,i),Q(t,i)}}}function gt(s){let n,e;return n=new it({props:{name:"override",group:s[7],$$slots:{default:[pt]},$$scope:{ctx:s}}}),{c(){z(n.$$.fragment)},l(t){J(n.$$.fragment,t)},m(t,l){K(n,t,l),e=!0},p(t,l){const i={};l&8388640&&(i.$$scope={dirty:l,ctx:t}),n.$set(i)},i(t){e||(B(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function ht(s){let n=D("common.apply")+"",e;return{c(){e=G(n)},l(t){e=M(t,n)},m(t,l){W(t,e,l)},p:de,d(t){t&&E(e)}}}function bt(s){let n=D("common.cancel")+"",e;return{c(){e=G(n)},l(t){e=M(t,n)},m(t,l){W(t,e,l)},p:de,d(t){t&&E(e)}}}function vt(s){let n,e,t=s[2]&&Be(s);return{c(){t&&t.c(),n=we()},l(l){t&&t.l(l),n=we()},m(l,i){t&&t.m(l,i),W(l,n,i),e=!0},p(l,[i]){l[2]?t?(t.p(l,i),i&4&&B(t,1)):(t=Be(l),t.c(),B(t,1),t.m(n.parentNode,n)):t&&(Ne(),P(t,1,1,()=>{t=null}),Pe())},i(l){e||(B(t),e=!0)},o(l){P(t),e=!1},d(l){l&&E(n),t&&t.d(l)}}}const ce=Oe(!1);function wt(s,n,e){let t,l,i,a,o,c,u,h=de,p,C,A;x(s,Ve,T=>e(18,i=T)),x(s,st,T=>e(13,a=T)),x(s,Ee,T=>e(19,c=T)),x(s,ce,T=>e(2,u=T)),x(s,Ce,T=>e(20,p=T)),x(s,Te,T=>e(21,C=T)),x(s,De,T=>e(22,A=T)),s.$$.on_destroy.push(()=>h());var b,N,S;let v=A??"",m=C??!1,f=p??!1,r=Oe(c);x(s,r,T=>e(6,o=T));const d=()=>{e(0,v=A),e(1,m=C),e(3,f=p),y(r,o=c,o),y(ce,u=!1,u)},V=()=>{e(4,t=""),y(De,A=_t(v),A),y(Te,C=m,C),y(Ce,p=f,p),y(ce,u=!1,u),y(Ee,c=o,c),a.url.pathname.endsWith("history")&&y(Ve,i=Date.now(),i)};function j(T){v=T,e(0,v)}function H(T){m=T,e(1,m)}function _(T){f=T,e(3,f)}const Z=()=>y(ce,u=!1,u);return s.$$.update=()=>{s.$$.dirty&15360&&e(5,l=!(e(12,S=e(11,N=e(10,b=a.data)===null||b===void 0?void 0:b.settings)===null||N===void 0?void 0:N.runtimeEnvironment)===null||S===void 0)&&S.isCloud?D("common.namespaces"):D("common.cluster")),s.$$.dirty&3&&(m&&!$e(v)?e(4,t=D("data-encoder.access-token-https-error")):v&&!xe(v)?e(4,t=D("data-encoder.prefix-error")):e(4,t="")),s.$$.dirty&4&&(u||d())},e(4,t=""),[v,m,u,f,t,l,o,r,d,V,b,N,S,a,j,H,_,Z]}class Bt extends pe{constructor(n){super(),ge(this,n,wt,vt,me,{})}}export{Bt as D,ce as v};
