import{k as f,l as d,m as s,n as m}from"./format-time.66fea38b.js";import{d as o}from"./index.fd755237.js";import{p as l}from"./stores.6df07e9f.js";import{c as n}from"./cluster.cee08038.js";import{t as u}from"./versions.041f551a.js";import{i as c}from"./version-check.d006b302.js";import{K as p}from"./index.48f48b0a.js";const y=(t,r)=>{var i;return((i=t==null?void 0:t.visibilityStore)==null?void 0:i.includes("elasticsearch"))||c(r,"1.19")},w=t=>{var r;return(r=t==null?void 0:t.visibilityStore)==null?void 0:r.includes("elasticsearch")},a=o([l],([t])=>{var r,i,e;return(e=(i=(r=t.data)==null?void 0:r.settings)==null?void 0:i.runtimeEnvironment)==null?void 0:e.isCloud}),b=o([n,u,a],([t,r,i])=>y(t,r)||i),D=o([n,a],([t,r])=>w(t)||r),S={workflowId:"WorkflowId",workflowType:"WorkflowType",timeRange:"StartTime",executionStatus:"ExecutionStatus",closeTime:"CloseTime"},g=["workflowId","workflowType","timeRange","executionStatus","closeTime"],T=t=>!(t===null||t===void 0||t===""||typeof t=="string"&&t==="undefined"),E=t=>{if(typeof t!="string")return!1;for(const r of g)if(r===t)return!0;return!1},V=(t,r,i)=>{const e=S[t];return r==="All"?"":f(r)||d(r)?i||p(b)?`${e} > "${s(r)}"`:`${e} BETWEEN "${s(r)}" AND "${m()}"`:`${e}="${r}"`},$=(t,r)=>Object.entries(t).map(([i,e])=>{if(E(i)&&T(e))return V(i,e,r)}).filter(Boolean),C=(t,r=!1)=>$(t,r).join(" and ");export{D as a,a as i,b as s,C as t};
