import{S as ge,b as we,a as ke,m as v,w as V,c as P,p as $,q as g,x as W,k as i,d as S,u as E,f as I,L as m,y as J,n as Y,C as N,D as C,E as L,T as xe,j as A,g as H,F as j,G as Jl,R as wl,H as Kl,I as Yl,J as Zl,N as kl,O as bl,K as _e,e as ie,z as je,aa as Ql,ab as Xl,h as ye,ar as Ue,as as Cl,a7 as xl,a3 as Ye,P as es,v as tt,A as Ze,Y as Qe,Z as Xe,$ as El,V as ts,r as ls}from"../chunks/index.19667caa.js";import{p as Ll}from"../chunks/stores.60838bc0.js";import{P as ss}from"../chunks/page-title.068e2bb5.js";import{g as rs}from"../chunks/navigation.8d8cb16e.js";import{I as Oe}from"../chunks/icon.9c98cf68.js";import{t as w}from"../chunks/translate.6f2004d7.js";import{S as as,a as Il,d as ns,u as os,p as us}from"../chunks/schedule-service.013182d9.js";import{E as fs}from"../chunks/empty-state.d9e10938.js";import{L as is}from"../chunks/link.683fab98.js";import{g as Dl}from"../chunks/workflow-service.82726f2a.js";import{t as lt,r as st,b as ve}from"../chunks/format-date.55634e74.js";import{k as et,f as Tl,c as ze,q as cs}from"../chunks/route-for.93d63d58.js";import{W as jl}from"../chunks/workflow-status.1487ef1c.js";import{L as yl}from"../chunks/loading.f7bd466a.js";import{d as Rl}from"../chunks/menu.bc8feabf.js";import{M as Pl}from"../chunks/modal.b9cd4c75.js";import{S as ds}from"../chunks/split-button.698a3917.js";import{c as ms}from"../chunks/core-user.5cdbbf60.js";import{l as Le}from"../chunks/schedules.dd6a1efd.js";function hs(s){let e,l,t=w("notes")+"",a,r,o,u;return{c(){e=v("div"),l=v("h2"),a=V(t),r=P(),o=v("p"),u=V(s[0]),this.h()},l(n){e=$(n,"DIV",{});var c=g(e);l=$(c,"H2",{class:!0});var h=g(l);a=W(h,t),h.forEach(i),r=S(c),o=$(c,"P",{});var b=g(o);u=W(b,s[0]),b.forEach(i),c.forEach(i),this.h()},h(){E(l,"class","mb-4 text-2xl")},m(n,c){I(n,e,c),m(e,l),m(l,a),m(e,r),m(e,o),m(o,u)},p(n,[c]){c&1&&J(u,n[0])},i:Y,o:Y,d(n){n&&i(e)}}}function ps(s,e,l){let{notes:t=""}=e;return s.$$set=a=>{"notes"in a&&l(0,t=a.notes)},[t]}class _s extends ge{constructor(e){super(),we(this,e,ps,hs,ke,{notes:0})}}function Sl(s){var Ie,de,ae,me,We,he,Ae;let e,l=w("schedules","start-time")+"",t,a,r=(((Ie=s[0])==null?void 0:Ie.startTime)??w("none"))+"",o,u,n,c=w("schedules","end-time")+"",h,b=(((de=s[0])==null?void 0:de.endTime)??w("none"))+"",_,d,f,p=w("schedules","jitter")+"",k,R=(((ae=s[0])==null?void 0:ae.jitter)??w("none"))+"",M,O,z,Z=w("schedules","exclusion-calendar")+"",le,ce=(((We=(me=s[0])==null?void 0:me.excludeCalendar)==null?void 0:We[0])??w("none"))+"",se,ue,ee,te,be=w("schedules","overlap-policy")+"",F,G=(((he=s[2])==null?void 0:he.overlapPolicy)??w("none"))+"",re,y=((Ae=s[1])==null?void 0:Ae.limitedActions)&&Vl(s);return{c(){e=v("p"),t=V(l),a=P(),o=V(r),u=P(),n=v("p"),h=V(c),_=V(b),d=P(),f=v("p"),k=V(p),M=V(R),O=P(),z=v("p"),le=V(Z),se=V(ce),ue=P(),y&&y.c(),ee=P(),te=v("p"),F=V(be),re=V(G)},l(D){e=$(D,"P",{});var U=g(e);t=W(U,l),a=S(U),o=W(U,r),U.forEach(i),u=S(D),n=$(D,"P",{});var ne=g(n);h=W(ne,c),_=W(ne,b),ne.forEach(i),d=S(D),f=$(D,"P",{});var X=g(f);k=W(X,p),M=W(X,R),X.forEach(i),O=S(D),z=$(D,"P",{});var pe=g(z);le=W(pe,Z),se=W(pe,ce),pe.forEach(i),ue=S(D),y&&y.l(D),ee=S(D),te=$(D,"P",{});var K=g(te);F=W(K,be),re=W(K,G),K.forEach(i)},m(D,U){I(D,e,U),m(e,t),m(e,a),m(e,o),I(D,u,U),I(D,n,U),m(n,h),m(n,_),I(D,d,U),I(D,f,U),m(f,k),m(f,M),I(D,O,U),I(D,z,U),m(z,le),m(z,se),I(D,ue,U),y&&y.m(D,U),I(D,ee,U),I(D,te,U),m(te,F),m(te,re)},p(D,U){var ne,X,pe,K,qe,De,x;U&1&&r!==(r=(((ne=D[0])==null?void 0:ne.startTime)??w("none"))+"")&&J(o,r),U&1&&b!==(b=(((X=D[0])==null?void 0:X.endTime)??w("none"))+"")&&J(_,b),U&1&&R!==(R=(((pe=D[0])==null?void 0:pe.jitter)??w("none"))+"")&&J(M,R),U&1&&ce!==(ce=(((qe=(K=D[0])==null?void 0:K.excludeCalendar)==null?void 0:qe[0])??w("none"))+"")&&J(se,ce),(De=D[1])!=null&&De.limitedActions?y?y.p(D,U):(y=Vl(D),y.c(),y.m(ee.parentNode,ee)):y&&(y.d(1),y=null),U&4&&G!==(G=(((x=D[2])==null?void 0:x.overlapPolicy)??w("none"))+"")&&J(re,G)},d(D){D&&i(e),D&&i(u),D&&i(n),D&&i(d),D&&i(f),D&&i(O),D&&i(z),D&&i(ue),y&&y.d(D),D&&i(ee),D&&i(te)}}}function Vl(s){var o;let e,l=w("schedules","remaining-actions")+"",t,a=(((o=s[1])==null?void 0:o.remainingActions)??w("none"))+"",r;return{c(){e=v("p"),t=V(l),r=V(a)},l(u){e=$(u,"P",{});var n=g(e);t=W(n,l),r=W(n,a),n.forEach(i)},m(u,n){I(u,e,n),m(e,t),m(e,r)},p(u,n){var c;n&2&&a!==(a=(((c=u[1])==null?void 0:c.remainingActions)??w("none"))+"")&&J(r,a)},d(u){u&&i(e)}}}function vs(s){let e,l,t,a,r=w("schedules","advanced-settings")+"",o,u,n,c,h,b,_;e=new _s({props:{notes:s[3]}}),n=new Oe({props:{class:"inline",name:s[4]?"chevron-up":"chevron-down"}});let d=s[4]&&Sl(s);return{c(){N(e.$$.fragment),l=P(),t=v("div"),a=v("button"),o=V(r),u=P(),N(n.$$.fragment),c=P(),d&&d.c(),this.h()},l(f){C(e.$$.fragment,f),l=S(f),t=$(f,"DIV",{});var p=g(t);a=$(p,"BUTTON",{class:!0});var k=g(a);o=W(k,r),u=S(k),C(n.$$.fragment,k),k.forEach(i),c=S(p),d&&d.l(p),p.forEach(i),this.h()},h(){E(a,"class","settings svelte-5rdr1k")},m(f,p){L(e,f,p),I(f,l,p),I(f,t,p),m(t,a),m(a,o),m(a,u),L(n,a,null),m(t,c),d&&d.m(t,null),h=!0,b||(_=xe(a,"click",s[5]),b=!0)},p(f,[p]){const k={};p&8&&(k.notes=f[3]),e.$set(k);const R={};p&16&&(R.name=f[4]?"chevron-up":"chevron-down"),n.$set(R),f[4]?d?d.p(f,p):(d=Sl(f),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i(f){h||(A(e.$$.fragment,f),A(n.$$.fragment,f),h=!0)},o(f){H(e.$$.fragment,f),H(n.$$.fragment,f),h=!1},d(f){j(e,f),f&&i(l),f&&i(t),j(n),d&&d.d(),b=!1,_()}}}function $s(s,e,l){let{spec:t}=e,{state:a}=e,{policies:r}=e,{notes:o=""}=e,u=!1;const n=()=>l(4,u=!u);return s.$$set=c=>{"spec"in c&&l(0,t=c.spec),"state"in c&&l(1,a=c.state),"policies"in c&&l(2,r=c.policies),"notes"in c&&l(3,o=c.notes)},[t,a,r,o,u,n]}class gs extends ge{constructor(e){super(),we(this,e,$s,vs,ke,{spec:0,state:1,policies:2,notes:3})}}function ws(s){let e,l,t;const a=s[3].default,r=Jl(a,s,s[2],null);return{c(){e=v("div"),r&&r.c(),this.h()},l(o){e=$(o,"DIV",{class:!0});var u=g(e);r&&r.l(u),u.forEach(i),this.h()},h(){E(e,"class",l="panel bg-white "+s[1].class+" svelte-11fqqfg"),wl(e,"error",s[0])},m(o,u){I(o,e,u),r&&r.m(e,null),t=!0},p(o,[u]){r&&r.p&&(!t||u&4)&&Kl(r,a,o,o[2],t?Zl(a,o[2],u,null):Yl(o[2]),null),(!t||u&2&&l!==(l="panel bg-white "+o[1].class+" svelte-11fqqfg"))&&E(e,"class",l),(!t||u&3)&&wl(e,"error",o[0])},i(o){t||(A(r,o),t=!0)},o(o){H(r,o),t=!1},d(o){o&&i(e),r&&r.d(o)}}}function ks(s,e,l){let{$$slots:t={},$$scope:a}=e,{error:r=!1}=e;return s.$$set=o=>{l(1,e=kl(kl({},e),bl(o))),"error"in o&&l(0,r=o.error),"$$scope"in o&&l(2,a=o.$$scope)},e=bl(e),[r,e,a,t]}class Be extends ge{constructor(e){super(),we(this,e,ks,ws,ke,{error:0})}}function bs(s){let e,l=w("schedules","error-title")+"",t,a,r,o;return{c(){e=v("p"),t=V(l),a=P(),r=v("p"),o=V(s[0]),this.h()},l(u){e=$(u,"P",{class:!0});var n=g(e);t=W(n,l),n.forEach(i),a=S(u),r=$(u,"P",{class:!0});var c=g(r);o=W(c,s[0]),c.forEach(i),this.h()},h(){E(e,"class","error-text svelte-1lke5yx"),E(r,"class","error-text svelte-1lke5yx")},m(u,n){I(u,e,n),m(e,t),I(u,a,n),I(u,r,n),m(r,o)},p(u,n){n&1&&J(o,u[0])},d(u){u&&i(e),u&&i(a),u&&i(r)}}}function Es(s){let e,l;return e=new Be({props:{error:!0,$$slots:{default:[bs]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,a){L(e,t,a),l=!0},p(t,[a]){const r={};a&3&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Is(s,e,l){let{error:t=""}=e;return s.$$set=a=>{"error"in a&&l(0,t=a.error)},[t]}class Ul extends ge{constructor(e){super(),we(this,e,Is,Es,ke,{error:0})}}function Ds(s){let e,l=w("schedules","schedule-spec")+"",t,a,r,o,u;return o=new as({props:{calendar:s[0],interval:s[1],class:"text-base"}}),{c(){e=v("h2"),t=V(l),a=P(),r=v("div"),N(o.$$.fragment),this.h()},l(n){e=$(n,"H2",{class:!0});var c=g(e);t=W(c,l),c.forEach(i),a=S(n),r=$(n,"DIV",{class:!0});var h=g(r);C(o.$$.fragment,h),h.forEach(i),this.h()},h(){E(e,"class","mb-4 text-2xl"),E(r,"class","pr-2")},m(n,c){I(n,e,c),m(e,t),I(n,a,c),I(n,r,c),L(o,r,null),u=!0},p(n,c){const h={};c&1&&(h.calendar=n[0]),c&2&&(h.interval=n[1]),o.$set(h)},i(n){u||(A(o.$$.fragment,n),u=!0)},o(n){H(o.$$.fragment,n),u=!1},d(n){n&&i(e),n&&i(a),n&&i(r),j(o)}}}function Ts(s){let e,l;return e=new Be({props:{$$slots:{default:[Ds]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,a){L(e,t,a),l=!0},p(t,[a]){const r={};a&7&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Rs(s,e,l){let{calendar:t=void 0}=e,{interval:a=void 0}=e;return s.$$set=r=>{"calendar"in r&&l(0,t=r.calendar),"interval"in r&&l(1,a=r.interval)},[t,a]}class Ps extends ge{constructor(e){super(),we(this,e,Rs,Ts,ke,{calendar:0,interval:1})}}function Wl(s,e,l){const t=s.slice();return t[5]=e[l],t}function Ss(s){let e,l,t,a,r=s[5].startWorkflowResult.workflowId+"",o,u,n,c,h=ve(s[5].actualTime,s[2],{relative:s[3]})+"",b;return{c(){e=v("div"),l=v("div"),t=P(),a=v("div"),o=V(r),u=P(),n=v("div"),c=v("p"),b=V(h),this.h()},l(_){e=$(_,"DIV",{class:!0});var d=g(e);l=$(d,"DIV",{class:!0}),g(l).forEach(i),t=S(d),a=$(d,"DIV",{class:!0});var f=g(a);o=W(f,r),f.forEach(i),u=S(d),n=$(d,"DIV",{class:!0});var p=g(n);c=$(p,"P",{});var k=g(c);b=W(k,h),k.forEach(i),p.forEach(i),d.forEach(i),this.h()},h(){E(l,"class","w-28"),E(a,"class","w-96"),E(n,"class","ml-auto"),E(e,"class","row svelte-lqpjgu")},m(_,d){I(_,e,d),m(e,l),m(e,t),m(e,a),m(a,o),m(e,u),m(e,n),m(n,c),m(c,b)},p(_,d){d&1&&r!==(r=_[5].startWorkflowResult.workflowId+"")&&J(o,r),d&13&&h!==(h=ve(_[5].actualTime,_[2],{relative:_[3]})+"")&&J(b,h)},i:Y,o:Y,d(_){_&&i(e)}}}function Vs(s){let e,l,t,a,r,o,u,n,c,h=ve(s[5].actualTime,s[2],{relative:s[3]})+"",b,_;return t=new jl({props:{status:s[8].status}}),o=new is({props:{newTab:!0,href:Tl({workflow:s[5].startWorkflowResult.workflowId,run:s[5].startWorkflowResult.runId,namespace:s[1]}),$$slots:{default:[Ws]},$$scope:{ctx:s}}}),{c(){e=v("div"),l=v("div"),N(t.$$.fragment),a=P(),r=v("div"),N(o.$$.fragment),u=P(),n=v("div"),c=v("p"),b=V(h),this.h()},l(d){e=$(d,"DIV",{class:!0});var f=g(e);l=$(f,"DIV",{class:!0});var p=g(l);C(t.$$.fragment,p),p.forEach(i),a=S(f),r=$(f,"DIV",{class:!0});var k=g(r);C(o.$$.fragment,k),k.forEach(i),u=S(f),n=$(f,"DIV",{class:!0});var R=g(n);c=$(R,"P",{});var M=g(c);b=W(M,h),M.forEach(i),R.forEach(i),f.forEach(i),this.h()},h(){E(l,"class","w-28"),E(r,"class","w-auto break-words mx-2"),E(n,"class","ml-auto"),E(e,"class","row svelte-lqpjgu")},m(d,f){I(d,e,f),m(e,l),L(t,l,null),m(e,a),m(e,r),L(o,r,null),m(e,u),m(e,n),m(n,c),m(c,b),_=!0},p(d,f){const p={};f&3&&(p.status=d[8].status),t.$set(p);const k={};f&3&&(k.href=Tl({workflow:d[5].startWorkflowResult.workflowId,run:d[5].startWorkflowResult.runId,namespace:d[1]})),f&513&&(k.$$scope={dirty:f,ctx:d}),o.$set(k),(!_||f&13)&&h!==(h=ve(d[5].actualTime,d[2],{relative:d[3]})+"")&&J(b,h)},i(d){_||(A(t.$$.fragment,d),A(o.$$.fragment,d),_=!0)},o(d){H(t.$$.fragment,d),H(o.$$.fragment,d),_=!1},d(d){d&&i(e),j(t),j(o)}}}function Ws(s){let e=s[5].startWorkflowResult.workflowId+"",l;return{c(){l=V(e)},l(t){l=W(t,e)},m(t,a){I(t,l,a)},p(t,a){a&1&&e!==(e=t[5].startWorkflowResult.workflowId+"")&&J(l,e)},d(t){t&&i(l)}}}function As(s){return{c:Y,l:Y,m:Y,p:Y,i:Y,o:Y,d:Y}}function Al(s,e){let l,t,a,r,o={ctx:e,current:null,token:null,hasCatch:!0,pending:As,then:Vs,catch:Ss,value:8,blocks:[,,,]};return Ue(a=Dl({namespace:e[1],workflowId:et(e[5].startWorkflowResult.workflowId),runId:e[5].startWorkflowResult.runId},fetch),o),{key:s,first:null,c(){l=ie(),t=ie(),o.block.c(),this.h()},l(u){l=ie(),t=ie(),o.block.l(u),this.h()},h(){this.first=l},m(u,n){I(u,l,n),I(u,t,n),o.block.m(u,o.anchor=n),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(u,n){e=u,o.ctx=e,n&3&&a!==(a=Dl({namespace:e[1],workflowId:et(e[5].startWorkflowResult.workflowId),runId:e[5].startWorkflowResult.runId},fetch))&&Ue(a,o)||Cl(o,e,n)},i(u){r||(A(o.block),r=!0)},o(u){for(let n=0;n<3;n+=1){const c=o.blocks[n];H(c)}r=!1},d(u){u&&i(l),u&&i(t),o.block.d(u),o.token=null,o=null}}}function ql(s){let e,l;return e=new fs({props:{title:w("schedules","recent-runs-empty-state-title")}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,a){L(e,t,a),l=!0},p:Y,i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function qs(s){let e,l=w("schedules","recent-runs")+"",t,a,r=[],o=new Map,u,n,c,h=s[4](s[0]);const b=d=>{var f,p;return(p=(f=d[5])==null?void 0:f.startWorkflowResult)==null?void 0:p.workflowId};for(let d=0;d<h.length;d+=1){let f=Wl(s,h,d),p=b(f);o.set(p,r[d]=Al(p,f))}let _=!s[0].length&&ql();return{c(){e=v("h2"),t=V(l),a=P();for(let d=0;d<r.length;d+=1)r[d].c();u=P(),_&&_.c(),n=ie(),this.h()},l(d){e=$(d,"H2",{class:!0});var f=g(e);t=W(f,l),f.forEach(i),a=S(d);for(let p=0;p<r.length;p+=1)r[p].l(d);u=S(d),_&&_.l(d),n=ie(),this.h()},h(){E(e,"class","mb-4 text-2xl")},m(d,f){I(d,e,f),m(e,t),I(d,a,f);for(let p=0;p<r.length;p+=1)r[p].m(d,f);I(d,u,f),_&&_.m(d,f),I(d,n,f),c=!0},p(d,f){f&31&&(h=d[4](d[0]),je(),r=Ql(r,f,b,1,d,h,o,u.parentNode,Xl,Al,u,Wl),ye()),d[0].length?_&&(je(),H(_,1,1,()=>{_=null}),ye()):_?(_.p(d,f),f&1&&A(_,1)):(_=ql(),_.c(),A(_,1),_.m(n.parentNode,n))},i(d){if(!c){for(let f=0;f<h.length;f+=1)A(r[f]);A(_),c=!0}},o(d){for(let f=0;f<r.length;f+=1)H(r[f]);H(_),c=!1},d(d){d&&i(e),d&&i(a);for(let f=0;f<r.length;f+=1)r[f].d(d);d&&i(u),_&&_.d(d),d&&i(n)}}}function Hs(s){let e,l;return e=new Be({props:{class:"w-full",$$slots:{default:[qs]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,a){L(e,t,a),l=!0},p(t,[a]){const r={};a&527&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Ms(s,e,l){let t,a;_e(s,lt,n=>l(2,t=n)),_e(s,st,n=>l(3,a=n));let{recentRuns:r=[]}=e,{namespace:o}=e;const u=n=>{var c,h;return(h=(c=n==null?void 0:n.sort((b,_)=>new Date(_.actualTime).getTime()-new Date(b.actualTime).getTime()))===null||c===void 0?void 0:c.slice(0,5))!==null&&h!==void 0?h:[]};return s.$$set=n=>{"recentRuns"in n&&l(0,r=n.recentRuns),"namespace"in n&&l(1,o=n.namespace)},[r,o,t,a,u]}class Fs extends ge{constructor(e){super(),we(this,e,Ms,Hs,ke,{recentRuns:0,namespace:1})}}function Hl(s,e,l){const t=s.slice();return t[3]=e[l],t}function Ml(s){let e,l,t=ve(s[3],s[1],{relative:s[2],relativeLabel:w("from-now")})+"",a,r;return{c(){e=v("div"),l=v("p"),a=V(t),r=P(),this.h()},l(o){e=$(o,"DIV",{class:!0});var u=g(e);l=$(u,"P",{});var n=g(l);a=W(n,t),n.forEach(i),r=S(u),u.forEach(i),this.h()},h(){E(e,"class","row svelte-kbuuws")},m(o,u){I(o,e,u),m(e,l),m(l,a),m(e,r)},p(o,u){u&7&&t!==(t=ve(o[3],o[1],{relative:o[2],relativeLabel:w("from-now")})+"")&&J(a,t)},d(o){o&&i(e)}}}function Ns(s){let e,l=w("schedules","upcoming-runs")+"",t,a,r,o=s[0].slice(0,5),u=[];for(let n=0;n<o.length;n+=1)u[n]=Ml(Hl(s,o,n));return{c(){e=v("h2"),t=V(l),a=P();for(let n=0;n<u.length;n+=1)u[n].c();r=ie(),this.h()},l(n){e=$(n,"H2",{class:!0});var c=g(e);t=W(c,l),c.forEach(i),a=S(n);for(let h=0;h<u.length;h+=1)u[h].l(n);r=ie(),this.h()},h(){E(e,"class","mb-4 text-2xl")},m(n,c){I(n,e,c),m(e,t),I(n,a,c);for(let h=0;h<u.length;h+=1)u[h].m(n,c);I(n,r,c)},p(n,c){if(c&7){o=n[0].slice(0,5);let h;for(h=0;h<o.length;h+=1){const b=Hl(n,o,h);u[h]?u[h].p(b,c):(u[h]=Ml(b),u[h].c(),u[h].m(r.parentNode,r))}for(;h<u.length;h+=1)u[h].d(1);u.length=o.length}},d(n){n&&i(e),n&&i(a),xl(u,n),n&&i(r)}}}function Cs(s){let e,l;return e=new Be({props:{$$slots:{default:[Ns]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,a){L(e,t,a),l=!0},p(t,[a]){const r={};a&71&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Ls(s,e,l){let t,a;_e(s,lt,o=>l(1,t=o)),_e(s,st,o=>l(2,a=o));let{futureRuns:r=[]}=e;return s.$$set=o=>{"futureRuns"in o&&l(0,r=o.futureRuns)},[r,t,a]}class js extends ge{constructor(e){super(),we(this,e,Ls,Cs,ke,{futureRuns:0})}}function ys(s){var k;let e,l,t,a,r=w("schedules","back-to-schedules")+"",o,u,n,c,h,b,_,d,f,p;return a=new Oe({props:{name:"chevron-left",class:"inline"}}),f=new Ul({props:{error:(k=s[7])==null?void 0:k.message}}),{c(){e=v("header"),l=v("div"),t=v("a"),N(a.$$.fragment),o=V(r),u=P(),n=v("h1"),c=V(s[9]),h=P(),b=v("p"),_=V(s[8]),d=P(),N(f.$$.fragment),this.h()},l(R){e=$(R,"HEADER",{class:!0});var M=g(e);l=$(M,"DIV",{class:!0});var O=g(l);t=$(O,"A",{href:!0,class:!0,style:!0});var z=g(t);C(a.$$.fragment,z),o=W(z,r),z.forEach(i),u=S(O),n=$(O,"H1",{class:!0,"data-testid":!0});var Z=g(n);c=W(Z,s[9]),Z.forEach(i),h=S(O),b=$(O,"P",{class:!0});var le=g(b);_=W(le,s[8]),le.forEach(i),O.forEach(i),M.forEach(i),d=S(R),C(f.$$.fragment,R),this.h()},h(){E(t,"href",ze({namespace:s[8]})),E(t,"class","absolute top-0 back-to-schedules svelte-1pb4ys0"),tt(t,"left","-0.5rem"),E(n,"class","text-2xl mt-8 font-medium select-all"),E(n,"data-testid","schedule-name"),E(b,"class","text-sm"),E(l,"class","flex flex-col gap-1 relative"),E(e,"class","mb-8")},m(R,M){I(R,e,M),m(e,l),m(l,t),L(a,t,null),m(t,o),m(l,u),m(l,n),m(n,c),m(l,h),m(l,b),m(b,_),I(R,d,M),L(f,R,M),p=!0},p(R,M){var z;const O={};M&1&&(O.error=(z=R[7])==null?void 0:z.message),f.$set(O)},i(R){p||(A(a.$$.fragment,R),A(f.$$.fragment,R),p=!0)},o(R){H(a.$$.fragment,R),H(f.$$.fragment,R),p=!1},d(R){R&&i(e),j(a),R&&i(d),j(f,R)}}}function Us(s){let e,l,t,a;const r=[zs,Os],o=[];function u(n,c){return n[4]?0:1}return e=u(s),l=o[e]=r[e](s),{c(){l.c(),t=ie()},l(n){l.l(n),t=ie()},m(n,c){o[e].m(n,c),I(n,t,c),a=!0},p(n,c){let h=e;e=u(n),e===h?o[e].p(n,c):(je(),H(o[h],1,1,()=>{o[h]=null}),ye(),l=o[e],l?l.p(n,c):(l=o[e]=r[e](n),l.c()),A(l,1),l.m(t.parentNode,t))},i(n){a||(A(l),a=!0)},o(n){H(l),a=!1},d(n){o[e].d(n),n&&i(t)}}}function Os(s){var at,nt,ot,ut,ft,it,ct,dt,mt,ht,pt,_t,vt,$t,gt,wt,kt,bt,Et,It,Dt,Tt,Rt,Pt,St,Vt,Wt,At,qt,Ht,Mt,Ft,Nt,Ct,Lt,jt,yt;let e,l,t,a,r=w("schedules","back-to-schedules")+"",o,u,n,c,h,b,_,d,f,p,k,R,M,O,z,Z=((ft=(ut=(ot=(nt=(at=s[26])==null?void 0:at.schedule)==null?void 0:nt.action)==null?void 0:ot.startWorkflow)==null?void 0:ut.workflowType)==null?void 0:ft.name)+"",le,ce,se,ue,ee=w("created",{created:ve((ct=(it=s[26])==null?void 0:it.info)==null?void 0:ct.createTime,s[5],{relative:s[6]})})+"",te,be,F,G,re,y,Ie,de,ae,me,We,he,Ae,D,U,ne,X,pe,K,qe,De,x,Ge,Je,He;a=new Oe({props:{name:"chevron-left",class:"inline"}}),c=new jl({props:{status:(dt=s[26])!=null&&dt.schedule.state.paused?"Paused":"Running"}});let Q=((ht=(mt=s[26])==null?void 0:mt.info)==null?void 0:ht.updateTime)&&Fl(s);G=new ds({props:{position:"right",label:(vt=(_t=(pt=s[26])==null?void 0:pt.schedule)==null?void 0:_t.state)!=null&&vt.paused?w("schedules","unpause"):w("schedules","pause"),menuLabel:w("schedules","schedule-actions"),id:"schedule-actions",disabled:s[11],$$slots:{default:[Js]},$$scope:{ctx:s}}}),G.$on("click",s[17]);let B=((gt=($t=s[26])==null?void 0:$t.info)==null?void 0:gt.invalidScheduleError)&&Nl(s);me=new Fs({props:{namespace:s[8],recentRuns:(kt=(wt=s[26])==null?void 0:wt.info)==null?void 0:kt.recentActions}}),he=new js({props:{futureRuns:(Et=(bt=s[26])==null?void 0:bt.info)==null?void 0:Et.futureActionTimes}}),D=new gs({props:{spec:(Dt=(It=s[26])==null?void 0:It.schedule)==null?void 0:Dt.spec,state:(Rt=(Tt=s[26])==null?void 0:Tt.schedule)==null?void 0:Rt.state,policies:(St=(Pt=s[26])==null?void 0:Pt.schedule)==null?void 0:St.policies,notes:(At=(Wt=(Vt=s[26])==null?void 0:Vt.schedule)==null?void 0:Wt.state)==null?void 0:At.notes}}),X=new Ps({props:{calendar:(Ft=(Mt=(Ht=(qt=s[26])==null?void 0:qt.schedule)==null?void 0:Ht.spec)==null?void 0:Mt.structuredCalendar)==null?void 0:Ft[0],interval:(jt=(Lt=(Ct=(Nt=s[26])==null?void 0:Nt.schedule)==null?void 0:Ct.spec)==null?void 0:Lt.interval)==null?void 0:jt[0]}});function Ol(T){s[19](T)}function zl(){return s[20](s[26])}let rt={id:"pause-schedule-modal",confirmType:"primary",confirmText:(yt=s[26])!=null&&yt.schedule.state.paused?w("schedules","unpause"):w("schedules","pause"),cancelText:w("cancel"),confirmDisabled:!s[3],$$slots:{content:[Ys],title:[Ks]},$$scope:{ctx:s}};s[1]!==void 0&&(rt.open=s[1]),K=new Pl({props:rt}),Ze.push(()=>Qe(K,"open",Ol)),K.$on("confirmModal",zl),K.$on("cancelModal",s[14]);function Bl(T){s[21](T)}function Gl(T){s[22](T)}let Ke={id:"delete-schedule-modal",confirmType:"destructive",confirmText:w("delete"),cancelText:w("cancel"),$$slots:{content:[Qs],title:[Zs]},$$scope:{ctx:s}};return s[2]!==void 0&&(Ke.open=s[2]),s[7]!==void 0&&(Ke.error=s[7]),x=new Pl({props:Ke}),Ze.push(()=>Qe(x,"open",Bl)),Ze.push(()=>Qe(x,"error",Gl)),x.$on("confirmModal",s[12]),x.$on("cancelModal",s[14]),{c(){e=v("header"),l=v("div"),t=v("a"),N(a.$$.fragment),o=V(r),u=P(),n=v("h1"),N(c.$$.fragment),h=P(),b=v("span"),_=V(s[9]),d=P(),f=v("div"),p=v("p"),k=V(s[8]),R=P(),M=v("div"),O=P(),z=v("p"),le=V(Z),ce=P(),se=v("div"),ue=v("p"),te=V(ee),be=P(),Q&&Q.c(),F=P(),N(G.$$.fragment),re=P(),y=v("div"),B&&B.c(),Ie=P(),de=v("div"),ae=v("div"),N(me.$$.fragment),We=P(),N(he.$$.fragment),Ae=P(),N(D.$$.fragment),U=P(),ne=v("div"),N(X.$$.fragment),pe=P(),N(K.$$.fragment),De=P(),N(x.$$.fragment),this.h()},l(T){e=$(T,"HEADER",{class:!0});var q=g(e);l=$(q,"DIV",{class:!0});var oe=g(l);t=$(oe,"A",{href:!0,class:!0,style:!0});var Te=g(t);C(a.$$.fragment,Te),o=W(Te,r),Te.forEach(i),u=S(oe),n=$(oe,"H1",{class:!0});var Re=g(n);C(c.$$.fragment,Re),h=S(Re),b=$(Re,"SPAN",{class:!0,"data-testid":!0});var Fe=g(b);_=W(Fe,s[9]),Fe.forEach(i),Re.forEach(i),d=S(oe),f=$(oe,"DIV",{class:!0});var fe=g(f);p=$(fe,"P",{});var Me=g(p);k=W(Me,s[8]),Me.forEach(i),R=S(fe),M=$(fe,"DIV",{class:!0}),g(M).forEach(i),O=S(fe),z=$(fe,"P",{});var Ee=g(z);le=W(Ee,Z),Ee.forEach(i),fe.forEach(i),ce=S(oe),se=$(oe,"DIV",{class:!0});var Pe=g(se);ue=$(Pe,"P",{});var Ne=g(ue);te=W(Ne,ee),Ne.forEach(i),Pe.forEach(i),be=S(oe),Q&&Q.l(oe),oe.forEach(i),F=S(q),C(G.$$.fragment,q),q.forEach(i),re=S(T),y=$(T,"DIV",{class:!0});var Se=g(y);B&&B.l(Se),Ie=S(Se),de=$(Se,"DIV",{class:!0});var Ve=g(de);ae=$(Ve,"DIV",{class:!0});var $e=g(ae);C(me.$$.fragment,$e),We=S($e),C(he.$$.fragment,$e),Ae=S($e),C(D.$$.fragment,$e),$e.forEach(i),U=S(Ve),ne=$(Ve,"DIV",{class:!0});var Ce=g(ne);C(X.$$.fragment,Ce),Ce.forEach(i),Ve.forEach(i),Se.forEach(i),pe=S(T),C(K.$$.fragment,T),De=S(T),C(x.$$.fragment,T),this.h()},h(){E(t,"href",ze({namespace:s[8]})),E(t,"class","absolute top-0 back-to-schedules svelte-1pb4ys0"),tt(t,"left","-0.5rem"),E(b,"class","font-medium select-all"),E(b,"data-testid","schedule-name"),E(n,"class","text-2xl flex relative items-center gap-4 mt-8"),E(M,"class","w-1 h-1 rounded-full bg-gray-900"),E(f,"class","flex items-center gap-2 text-sm"),E(se,"class","flex items-center gap-2 text-sm"),E(l,"class","flex flex-col gap-1 relative"),E(e,"class","flex flex-row justify-between gap-4 mb-8"),E(ae,"class","w-full flex flex-col items-start gap-4 xl:w-2/3"),E(ne,"class","w-full xl:w-1/3"),E(de,"class","flex flex-col xl:flex-row gap-4"),E(y,"class","flex flex-col gap-4 pb-24")},m(T,q){I(T,e,q),m(e,l),m(l,t),L(a,t,null),m(t,o),m(l,u),m(l,n),L(c,n,null),m(n,h),m(n,b),m(b,_),m(l,d),m(l,f),m(f,p),m(p,k),m(f,R),m(f,M),m(f,O),m(f,z),m(z,le),m(l,ce),m(l,se),m(se,ue),m(ue,te),m(l,be),Q&&Q.m(l,null),m(e,F),L(G,e,null),I(T,re,q),I(T,y,q),B&&B.m(y,null),m(y,Ie),m(y,de),m(de,ae),L(me,ae,null),m(ae,We),L(he,ae,null),m(ae,Ae),L(D,ae,null),m(de,U),m(de,ne),L(X,ne,null),I(T,pe,q),L(K,T,q),I(T,De,q),L(x,T,q),He=!0},p(T,q){var Ne,Se,Ve,$e,Ce,Ut,Ot,zt,Bt,Gt,Jt,Kt,Yt,Zt,Qt,Xt,xt,el,tl,ll,sl,rl,al,nl,ol,ul,fl,il,cl,dl,ml,hl,pl,_l,vl,$l,gl;s=T;const oe={};q&1&&(oe.status=(Ne=s[26])!=null&&Ne.schedule.state.paused?"Paused":"Running"),c.$set(oe),(!He||q&1)&&Z!==(Z=((Ut=(Ce=($e=(Ve=(Se=s[26])==null?void 0:Se.schedule)==null?void 0:Ve.action)==null?void 0:$e.startWorkflow)==null?void 0:Ce.workflowType)==null?void 0:Ut.name)+"")&&J(le,Z),(!He||q&97)&&ee!==(ee=w("created",{created:ve((zt=(Ot=s[26])==null?void 0:Ot.info)==null?void 0:zt.createTime,s[5],{relative:s[6]})})+"")&&J(te,ee),(Gt=(Bt=s[26])==null?void 0:Bt.info)!=null&&Gt.updateTime?Q?Q.p(s,q):(Q=Fl(s),Q.c(),Q.m(l,null)):Q&&(Q.d(1),Q=null);const Te={};q&1&&(Te.label=(Yt=(Kt=(Jt=s[26])==null?void 0:Jt.schedule)==null?void 0:Kt.state)!=null&&Yt.paused?w("schedules","unpause"):w("schedules","pause")),q&134217732&&(Te.$$scope={dirty:q,ctx:s}),G.$set(Te),(Qt=(Zt=s[26])==null?void 0:Zt.info)!=null&&Qt.invalidScheduleError?B?(B.p(s,q),q&1&&A(B,1)):(B=Nl(s),B.c(),A(B,1),B.m(y,Ie)):B&&(je(),H(B,1,1,()=>{B=null}),ye());const Re={};q&1&&(Re.recentRuns=(xt=(Xt=s[26])==null?void 0:Xt.info)==null?void 0:xt.recentActions),me.$set(Re);const Fe={};q&1&&(Fe.futureRuns=(tl=(el=s[26])==null?void 0:el.info)==null?void 0:tl.futureActionTimes),he.$set(Fe);const fe={};q&1&&(fe.spec=(sl=(ll=s[26])==null?void 0:ll.schedule)==null?void 0:sl.spec),q&1&&(fe.state=(al=(rl=s[26])==null?void 0:rl.schedule)==null?void 0:al.state),q&1&&(fe.policies=(ol=(nl=s[26])==null?void 0:nl.schedule)==null?void 0:ol.policies),q&1&&(fe.notes=(il=(fl=(ul=s[26])==null?void 0:ul.schedule)==null?void 0:fl.state)==null?void 0:il.notes),D.$set(fe);const Me={};q&1&&(Me.calendar=(hl=(ml=(dl=(cl=s[26])==null?void 0:cl.schedule)==null?void 0:dl.spec)==null?void 0:ml.structuredCalendar)==null?void 0:hl[0]),q&1&&(Me.interval=($l=(vl=(_l=(pl=s[26])==null?void 0:pl.schedule)==null?void 0:_l.spec)==null?void 0:vl.interval)==null?void 0:$l[0]),X.$set(Me);const Ee={};q&1&&(Ee.confirmText=(gl=s[26])!=null&&gl.schedule.state.paused?w("schedules","unpause"):w("schedules","pause")),q&8&&(Ee.confirmDisabled=!s[3]),q&134217737&&(Ee.$$scope={dirty:q,ctx:s}),!qe&&q&2&&(qe=!0,Ee.open=s[1],Xe(()=>qe=!1)),K.$set(Ee);const Pe={};q&134217728&&(Pe.$$scope={dirty:q,ctx:s}),!Ge&&q&4&&(Ge=!0,Pe.open=s[2],Xe(()=>Ge=!1)),!Je&&q&128&&(Je=!0,Pe.error=s[7],Xe(()=>Je=!1)),x.$set(Pe)},i(T){He||(A(a.$$.fragment,T),A(c.$$.fragment,T),A(G.$$.fragment,T),A(B),A(me.$$.fragment,T),A(he.$$.fragment,T),A(D.$$.fragment,T),A(X.$$.fragment,T),A(K.$$.fragment,T),A(x.$$.fragment,T),He=!0)},o(T){H(a.$$.fragment,T),H(c.$$.fragment,T),H(G.$$.fragment,T),H(B),H(me.$$.fragment,T),H(he.$$.fragment,T),H(D.$$.fragment,T),H(X.$$.fragment,T),H(K.$$.fragment,T),H(x.$$.fragment,T),He=!1},d(T){T&&i(e),j(a),j(c),Q&&Q.d(),j(G),T&&i(re),T&&i(y),B&&B.d(),j(me),j(he),j(D),j(X),T&&i(pe),j(K,T),T&&i(De),j(x,T)}}}function zs(s){let e,l;return e=new yl({props:{title:w("schedules","deleting"),class:"my-2"}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,a){L(e,t,a),l=!0},p:Y,i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Fl(s){var r,o;let e,l,t=w("last-updated",{updated:ve((o=(r=s[26])==null?void 0:r.info)==null?void 0:o.updateTime,s[5],{relative:s[6]})})+"",a;return{c(){e=v("div"),l=v("p"),a=V(t),this.h()},l(u){e=$(u,"DIV",{class:!0});var n=g(e);l=$(n,"P",{});var c=g(l);a=W(c,t),c.forEach(i),n.forEach(i),this.h()},h(){E(e,"class","flex items-center gap-2 text-sm")},m(u,n){I(u,e,n),m(e,l),m(l,a)},p(u,n){var c,h;n&97&&t!==(t=w("last-updated",{updated:ve((h=(c=u[26])==null?void 0:c.info)==null?void 0:h.updateTime,u[5],{relative:u[6]})})+"")&&J(a,t)},d(u){u&&i(e)}}}function Bs(s){let e=w("edit")+"",l;return{c(){l=V(e)},l(t){l=W(t,e)},m(t,a){I(t,l,a)},p:Y,d(t){t&&i(l)}}}function Gs(s){let e=w("delete")+"",l;return{c(){l=V(e)},l(t){l=W(t,e)},m(t,a){I(t,l,a)},p:Y,d(t){t&&i(l)}}}function Js(s){let e,l,t,a;return e=new Rl({props:{"data-testid":"edit-schedule",href:cs({namespace:s[8],scheduleId:s[9]}),$$slots:{default:[Bs]},$$scope:{ctx:s}}}),t=new Rl({props:{"data-testid":"delete-schedule",destructive:!0,$$slots:{default:[Gs]},$$scope:{ctx:s}}}),t.$on("click",s[16]),{c(){N(e.$$.fragment),l=P(),N(t.$$.fragment)},l(r){C(e.$$.fragment,r),l=S(r),C(t.$$.fragment,r)},m(r,o){L(e,r,o),I(r,l,o),L(t,r,o),a=!0},p(r,o){const u={};o&134217728&&(u.$$scope={dirty:o,ctx:r}),e.$set(u);const n={};o&134217728&&(n.$$scope={dirty:o,ctx:r}),t.$set(n)},i(r){a||(A(e.$$.fragment,r),A(t.$$.fragment,r),a=!0)},o(r){H(e.$$.fragment,r),H(t.$$.fragment,r),a=!1},d(r){j(e,r),r&&i(l),j(t,r)}}}function Nl(s){var a,r;let e,l,t;return l=new Ul({props:{error:(r=(a=s[26])==null?void 0:a.info)==null?void 0:r.invalidScheduleError}}),{c(){e=v("div"),N(l.$$.fragment),this.h()},l(o){e=$(o,"DIV",{class:!0});var u=g(e);C(l.$$.fragment,u),u.forEach(i),this.h()},h(){E(e,"class","w-full xl:w-1/2")},m(o,u){I(o,e,u),L(l,e,null),t=!0},p(o,u){var c,h;const n={};u&1&&(n.error=(h=(c=o[26])==null?void 0:c.info)==null?void 0:h.invalidScheduleError),l.$set(n)},i(o){t||(A(l.$$.fragment,o),t=!0)},o(o){H(l.$$.fragment,o),t=!1},d(o){o&&i(e),j(l)}}}function Ks(s){var a;let e,l=((a=s[26])!=null&&a.schedule.state.paused?w("schedules","unpause-modal-title"):w("schedules","pause-modal-title"))+"",t;return{c(){e=v("h3"),t=V(l),this.h()},l(r){e=$(r,"H3",{slot:!0});var o=g(e);t=W(o,l),o.forEach(i),this.h()},h(){E(e,"slot","title")},m(r,o){I(r,e,o),m(e,t)},p(r,o){var u;o&1&&l!==(l=((u=r[26])!=null&&u.schedule.state.paused?w("schedules","unpause-modal-title"):w("schedules","pause-modal-title"))+"")&&J(t,l)},d(r){r&&i(e)}}}function Ys(s){var d,f;let e,l,t=((d=s[26])!=null&&d.schedule.state.paused?w("schedules","unpause-modal-confirmation",{schedule:s[9]}):w("schedules","pause-modal-confirmation",{schedule:s[9]}))+"",a,r,o,u=((f=s[26])!=null&&f.schedule.state.paused?w("schedules","unpause-reason"):w("schedules","pause-reason"))+"",n,c,h,b,_;return{c(){e=v("div"),l=v("p"),a=V(t),r=P(),o=v("p"),n=V(u),c=P(),h=v("input"),this.h()},l(p){e=$(p,"DIV",{slot:!0});var k=g(e);l=$(k,"P",{});var R=g(l);a=W(R,t),R.forEach(i),r=S(k),o=$(k,"P",{class:!0});var M=g(o);n=W(M,u),M.forEach(i),c=S(k),h=$(k,"INPUT",{class:!0,placeholder:!0}),k.forEach(i),this.h()},h(){E(o,"class","my-4"),E(h,"class","block w-full border border-gray-200 rounded-md p-2 mt-4"),E(h,"placeholder",w("reason")),E(e,"slot","content")},m(p,k){I(p,e,k),m(e,l),m(l,a),m(e,r),m(e,o),m(o,n),m(e,c),m(e,h),El(h,s[3]),b||(_=[xe(h,"input",s[18]),xe(h,"keydown",ts(s[15]))],b=!0)},p(p,k){var R,M;k&1&&t!==(t=((R=p[26])!=null&&R.schedule.state.paused?w("schedules","unpause-modal-confirmation",{schedule:p[9]}):w("schedules","pause-modal-confirmation",{schedule:p[9]}))+"")&&J(a,t),k&1&&u!==(u=((M=p[26])!=null&&M.schedule.state.paused?w("schedules","unpause-reason"):w("schedules","pause-reason"))+"")&&J(n,u),k&8&&h.value!==p[3]&&El(h,p[3])},d(p){p&&i(e),b=!1,ls(_)}}}function Zs(s){let e,l=w("schedules","delete-modal-title")+"",t;return{c(){e=v("h3"),t=V(l),this.h()},l(a){e=$(a,"H3",{slot:!0});var r=g(e);t=W(r,l),r.forEach(i),this.h()},h(){E(e,"slot","title")},m(a,r){I(a,e,r),m(e,t)},p:Y,d(a){a&&i(e)}}}function Qs(s){let e,l,t=w("schedules","delete-modal-confirmation",{schedule:s[9]})+"",a;return{c(){e=v("div"),l=v("p"),a=V(t),this.h()},l(r){e=$(r,"DIV",{slot:!0});var o=g(e);l=$(o,"P",{});var u=g(l);a=W(u,t),u.forEach(i),o.forEach(i),this.h()},h(){E(e,"slot","content")},m(r,o){I(r,e,o),m(e,l),m(l,a)},p:Y,d(r){r&&i(e)}}}function Xs(s){let e,l,t,a,r=w("schedules","back-to-schedules")+"",o,u,n,c,h,b,_,d,f,p;return a=new Oe({props:{name:"chevron-left",class:"inline"}}),f=new yl({}),{c(){e=v("header"),l=v("div"),t=v("a"),N(a.$$.fragment),o=V(r),u=P(),n=v("h1"),c=V(s[9]),h=P(),b=v("p"),_=V(s[8]),d=P(),N(f.$$.fragment),this.h()},l(k){e=$(k,"HEADER",{class:!0});var R=g(e);l=$(R,"DIV",{class:!0});var M=g(l);t=$(M,"A",{href:!0,class:!0,style:!0});var O=g(t);C(a.$$.fragment,O),o=W(O,r),O.forEach(i),u=S(M),n=$(M,"H1",{class:!0,"data-testid":!0});var z=g(n);c=W(z,s[9]),z.forEach(i),h=S(M),b=$(M,"P",{class:!0});var Z=g(b);_=W(Z,s[8]),Z.forEach(i),M.forEach(i),R.forEach(i),d=S(k),C(f.$$.fragment,k),this.h()},h(){E(t,"href",ze({namespace:s[8]})),E(t,"class","absolute top-0 back-to-schedules svelte-1pb4ys0"),tt(t,"left","-0.5rem"),E(n,"class","text-2xl mt-8 font-medium select-all"),E(n,"data-testid","schedule-name"),E(b,"class","text-sm"),E(l,"class","flex flex-col gap-1 relative"),E(e,"class","mb-8")},m(k,R){I(k,e,R),m(e,l),m(l,t),L(a,t,null),m(t,o),m(l,u),m(l,n),m(n,c),m(l,h),m(l,b),m(b,_),I(k,d,R),L(f,k,R),p=!0},p:Y,i(k){p||(A(a.$$.fragment,k),A(f.$$.fragment,k),p=!0)},o(k){H(a.$$.fragment,k),H(f.$$.fragment,k),p=!1},d(k){k&&i(e),j(a),k&&i(d),j(f,k)}}}function xs(s){let e,l,t,a={ctx:s,current:null,token:null,hasCatch:!0,pending:Xs,then:Us,catch:ys,value:26,error:7,blocks:[,,,]};return Ue(l=s[0],a),{c(){e=ie(),a.block.c()},l(r){e=ie(),a.block.l(r)},m(r,o){I(r,e,o),a.block.m(r,a.anchor=o),a.mount=()=>e.parentNode,a.anchor=e,t=!0},p(r,[o]){s=r,a.ctx=s,o&1&&l!==(l=s[0])&&Ue(l,a)||Cl(a,s,o)},i(r){t||(A(a.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const u=a.blocks[o];H(u)}t=!1},d(r){r&&i(e),a.block.d(r),a.token=null,a=null}}}function er(s,e,l){let t,a,r,o,u;_e(s,Le,F=>l(4,t=F)),_e(s,Ll,F=>l(24,r=F)),_e(s,lt,F=>l(5,o=F)),_e(s,st,F=>l(6,u=F));let n=r.params.namespace,c=r.params.schedule;const h={namespace:n,scheduleId:et(c)};let b=Il(h),_=!1,d=!1,f="",p="",k=ms();_e(s,k,F=>l(23,a=F));let R=a.namespaceWriteDisabled(n);const M=async()=>{l(7,p="");try{Ye(Le,t=!0,t),await ns({namespace:n,scheduleId:c}),l(2,d=!1),setTimeout(()=>{Ye(Le,t=!1,t),rs(ze({namespace:n}))},2e3),l(3,f="")}catch(F){l(7,p=w("schedules","delete-schedule-error",{error:F==null?void 0:F.message})),Ye(Le,t=!1,t)}},O=async F=>{var G,re;!((re=(G=F==null?void 0:F.schedule)===null||G===void 0?void 0:G.state)===null||re===void 0)&&re.paused?await os({namespace:n,scheduleId:c,reason:f}):await us({namespace:n,scheduleId:c,reason:f}),l(0,b=Il(h,fetch)),l(3,f=""),l(1,_=!1)},z=()=>{l(3,f="")};function Z(F){es.call(this,s,F)}const le=()=>l(2,d=!0),ce=()=>l(1,_=!0);function se(){f=this.value,l(3,f)}function ue(F){_=F,l(1,_)}const ee=F=>O(F);function te(F){d=F,l(2,d)}function be(F){p=F,l(7,p)}return[b,_,d,f,t,o,u,p,n,c,k,R,M,O,z,Z,le,ce,se,ue,ee,te,be]}class tr extends ge{constructor(e){super(),we(this,e,er,xs,ke,{})}}function lr(s){let e,l,t,a;return e=new ss({props:{title:`Schedule | ${s[1]}`,url:s[0].url.href}}),t=new tr({}),{c(){N(e.$$.fragment),l=P(),N(t.$$.fragment)},l(r){C(e.$$.fragment,r),l=S(r),C(t.$$.fragment,r)},m(r,o){L(e,r,o),I(r,l,o),L(t,r,o),a=!0},p(r,[o]){const u={};o&1&&(u.url=r[0].url.href),e.$set(u)},i(r){a||(A(e.$$.fragment,r),A(t.$$.fragment,r),a=!0)},o(r){H(e.$$.fragment,r),H(t.$$.fragment,r),a=!1},d(r){j(e,r),r&&i(l),j(t,r)}}}function sr(s,e,l){let t;_e(s,Ll,r=>l(0,t=r));const a=t.params.schedule;return[t,a]}class Er extends ge{constructor(e){super(),we(this,e,sr,lr,ke,{})}}export{Er as default};
