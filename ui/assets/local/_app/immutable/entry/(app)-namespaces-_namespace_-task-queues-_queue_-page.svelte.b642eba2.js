import{S as v,b as q,a as y,ar as C,e as f,f as d,as as Q,j as s,g as i,k as g,K as P,n as l,C as p,D as _,E as k,F as $,c as V,d as N}from"../chunks/index.c37b9eda.js";import{p as T}from"../chunks/stores.e13168ae.js";import{W as h}from"../chunks/workers-list.2ae8c1bc.js";import{c as S,d as W}from"../chunks/pollers-service.b46e6034.js";import{P as j}from"../chunks/page-title.f0713954.js";function w(r){const t=I(r[3].pollers);r[4]=t}function D(r){return{c:l,l,m:l,p:l,i:l,o:l,d:l}}function E(r){w(r);let t,n,e,o;const a=[H,F],c=[];function b(u,m){return u[4]?0:1}return t=b(r),n=c[t]=a[t](r),{c(){n.c(),e=f()},l(u){n.l(u),e=f()},m(u,m){c[t].m(u,m),d(u,e,m),o=!0},p(u,m){w(u),n.p(u,m)},i(u){o||(s(n),o=!0)},o(u){i(n),o=!1},d(u){c[t].d(u),u&&g(e)}}}function F(r){let t,n;return t=new h({props:{taskQueue:r[0],workers:r[3]}}),{c(){p(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){k(t,e,o),n=!0},p:l,i(e){n||(s(t.$$.fragment,e),n=!0)},o(e){i(t.$$.fragment,e),n=!1},d(e){$(t,e)}}}function H(r){let t,n,e={ctx:r,current:null,token:null,hasCatch:!0,pending:A,then:z,catch:K,value:5,blocks:[,,,]};return C(W({queue:r[0],namespace:r[1]}),e),{c(){t=f(),e.block.c()},l(o){t=f(),e.block.l(o)},m(o,a){d(o,t,a),e.block.m(o,e.anchor=a),e.mount=()=>t.parentNode,e.anchor=t,n=!0},p(o,a){r=o,Q(e,r,a)},i(o){n||(s(e.block),n=!0)},o(o){for(let a=0;a<3;a+=1){const c=e.blocks[a];i(c)}n=!1},d(o){o&&g(t),e.block.d(o),e.token=null,e=null}}}function K(r){let t,n;return t=new h({props:{taskQueue:r[0],workers:r[3]}}),{c(){p(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){k(t,e,o),n=!0},p:l,i(e){n||(s(t.$$.fragment,e),n=!0)},o(e){i(t.$$.fragment,e),n=!1},d(e){$(t,e)}}}function z(r){let t,n;return t=new h({props:{taskQueue:r[0],workers:r[3],compatibility:r[5]}}),{c(){p(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){k(t,e,o),n=!0},p:l,i(e){n||(s(t.$$.fragment,e),n=!0)},o(e){i(t.$$.fragment,e),n=!1},d(e){$(t,e)}}}function A(r){return{c:l,l,m:l,p:l,i:l,o:l,d:l}}function B(r){return{c:l,l,m:l,p:l,i:l,o:l,d:l}}function G(r){let t,n,e={ctx:r,current:null,token:null,hasCatch:!1,pending:B,then:E,catch:D,value:3,blocks:[,,,]};return C(S({queue:r[0],namespace:r[1]}),e),{c(){t=f(),e.block.c()},l(o){t=f(),e.block.l(o)},m(o,a){d(o,t,a),e.block.m(o,e.anchor=a),e.mount=()=>t.parentNode,e.anchor=t,n=!0},p(o,[a]){r=o,Q(e,r,a)},i(o){n||(s(e.block),n=!0)},o(o){for(let a=0;a<3;a+=1){const c=e.blocks[a];i(c)}n=!1},d(o){o&&g(t),e.block.d(o),e.token=null,e=null}}}function I(r){return r==null?void 0:r.some(t=>{var n;return(n=t==null?void 0:t.workerVersionCapabilities)===null||n===void 0?void 0:n.useVersioning})}function J(r,t,n){let e;P(r,T,c=>n(2,e=c));let{queue:o,namespace:a}=e.params;return[o,a]}class L extends v{constructor(t){super(),q(this,t,J,G,y,{})}}function M(r){let t,n,e,o;return t=new j({props:{title:`Task Queue | ${r[1]}`,url:r[0].url.href}}),e=new L({}),{c(){p(t.$$.fragment),n=V(),p(e.$$.fragment)},l(a){_(t.$$.fragment,a),n=N(a),_(e.$$.fragment,a)},m(a,c){k(t,a,c),d(a,n,c),k(e,a,c),o=!0},p(a,[c]){const b={};c&1&&(b.url=a[0].url.href),t.$set(b)},i(a){o||(s(t.$$.fragment,a),s(e.$$.fragment,a),o=!0)},o(a){i(t.$$.fragment,a),i(e.$$.fragment,a),o=!1},d(a){$(t,a),a&&g(n),$(e,a)}}}function O(r,t,n){let e;P(r,T,a=>n(0,e=a));const o=e.params.queue;return[e,o]}class x extends v{constructor(t){super(),q(this,t,O,M,y,{})}}export{x as default};
