import{S as Ie,b as Te,a as De,m as k,w as T,c as S,p as w,q as b,x as D,k as f,d as V,u as R,f as g,L as d,y as K,n as X,C as O,D as z,E as G,j as H,g as C,F as J,e as ie,G as Gl,P as hl,H as Jl,I as Kl,J as Ql,N as $l,U as vl,K as ve,z as Ne,a9 as Zl,aa as Bl,h as je,ar as Le,as as Cl,a6 as Xl,a5 as Je,V as Yl,A as Ke,Z as Qe,_ as Ze,a0 as gl,Q as kl,a1 as yl,r as xl}from"../chunks/index.efded970.js";import{p as Ml}from"../chunks/stores.03303a44.js";import{P as es}from"../chunks/page-title.a6dec5b5.js";import{g as ts}from"../chunks/navigation.074061a5.js";import{A as ls}from"../chunks/accordion.61877130.js";import{t as _}from"../chunks/translate.d6980286.js";import{S as ss,a as wl,d as rs,u as ns,p as as}from"../chunks/schedule-service.71d8420d.js";import{E as os}from"../chunks/empty-state.2456c8bf.js";import{L as Ue}from"../chunks/link.694050ed.js";import{i as bl}from"../chunks/workflow-service.37043b64.js";import{t as Xe,r as Ye,b as ge}from"../chunks/format-date.be4b741e.js";import{k as Be,f as El,c as Oe,q as us}from"../chunks/route-for.7c5ef531.js";import{W as Fl}from"../chunks/workflow-status.5903fd0a.js";import{L as Nl}from"../chunks/loading.9340b85c.js";import{d as Il}from"../chunks/menu.e1b22163.js";import{M as Tl}from"../chunks/modal.d80826b0.js";import{S as fs}from"../chunks/split-button.f011b293.js";import{c as is}from"../chunks/core-user.c3fa437a.js";import{l as Fe}from"../chunks/schedules.f400da63.js";function cs(r){let e,l,t=_("notes")+"",o,s,n,u;return{c(){e=k("div"),l=k("h2"),o=T(t),s=S(),n=k("p"),u=T(r[0]),this.h()},l(a){e=w(a,"DIV",{});var m=b(e);l=w(m,"H2",{class:!0});var p=b(l);o=D(p,t),p.forEach(f),s=V(m),n=w(m,"P",{});var v=b(n);u=D(v,r[0]),v.forEach(f),m.forEach(f),this.h()},h(){R(l,"class","mb-4 text-2xl")},m(a,m){g(a,e,m),d(e,l),d(l,o),d(e,s),d(e,n),d(n,u)},p(a,[m]){m&1&&K(u,a[0])},i:X,o:X,d(a){a&&f(e)}}}function ds(r,e,l){let{notes:t=""}=e;return r.$$set=o=>{"notes"in o&&l(0,t=o.notes)},[t]}class ms extends Ie{constructor(e){super(),Te(this,e,ds,cs,De,{notes:0})}}function Dl(r){var fe,W,N,ce,ee,de,_e;let e,l=_("schedules","start-time")+"",t,o,s=(((fe=r[0])==null?void 0:fe.startTime)??_("none"))+"",n,u,a,m=_("schedules","end-time")+"",p,v=(((W=r[0])==null?void 0:W.endTime)??_("none"))+"",h,i,c,$=_("schedules","jitter")+"",P,M=(((N=r[0])==null?void 0:N.jitter)??_("none"))+"",j,le,Q,ue=_("schedules","exclusion-calendar")+"",ae,Y=(((ee=(ce=r[0])==null?void 0:ce.excludeCalendar)==null?void 0:ee[0])??_("none"))+"",re,oe,y,F,pe=_("schedules","overlap-policy")+"",A,se=(((de=r[2])==null?void 0:de.overlapPolicy)??_("none"))+"",Z,U=((_e=r[1])==null?void 0:_e.limitedActions)&&Pl(r);return{c(){e=k("p"),t=T(l),o=S(),n=T(s),u=S(),a=k("p"),p=T(m),h=T(v),i=S(),c=k("p"),P=T($),j=T(M),le=S(),Q=k("p"),ae=T(ue),re=T(Y),oe=S(),U&&U.c(),y=S(),F=k("p"),A=T(pe),Z=T(se)},l(E){e=w(E,"P",{});var L=b(e);t=D(L,l),o=V(L),n=D(L,s),L.forEach(f),u=V(E),a=w(E,"P",{});var te=b(a);p=D(te,m),h=D(te,v),te.forEach(f),i=V(E),c=w(E,"P",{});var $e=b(c);P=D($e,$),j=D($e,M),$e.forEach(f),le=V(E),Q=w(E,"P",{});var he=b(Q);ae=D(he,ue),re=D(he,Y),he.forEach(f),oe=V(E),U&&U.l(E),y=V(E),F=w(E,"P",{});var x=b(F);A=D(x,pe),Z=D(x,se),x.forEach(f)},m(E,L){g(E,e,L),d(e,t),d(e,o),d(e,n),g(E,u,L),g(E,a,L),d(a,p),d(a,h),g(E,i,L),g(E,c,L),d(c,P),d(c,j),g(E,le,L),g(E,Q,L),d(Q,ae),d(Q,re),g(E,oe,L),U&&U.m(E,L),g(E,y,L),g(E,F,L),d(F,A),d(F,Z)},p(E,L){var te,$e,he,x,We,Ae,ke;L&1&&s!==(s=(((te=E[0])==null?void 0:te.startTime)??_("none"))+"")&&K(n,s),L&1&&v!==(v=((($e=E[0])==null?void 0:$e.endTime)??_("none"))+"")&&K(h,v),L&1&&M!==(M=(((he=E[0])==null?void 0:he.jitter)??_("none"))+"")&&K(j,M),L&1&&Y!==(Y=(((We=(x=E[0])==null?void 0:x.excludeCalendar)==null?void 0:We[0])??_("none"))+"")&&K(re,Y),(Ae=E[1])!=null&&Ae.limitedActions?U?U.p(E,L):(U=Pl(E),U.c(),U.m(y.parentNode,y)):U&&(U.d(1),U=null),L&4&&se!==(se=(((ke=E[2])==null?void 0:ke.overlapPolicy)??_("none"))+"")&&K(Z,se)},d(E){E&&f(e),E&&f(u),E&&f(a),E&&f(i),E&&f(c),E&&f(le),E&&f(Q),E&&f(oe),U&&U.d(E),E&&f(y),E&&f(F)}}}function Pl(r){var n;let e,l=_("schedules","remaining-actions")+"",t,o=(((n=r[1])==null?void 0:n.remainingActions)??_("none"))+"",s;return{c(){e=k("p"),t=T(l),s=T(o)},l(u){e=w(u,"P",{});var a=b(e);t=D(a,l),s=D(a,o),a.forEach(f)},m(u,a){g(u,e,a),d(e,t),d(e,s)},p(u,a){var m;a&2&&o!==(o=(((m=u[1])==null?void 0:m.remainingActions)??_("none"))+"")&&K(s,o)},d(u){u&&f(e)}}}function ps(r){var pe,A,se,Z,U,fe;let e,l=_("schedules","start-time")+"",t,o,s=(((pe=r[0])==null?void 0:pe.startTime)??_("none"))+"",n,u,a,m=_("schedules","end-time")+"",p,v=(((A=r[0])==null?void 0:A.endTime)??_("none"))+"",h,i,c,$=_("schedules","jitter")+"",P,M=(((se=r[0])==null?void 0:se.jitter)??_("none"))+"",j,le,Q,ue=_("schedules","exclusion-calendar")+"",ae,Y=(((U=(Z=r[0])==null?void 0:Z.excludeCalendar)==null?void 0:U[0])??_("none"))+"",re,oe,y,F=((fe=r[1])==null?void 0:fe.limitedActions)&&Dl(r);return{c(){e=k("p"),t=T(l),o=S(),n=T(s),u=S(),a=k("p"),p=T(m),h=T(v),i=S(),c=k("p"),P=T($),j=T(M),le=S(),Q=k("p"),ae=T(ue),re=T(Y),oe=S(),F&&F.c(),y=ie()},l(W){e=w(W,"P",{});var N=b(e);t=D(N,l),o=V(N),n=D(N,s),N.forEach(f),u=V(W),a=w(W,"P",{});var ce=b(a);p=D(ce,m),h=D(ce,v),ce.forEach(f),i=V(W),c=w(W,"P",{});var ee=b(c);P=D(ee,$),j=D(ee,M),ee.forEach(f),le=V(W),Q=w(W,"P",{});var de=b(Q);ae=D(de,ue),re=D(de,Y),de.forEach(f),oe=V(W),F&&F.l(W),y=ie()},m(W,N){g(W,e,N),d(e,t),d(e,o),d(e,n),g(W,u,N),g(W,a,N),d(a,p),d(a,h),g(W,i,N),g(W,c,N),d(c,P),d(c,j),g(W,le,N),g(W,Q,N),d(Q,ae),d(Q,re),g(W,oe,N),F&&F.m(W,N),g(W,y,N)},p(W,N){var ce,ee,de,_e,E,L;N&1&&s!==(s=(((ce=W[0])==null?void 0:ce.startTime)??_("none"))+"")&&K(n,s),N&1&&v!==(v=(((ee=W[0])==null?void 0:ee.endTime)??_("none"))+"")&&K(h,v),N&1&&M!==(M=(((de=W[0])==null?void 0:de.jitter)??_("none"))+"")&&K(j,M),N&1&&Y!==(Y=(((E=(_e=W[0])==null?void 0:_e.excludeCalendar)==null?void 0:E[0])??_("none"))+"")&&K(re,Y),(L=W[1])!=null&&L.limitedActions?F?F.p(W,N):(F=Dl(W),F.c(),F.m(y.parentNode,y)):F&&(F.d(1),F=null)},d(W){W&&f(e),W&&f(u),W&&f(a),W&&f(i),W&&f(c),W&&f(le),W&&f(Q),W&&f(oe),F&&F.d(W),W&&f(y)}}}function _s(r){let e,l,t,o;return e=new ms({props:{notes:r[3]}}),t=new ls({props:{title:_("schedules","advanced-settings"),$$slots:{default:[ps]},$$scope:{ctx:r}}}),{c(){O(e.$$.fragment),l=S(),O(t.$$.fragment)},l(s){z(e.$$.fragment,s),l=V(s),z(t.$$.fragment,s)},m(s,n){G(e,s,n),g(s,l,n),G(t,s,n),o=!0},p(s,[n]){const u={};n&8&&(u.notes=s[3]),e.$set(u);const a={};n&23&&(a.$$scope={dirty:n,ctx:s}),t.$set(a)},i(s){o||(H(e.$$.fragment,s),H(t.$$.fragment,s),o=!0)},o(s){C(e.$$.fragment,s),C(t.$$.fragment,s),o=!1},d(s){J(e,s),s&&f(l),J(t,s)}}}function hs(r,e,l){let{spec:t}=e,{state:o}=e,{policies:s}=e,{notes:n=""}=e;return r.$$set=u=>{"spec"in u&&l(0,t=u.spec),"state"in u&&l(1,o=u.state),"policies"in u&&l(2,s=u.policies),"notes"in u&&l(3,n=u.notes)},[t,o,s,n]}class $s extends Ie{constructor(e){super(),Te(this,e,hs,_s,De,{spec:0,state:1,policies:2,notes:3})}}function vs(r){let e,l,t;const o=r[3].default,s=Gl(o,r,r[2],null);return{c(){e=k("div"),s&&s.c(),this.h()},l(n){e=w(n,"DIV",{class:!0});var u=b(e);s&&s.l(u),u.forEach(f),this.h()},h(){R(e,"class",l="panel bg-white "+r[1].class+" svelte-11fqqfg"),hl(e,"error",r[0])},m(n,u){g(n,e,u),s&&s.m(e,null),t=!0},p(n,[u]){s&&s.p&&(!t||u&4)&&Jl(s,o,n,n[2],t?Ql(o,n[2],u,null):Kl(n[2]),null),(!t||u&2&&l!==(l="panel bg-white "+n[1].class+" svelte-11fqqfg"))&&R(e,"class",l),(!t||u&3)&&hl(e,"error",n[0])},i(n){t||(H(s,n),t=!0)},o(n){C(s,n),t=!1},d(n){n&&f(e),s&&s.d(n)}}}function gs(r,e,l){let{$$slots:t={},$$scope:o}=e,{error:s=!1}=e;return r.$$set=n=>{l(1,e=$l($l({},e),vl(n))),"error"in n&&l(0,s=n.error),"$$scope"in n&&l(2,o=n.$$scope)},e=vl(e),[s,e,o,t]}class ze extends Ie{constructor(e){super(),Te(this,e,gs,vs,De,{error:0})}}function ks(r){let e,l=_("schedules","error-title")+"",t,o,s,n;return{c(){e=k("p"),t=T(l),o=S(),s=k("p"),n=T(r[0]),this.h()},l(u){e=w(u,"P",{class:!0});var a=b(e);t=D(a,l),a.forEach(f),o=V(u),s=w(u,"P",{class:!0});var m=b(s);n=D(m,r[0]),m.forEach(f),this.h()},h(){R(e,"class","error-text svelte-1lke5yx"),R(s,"class","error-text svelte-1lke5yx")},m(u,a){g(u,e,a),d(e,t),g(u,o,a),g(u,s,a),d(s,n)},p(u,a){a&1&&K(n,u[0])},d(u){u&&f(e),u&&f(o),u&&f(s)}}}function ws(r){let e,l;return e=new ze({props:{error:!0,$$slots:{default:[ks]},$$scope:{ctx:r}}}),{c(){O(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,o){G(e,t,o),l=!0},p(t,[o]){const s={};o&3&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function bs(r,e,l){let{error:t=""}=e;return r.$$set=o=>{"error"in o&&l(0,t=o.error)},[t]}class jl extends Ie{constructor(e){super(),Te(this,e,bs,ws,De,{error:0})}}function Es(r){let e,l=_("schedules","schedule-spec")+"",t,o,s,n,u;return n=new ss({props:{calendar:r[0],interval:r[1],class:"text-base"}}),{c(){e=k("h2"),t=T(l),o=S(),s=k("div"),O(n.$$.fragment),this.h()},l(a){e=w(a,"H2",{class:!0});var m=b(e);t=D(m,l),m.forEach(f),o=V(a),s=w(a,"DIV",{class:!0});var p=b(s);z(n.$$.fragment,p),p.forEach(f),this.h()},h(){R(e,"class","mb-4 text-2xl"),R(s,"class","pr-2")},m(a,m){g(a,e,m),d(e,t),g(a,o,m),g(a,s,m),G(n,s,null),u=!0},p(a,m){const p={};m&1&&(p.calendar=a[0]),m&2&&(p.interval=a[1]),n.$set(p)},i(a){u||(H(n.$$.fragment,a),u=!0)},o(a){C(n.$$.fragment,a),u=!1},d(a){a&&f(e),a&&f(o),a&&f(s),J(n)}}}function Is(r){let e,l;return e=new ze({props:{$$slots:{default:[Es]},$$scope:{ctx:r}}}),{c(){O(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,o){G(e,t,o),l=!0},p(t,[o]){const s={};o&7&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function Ts(r,e,l){let{calendar:t=void 0}=e,{interval:o=void 0}=e;return r.$$set=s=>{"calendar"in s&&l(0,t=s.calendar),"interval"in s&&l(1,o=s.interval)},[t,o]}class Ds extends Ie{constructor(e){super(),Te(this,e,Ts,Is,De,{calendar:0,interval:1})}}function Rl(r,e,l){const t=r.slice();return t[5]=e[l],t}function Ps(r){let e,l,t,o,s=r[5].startWorkflowResult.workflowId+"",n,u,a,m,p=ge(r[5].actualTime,r[2],{relative:r[3]})+"",v;return{c(){e=k("div"),l=k("div"),t=S(),o=k("div"),n=T(s),u=S(),a=k("div"),m=k("p"),v=T(p),this.h()},l(h){e=w(h,"DIV",{class:!0});var i=b(e);l=w(i,"DIV",{class:!0}),b(l).forEach(f),t=V(i),o=w(i,"DIV",{class:!0});var c=b(o);n=D(c,s),c.forEach(f),u=V(i),a=w(i,"DIV",{class:!0});var $=b(a);m=w($,"P",{});var P=b(m);v=D(P,p),P.forEach(f),$.forEach(f),i.forEach(f),this.h()},h(){R(l,"class","w-28"),R(o,"class","w-96"),R(a,"class","ml-auto"),R(e,"class","row svelte-lqpjgu")},m(h,i){g(h,e,i),d(e,l),d(e,t),d(e,o),d(o,n),d(e,u),d(e,a),d(a,m),d(m,v)},p(h,i){i&1&&s!==(s=h[5].startWorkflowResult.workflowId+"")&&K(n,s),i&13&&p!==(p=ge(h[5].actualTime,h[2],{relative:h[3]})+"")&&K(v,p)},i:X,o:X,d(h){h&&f(e)}}}function Rs(r){let e,l,t,o,s,n,u,a,m,p=ge(r[5].actualTime,r[2],{relative:r[3]})+"",v,h;return t=new Fl({props:{status:r[8].status}}),n=new Ue({props:{newTab:!0,href:El({workflow:r[5].startWorkflowResult.workflowId,run:r[5].startWorkflowResult.runId,namespace:r[1]}),$$slots:{default:[Ss]},$$scope:{ctx:r}}}),{c(){e=k("div"),l=k("div"),O(t.$$.fragment),o=S(),s=k("div"),O(n.$$.fragment),u=S(),a=k("div"),m=k("p"),v=T(p),this.h()},l(i){e=w(i,"DIV",{class:!0});var c=b(e);l=w(c,"DIV",{class:!0});var $=b(l);z(t.$$.fragment,$),$.forEach(f),o=V(c),s=w(c,"DIV",{class:!0});var P=b(s);z(n.$$.fragment,P),P.forEach(f),u=V(c),a=w(c,"DIV",{class:!0});var M=b(a);m=w(M,"P",{});var j=b(m);v=D(j,p),j.forEach(f),M.forEach(f),c.forEach(f),this.h()},h(){R(l,"class","w-28"),R(s,"class","w-auto break-words mx-2"),R(a,"class","ml-auto"),R(e,"class","row svelte-lqpjgu")},m(i,c){g(i,e,c),d(e,l),G(t,l,null),d(e,o),d(e,s),G(n,s,null),d(e,u),d(e,a),d(a,m),d(m,v),h=!0},p(i,c){const $={};c&3&&($.status=i[8].status),t.$set($);const P={};c&3&&(P.href=El({workflow:i[5].startWorkflowResult.workflowId,run:i[5].startWorkflowResult.runId,namespace:i[1]})),c&513&&(P.$$scope={dirty:c,ctx:i}),n.$set(P),(!h||c&13)&&p!==(p=ge(i[5].actualTime,i[2],{relative:i[3]})+"")&&K(v,p)},i(i){h||(H(t.$$.fragment,i),H(n.$$.fragment,i),h=!0)},o(i){C(t.$$.fragment,i),C(n.$$.fragment,i),h=!1},d(i){i&&f(e),J(t),J(n)}}}function Ss(r){let e=r[5].startWorkflowResult.workflowId+"",l;return{c(){l=T(e)},l(t){l=D(t,e)},m(t,o){g(t,l,o)},p(t,o){o&1&&e!==(e=t[5].startWorkflowResult.workflowId+"")&&K(l,e)},d(t){t&&f(l)}}}function Vs(r){return{c:X,l:X,m:X,p:X,i:X,o:X,d:X}}function Sl(r,e){let l,t,o,s,n={ctx:e,current:null,token:null,hasCatch:!0,pending:Vs,then:Rs,catch:Ps,value:8,blocks:[,,,]};return Le(o=bl({namespace:e[1],workflowId:Be(e[5].startWorkflowResult.workflowId),runId:e[5].startWorkflowResult.runId},fetch),n),{key:r,first:null,c(){l=ie(),t=ie(),n.block.c(),this.h()},l(u){l=ie(),t=ie(),n.block.l(u),this.h()},h(){this.first=l},m(u,a){g(u,l,a),g(u,t,a),n.block.m(u,n.anchor=a),n.mount=()=>t.parentNode,n.anchor=t,s=!0},p(u,a){e=u,n.ctx=e,a&3&&o!==(o=bl({namespace:e[1],workflowId:Be(e[5].startWorkflowResult.workflowId),runId:e[5].startWorkflowResult.runId},fetch))&&Le(o,n)||Cl(n,e,a)},i(u){s||(H(n.block),s=!0)},o(u){for(let a=0;a<3;a+=1){const m=n.blocks[a];C(m)}s=!1},d(u){u&&f(l),u&&f(t),n.block.d(u),n.token=null,n=null}}}function Vl(r){let e,l;return e=new os({props:{title:_("schedules","recent-runs-empty-state-title")}}),{c(){O(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,o){G(e,t,o),l=!0},p:X,i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function Ws(r){let e,l=_("schedules","recent-runs")+"",t,o,s=[],n=new Map,u,a,m,p=r[4](r[0]);const v=i=>{var c,$;return($=(c=i[5])==null?void 0:c.startWorkflowResult)==null?void 0:$.workflowId};for(let i=0;i<p.length;i+=1){let c=Rl(r,p,i),$=v(c);n.set($,s[i]=Sl($,c))}let h=!r[0].length&&Vl();return{c(){e=k("h2"),t=T(l),o=S();for(let i=0;i<s.length;i+=1)s[i].c();u=S(),h&&h.c(),a=ie(),this.h()},l(i){e=w(i,"H2",{class:!0});var c=b(e);t=D(c,l),c.forEach(f),o=V(i);for(let $=0;$<s.length;$+=1)s[$].l(i);u=V(i),h&&h.l(i),a=ie(),this.h()},h(){R(e,"class","mb-4 text-2xl")},m(i,c){g(i,e,c),d(e,t),g(i,o,c);for(let $=0;$<s.length;$+=1)s[$].m(i,c);g(i,u,c),h&&h.m(i,c),g(i,a,c),m=!0},p(i,c){c&31&&(p=i[4](i[0]),Ne(),s=Zl(s,c,v,1,i,p,n,u.parentNode,Bl,Sl,u,Rl),je()),i[0].length?h&&(Ne(),C(h,1,1,()=>{h=null}),je()):h?(h.p(i,c),c&1&&H(h,1)):(h=Vl(),h.c(),H(h,1),h.m(a.parentNode,a))},i(i){if(!m){for(let c=0;c<p.length;c+=1)H(s[c]);H(h),m=!0}},o(i){for(let c=0;c<s.length;c+=1)C(s[c]);C(h),m=!1},d(i){i&&f(e),i&&f(o);for(let c=0;c<s.length;c+=1)s[c].d(i);i&&f(u),h&&h.d(i),i&&f(a)}}}function As(r){let e,l;return e=new ze({props:{class:"w-full",$$slots:{default:[Ws]},$$scope:{ctx:r}}}),{c(){O(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,o){G(e,t,o),l=!0},p(t,[o]){const s={};o&527&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function qs(r,e,l){let t,o;ve(r,Xe,a=>l(2,t=a)),ve(r,Ye,a=>l(3,o=a));let{recentRuns:s=[]}=e,{namespace:n}=e;const u=a=>{var m,p;return(p=(m=a==null?void 0:a.sort((v,h)=>new Date(h.actualTime).getTime()-new Date(v.actualTime).getTime()))===null||m===void 0?void 0:m.slice(0,5))!==null&&p!==void 0?p:[]};return r.$$set=a=>{"recentRuns"in a&&l(0,s=a.recentRuns),"namespace"in a&&l(1,n=a.namespace)},[s,n,t,o,u]}class Hs extends Ie{constructor(e){super(),Te(this,e,qs,As,De,{recentRuns:0,namespace:1})}}function Wl(r,e,l){const t=r.slice();return t[3]=e[l],t}function Al(r){let e,l,t=ge(r[3],r[1],{relative:r[2],relativeLabel:_("from-now")})+"",o,s;return{c(){e=k("div"),l=k("p"),o=T(t),s=S(),this.h()},l(n){e=w(n,"DIV",{class:!0});var u=b(e);l=w(u,"P",{});var a=b(l);o=D(a,t),a.forEach(f),s=V(u),u.forEach(f),this.h()},h(){R(e,"class","row svelte-kbuuws")},m(n,u){g(n,e,u),d(e,l),d(l,o),d(e,s)},p(n,u){u&7&&t!==(t=ge(n[3],n[1],{relative:n[2],relativeLabel:_("from-now")})+"")&&K(o,t)},d(n){n&&f(e)}}}function Cs(r){let e,l=_("schedules","upcoming-runs")+"",t,o,s,n=r[0].slice(0,5),u=[];for(let a=0;a<n.length;a+=1)u[a]=Al(Wl(r,n,a));return{c(){e=k("h2"),t=T(l),o=S();for(let a=0;a<u.length;a+=1)u[a].c();s=ie(),this.h()},l(a){e=w(a,"H2",{class:!0});var m=b(e);t=D(m,l),m.forEach(f),o=V(a);for(let p=0;p<u.length;p+=1)u[p].l(a);s=ie(),this.h()},h(){R(e,"class","mb-4 text-2xl")},m(a,m){g(a,e,m),d(e,t),g(a,o,m);for(let p=0;p<u.length;p+=1)u[p].m(a,m);g(a,s,m)},p(a,m){if(m&7){n=a[0].slice(0,5);let p;for(p=0;p<n.length;p+=1){const v=Wl(a,n,p);u[p]?u[p].p(v,m):(u[p]=Al(v),u[p].c(),u[p].m(s.parentNode,s))}for(;p<u.length;p+=1)u[p].d(1);u.length=n.length}},d(a){a&&f(e),a&&f(o),Xl(u,a),a&&f(s)}}}function Ms(r){let e,l;return e=new ze({props:{$$slots:{default:[Cs]},$$scope:{ctx:r}}}),{c(){O(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,o){G(e,t,o),l=!0},p(t,[o]){const s={};o&71&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function Fs(r,e,l){let t,o;ve(r,Xe,n=>l(1,t=n)),ve(r,Ye,n=>l(2,o=n));let{futureRuns:s=[]}=e;return r.$$set=n=>{"futureRuns"in n&&l(0,s=n.futureRuns)},[s,t,o]}class Ns extends Ie{constructor(e){super(),Te(this,e,Fs,Ms,De,{futureRuns:0})}}function js(r){var i;let e,l,t,o,s,n,u,a,m,p,v,h;return t=new Ue({props:{href:Oe({namespace:r[8]}),icon:"chevron-left",$$slots:{default:[Ls]},$$scope:{ctx:r}}}),v=new jl({props:{error:(i=r[7])==null?void 0:i.message}}),{c(){e=k("header"),l=k("div"),O(t.$$.fragment),o=S(),s=k("h1"),n=T(r[9]),u=S(),a=k("p"),m=T(r[8]),p=S(),O(v.$$.fragment),this.h()},l(c){e=w(c,"HEADER",{class:!0});var $=b(e);l=w($,"DIV",{class:!0});var P=b(l);z(t.$$.fragment,P),o=V(P),s=w(P,"H1",{class:!0,"data-testid":!0});var M=b(s);n=D(M,r[9]),M.forEach(f),u=V(P),a=w(P,"P",{class:!0});var j=b(a);m=D(j,r[8]),j.forEach(f),P.forEach(f),$.forEach(f),p=V(c),z(v.$$.fragment,c),this.h()},h(){R(s,"class","text-2xl mt-8 font-medium select-all"),R(s,"data-testid","schedule-name"),R(a,"class","text-sm"),R(l,"class","flex flex-col gap-1 relative"),R(e,"class","mb-8")},m(c,$){g(c,e,$),d(e,l),G(t,l,null),d(l,o),d(l,s),d(s,n),d(l,u),d(l,a),d(a,m),g(c,p,$),G(v,c,$),h=!0},p(c,$){var j;const P={};$&134217728&&(P.$$scope={dirty:$,ctx:c}),t.$set(P);const M={};$&1&&(M.error=(j=c[7])==null?void 0:j.message),v.$set(M)},i(c){h||(H(t.$$.fragment,c),H(v.$$.fragment,c),h=!0)},o(c){C(t.$$.fragment,c),C(v.$$.fragment,c),h=!1},d(c){c&&f(e),J(t),c&&f(p),J(v,c)}}}function Ls(r){let e=_("schedules","back-to-schedules")+"",l;return{c(){l=T(e)},l(t){l=D(t,e)},m(t,o){g(t,l,o)},p:X,d(t){t&&f(l)}}}function Us(r){let e,l,t,o;const s=[zs,Os],n=[];function u(a,m){return a[4]?0:1}return e=u(r),l=n[e]=s[e](r),{c(){l.c(),t=ie()},l(a){l.l(a),t=ie()},m(a,m){n[e].m(a,m),g(a,t,m),o=!0},p(a,m){let p=e;e=u(a),e===p?n[e].p(a,m):(Ne(),C(n[p],1,1,()=>{n[p]=null}),je(),l=n[e],l?l.p(a,m):(l=n[e]=s[e](a),l.c()),H(l,1),l.m(t.parentNode,t))},i(a){o||(H(l),o=!0)},o(a){C(l),o=!1},d(a){n[e].d(a),a&&f(t)}}}function Os(r){var xe,et,tt,lt,st,rt,nt,at,ot,ut,ft,it,ct,dt,mt,pt,_t,ht,$t,vt,gt,kt,wt,bt,Et,It,Tt,Dt,Pt,Rt,St,Vt,Wt,At,qt,Ht,Ct;let e,l,t,o,s,n,u,a,m,p,v,h,i,c,$,P,M,j=((st=(lt=(tt=(et=(xe=r[26])==null?void 0:xe.schedule)==null?void 0:et.action)==null?void 0:tt.startWorkflow)==null?void 0:lt.workflowType)==null?void 0:st.name)+"",le,Q,ue,ae,Y=_("created",{created:ge((nt=(rt=r[26])==null?void 0:rt.info)==null?void 0:nt.createTime,r[5],{relative:r[6]})})+"",re,oe,y,F,pe,A,se,Z,U,fe,W,N,ce,ee,de,_e,E,L,te,$e,he,x,We,Ae,ke;t=new Ue({props:{href:Oe({namespace:r[8]}),icon:"chevron-left",$$slots:{default:[Gs]},$$scope:{ctx:r}}}),n=new Fl({props:{status:(at=r[26])!=null&&at.schedule.state.paused?"Paused":"Running"}});let ne=((ut=(ot=r[26])==null?void 0:ot.info)==null?void 0:ut.updateTime)&&ql(r);F=new fs({props:{position:"right",label:(ct=(it=(ft=r[26])==null?void 0:ft.schedule)==null?void 0:it.state)!=null&&ct.paused?_("schedules","unpause"):_("schedules","pause"),menuLabel:_("schedules","schedule-actions"),id:"schedule-actions",disabled:r[11],$$slots:{default:[Qs]},$$scope:{ctx:r}}}),F.$on("click",r[17]);let B=((mt=(dt=r[26])==null?void 0:dt.info)==null?void 0:mt.invalidScheduleError)&&Hl(r);fe=new Hs({props:{namespace:r[8],recentRuns:(_t=(pt=r[26])==null?void 0:pt.info)==null?void 0:_t.recentActions}}),N=new Ns({props:{futureRuns:($t=(ht=r[26])==null?void 0:ht.info)==null?void 0:$t.futureActionTimes}}),ee=new $s({props:{spec:(gt=(vt=r[26])==null?void 0:vt.schedule)==null?void 0:gt.spec,state:(wt=(kt=r[26])==null?void 0:kt.schedule)==null?void 0:wt.state,policies:(Et=(bt=r[26])==null?void 0:bt.schedule)==null?void 0:Et.policies,notes:(Dt=(Tt=(It=r[26])==null?void 0:It.schedule)==null?void 0:Tt.state)==null?void 0:Dt.notes}}),E=new Ds({props:{calendar:(Vt=(St=(Rt=(Pt=r[26])==null?void 0:Pt.schedule)==null?void 0:Rt.spec)==null?void 0:St.structuredCalendar)==null?void 0:Vt[0],interval:(Ht=(qt=(At=(Wt=r[26])==null?void 0:Wt.schedule)==null?void 0:At.spec)==null?void 0:qt.interval)==null?void 0:Ht[0]}});function Ll(I){r[19](I)}function Ul(){return r[20](r[26])}let ye={id:"pause-schedule-modal",confirmType:"primary",confirmText:(Ct=r[26])!=null&&Ct.schedule.state.paused?_("schedules","unpause"):_("schedules","pause"),cancelText:_("cancel"),confirmDisabled:!r[3],$$slots:{content:[Bs],title:[Zs]},$$scope:{ctx:r}};r[1]!==void 0&&(ye.open=r[1]),te=new Tl({props:ye}),Ke.push(()=>Qe(te,"open",Ll)),te.$on("confirmModal",Ul),te.$on("cancelModal",r[14]);function Ol(I){r[21](I)}function zl(I){r[22](I)}let Ge={id:"delete-schedule-modal",confirmType:"destructive",confirmText:_("delete"),cancelText:_("cancel"),$$slots:{content:[Ys],title:[Xs]},$$scope:{ctx:r}};return r[2]!==void 0&&(Ge.open=r[2]),r[7]!==void 0&&(Ge.error=r[7]),x=new Tl({props:Ge}),Ke.push(()=>Qe(x,"open",Ol)),Ke.push(()=>Qe(x,"error",zl)),x.$on("confirmModal",r[12]),x.$on("cancelModal",r[14]),{c(){e=k("header"),l=k("div"),O(t.$$.fragment),o=S(),s=k("h1"),O(n.$$.fragment),u=S(),a=k("span"),m=T(r[9]),p=S(),v=k("div"),h=k("p"),i=T(r[8]),c=S(),$=k("div"),P=S(),M=k("p"),le=T(j),Q=S(),ue=k("div"),ae=k("p"),re=T(Y),oe=S(),ne&&ne.c(),y=S(),O(F.$$.fragment),pe=S(),A=k("div"),B&&B.c(),se=S(),Z=k("div"),U=k("div"),O(fe.$$.fragment),W=S(),O(N.$$.fragment),ce=S(),O(ee.$$.fragment),de=S(),_e=k("div"),O(E.$$.fragment),L=S(),O(te.$$.fragment),he=S(),O(x.$$.fragment),this.h()},l(I){e=w(I,"HEADER",{class:!0});var q=b(e);l=w(q,"DIV",{class:!0});var me=b(l);z(t.$$.fragment,me),o=V(me),s=w(me,"H1",{class:!0});var Se=b(s);z(n.$$.fragment,Se),u=V(Se),a=w(Se,"SPAN",{class:!0,"data-testid":!0});var qe=b(a);m=D(qe,r[9]),qe.forEach(f),Se.forEach(f),p=V(me),v=w(me,"DIV",{class:!0});var we=b(v);h=w(we,"P",{});var Ce=b(h);i=D(Ce,r[8]),Ce.forEach(f),c=V(we),$=w(we,"DIV",{class:!0}),b($).forEach(f),P=V(we),M=w(we,"P",{});var Pe=b(M);le=D(Pe,j),Pe.forEach(f),we.forEach(f),Q=V(me),ue=w(me,"DIV",{class:!0});var He=b(ue);ae=w(He,"P",{});var Re=b(ae);re=D(Re,Y),Re.forEach(f),He.forEach(f),oe=V(me),ne&&ne.l(me),me.forEach(f),y=V(q),z(F.$$.fragment,q),q.forEach(f),pe=V(I),A=w(I,"DIV",{class:!0});var be=b(A);B&&B.l(be),se=V(be),Z=w(be,"DIV",{class:!0});var Ve=b(Z);U=w(Ve,"DIV",{class:!0});var Ee=b(U);z(fe.$$.fragment,Ee),W=V(Ee),z(N.$$.fragment,Ee),ce=V(Ee),z(ee.$$.fragment,Ee),Ee.forEach(f),de=V(Ve),_e=w(Ve,"DIV",{class:!0});var Me=b(_e);z(E.$$.fragment,Me),Me.forEach(f),Ve.forEach(f),be.forEach(f),L=V(I),z(te.$$.fragment,I),he=V(I),z(x.$$.fragment,I),this.h()},h(){R(a,"class","font-medium select-all"),R(a,"data-testid","schedule-name"),R(s,"class","text-2xl flex relative items-center gap-4 mt-8"),R($,"class","w-1 h-1 rounded-full bg-gray-900"),R(v,"class","flex items-center gap-2 text-sm"),R(ue,"class","flex items-center gap-2 text-sm"),R(l,"class","flex flex-col gap-1 relative"),R(e,"class","flex flex-row justify-between gap-4 mb-8"),R(U,"class","w-full flex flex-col items-start gap-4 xl:w-2/3"),R(_e,"class","w-full xl:w-1/3"),R(Z,"class","flex flex-col xl:flex-row gap-4"),R(A,"class","flex flex-col gap-4 pb-24")},m(I,q){g(I,e,q),d(e,l),G(t,l,null),d(l,o),d(l,s),G(n,s,null),d(s,u),d(s,a),d(a,m),d(l,p),d(l,v),d(v,h),d(h,i),d(v,c),d(v,$),d(v,P),d(v,M),d(M,le),d(l,Q),d(l,ue),d(ue,ae),d(ae,re),d(l,oe),ne&&ne.m(l,null),d(e,y),G(F,e,null),g(I,pe,q),g(I,A,q),B&&B.m(A,null),d(A,se),d(A,Z),d(Z,U),G(fe,U,null),d(U,W),G(N,U,null),d(U,ce),G(ee,U,null),d(Z,de),d(Z,_e),G(E,_e,null),g(I,L,q),G(te,I,q),g(I,he,q),G(x,I,q),ke=!0},p(I,q){var Ve,Ee,Me,Mt,Ft,Nt,jt,Lt,Ut,Ot,zt,Gt,Jt,Kt,Qt,Zt,Bt,Xt,Yt,yt,xt,el,tl,ll,sl,rl,nl,al,ol,ul,fl,il,cl,dl,ml,pl,_l;r=I;const me={};q&134217728&&(me.$$scope={dirty:q,ctx:r}),t.$set(me);const Se={};q&1&&(Se.status=(Ve=r[26])!=null&&Ve.schedule.state.paused?"Paused":"Running"),n.$set(Se),(!ke||q&1)&&j!==(j=((Nt=(Ft=(Mt=(Me=(Ee=r[26])==null?void 0:Ee.schedule)==null?void 0:Me.action)==null?void 0:Mt.startWorkflow)==null?void 0:Ft.workflowType)==null?void 0:Nt.name)+"")&&K(le,j),(!ke||q&97)&&Y!==(Y=_("created",{created:ge((Lt=(jt=r[26])==null?void 0:jt.info)==null?void 0:Lt.createTime,r[5],{relative:r[6]})})+"")&&K(re,Y),(Ot=(Ut=r[26])==null?void 0:Ut.info)!=null&&Ot.updateTime?ne?ne.p(r,q):(ne=ql(r),ne.c(),ne.m(l,null)):ne&&(ne.d(1),ne=null);const qe={};q&1&&(qe.label=(Jt=(Gt=(zt=r[26])==null?void 0:zt.schedule)==null?void 0:Gt.state)!=null&&Jt.paused?_("schedules","unpause"):_("schedules","pause")),q&134217732&&(qe.$$scope={dirty:q,ctx:r}),F.$set(qe),(Qt=(Kt=r[26])==null?void 0:Kt.info)!=null&&Qt.invalidScheduleError?B?(B.p(r,q),q&1&&H(B,1)):(B=Hl(r),B.c(),H(B,1),B.m(A,se)):B&&(Ne(),C(B,1,1,()=>{B=null}),je());const we={};q&1&&(we.recentRuns=(Bt=(Zt=r[26])==null?void 0:Zt.info)==null?void 0:Bt.recentActions),fe.$set(we);const Ce={};q&1&&(Ce.futureRuns=(Yt=(Xt=r[26])==null?void 0:Xt.info)==null?void 0:Yt.futureActionTimes),N.$set(Ce);const Pe={};q&1&&(Pe.spec=(xt=(yt=r[26])==null?void 0:yt.schedule)==null?void 0:xt.spec),q&1&&(Pe.state=(tl=(el=r[26])==null?void 0:el.schedule)==null?void 0:tl.state),q&1&&(Pe.policies=(sl=(ll=r[26])==null?void 0:ll.schedule)==null?void 0:sl.policies),q&1&&(Pe.notes=(al=(nl=(rl=r[26])==null?void 0:rl.schedule)==null?void 0:nl.state)==null?void 0:al.notes),ee.$set(Pe);const He={};q&1&&(He.calendar=(il=(fl=(ul=(ol=r[26])==null?void 0:ol.schedule)==null?void 0:ul.spec)==null?void 0:fl.structuredCalendar)==null?void 0:il[0]),q&1&&(He.interval=(pl=(ml=(dl=(cl=r[26])==null?void 0:cl.schedule)==null?void 0:dl.spec)==null?void 0:ml.interval)==null?void 0:pl[0]),E.$set(He);const Re={};q&1&&(Re.confirmText=(_l=r[26])!=null&&_l.schedule.state.paused?_("schedules","unpause"):_("schedules","pause")),q&8&&(Re.confirmDisabled=!r[3]),q&134217737&&(Re.$$scope={dirty:q,ctx:r}),!$e&&q&2&&($e=!0,Re.open=r[1],Ze(()=>$e=!1)),te.$set(Re);const be={};q&134217728&&(be.$$scope={dirty:q,ctx:r}),!We&&q&4&&(We=!0,be.open=r[2],Ze(()=>We=!1)),!Ae&&q&128&&(Ae=!0,be.error=r[7],Ze(()=>Ae=!1)),x.$set(be)},i(I){ke||(H(t.$$.fragment,I),H(n.$$.fragment,I),H(F.$$.fragment,I),H(B),H(fe.$$.fragment,I),H(N.$$.fragment,I),H(ee.$$.fragment,I),H(E.$$.fragment,I),H(te.$$.fragment,I),H(x.$$.fragment,I),ke=!0)},o(I){C(t.$$.fragment,I),C(n.$$.fragment,I),C(F.$$.fragment,I),C(B),C(fe.$$.fragment,I),C(N.$$.fragment,I),C(ee.$$.fragment,I),C(E.$$.fragment,I),C(te.$$.fragment,I),C(x.$$.fragment,I),ke=!1},d(I){I&&f(e),J(t),J(n),ne&&ne.d(),J(F),I&&f(pe),I&&f(A),B&&B.d(),J(fe),J(N),J(ee),J(E),I&&f(L),J(te,I),I&&f(he),J(x,I)}}}function zs(r){let e,l;return e=new Nl({props:{title:_("schedules","deleting"),class:"my-2"}}),{c(){O(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,o){G(e,t,o),l=!0},p:X,i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function Gs(r){let e=_("schedules","back-to-schedules")+"",l;return{c(){l=T(e)},l(t){l=D(t,e)},m(t,o){g(t,l,o)},p:X,d(t){t&&f(l)}}}function ql(r){var s,n;let e,l,t=_("last-updated",{updated:ge((n=(s=r[26])==null?void 0:s.info)==null?void 0:n.updateTime,r[5],{relative:r[6]})})+"",o;return{c(){e=k("div"),l=k("p"),o=T(t),this.h()},l(u){e=w(u,"DIV",{class:!0});var a=b(e);l=w(a,"P",{});var m=b(l);o=D(m,t),m.forEach(f),a.forEach(f),this.h()},h(){R(e,"class","flex items-center gap-2 text-sm")},m(u,a){g(u,e,a),d(e,l),d(l,o)},p(u,a){var m,p;a&97&&t!==(t=_("last-updated",{updated:ge((p=(m=u[26])==null?void 0:m.info)==null?void 0:p.updateTime,u[5],{relative:u[6]})})+"")&&K(o,t)},d(u){u&&f(e)}}}function Js(r){let e=_("edit")+"",l;return{c(){l=T(e)},l(t){l=D(t,e)},m(t,o){g(t,l,o)},p:X,d(t){t&&f(l)}}}function Ks(r){let e=_("delete")+"",l;return{c(){l=T(e)},l(t){l=D(t,e)},m(t,o){g(t,l,o)},p:X,d(t){t&&f(l)}}}function Qs(r){let e,l,t,o;return e=new Il({props:{"data-testid":"edit-schedule",href:us({namespace:r[8],scheduleId:r[9]}),$$slots:{default:[Js]},$$scope:{ctx:r}}}),t=new Il({props:{"data-testid":"delete-schedule",destructive:!0,$$slots:{default:[Ks]},$$scope:{ctx:r}}}),t.$on("click",r[16]),{c(){O(e.$$.fragment),l=S(),O(t.$$.fragment)},l(s){z(e.$$.fragment,s),l=V(s),z(t.$$.fragment,s)},m(s,n){G(e,s,n),g(s,l,n),G(t,s,n),o=!0},p(s,n){const u={};n&134217728&&(u.$$scope={dirty:n,ctx:s}),e.$set(u);const a={};n&134217728&&(a.$$scope={dirty:n,ctx:s}),t.$set(a)},i(s){o||(H(e.$$.fragment,s),H(t.$$.fragment,s),o=!0)},o(s){C(e.$$.fragment,s),C(t.$$.fragment,s),o=!1},d(s){J(e,s),s&&f(l),J(t,s)}}}function Hl(r){var o,s;let e,l,t;return l=new jl({props:{error:(s=(o=r[26])==null?void 0:o.info)==null?void 0:s.invalidScheduleError}}),{c(){e=k("div"),O(l.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var u=b(e);z(l.$$.fragment,u),u.forEach(f),this.h()},h(){R(e,"class","w-full xl:w-1/2")},m(n,u){g(n,e,u),G(l,e,null),t=!0},p(n,u){var m,p;const a={};u&1&&(a.error=(p=(m=n[26])==null?void 0:m.info)==null?void 0:p.invalidScheduleError),l.$set(a)},i(n){t||(H(l.$$.fragment,n),t=!0)},o(n){C(l.$$.fragment,n),t=!1},d(n){n&&f(e),J(l)}}}function Zs(r){var o;let e,l=((o=r[26])!=null&&o.schedule.state.paused?_("schedules","unpause-modal-title"):_("schedules","pause-modal-title"))+"",t;return{c(){e=k("h3"),t=T(l),this.h()},l(s){e=w(s,"H3",{slot:!0});var n=b(e);t=D(n,l),n.forEach(f),this.h()},h(){R(e,"slot","title")},m(s,n){g(s,e,n),d(e,t)},p(s,n){var u;n&1&&l!==(l=((u=s[26])!=null&&u.schedule.state.paused?_("schedules","unpause-modal-title"):_("schedules","pause-modal-title"))+"")&&K(t,l)},d(s){s&&f(e)}}}function Bs(r){var i,c;let e,l,t=((i=r[26])!=null&&i.schedule.state.paused?_("schedules","unpause-modal-confirmation",{schedule:r[9]}):_("schedules","pause-modal-confirmation",{schedule:r[9]}))+"",o,s,n,u=((c=r[26])!=null&&c.schedule.state.paused?_("schedules","unpause-reason"):_("schedules","pause-reason"))+"",a,m,p,v,h;return{c(){e=k("div"),l=k("p"),o=T(t),s=S(),n=k("p"),a=T(u),m=S(),p=k("input"),this.h()},l($){e=w($,"DIV",{slot:!0});var P=b(e);l=w(P,"P",{});var M=b(l);o=D(M,t),M.forEach(f),s=V(P),n=w(P,"P",{class:!0});var j=b(n);a=D(j,u),j.forEach(f),m=V(P),p=w(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(f),this.h()},h(){R(n,"class","my-4"),R(p,"class","block w-full border border-gray-200 rounded-md p-2 mt-4"),R(p,"placeholder",_("reason")),R(e,"slot","content")},m($,P){g($,e,P),d(e,l),d(l,o),d(e,s),d(e,n),d(n,a),d(e,m),d(e,p),gl(p,r[3]),v||(h=[kl(p,"input",r[18]),kl(p,"keydown",yl(r[15]))],v=!0)},p($,P){var M,j;P&1&&t!==(t=((M=$[26])!=null&&M.schedule.state.paused?_("schedules","unpause-modal-confirmation",{schedule:$[9]}):_("schedules","pause-modal-confirmation",{schedule:$[9]}))+"")&&K(o,t),P&1&&u!==(u=((j=$[26])!=null&&j.schedule.state.paused?_("schedules","unpause-reason"):_("schedules","pause-reason"))+"")&&K(a,u),P&8&&p.value!==$[3]&&gl(p,$[3])},d($){$&&f(e),v=!1,xl(h)}}}function Xs(r){let e,l=_("schedules","delete-modal-title")+"",t;return{c(){e=k("h3"),t=T(l),this.h()},l(o){e=w(o,"H3",{slot:!0});var s=b(e);t=D(s,l),s.forEach(f),this.h()},h(){R(e,"slot","title")},m(o,s){g(o,e,s),d(e,t)},p:X,d(o){o&&f(e)}}}function Ys(r){let e,l,t=_("schedules","delete-modal-confirmation",{schedule:r[9]})+"",o;return{c(){e=k("div"),l=k("p"),o=T(t),this.h()},l(s){e=w(s,"DIV",{slot:!0});var n=b(e);l=w(n,"P",{});var u=b(l);o=D(u,t),u.forEach(f),n.forEach(f),this.h()},h(){R(e,"slot","content")},m(s,n){g(s,e,n),d(e,l),d(l,o)},p:X,d(s){s&&f(e)}}}function ys(r){let e,l,t,o,s,n,u,a,m,p,v,h;return t=new Ue({props:{href:Oe({namespace:r[8]}),icon:"chevron-left",$$slots:{default:[xs]},$$scope:{ctx:r}}}),v=new Nl({}),{c(){e=k("header"),l=k("div"),O(t.$$.fragment),o=S(),s=k("h1"),n=T(r[9]),u=S(),a=k("p"),m=T(r[8]),p=S(),O(v.$$.fragment),this.h()},l(i){e=w(i,"HEADER",{class:!0});var c=b(e);l=w(c,"DIV",{class:!0});var $=b(l);z(t.$$.fragment,$),o=V($),s=w($,"H1",{class:!0,"data-testid":!0});var P=b(s);n=D(P,r[9]),P.forEach(f),u=V($),a=w($,"P",{class:!0});var M=b(a);m=D(M,r[8]),M.forEach(f),$.forEach(f),c.forEach(f),p=V(i),z(v.$$.fragment,i),this.h()},h(){R(s,"class","text-2xl mt-8 font-medium select-all"),R(s,"data-testid","schedule-name"),R(a,"class","text-sm"),R(l,"class","flex flex-col gap-1 relative"),R(e,"class","mb-8")},m(i,c){g(i,e,c),d(e,l),G(t,l,null),d(l,o),d(l,s),d(s,n),d(l,u),d(l,a),d(a,m),g(i,p,c),G(v,i,c),h=!0},p(i,c){const $={};c&134217728&&($.$$scope={dirty:c,ctx:i}),t.$set($)},i(i){h||(H(t.$$.fragment,i),H(v.$$.fragment,i),h=!0)},o(i){C(t.$$.fragment,i),C(v.$$.fragment,i),h=!1},d(i){i&&f(e),J(t),i&&f(p),J(v,i)}}}function xs(r){let e=_("schedules","back-to-schedules")+"",l;return{c(){l=T(e)},l(t){l=D(t,e)},m(t,o){g(t,l,o)},p:X,d(t){t&&f(l)}}}function er(r){let e,l,t,o={ctx:r,current:null,token:null,hasCatch:!0,pending:ys,then:Us,catch:js,value:26,error:7,blocks:[,,,]};return Le(l=r[0],o),{c(){e=ie(),o.block.c()},l(s){e=ie(),o.block.l(s)},m(s,n){g(s,e,n),o.block.m(s,o.anchor=n),o.mount=()=>e.parentNode,o.anchor=e,t=!0},p(s,[n]){r=s,o.ctx=r,n&1&&l!==(l=r[0])&&Le(l,o)||Cl(o,r,n)},i(s){t||(H(o.block),t=!0)},o(s){for(let n=0;n<3;n+=1){const u=o.blocks[n];C(u)}t=!1},d(s){s&&f(e),o.block.d(s),o.token=null,o=null}}}function tr(r,e,l){let t,o,s,n,u;ve(r,Fe,A=>l(4,t=A)),ve(r,Ml,A=>l(24,s=A)),ve(r,Xe,A=>l(5,n=A)),ve(r,Ye,A=>l(6,u=A));let a=s.params.namespace,m=s.params.schedule;const p={namespace:a,scheduleId:Be(m)};let v=wl(p),h=!1,i=!1,c="",$="",P=is();ve(r,P,A=>l(23,o=A));let M=o.namespaceWriteDisabled(a);const j=async()=>{l(7,$="");try{Je(Fe,t=!0,t),await rs({namespace:a,scheduleId:m}),l(2,i=!1),setTimeout(()=>{Je(Fe,t=!1,t),ts(Oe({namespace:a}))},2e3),l(3,c="")}catch(A){l(7,$=_("schedules","delete-schedule-error",{error:A==null?void 0:A.message})),Je(Fe,t=!1,t)}},le=async A=>{var se,Z;!((Z=(se=A==null?void 0:A.schedule)===null||se===void 0?void 0:se.state)===null||Z===void 0)&&Z.paused?await ns({namespace:a,scheduleId:m,reason:c}):await as({namespace:a,scheduleId:m,reason:c}),l(0,v=wl(p,fetch)),l(3,c=""),l(1,h=!1)},Q=()=>{l(3,c="")};function ue(A){Yl.call(this,r,A)}const ae=()=>l(2,i=!0),Y=()=>l(1,h=!0);function re(){c=this.value,l(3,c)}function oe(A){h=A,l(1,h)}const y=A=>le(A);function F(A){i=A,l(2,i)}function pe(A){$=A,l(7,$)}return[v,h,i,c,t,n,u,$,a,m,P,M,j,le,Q,ue,ae,Y,re,oe,y,F,pe]}class lr extends Ie{constructor(e){super(),Te(this,e,tr,er,De,{})}}function sr(r){let e,l,t,o;return e=new es({props:{title:`Schedule | ${r[1]}`,url:r[0].url.href}}),t=new lr({}),{c(){O(e.$$.fragment),l=S(),O(t.$$.fragment)},l(s){z(e.$$.fragment,s),l=V(s),z(t.$$.fragment,s)},m(s,n){G(e,s,n),g(s,l,n),G(t,s,n),o=!0},p(s,[n]){const u={};n&1&&(u.url=s[0].url.href),e.$set(u)},i(s){o||(H(e.$$.fragment,s),H(t.$$.fragment,s),o=!0)},o(s){C(e.$$.fragment,s),C(t.$$.fragment,s),o=!1},d(s){J(e,s),s&&f(l),J(t,s)}}}function rr(r,e,l){let t;ve(r,Ml,s=>l(0,t=s));const o=t.params.schedule;return[t,o]}class Ir extends Ie{constructor(e){super(),Te(this,e,rr,sr,De,{})}}export{Ir as default};
