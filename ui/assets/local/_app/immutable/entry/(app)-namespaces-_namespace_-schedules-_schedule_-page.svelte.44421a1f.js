import{S as Ie,b as Te,a as De,m as k,w as D,c as W,p as w,q as b,x as P,k as f,d as A,u as V,f as g,L as d,y as J,n as Z,C as U,D as O,E as z,j as H,g as C,F as G,e as ie,G as Jl,P as $l,H as Kl,I as Ql,J as Zl,N as vl,U as gl,K as ve,z as Le,aa as Bl,ab as Xl,h as Ue,ar as Oe,as as Ml,a7 as Yl,a5 as Ke,V as yl,A as Qe,Z as Ze,_ as Be,a0 as kl,Q as wl,a1 as xl,r as es}from"../chunks/index.6779d4e2.js";import{p as Fl}from"../chunks/stores.6afc1eb1.js";import{P as ts}from"../chunks/page-title.990af218.js";import{g as Fe}from"../chunks/navigation.4ad4c035.js";import{A as ls}from"../chunks/accordion.6253b32e.js";import{t as _}from"../chunks/translate.29a4bc43.js";import{S as ss,a as bl,d as rs,u as ns,p as as}from"../chunks/schedule-service.337c3d5a.js";import{E as os}from"../chunks/empty-state.c8d40bbf.js";import{L as ze}from"../chunks/link.8030aa06.js";import{i as El}from"../chunks/workflow-service.9da2cf1d.js";import{t as Ye,r as ye,b as ge}from"../chunks/format-date.79dd40f6.js";import{l as Xe,g as Il,c as Ne,u as us}from"../chunks/route-for.fbc35ee9.js";import{W as Nl}from"../chunks/workflow-status.fc3d74d1.js";import{L as jl}from"../chunks/loading.a6f9064e.js";import{d as Tl}from"../chunks/menu.7e3d54af.js";import{M as Dl}from"../chunks/modal.118648f9.js";import{S as fs}from"../chunks/split-button.9aad1ebf.js";import{c as is}from"../chunks/core-user.1973d180.js";import{l as je}from"../chunks/schedules.0f56426f.js";function cs(r){let e,l,t=_("notes")+"",o,s,n,u;return{c(){e=k("div"),l=k("h2"),o=D(t),s=W(),n=k("p"),u=D(r[0]),this.h()},l(a){e=w(a,"DIV",{});var m=b(e);l=w(m,"H2",{class:!0});var p=b(l);o=P(p,t),p.forEach(f),s=A(m),n=w(m,"P",{});var v=b(n);u=P(v,r[0]),v.forEach(f),m.forEach(f),this.h()},h(){V(l,"class","mb-4 text-2xl")},m(a,m){g(a,e,m),d(e,l),d(l,o),d(e,s),d(e,n),d(n,u)},p(a,[m]){m&1&&J(u,a[0])},i:Z,o:Z,d(a){a&&f(e)}}}function ds(r,e,l){let{notes:t=""}=e;return r.$$set=o=>{"notes"in o&&l(0,t=o.notes)},[t]}class ms extends Ie{constructor(e){super(),Te(this,e,ds,cs,De,{notes:0})}}function Pl(r){var x,S,N,ce,ee,de,_e;let e,l=_("schedules","start-time")+"",t,o,s=(((x=r[0])==null?void 0:x.startTime)??_("none"))+"",n,u,a,m=_("schedules","end-time")+"",p,v=(((S=r[0])==null?void 0:S.endTime)??_("none"))+"",h,i,c,$=_("schedules","jitter")+"",R,M=(((N=r[0])==null?void 0:N.jitter)??_("none"))+"",j,le,K,fe=_("schedules","exclusion-calendar")+"",ae,B=(((ee=(ce=r[0])==null?void 0:ce.excludeCalendar)==null?void 0:ee[0])??_("none"))+"",re,oe,X,F,pe=_("schedules","overlap-policy")+"",Y,ue=(((de=r[2])==null?void 0:de.overlapPolicy)??_("none"))+"",se,E=((_e=r[1])==null?void 0:_e.limitedActions)&&Rl(r);return{c(){e=k("p"),t=D(l),o=W(),n=D(s),u=W(),a=k("p"),p=D(m),h=D(v),i=W(),c=k("p"),R=D($),j=D(M),le=W(),K=k("p"),ae=D(fe),re=D(B),oe=W(),E&&E.c(),X=W(),F=k("p"),Y=D(pe),se=D(ue)},l(I){e=w(I,"P",{});var L=b(e);t=P(L,l),o=A(L),n=P(L,s),L.forEach(f),u=A(I),a=w(I,"P",{});var te=b(a);p=P(te,m),h=P(te,v),te.forEach(f),i=A(I),c=w(I,"P",{});var $e=b(c);R=P($e,$),j=P($e,M),$e.forEach(f),le=A(I),K=w(I,"P",{});var he=b(K);ae=P(he,fe),re=P(he,B),he.forEach(f),oe=A(I),E&&E.l(I),X=A(I),F=w(I,"P",{});var y=b(F);Y=P(y,pe),se=P(y,ue),y.forEach(f)},m(I,L){g(I,e,L),d(e,t),d(e,o),d(e,n),g(I,u,L),g(I,a,L),d(a,p),d(a,h),g(I,i,L),g(I,c,L),d(c,R),d(c,j),g(I,le,L),g(I,K,L),d(K,ae),d(K,re),g(I,oe,L),E&&E.m(I,L),g(I,X,L),g(I,F,L),d(F,Y),d(F,se)},p(I,L){var te,$e,he,y,We,Ae,ke;L&1&&s!==(s=(((te=I[0])==null?void 0:te.startTime)??_("none"))+"")&&J(n,s),L&1&&v!==(v=((($e=I[0])==null?void 0:$e.endTime)??_("none"))+"")&&J(h,v),L&1&&M!==(M=(((he=I[0])==null?void 0:he.jitter)??_("none"))+"")&&J(j,M),L&1&&B!==(B=(((We=(y=I[0])==null?void 0:y.excludeCalendar)==null?void 0:We[0])??_("none"))+"")&&J(re,B),(Ae=I[1])!=null&&Ae.limitedActions?E?E.p(I,L):(E=Rl(I),E.c(),E.m(X.parentNode,X)):E&&(E.d(1),E=null),L&4&&ue!==(ue=(((ke=I[2])==null?void 0:ke.overlapPolicy)??_("none"))+"")&&J(se,ue)},d(I){I&&f(e),I&&f(u),I&&f(a),I&&f(i),I&&f(c),I&&f(le),I&&f(K),I&&f(oe),E&&E.d(I),I&&f(X),I&&f(F)}}}function Rl(r){var n;let e,l=_("schedules","remaining-actions")+"",t,o=(((n=r[1])==null?void 0:n.remainingActions)??_("none"))+"",s;return{c(){e=k("p"),t=D(l),s=D(o)},l(u){e=w(u,"P",{});var a=b(e);t=P(a,l),s=P(a,o),a.forEach(f)},m(u,a){g(u,e,a),d(e,t),d(e,s)},p(u,a){var m;a&2&&o!==(o=(((m=u[1])==null?void 0:m.remainingActions)??_("none"))+"")&&J(s,o)},d(u){u&&f(e)}}}function ps(r){var pe,Y,ue,se,E,x;let e,l=_("schedules","start-time")+"",t,o,s=(((pe=r[0])==null?void 0:pe.startTime)??_("none"))+"",n,u,a,m=_("schedules","end-time")+"",p,v=(((Y=r[0])==null?void 0:Y.endTime)??_("none"))+"",h,i,c,$=_("schedules","jitter")+"",R,M=(((ue=r[0])==null?void 0:ue.jitter)??_("none"))+"",j,le,K,fe=_("schedules","exclusion-calendar")+"",ae,B=(((E=(se=r[0])==null?void 0:se.excludeCalendar)==null?void 0:E[0])??_("none"))+"",re,oe,X,F=((x=r[1])==null?void 0:x.limitedActions)&&Pl(r);return{c(){e=k("p"),t=D(l),o=W(),n=D(s),u=W(),a=k("p"),p=D(m),h=D(v),i=W(),c=k("p"),R=D($),j=D(M),le=W(),K=k("p"),ae=D(fe),re=D(B),oe=W(),F&&F.c(),X=ie()},l(S){e=w(S,"P",{});var N=b(e);t=P(N,l),o=A(N),n=P(N,s),N.forEach(f),u=A(S),a=w(S,"P",{});var ce=b(a);p=P(ce,m),h=P(ce,v),ce.forEach(f),i=A(S),c=w(S,"P",{});var ee=b(c);R=P(ee,$),j=P(ee,M),ee.forEach(f),le=A(S),K=w(S,"P",{});var de=b(K);ae=P(de,fe),re=P(de,B),de.forEach(f),oe=A(S),F&&F.l(S),X=ie()},m(S,N){g(S,e,N),d(e,t),d(e,o),d(e,n),g(S,u,N),g(S,a,N),d(a,p),d(a,h),g(S,i,N),g(S,c,N),d(c,R),d(c,j),g(S,le,N),g(S,K,N),d(K,ae),d(K,re),g(S,oe,N),F&&F.m(S,N),g(S,X,N)},p(S,N){var ce,ee,de,_e,I,L;N&1&&s!==(s=(((ce=S[0])==null?void 0:ce.startTime)??_("none"))+"")&&J(n,s),N&1&&v!==(v=(((ee=S[0])==null?void 0:ee.endTime)??_("none"))+"")&&J(h,v),N&1&&M!==(M=(((de=S[0])==null?void 0:de.jitter)??_("none"))+"")&&J(j,M),N&1&&B!==(B=(((I=(_e=S[0])==null?void 0:_e.excludeCalendar)==null?void 0:I[0])??_("none"))+"")&&J(re,B),(L=S[1])!=null&&L.limitedActions?F?F.p(S,N):(F=Pl(S),F.c(),F.m(X.parentNode,X)):F&&(F.d(1),F=null)},d(S){S&&f(e),S&&f(u),S&&f(a),S&&f(i),S&&f(c),S&&f(le),S&&f(K),S&&f(oe),F&&F.d(S),S&&f(X)}}}function _s(r){let e,l,t,o;return e=new ms({props:{notes:r[3]}}),t=new ls({props:{title:_("schedules","advanced-settings"),$$slots:{default:[ps]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),l=W(),U(t.$$.fragment)},l(s){O(e.$$.fragment,s),l=A(s),O(t.$$.fragment,s)},m(s,n){z(e,s,n),g(s,l,n),z(t,s,n),o=!0},p(s,[n]){const u={};n&8&&(u.notes=s[3]),e.$set(u);const a={};n&23&&(a.$$scope={dirty:n,ctx:s}),t.$set(a)},i(s){o||(H(e.$$.fragment,s),H(t.$$.fragment,s),o=!0)},o(s){C(e.$$.fragment,s),C(t.$$.fragment,s),o=!1},d(s){G(e,s),s&&f(l),G(t,s)}}}function hs(r,e,l){let{spec:t}=e,{state:o}=e,{policies:s}=e,{notes:n=""}=e;return r.$$set=u=>{"spec"in u&&l(0,t=u.spec),"state"in u&&l(1,o=u.state),"policies"in u&&l(2,s=u.policies),"notes"in u&&l(3,n=u.notes)},[t,o,s,n]}class $s extends Ie{constructor(e){super(),Te(this,e,hs,_s,De,{spec:0,state:1,policies:2,notes:3})}}function vs(r){let e,l,t;const o=r[3].default,s=Jl(o,r,r[2],null);return{c(){e=k("div"),s&&s.c(),this.h()},l(n){e=w(n,"DIV",{class:!0});var u=b(e);s&&s.l(u),u.forEach(f),this.h()},h(){V(e,"class",l="panel bg-white "+r[1].class+" svelte-11fqqfg"),$l(e,"error",r[0])},m(n,u){g(n,e,u),s&&s.m(e,null),t=!0},p(n,[u]){s&&s.p&&(!t||u&4)&&Kl(s,o,n,n[2],t?Zl(o,n[2],u,null):Ql(n[2]),null),(!t||u&2&&l!==(l="panel bg-white "+n[1].class+" svelte-11fqqfg"))&&V(e,"class",l),(!t||u&3)&&$l(e,"error",n[0])},i(n){t||(H(s,n),t=!0)},o(n){C(s,n),t=!1},d(n){n&&f(e),s&&s.d(n)}}}function gs(r,e,l){let{$$slots:t={},$$scope:o}=e,{error:s=!1}=e;return r.$$set=n=>{l(1,e=vl(vl({},e),gl(n))),"error"in n&&l(0,s=n.error),"$$scope"in n&&l(2,o=n.$$scope)},e=gl(e),[s,e,o,t]}class Ge extends Ie{constructor(e){super(),Te(this,e,gs,vs,De,{error:0})}}function ks(r){let e,l=_("schedules","error-title")+"",t,o,s,n;return{c(){e=k("p"),t=D(l),o=W(),s=k("p"),n=D(r[0]),this.h()},l(u){e=w(u,"P",{class:!0});var a=b(e);t=P(a,l),a.forEach(f),o=A(u),s=w(u,"P",{class:!0});var m=b(s);n=P(m,r[0]),m.forEach(f),this.h()},h(){V(e,"class","error-text svelte-1lke5yx"),V(s,"class","error-text svelte-1lke5yx")},m(u,a){g(u,e,a),d(e,t),g(u,o,a),g(u,s,a),d(s,n)},p(u,a){a&1&&J(n,u[0])},d(u){u&&f(e),u&&f(o),u&&f(s)}}}function ws(r){let e,l;return e=new Ge({props:{error:!0,$$slots:{default:[ks]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,o){z(e,t,o),l=!0},p(t,[o]){const s={};o&3&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function bs(r,e,l){let{error:t=""}=e;return r.$$set=o=>{"error"in o&&l(0,t=o.error)},[t]}class Ll extends Ie{constructor(e){super(),Te(this,e,bs,ws,De,{error:0})}}function Es(r){let e,l=_("schedules","schedule-spec")+"",t,o,s,n,u;return n=new ss({props:{calendar:r[0],interval:r[1],class:"text-base"}}),{c(){e=k("h2"),t=D(l),o=W(),s=k("div"),U(n.$$.fragment),this.h()},l(a){e=w(a,"H2",{class:!0});var m=b(e);t=P(m,l),m.forEach(f),o=A(a),s=w(a,"DIV",{class:!0});var p=b(s);O(n.$$.fragment,p),p.forEach(f),this.h()},h(){V(e,"class","mb-4 text-2xl"),V(s,"class","pr-2")},m(a,m){g(a,e,m),d(e,t),g(a,o,m),g(a,s,m),z(n,s,null),u=!0},p(a,m){const p={};m&1&&(p.calendar=a[0]),m&2&&(p.interval=a[1]),n.$set(p)},i(a){u||(H(n.$$.fragment,a),u=!0)},o(a){C(n.$$.fragment,a),u=!1},d(a){a&&f(e),a&&f(o),a&&f(s),G(n)}}}function Is(r){let e,l;return e=new Ge({props:{$$slots:{default:[Es]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,o){z(e,t,o),l=!0},p(t,[o]){const s={};o&7&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Ts(r,e,l){let{calendar:t=void 0}=e,{interval:o=void 0}=e;return r.$$set=s=>{"calendar"in s&&l(0,t=s.calendar),"interval"in s&&l(1,o=s.interval)},[t,o]}class Ds extends Ie{constructor(e){super(),Te(this,e,Ts,Is,De,{calendar:0,interval:1})}}function Sl(r,e,l){const t=r.slice();return t[5]=e[l],t}function Ps(r){let e,l,t,o,s=r[5].startWorkflowResult.workflowId+"",n,u,a,m,p=ge(r[5].actualTime,r[2],{relative:r[3]})+"",v;return{c(){e=k("div"),l=k("div"),t=W(),o=k("div"),n=D(s),u=W(),a=k("div"),m=k("p"),v=D(p),this.h()},l(h){e=w(h,"DIV",{class:!0});var i=b(e);l=w(i,"DIV",{class:!0}),b(l).forEach(f),t=A(i),o=w(i,"DIV",{class:!0});var c=b(o);n=P(c,s),c.forEach(f),u=A(i),a=w(i,"DIV",{class:!0});var $=b(a);m=w($,"P",{});var R=b(m);v=P(R,p),R.forEach(f),$.forEach(f),i.forEach(f),this.h()},h(){V(l,"class","w-28"),V(o,"class","w-96"),V(a,"class","ml-auto"),V(e,"class","row svelte-lqpjgu")},m(h,i){g(h,e,i),d(e,l),d(e,t),d(e,o),d(o,n),d(e,u),d(e,a),d(a,m),d(m,v)},p(h,i){i&1&&s!==(s=h[5].startWorkflowResult.workflowId+"")&&J(n,s),i&13&&p!==(p=ge(h[5].actualTime,h[2],{relative:h[3]})+"")&&J(v,p)},i:Z,o:Z,d(h){h&&f(e)}}}function Rs(r){let e,l,t,o,s,n,u,a,m,p=ge(r[5].actualTime,r[2],{relative:r[3]})+"",v,h;return t=new Nl({props:{status:r[8].status}}),n=new ze({props:{newTab:!0,href:Il({workflow:r[5].startWorkflowResult.workflowId,run:r[5].startWorkflowResult.runId,namespace:r[1]}),$$slots:{default:[Ss]},$$scope:{ctx:r}}}),{c(){e=k("div"),l=k("div"),U(t.$$.fragment),o=W(),s=k("div"),U(n.$$.fragment),u=W(),a=k("div"),m=k("p"),v=D(p),this.h()},l(i){e=w(i,"DIV",{class:!0});var c=b(e);l=w(c,"DIV",{class:!0});var $=b(l);O(t.$$.fragment,$),$.forEach(f),o=A(c),s=w(c,"DIV",{class:!0});var R=b(s);O(n.$$.fragment,R),R.forEach(f),u=A(c),a=w(c,"DIV",{class:!0});var M=b(a);m=w(M,"P",{});var j=b(m);v=P(j,p),j.forEach(f),M.forEach(f),c.forEach(f),this.h()},h(){V(l,"class","w-28"),V(s,"class","mx-2 w-auto break-words"),V(a,"class","ml-auto"),V(e,"class","row svelte-lqpjgu")},m(i,c){g(i,e,c),d(e,l),z(t,l,null),d(e,o),d(e,s),z(n,s,null),d(e,u),d(e,a),d(a,m),d(m,v),h=!0},p(i,c){const $={};c&3&&($.status=i[8].status),t.$set($);const R={};c&3&&(R.href=Il({workflow:i[5].startWorkflowResult.workflowId,run:i[5].startWorkflowResult.runId,namespace:i[1]})),c&513&&(R.$$scope={dirty:c,ctx:i}),n.$set(R),(!h||c&13)&&p!==(p=ge(i[5].actualTime,i[2],{relative:i[3]})+"")&&J(v,p)},i(i){h||(H(t.$$.fragment,i),H(n.$$.fragment,i),h=!0)},o(i){C(t.$$.fragment,i),C(n.$$.fragment,i),h=!1},d(i){i&&f(e),G(t),G(n)}}}function Ss(r){let e=r[5].startWorkflowResult.workflowId+"",l;return{c(){l=D(e)},l(t){l=P(t,e)},m(t,o){g(t,l,o)},p(t,o){o&1&&e!==(e=t[5].startWorkflowResult.workflowId+"")&&J(l,e)},d(t){t&&f(l)}}}function Vs(r){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function Vl(r,e){let l,t,o,s,n={ctx:e,current:null,token:null,hasCatch:!0,pending:Vs,then:Rs,catch:Ps,value:8,blocks:[,,,]};return Oe(o=El({namespace:e[1],workflowId:Xe(e[5].startWorkflowResult.workflowId),runId:e[5].startWorkflowResult.runId},fetch),n),{key:r,first:null,c(){l=ie(),t=ie(),n.block.c(),this.h()},l(u){l=ie(),t=ie(),n.block.l(u),this.h()},h(){this.first=l},m(u,a){g(u,l,a),g(u,t,a),n.block.m(u,n.anchor=a),n.mount=()=>t.parentNode,n.anchor=t,s=!0},p(u,a){e=u,n.ctx=e,a&3&&o!==(o=El({namespace:e[1],workflowId:Xe(e[5].startWorkflowResult.workflowId),runId:e[5].startWorkflowResult.runId},fetch))&&Oe(o,n)||Ml(n,e,a)},i(u){s||(H(n.block),s=!0)},o(u){for(let a=0;a<3;a+=1){const m=n.blocks[a];C(m)}s=!1},d(u){u&&f(l),u&&f(t),n.block.d(u),n.token=null,n=null}}}function Wl(r){let e,l;return e=new os({props:{title:_("schedules","recent-runs-empty-state-title")}}),{c(){U(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,o){z(e,t,o),l=!0},p:Z,i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Ws(r){let e,l=_("schedules","recent-runs")+"",t,o,s=[],n=new Map,u,a,m,p=r[4](r[0]);const v=i=>{var c,$;return($=(c=i[5])==null?void 0:c.startWorkflowResult)==null?void 0:$.workflowId};for(let i=0;i<p.length;i+=1){let c=Sl(r,p,i),$=v(c);n.set($,s[i]=Vl($,c))}let h=!r[0].length&&Wl();return{c(){e=k("h2"),t=D(l),o=W();for(let i=0;i<s.length;i+=1)s[i].c();u=W(),h&&h.c(),a=ie(),this.h()},l(i){e=w(i,"H2",{class:!0});var c=b(e);t=P(c,l),c.forEach(f),o=A(i);for(let $=0;$<s.length;$+=1)s[$].l(i);u=A(i),h&&h.l(i),a=ie(),this.h()},h(){V(e,"class","mb-4 text-2xl")},m(i,c){g(i,e,c),d(e,t),g(i,o,c);for(let $=0;$<s.length;$+=1)s[$].m(i,c);g(i,u,c),h&&h.m(i,c),g(i,a,c),m=!0},p(i,c){c&31&&(p=i[4](i[0]),Le(),s=Bl(s,c,v,1,i,p,n,u.parentNode,Xl,Vl,u,Sl),Ue()),i[0].length?h&&(Le(),C(h,1,1,()=>{h=null}),Ue()):h?(h.p(i,c),c&1&&H(h,1)):(h=Wl(),h.c(),H(h,1),h.m(a.parentNode,a))},i(i){if(!m){for(let c=0;c<p.length;c+=1)H(s[c]);H(h),m=!0}},o(i){for(let c=0;c<s.length;c+=1)C(s[c]);C(h),m=!1},d(i){i&&f(e),i&&f(o);for(let c=0;c<s.length;c+=1)s[c].d(i);i&&f(u),h&&h.d(i),i&&f(a)}}}function As(r){let e,l;return e=new Ge({props:{class:"w-full",$$slots:{default:[Ws]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,o){z(e,t,o),l=!0},p(t,[o]){const s={};o&527&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function qs(r,e,l){let t,o;ve(r,Ye,a=>l(2,t=a)),ve(r,ye,a=>l(3,o=a));let{recentRuns:s=[]}=e,{namespace:n}=e;const u=a=>{var m,p;return(p=(m=a==null?void 0:a.sort((v,h)=>new Date(h.actualTime).getTime()-new Date(v.actualTime).getTime()))===null||m===void 0?void 0:m.slice(0,5))!==null&&p!==void 0?p:[]};return r.$$set=a=>{"recentRuns"in a&&l(0,s=a.recentRuns),"namespace"in a&&l(1,n=a.namespace)},[s,n,t,o,u]}class Hs extends Ie{constructor(e){super(),Te(this,e,qs,As,De,{recentRuns:0,namespace:1})}}function Al(r,e,l){const t=r.slice();return t[3]=e[l],t}function ql(r){let e,l,t=ge(r[3],r[1],{relative:r[2],relativeLabel:_("from-now")})+"",o,s;return{c(){e=k("div"),l=k("p"),o=D(t),s=W(),this.h()},l(n){e=w(n,"DIV",{class:!0});var u=b(e);l=w(u,"P",{});var a=b(l);o=P(a,t),a.forEach(f),s=A(u),u.forEach(f),this.h()},h(){V(e,"class","row svelte-kbuuws")},m(n,u){g(n,e,u),d(e,l),d(l,o),d(e,s)},p(n,u){u&7&&t!==(t=ge(n[3],n[1],{relative:n[2],relativeLabel:_("from-now")})+"")&&J(o,t)},d(n){n&&f(e)}}}function Cs(r){let e,l=_("schedules","upcoming-runs")+"",t,o,s,n=r[0].slice(0,5),u=[];for(let a=0;a<n.length;a+=1)u[a]=ql(Al(r,n,a));return{c(){e=k("h2"),t=D(l),o=W();for(let a=0;a<u.length;a+=1)u[a].c();s=ie(),this.h()},l(a){e=w(a,"H2",{class:!0});var m=b(e);t=P(m,l),m.forEach(f),o=A(a);for(let p=0;p<u.length;p+=1)u[p].l(a);s=ie(),this.h()},h(){V(e,"class","mb-4 text-2xl")},m(a,m){g(a,e,m),d(e,t),g(a,o,m);for(let p=0;p<u.length;p+=1)u[p].m(a,m);g(a,s,m)},p(a,m){if(m&7){n=a[0].slice(0,5);let p;for(p=0;p<n.length;p+=1){const v=Al(a,n,p);u[p]?u[p].p(v,m):(u[p]=ql(v),u[p].c(),u[p].m(s.parentNode,s))}for(;p<u.length;p+=1)u[p].d(1);u.length=n.length}},d(a){a&&f(e),a&&f(o),Yl(u,a),a&&f(s)}}}function Ms(r){let e,l;return e=new Ge({props:{$$slots:{default:[Cs]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,o){z(e,t,o),l=!0},p(t,[o]){const s={};o&71&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Fs(r,e,l){let t,o;ve(r,Ye,n=>l(1,t=n)),ve(r,ye,n=>l(2,o=n));let{futureRuns:s=[]}=e;return r.$$set=n=>{"futureRuns"in n&&l(0,s=n.futureRuns)},[s,t,o]}class Ns extends Ie{constructor(e){super(),Te(this,e,Fs,Ms,De,{futureRuns:0})}}function js(r){var i;let e,l,t,o,s,n,u,a,m,p,v,h;return t=new ze({props:{icon:"chevron-left",$$slots:{default:[Ls]},$$scope:{ctx:r}}}),t.$on("click",r[25]),v=new Ll({props:{error:(i=r[7])==null?void 0:i.message}}),{c(){e=k("header"),l=k("div"),U(t.$$.fragment),o=W(),s=k("h1"),n=D(r[9]),u=W(),a=k("p"),m=D(r[8]),p=W(),U(v.$$.fragment),this.h()},l(c){e=w(c,"HEADER",{class:!0});var $=b(e);l=w($,"DIV",{class:!0});var R=b(l);O(t.$$.fragment,R),o=A(R),s=w(R,"H1",{class:!0,"data-testid":!0});var M=b(s);n=P(M,r[9]),M.forEach(f),u=A(R),a=w(R,"P",{class:!0});var j=b(a);m=P(j,r[8]),j.forEach(f),R.forEach(f),$.forEach(f),p=A(c),O(v.$$.fragment,c),this.h()},h(){V(s,"class","mt-8 select-all text-2xl font-medium"),V(s,"data-testid","schedule-name"),V(a,"class","text-sm"),V(l,"class","relative flex flex-col gap-1"),V(e,"class","mb-8")},m(c,$){g(c,e,$),d(e,l),z(t,l,null),d(l,o),d(l,s),d(s,n),d(l,u),d(l,a),d(a,m),g(c,p,$),z(v,c,$),h=!0},p(c,$){var j;const R={};$&1073741824&&(R.$$scope={dirty:$,ctx:c}),t.$set(R);const M={};$&1&&(M.error=(j=c[7])==null?void 0:j.message),v.$set(M)},i(c){h||(H(t.$$.fragment,c),H(v.$$.fragment,c),h=!0)},o(c){C(t.$$.fragment,c),C(v.$$.fragment,c),h=!1},d(c){c&&f(e),G(t),c&&f(p),G(v,c)}}}function Ls(r){let e=_("schedules","back-to-schedules")+"",l;return{c(){l=D(e)},l(t){l=P(t,e)},m(t,o){g(t,l,o)},p:Z,d(t){t&&f(l)}}}function Us(r){let e,l,t,o;const s=[zs,Os],n=[];function u(a,m){return a[4]?0:1}return e=u(r),l=n[e]=s[e](r),{c(){l.c(),t=ie()},l(a){l.l(a),t=ie()},m(a,m){n[e].m(a,m),g(a,t,m),o=!0},p(a,m){let p=e;e=u(a),e===p?n[e].p(a,m):(Le(),C(n[p],1,1,()=>{n[p]=null}),Ue(),l=n[e],l?l.p(a,m):(l=n[e]=s[e](a),l.c()),H(l,1),l.m(t.parentNode,t))},i(a){o||(H(l),o=!0)},o(a){C(l),o=!1},d(a){n[e].d(a),a&&f(t)}}}function Os(r){var et,tt,lt,st,rt,nt,at,ot,ut,ft,it,ct,dt,mt,pt,_t,ht,$t,vt,gt,kt,wt,bt,Et,It,Tt,Dt,Pt,Rt,St,Vt,Wt,At,qt,Ht,Ct,Mt;let e,l,t,o,s,n,u,a,m,p,v,h,i,c,$,R,M,j=((rt=(st=(lt=(tt=(et=r[29])==null?void 0:et.schedule)==null?void 0:tt.action)==null?void 0:lt.startWorkflow)==null?void 0:st.workflowType)==null?void 0:rt.name)+"",le,K,fe,ae,B=_("created",{created:ge((at=(nt=r[29])==null?void 0:nt.info)==null?void 0:at.createTime,r[5],{relative:r[6]})})+"",re,oe,X,F,pe,Y,ue,se,E,x,S,N,ce,ee,de,_e,I,L,te,$e,he,y,We,Ae,ke;t=new ze({props:{icon:"chevron-left",$$slots:{default:[Gs]},$$scope:{ctx:r}}}),t.$on("click",r[17]),n=new Nl({props:{status:(ot=r[29])!=null&&ot.schedule.state.paused?"Paused":"Running"}});let ne=((ft=(ut=r[29])==null?void 0:ut.info)==null?void 0:ft.updateTime)&&Hl(r);F=new fs({props:{position:"right",label:(dt=(ct=(it=r[29])==null?void 0:it.schedule)==null?void 0:ct.state)!=null&&dt.paused?_("schedules","unpause"):_("schedules","pause"),menuLabel:_("schedules","schedule-actions"),id:"schedule-actions",disabled:r[11],$$slots:{default:[Qs]},$$scope:{ctx:r}}}),F.$on("click",r[19]);let Q=((pt=(mt=r[29])==null?void 0:mt.info)==null?void 0:pt.invalidScheduleError)&&Cl(r);x=new Hs({props:{namespace:r[8],recentRuns:(ht=(_t=r[29])==null?void 0:_t.info)==null?void 0:ht.recentActions}}),N=new Ns({props:{futureRuns:(vt=($t=r[29])==null?void 0:$t.info)==null?void 0:vt.futureActionTimes}}),ee=new $s({props:{spec:(kt=(gt=r[29])==null?void 0:gt.schedule)==null?void 0:kt.spec,state:(bt=(wt=r[29])==null?void 0:wt.schedule)==null?void 0:bt.state,policies:(It=(Et=r[29])==null?void 0:Et.schedule)==null?void 0:It.policies,notes:(Pt=(Dt=(Tt=r[29])==null?void 0:Tt.schedule)==null?void 0:Dt.state)==null?void 0:Pt.notes}}),I=new Ds({props:{calendar:(Wt=(Vt=(St=(Rt=r[29])==null?void 0:Rt.schedule)==null?void 0:St.spec)==null?void 0:Vt.structuredCalendar)==null?void 0:Wt[0],interval:(Ct=(Ht=(qt=(At=r[29])==null?void 0:At.schedule)==null?void 0:qt.spec)==null?void 0:Ht.interval)==null?void 0:Ct[0]}});function Ul(T){r[21](T)}function Ol(){return r[22](r[29])}let xe={id:"pause-schedule-modal",confirmType:"primary",confirmText:(Mt=r[29])!=null&&Mt.schedule.state.paused?_("schedules","unpause"):_("schedules","pause"),cancelText:_("cancel"),confirmDisabled:!r[3],$$slots:{content:[Bs],title:[Zs]},$$scope:{ctx:r}};r[1]!==void 0&&(xe.open=r[1]),te=new Dl({props:xe}),Qe.push(()=>Ze(te,"open",Ul)),te.$on("confirmModal",Ol),te.$on("cancelModal",r[14]);function zl(T){r[23](T)}function Gl(T){r[24](T)}let Je={id:"delete-schedule-modal",confirmType:"destructive",confirmText:_("delete"),cancelText:_("cancel"),$$slots:{content:[Ys],title:[Xs]},$$scope:{ctx:r}};return r[2]!==void 0&&(Je.open=r[2]),r[7]!==void 0&&(Je.error=r[7]),y=new Dl({props:Je}),Qe.push(()=>Ze(y,"open",zl)),Qe.push(()=>Ze(y,"error",Gl)),y.$on("confirmModal",r[12]),y.$on("cancelModal",r[14]),{c(){e=k("header"),l=k("div"),U(t.$$.fragment),o=W(),s=k("h1"),U(n.$$.fragment),u=W(),a=k("span"),m=D(r[9]),p=W(),v=k("div"),h=k("p"),i=D(r[8]),c=W(),$=k("div"),R=W(),M=k("p"),le=D(j),K=W(),fe=k("div"),ae=k("p"),re=D(B),oe=W(),ne&&ne.c(),X=W(),U(F.$$.fragment),pe=W(),Y=k("div"),Q&&Q.c(),ue=W(),se=k("div"),E=k("div"),U(x.$$.fragment),S=W(),U(N.$$.fragment),ce=W(),U(ee.$$.fragment),de=W(),_e=k("div"),U(I.$$.fragment),L=W(),U(te.$$.fragment),he=W(),U(y.$$.fragment),this.h()},l(T){e=w(T,"HEADER",{class:!0});var q=b(e);l=w(q,"DIV",{class:!0});var me=b(l);O(t.$$.fragment,me),o=A(me),s=w(me,"H1",{class:!0});var Se=b(s);O(n.$$.fragment,Se),u=A(Se),a=w(Se,"SPAN",{class:!0,"data-testid":!0});var qe=b(a);m=P(qe,r[9]),qe.forEach(f),Se.forEach(f),p=A(me),v=w(me,"DIV",{class:!0});var we=b(v);h=w(we,"P",{});var Ce=b(h);i=P(Ce,r[8]),Ce.forEach(f),c=A(we),$=w(we,"DIV",{class:!0}),b($).forEach(f),R=A(we),M=w(we,"P",{});var Pe=b(M);le=P(Pe,j),Pe.forEach(f),we.forEach(f),K=A(me),fe=w(me,"DIV",{class:!0});var He=b(fe);ae=w(He,"P",{});var Re=b(ae);re=P(Re,B),Re.forEach(f),He.forEach(f),oe=A(me),ne&&ne.l(me),me.forEach(f),X=A(q),O(F.$$.fragment,q),q.forEach(f),pe=A(T),Y=w(T,"DIV",{class:!0});var be=b(Y);Q&&Q.l(be),ue=A(be),se=w(be,"DIV",{class:!0});var Ve=b(se);E=w(Ve,"DIV",{class:!0});var Ee=b(E);O(x.$$.fragment,Ee),S=A(Ee),O(N.$$.fragment,Ee),ce=A(Ee),O(ee.$$.fragment,Ee),Ee.forEach(f),de=A(Ve),_e=w(Ve,"DIV",{class:!0});var Me=b(_e);O(I.$$.fragment,Me),Me.forEach(f),Ve.forEach(f),be.forEach(f),L=A(T),O(te.$$.fragment,T),he=A(T),O(y.$$.fragment,T),this.h()},h(){V(a,"class","select-all font-medium"),V(a,"data-testid","schedule-name"),V(s,"class","relative mt-8 flex items-center gap-4 text-2xl"),V($,"class","h-1 w-1 rounded-full bg-gray-900"),V(v,"class","flex items-center gap-2 text-sm"),V(fe,"class","flex items-center gap-2 text-sm"),V(l,"class","relative flex flex-col gap-1"),V(e,"class","mb-8 flex flex-row justify-between gap-4"),V(E,"class","flex w-full flex-col items-start gap-4 xl:w-2/3"),V(_e,"class","w-full xl:w-1/3"),V(se,"class","flex flex-col gap-4 xl:flex-row"),V(Y,"class","flex flex-col gap-4 pb-24")},m(T,q){g(T,e,q),d(e,l),z(t,l,null),d(l,o),d(l,s),z(n,s,null),d(s,u),d(s,a),d(a,m),d(l,p),d(l,v),d(v,h),d(h,i),d(v,c),d(v,$),d(v,R),d(v,M),d(M,le),d(l,K),d(l,fe),d(fe,ae),d(ae,re),d(l,oe),ne&&ne.m(l,null),d(e,X),z(F,e,null),g(T,pe,q),g(T,Y,q),Q&&Q.m(Y,null),d(Y,ue),d(Y,se),d(se,E),z(x,E,null),d(E,S),z(N,E,null),d(E,ce),z(ee,E,null),d(se,de),d(se,_e),z(I,_e,null),g(T,L,q),z(te,T,q),g(T,he,q),z(y,T,q),ke=!0},p(T,q){var Ve,Ee,Me,Ft,Nt,jt,Lt,Ut,Ot,zt,Gt,Jt,Kt,Qt,Zt,Bt,Xt,Yt,yt,xt,el,tl,ll,sl,rl,nl,al,ol,ul,fl,il,cl,dl,ml,pl,_l,hl;r=T;const me={};q&1073741824&&(me.$$scope={dirty:q,ctx:r}),t.$set(me);const Se={};q&1&&(Se.status=(Ve=r[29])!=null&&Ve.schedule.state.paused?"Paused":"Running"),n.$set(Se),(!ke||q&1)&&j!==(j=((jt=(Nt=(Ft=(Me=(Ee=r[29])==null?void 0:Ee.schedule)==null?void 0:Me.action)==null?void 0:Ft.startWorkflow)==null?void 0:Nt.workflowType)==null?void 0:jt.name)+"")&&J(le,j),(!ke||q&97)&&B!==(B=_("created",{created:ge((Ut=(Lt=r[29])==null?void 0:Lt.info)==null?void 0:Ut.createTime,r[5],{relative:r[6]})})+"")&&J(re,B),(zt=(Ot=r[29])==null?void 0:Ot.info)!=null&&zt.updateTime?ne?ne.p(r,q):(ne=Hl(r),ne.c(),ne.m(l,null)):ne&&(ne.d(1),ne=null);const qe={};q&1&&(qe.label=(Kt=(Jt=(Gt=r[29])==null?void 0:Gt.schedule)==null?void 0:Jt.state)!=null&&Kt.paused?_("schedules","unpause"):_("schedules","pause")),q&1073741828&&(qe.$$scope={dirty:q,ctx:r}),F.$set(qe),(Zt=(Qt=r[29])==null?void 0:Qt.info)!=null&&Zt.invalidScheduleError?Q?(Q.p(r,q),q&1&&H(Q,1)):(Q=Cl(r),Q.c(),H(Q,1),Q.m(Y,ue)):Q&&(Le(),C(Q,1,1,()=>{Q=null}),Ue());const we={};q&1&&(we.recentRuns=(Xt=(Bt=r[29])==null?void 0:Bt.info)==null?void 0:Xt.recentActions),x.$set(we);const Ce={};q&1&&(Ce.futureRuns=(yt=(Yt=r[29])==null?void 0:Yt.info)==null?void 0:yt.futureActionTimes),N.$set(Ce);const Pe={};q&1&&(Pe.spec=(el=(xt=r[29])==null?void 0:xt.schedule)==null?void 0:el.spec),q&1&&(Pe.state=(ll=(tl=r[29])==null?void 0:tl.schedule)==null?void 0:ll.state),q&1&&(Pe.policies=(rl=(sl=r[29])==null?void 0:sl.schedule)==null?void 0:rl.policies),q&1&&(Pe.notes=(ol=(al=(nl=r[29])==null?void 0:nl.schedule)==null?void 0:al.state)==null?void 0:ol.notes),ee.$set(Pe);const He={};q&1&&(He.calendar=(cl=(il=(fl=(ul=r[29])==null?void 0:ul.schedule)==null?void 0:fl.spec)==null?void 0:il.structuredCalendar)==null?void 0:cl[0]),q&1&&(He.interval=(_l=(pl=(ml=(dl=r[29])==null?void 0:dl.schedule)==null?void 0:ml.spec)==null?void 0:pl.interval)==null?void 0:_l[0]),I.$set(He);const Re={};q&1&&(Re.confirmText=(hl=r[29])!=null&&hl.schedule.state.paused?_("schedules","unpause"):_("schedules","pause")),q&8&&(Re.confirmDisabled=!r[3]),q&1073741833&&(Re.$$scope={dirty:q,ctx:r}),!$e&&q&2&&($e=!0,Re.open=r[1],Be(()=>$e=!1)),te.$set(Re);const be={};q&1073741824&&(be.$$scope={dirty:q,ctx:r}),!We&&q&4&&(We=!0,be.open=r[2],Be(()=>We=!1)),!Ae&&q&128&&(Ae=!0,be.error=r[7],Be(()=>Ae=!1)),y.$set(be)},i(T){ke||(H(t.$$.fragment,T),H(n.$$.fragment,T),H(F.$$.fragment,T),H(Q),H(x.$$.fragment,T),H(N.$$.fragment,T),H(ee.$$.fragment,T),H(I.$$.fragment,T),H(te.$$.fragment,T),H(y.$$.fragment,T),ke=!0)},o(T){C(t.$$.fragment,T),C(n.$$.fragment,T),C(F.$$.fragment,T),C(Q),C(x.$$.fragment,T),C(N.$$.fragment,T),C(ee.$$.fragment,T),C(I.$$.fragment,T),C(te.$$.fragment,T),C(y.$$.fragment,T),ke=!1},d(T){T&&f(e),G(t),G(n),ne&&ne.d(),G(F),T&&f(pe),T&&f(Y),Q&&Q.d(),G(x),G(N),G(ee),G(I),T&&f(L),G(te,T),T&&f(he),G(y,T)}}}function zs(r){let e,l;return e=new jl({props:{title:_("schedules","deleting"),class:"my-2"}}),{c(){U(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,o){z(e,t,o),l=!0},p:Z,i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Gs(r){let e=_("schedules","back-to-schedules")+"",l;return{c(){l=D(e)},l(t){l=P(t,e)},m(t,o){g(t,l,o)},p:Z,d(t){t&&f(l)}}}function Hl(r){var s,n;let e,l,t=_("last-updated",{updated:ge((n=(s=r[29])==null?void 0:s.info)==null?void 0:n.updateTime,r[5],{relative:r[6]})})+"",o;return{c(){e=k("div"),l=k("p"),o=D(t),this.h()},l(u){e=w(u,"DIV",{class:!0});var a=b(e);l=w(a,"P",{});var m=b(l);o=P(m,t),m.forEach(f),a.forEach(f),this.h()},h(){V(e,"class","flex items-center gap-2 text-sm")},m(u,a){g(u,e,a),d(e,l),d(l,o)},p(u,a){var m,p;a&97&&t!==(t=_("last-updated",{updated:ge((p=(m=u[29])==null?void 0:m.info)==null?void 0:p.updateTime,u[5],{relative:u[6]})})+"")&&J(o,t)},d(u){u&&f(e)}}}function Js(r){let e=_("edit")+"",l;return{c(){l=D(e)},l(t){l=P(t,e)},m(t,o){g(t,l,o)},p:Z,d(t){t&&f(l)}}}function Ks(r){let e=_("delete")+"",l;return{c(){l=D(e)},l(t){l=P(t,e)},m(t,o){g(t,l,o)},p:Z,d(t){t&&f(l)}}}function Qs(r){let e,l,t,o;return e=new Tl({props:{"data-testid":"edit-schedule",href:us({namespace:r[8],scheduleId:r[9]}),$$slots:{default:[Js]},$$scope:{ctx:r}}}),t=new Tl({props:{"data-testid":"delete-schedule",destructive:!0,$$slots:{default:[Ks]},$$scope:{ctx:r}}}),t.$on("click",r[18]),{c(){U(e.$$.fragment),l=W(),U(t.$$.fragment)},l(s){O(e.$$.fragment,s),l=A(s),O(t.$$.fragment,s)},m(s,n){z(e,s,n),g(s,l,n),z(t,s,n),o=!0},p(s,n){const u={};n&1073741824&&(u.$$scope={dirty:n,ctx:s}),e.$set(u);const a={};n&1073741824&&(a.$$scope={dirty:n,ctx:s}),t.$set(a)},i(s){o||(H(e.$$.fragment,s),H(t.$$.fragment,s),o=!0)},o(s){C(e.$$.fragment,s),C(t.$$.fragment,s),o=!1},d(s){G(e,s),s&&f(l),G(t,s)}}}function Cl(r){var o,s;let e,l,t;return l=new Ll({props:{error:(s=(o=r[29])==null?void 0:o.info)==null?void 0:s.invalidScheduleError}}),{c(){e=k("div"),U(l.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var u=b(e);O(l.$$.fragment,u),u.forEach(f),this.h()},h(){V(e,"class","w-full xl:w-1/2")},m(n,u){g(n,e,u),z(l,e,null),t=!0},p(n,u){var m,p;const a={};u&1&&(a.error=(p=(m=n[29])==null?void 0:m.info)==null?void 0:p.invalidScheduleError),l.$set(a)},i(n){t||(H(l.$$.fragment,n),t=!0)},o(n){C(l.$$.fragment,n),t=!1},d(n){n&&f(e),G(l)}}}function Zs(r){var o;let e,l=((o=r[29])!=null&&o.schedule.state.paused?_("schedules","unpause-modal-title"):_("schedules","pause-modal-title"))+"",t;return{c(){e=k("h3"),t=D(l),this.h()},l(s){e=w(s,"H3",{slot:!0});var n=b(e);t=P(n,l),n.forEach(f),this.h()},h(){V(e,"slot","title")},m(s,n){g(s,e,n),d(e,t)},p(s,n){var u;n&1&&l!==(l=((u=s[29])!=null&&u.schedule.state.paused?_("schedules","unpause-modal-title"):_("schedules","pause-modal-title"))+"")&&J(t,l)},d(s){s&&f(e)}}}function Bs(r){var i,c;let e,l,t=((i=r[29])!=null&&i.schedule.state.paused?_("schedules","unpause-modal-confirmation",{schedule:r[9]}):_("schedules","pause-modal-confirmation",{schedule:r[9]}))+"",o,s,n,u=((c=r[29])!=null&&c.schedule.state.paused?_("schedules","unpause-reason"):_("schedules","pause-reason"))+"",a,m,p,v,h;return{c(){e=k("div"),l=k("p"),o=D(t),s=W(),n=k("p"),a=D(u),m=W(),p=k("input"),this.h()},l($){e=w($,"DIV",{slot:!0});var R=b(e);l=w(R,"P",{});var M=b(l);o=P(M,t),M.forEach(f),s=A(R),n=w(R,"P",{class:!0});var j=b(n);a=P(j,u),j.forEach(f),m=A(R),p=w(R,"INPUT",{class:!0,placeholder:!0}),R.forEach(f),this.h()},h(){V(n,"class","my-4"),V(p,"class","mt-4 block w-full rounded-md border border-gray-200 p-2"),V(p,"placeholder",_("reason")),V(e,"slot","content")},m($,R){g($,e,R),d(e,l),d(l,o),d(e,s),d(e,n),d(n,a),d(e,m),d(e,p),kl(p,r[3]),v||(h=[wl(p,"input",r[20]),wl(p,"keydown",xl(r[15]))],v=!0)},p($,R){var M,j;R&1&&t!==(t=((M=$[29])!=null&&M.schedule.state.paused?_("schedules","unpause-modal-confirmation",{schedule:$[9]}):_("schedules","pause-modal-confirmation",{schedule:$[9]}))+"")&&J(o,t),R&1&&u!==(u=((j=$[29])!=null&&j.schedule.state.paused?_("schedules","unpause-reason"):_("schedules","pause-reason"))+"")&&J(a,u),R&8&&p.value!==$[3]&&kl(p,$[3])},d($){$&&f(e),v=!1,es(h)}}}function Xs(r){let e,l=_("schedules","delete-modal-title")+"",t;return{c(){e=k("h3"),t=D(l),this.h()},l(o){e=w(o,"H3",{slot:!0});var s=b(e);t=P(s,l),s.forEach(f),this.h()},h(){V(e,"slot","title")},m(o,s){g(o,e,s),d(e,t)},p:Z,d(o){o&&f(e)}}}function Ys(r){let e,l,t=_("schedules","delete-modal-confirmation",{schedule:r[9]})+"",o;return{c(){e=k("div"),l=k("p"),o=D(t),this.h()},l(s){e=w(s,"DIV",{slot:!0});var n=b(e);l=w(n,"P",{});var u=b(l);o=P(u,t),u.forEach(f),n.forEach(f),this.h()},h(){V(e,"slot","content")},m(s,n){g(s,e,n),d(e,l),d(l,o)},p:Z,d(s){s&&f(e)}}}function ys(r){let e,l,t,o,s,n,u,a,m,p,v,h;return t=new ze({props:{icon:"chevron-left",$$slots:{default:[xs]},$$scope:{ctx:r}}}),t.$on("click",r[16]),v=new jl({}),{c(){e=k("header"),l=k("div"),U(t.$$.fragment),o=W(),s=k("h1"),n=D(r[9]),u=W(),a=k("p"),m=D(r[8]),p=W(),U(v.$$.fragment),this.h()},l(i){e=w(i,"HEADER",{class:!0});var c=b(e);l=w(c,"DIV",{class:!0});var $=b(l);O(t.$$.fragment,$),o=A($),s=w($,"H1",{class:!0,"data-testid":!0});var R=b(s);n=P(R,r[9]),R.forEach(f),u=A($),a=w($,"P",{class:!0});var M=b(a);m=P(M,r[8]),M.forEach(f),$.forEach(f),c.forEach(f),p=A(i),O(v.$$.fragment,i),this.h()},h(){V(s,"class","mt-8 select-all text-2xl font-medium"),V(s,"data-testid","schedule-name"),V(a,"class","text-sm"),V(l,"class","relative flex flex-col gap-1"),V(e,"class","mb-8")},m(i,c){g(i,e,c),d(e,l),z(t,l,null),d(l,o),d(l,s),d(s,n),d(l,u),d(l,a),d(a,m),g(i,p,c),z(v,i,c),h=!0},p(i,c){const $={};c&1073741824&&($.$$scope={dirty:c,ctx:i}),t.$set($)},i(i){h||(H(t.$$.fragment,i),H(v.$$.fragment,i),h=!0)},o(i){C(t.$$.fragment,i),C(v.$$.fragment,i),h=!1},d(i){i&&f(e),G(t),i&&f(p),G(v,i)}}}function xs(r){let e=_("schedules","back-to-schedules")+"",l;return{c(){l=D(e)},l(t){l=P(t,e)},m(t,o){g(t,l,o)},p:Z,d(t){t&&f(l)}}}function er(r){let e,l,t,o={ctx:r,current:null,token:null,hasCatch:!0,pending:ys,then:Us,catch:js,value:29,error:7,blocks:[,,,]};return Oe(l=r[0],o),{c(){e=ie(),o.block.c()},l(s){e=ie(),o.block.l(s)},m(s,n){g(s,e,n),o.block.m(s,o.anchor=n),o.mount=()=>e.parentNode,o.anchor=e,t=!0},p(s,[n]){r=s,o.ctx=r,n&1&&l!==(l=r[0])&&Oe(l,o)||Ml(o,r,n)},i(s){t||(H(o.block),t=!0)},o(s){for(let n=0;n<3;n+=1){const u=o.blocks[n];C(u)}t=!1},d(s){s&&f(e),o.block.d(s),o.token=null,o=null}}}function tr(r,e,l){let t,o,s,n,u;ve(r,je,E=>l(4,t=E)),ve(r,Fl,E=>l(27,s=E)),ve(r,Ye,E=>l(5,n=E)),ve(r,ye,E=>l(6,u=E));let a=s.params.namespace,m=s.params.schedule;const p={namespace:a,scheduleId:Xe(m)};let v=bl(p),h=!1,i=!1,c="",$="",R=is();ve(r,R,E=>l(26,o=E));let M=o.namespaceWriteDisabled(a);const j=async()=>{l(7,$="");try{Ke(je,t=!0,t),await rs({namespace:a,scheduleId:m}),l(2,i=!1),setTimeout(()=>{Ke(je,t=!1,t),Fe(Ne({namespace:a}))},2e3),l(3,c="")}catch(E){l(7,$=_("schedules","delete-schedule-error",{error:E==null?void 0:E.message})),Ke(je,t=!1,t)}},le=async E=>{var x,S;!((S=(x=E==null?void 0:E.schedule)===null||x===void 0?void 0:x.state)===null||S===void 0)&&S.paused?await ns({namespace:a,scheduleId:m,reason:c}):await as({namespace:a,scheduleId:m,reason:c}),l(0,v=bl(p,fetch)),l(3,c=""),l(1,h=!1)},K=()=>{l(3,c="")};function fe(E){yl.call(this,r,E)}const ae=()=>{Fe(Ne({namespace:a}))},B=()=>{Fe(Ne({namespace:a}))},re=()=>l(2,i=!0),oe=()=>l(1,h=!0);function X(){c=this.value,l(3,c)}function F(E){h=E,l(1,h)}const pe=E=>le(E);function Y(E){i=E,l(2,i)}function ue(E){$=E,l(7,$)}return[v,h,i,c,t,n,u,$,a,m,R,M,j,le,K,fe,ae,B,re,oe,X,F,pe,Y,ue,()=>{Fe(Ne({namespace:a}))}]}class lr extends Ie{constructor(e){super(),Te(this,e,tr,er,De,{})}}function sr(r){let e,l,t,o;return e=new ts({props:{title:`Schedule | ${r[1]}`,url:r[0].url.href}}),t=new lr({}),{c(){U(e.$$.fragment),l=W(),U(t.$$.fragment)},l(s){O(e.$$.fragment,s),l=A(s),O(t.$$.fragment,s)},m(s,n){z(e,s,n),g(s,l,n),z(t,s,n),o=!0},p(s,[n]){const u={};n&1&&(u.url=s[0].url.href),e.$set(u)},i(s){o||(H(e.$$.fragment,s),H(t.$$.fragment,s),o=!0)},o(s){C(e.$$.fragment,s),C(t.$$.fragment,s),o=!1},d(s){G(e,s),s&&f(l),G(t,s)}}}function rr(r,e,l){let t;ve(r,Fl,s=>l(0,t=s));const o=t.params.schedule;return[t,o]}class Ir extends Ie{constructor(e){super(),Te(this,e,rr,sr,De,{})}}export{Ir as default};
