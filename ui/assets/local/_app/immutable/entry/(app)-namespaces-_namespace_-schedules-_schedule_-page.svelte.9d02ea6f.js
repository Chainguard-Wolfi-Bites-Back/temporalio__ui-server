import{S as Ie,b as Te,a as De,m as v,w as S,c as R,p as $,q as g,x as W,k as i,d as P,u as T,f as k,L as m,y as B,n as J,G as xl,R as Il,H as es,I as ts,J as ls,j as V,g as q,N as Tl,O as Dl,C as N,D as C,E as H,F as j,K as $e,e as X,z as Ye,a1 as ss,a2 as rs,h as Ze,ar as Qe,as as yl,aa as ns,T as ot,_ as st,P as as,A as rt,Y as nt,v as os,Z as at,a7 as Rl,V as us,r as is}from"../chunks/index.e1c99c2b.js";import{p as Ol}from"../chunks/stores.b27b38da.js";import{P as fs}from"../chunks/page-title.69374eae.js";import{I as zl}from"../chunks/icon.cca480df.js";import{k as ut,f as Pl,c as Bl,q as cs}from"../chunks/route-for.f5ef8ff9.js";import{g as ds}from"../chunks/navigation.530f5c2e.js";import{S as ms,a as Vl,d as ps,u as _s,p as hs}from"../chunks/schedule-frequency.0f0ed2b4.js";import{t as it,r as ft,b as ge}from"../chunks/format-date.c58d555d.js";import{l as Ke}from"../chunks/schedules.5149f109.js";import{t as h}from"../chunks/translate.4ba462db.js";import{W as Gl}from"../chunks/workflow-status.bed78212.js";import{g as Sl}from"../chunks/workflow-service.ccd703e1.js";import{E as vs}from"../chunks/empty-state.c5a30f8d.js";import{L as $s}from"../chunks/link.d4505c2b.js";import{M as Wl}from"../chunks/modal.3ce23d43.js";import{S as gs}from"../chunks/split-button.04c853ed.js";import{L as Jl}from"../chunks/loading.ce143d8b.js";import{c as ws}from"../chunks/core-user.73b81fdc.js";import{d as ql}from"../chunks/menu.62e1507e.js";function ks(s){let e,l=h("memo")+"",t,n,r,a;return{c(){e=v("h2"),t=S(l),n=R(),r=v("p"),a=S(s[0]),this.h()},l(u){e=$(u,"H2",{class:!0});var o=g(e);t=W(o,l),o.forEach(i),n=P(u),r=$(u,"P",{});var c=g(r);a=W(c,s[0]),c.forEach(i),this.h()},h(){T(e,"class","mb-4 text-2xl")},m(u,o){k(u,e,o),m(e,t),k(u,n,o),k(u,r,o),m(r,a)},p(u,[o]){o&1&&B(a,u[0])},i:J,o:J,d(u){u&&i(e),u&&i(n),u&&i(r)}}}function bs(s,e,l){let{notes:t=""}=e;return s.$$set=n=>{"notes"in n&&l(0,t=n.notes)},[t]}class Es extends Ie{constructor(e){super(),Te(this,e,bs,ks,De,{notes:0})}}function Is(s){let e,l,t;const n=s[3].default,r=xl(n,s,s[2],null);return{c(){e=v("div"),r&&r.c(),this.h()},l(a){e=$(a,"DIV",{class:!0});var u=g(e);r&&r.l(u),u.forEach(i),this.h()},h(){T(e,"class",l="panel bg-white "+s[1].class+" svelte-11fqqfg"),Il(e,"error",s[0])},m(a,u){k(a,e,u),r&&r.m(e,null),t=!0},p(a,[u]){r&&r.p&&(!t||u&4)&&es(r,n,a,a[2],t?ls(n,a[2],u,null):ts(a[2]),null),(!t||u&2&&l!==(l="panel bg-white "+a[1].class+" svelte-11fqqfg"))&&T(e,"class",l),(!t||u&3)&&Il(e,"error",a[0])},i(a){t||(V(r,a),t=!0)},o(a){q(r,a),t=!1},d(a){a&&i(e),r&&r.d(a)}}}function Ts(s,e,l){let{$$slots:t={},$$scope:n}=e,{error:r=!1}=e;return s.$$set=a=>{l(1,e=Tl(Tl({},e),Dl(a))),"error"in a&&l(0,r=a.error),"$$scope"in a&&l(2,n=a.$$scope)},e=Dl(e),[r,e,n,t]}class Xe extends Ie{constructor(e){super(),Te(this,e,Ts,Is,De,{error:0})}}function Al(s,e,l){const t=s.slice();return t[5]=e[l],t}function Ds(s){let e,l,t,n,r=s[5].startWorkflowResult.workflowId+"",a,u,o,c,d=ge(s[5].actualTime,s[2],{relative:s[3]})+"",I;return{c(){e=v("div"),l=v("div"),t=R(),n=v("div"),a=S(r),u=R(),o=v("div"),c=v("p"),I=S(d),this.h()},l(p){e=$(p,"DIV",{class:!0});var f=g(e);l=$(f,"DIV",{class:!0}),g(l).forEach(i),t=P(f),n=$(f,"DIV",{class:!0});var _=g(n);a=W(_,r),_.forEach(i),u=P(f),o=$(f,"DIV",{class:!0});var w=g(o);c=$(w,"P",{});var A=g(c);I=W(A,d),A.forEach(i),w.forEach(i),f.forEach(i),this.h()},h(){T(l,"class","w-28"),T(n,"class","w-96"),T(o,"class","ml-auto"),T(e,"class","row svelte-lqpjgu")},m(p,f){k(p,e,f),m(e,l),m(e,t),m(e,n),m(n,a),m(e,u),m(e,o),m(o,c),m(c,I)},p(p,f){f&1&&r!==(r=p[5].startWorkflowResult.workflowId+"")&&B(a,r),f&13&&d!==(d=ge(p[5].actualTime,p[2],{relative:p[3]})+"")&&B(I,d)},i:J,o:J,d(p){p&&i(e)}}}function Rs(s){let e,l,t,n,r,a,u,o,c,d=ge(s[5].actualTime,s[2],{relative:s[3]})+"",I,p;return t=new Gl({props:{status:s[8].status}}),a=new $s({props:{newTab:!0,href:Pl({workflow:s[5].startWorkflowResult.workflowId,run:s[5].startWorkflowResult.runId,namespace:s[1]}),$$slots:{default:[Ps]},$$scope:{ctx:s}}}),{c(){e=v("div"),l=v("div"),N(t.$$.fragment),n=R(),r=v("div"),N(a.$$.fragment),u=R(),o=v("div"),c=v("p"),I=S(d),this.h()},l(f){e=$(f,"DIV",{class:!0});var _=g(e);l=$(_,"DIV",{class:!0});var w=g(l);C(t.$$.fragment,w),w.forEach(i),n=P(_),r=$(_,"DIV",{class:!0});var A=g(r);C(a.$$.fragment,A),A.forEach(i),u=P(_),o=$(_,"DIV",{class:!0});var U=g(o);c=$(U,"P",{});var O=g(c);I=W(O,d),O.forEach(i),U.forEach(i),_.forEach(i),this.h()},h(){T(l,"class","w-28"),T(r,"class","w-auto break-words mx-2"),T(o,"class","ml-auto"),T(e,"class","row svelte-lqpjgu")},m(f,_){k(f,e,_),m(e,l),H(t,l,null),m(e,n),m(e,r),H(a,r,null),m(e,u),m(e,o),m(o,c),m(c,I),p=!0},p(f,_){const w={};_&3&&(w.status=f[8].status),t.$set(w);const A={};_&3&&(A.href=Pl({workflow:f[5].startWorkflowResult.workflowId,run:f[5].startWorkflowResult.runId,namespace:f[1]})),_&513&&(A.$$scope={dirty:_,ctx:f}),a.$set(A),(!p||_&13)&&d!==(d=ge(f[5].actualTime,f[2],{relative:f[3]})+"")&&B(I,d)},i(f){p||(V(t.$$.fragment,f),V(a.$$.fragment,f),p=!0)},o(f){q(t.$$.fragment,f),q(a.$$.fragment,f),p=!1},d(f){f&&i(e),j(t),j(a)}}}function Ps(s){let e=s[5].startWorkflowResult.workflowId+"",l;return{c(){l=S(e)},l(t){l=W(t,e)},m(t,n){k(t,l,n)},p(t,n){n&1&&e!==(e=t[5].startWorkflowResult.workflowId+"")&&B(l,e)},d(t){t&&i(l)}}}function Vs(s){return{c:J,l:J,m:J,p:J,i:J,o:J,d:J}}function Ml(s,e){let l,t,n,r,a={ctx:e,current:null,token:null,hasCatch:!0,pending:Vs,then:Rs,catch:Ds,value:8,blocks:[,,,]};return Qe(n=Sl({namespace:e[1],workflowId:ut(e[5].startWorkflowResult.workflowId),runId:e[5].startWorkflowResult.runId},fetch),a),{key:s,first:null,c(){l=X(),t=X(),a.block.c(),this.h()},l(u){l=X(),t=X(),a.block.l(u),this.h()},h(){this.first=l},m(u,o){k(u,l,o),k(u,t,o),a.block.m(u,a.anchor=o),a.mount=()=>t.parentNode,a.anchor=t,r=!0},p(u,o){e=u,a.ctx=e,o&3&&n!==(n=Sl({namespace:e[1],workflowId:ut(e[5].startWorkflowResult.workflowId),runId:e[5].startWorkflowResult.runId},fetch))&&Qe(n,a)||yl(a,e,o)},i(u){r||(V(a.block),r=!0)},o(u){for(let o=0;o<3;o+=1){const c=a.blocks[o];q(c)}r=!1},d(u){u&&i(l),u&&i(t),a.block.d(u),a.token=null,a=null}}}function Fl(s){let e,l;return e=new vs({props:{title:h("schedules","recent-runs-empty-state-title")}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:J,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Ss(s){let e,l=h("schedules","recent-runs")+"",t,n,r=[],a=new Map,u,o,c,d=s[4](s[0]);const I=f=>{var _,w;return(w=(_=f[5])==null?void 0:_.startWorkflowResult)==null?void 0:w.workflowId};for(let f=0;f<d.length;f+=1){let _=Al(s,d,f),w=I(_);a.set(w,r[f]=Ml(w,_))}let p=!s[0].length&&Fl();return{c(){e=v("h2"),t=S(l),n=R();for(let f=0;f<r.length;f+=1)r[f].c();u=R(),p&&p.c(),o=X(),this.h()},l(f){e=$(f,"H2",{class:!0});var _=g(e);t=W(_,l),_.forEach(i),n=P(f);for(let w=0;w<r.length;w+=1)r[w].l(f);u=P(f),p&&p.l(f),o=X(),this.h()},h(){T(e,"class","mb-4 text-2xl")},m(f,_){k(f,e,_),m(e,t),k(f,n,_);for(let w=0;w<r.length;w+=1)r[w].m(f,_);k(f,u,_),p&&p.m(f,_),k(f,o,_),c=!0},p(f,_){_&31&&(d=f[4](f[0]),Ye(),r=ss(r,_,I,1,f,d,a,u.parentNode,rs,Ml,u,Al),Ze()),f[0].length?p&&(Ye(),q(p,1,1,()=>{p=null}),Ze()):p?(p.p(f,_),_&1&&V(p,1)):(p=Fl(),p.c(),V(p,1),p.m(o.parentNode,o))},i(f){if(!c){for(let _=0;_<d.length;_+=1)V(r[_]);V(p),c=!0}},o(f){for(let _=0;_<r.length;_+=1)q(r[_]);q(p),c=!1},d(f){f&&i(e),f&&i(n);for(let _=0;_<r.length;_+=1)r[_].d(f);f&&i(u),p&&p.d(f),f&&i(o)}}}function Ws(s){let e,l;return e=new Xe({props:{$$slots:{default:[Ss]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,[n]){const r={};n&527&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function qs(s,e,l){let t,n;$e(s,it,o=>l(2,t=o)),$e(s,ft,o=>l(3,n=o));let{recentRuns:r=[]}=e,{namespace:a}=e;const u=o=>{var c,d;return(d=(c=o==null?void 0:o.sort((I,p)=>new Date(p.actualTime).getTime()-new Date(I.actualTime).getTime()))===null||c===void 0?void 0:c.slice(0,5))!==null&&d!==void 0?d:[]};return s.$$set=o=>{"recentRuns"in o&&l(0,r=o.recentRuns),"namespace"in o&&l(1,a=o.namespace)},[r,a,t,n,u]}class As extends Ie{constructor(e){super(),Te(this,e,qs,Ws,De,{recentRuns:0,namespace:1})}}function Nl(s,e,l){const t=s.slice();return t[3]=e[l],t}function Cl(s){let e,l,t=ge(s[3],s[1],{relative:s[2],relativeLabel:h("from-now")})+"",n,r;return{c(){e=v("div"),l=v("p"),n=S(t),r=R(),this.h()},l(a){e=$(a,"DIV",{class:!0});var u=g(e);l=$(u,"P",{});var o=g(l);n=W(o,t),o.forEach(i),r=P(u),u.forEach(i),this.h()},h(){T(e,"class","row svelte-kbuuws")},m(a,u){k(a,e,u),m(e,l),m(l,n),m(e,r)},p(a,u){u&7&&t!==(t=ge(a[3],a[1],{relative:a[2],relativeLabel:h("from-now")})+"")&&B(n,t)},d(a){a&&i(e)}}}function Ms(s){let e,l=h("schedules","upcoming-runs")+"",t,n,r,a=s[0].slice(0,5),u=[];for(let o=0;o<a.length;o+=1)u[o]=Cl(Nl(s,a,o));return{c(){e=v("h2"),t=S(l),n=R();for(let o=0;o<u.length;o+=1)u[o].c();r=X(),this.h()},l(o){e=$(o,"H2",{class:!0});var c=g(e);t=W(c,l),c.forEach(i),n=P(o);for(let d=0;d<u.length;d+=1)u[d].l(o);r=X(),this.h()},h(){T(e,"class","mb-4 text-2xl")},m(o,c){k(o,e,c),m(e,t),k(o,n,c);for(let d=0;d<u.length;d+=1)u[d].m(o,c);k(o,r,c)},p(o,c){if(c&7){a=o[0].slice(0,5);let d;for(d=0;d<a.length;d+=1){const I=Nl(o,a,d);u[d]?u[d].p(I,c):(u[d]=Cl(I),u[d].c(),u[d].m(r.parentNode,r))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},d(o){o&&i(e),o&&i(n),ns(u,o),o&&i(r)}}}function Fs(s){let e,l;return e=new Xe({props:{$$slots:{default:[Ms]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,[n]){const r={};n&71&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Ns(s,e,l){let t,n;$e(s,it,a=>l(1,t=a)),$e(s,ft,a=>l(2,n=a));let{futureRuns:r=[]}=e;return s.$$set=a=>{"futureRuns"in a&&l(0,r=a.futureRuns)},[r,t,n]}class Cs extends Ie{constructor(e){super(),Te(this,e,Ns,Fs,De,{futureRuns:0})}}function Hl(s){var z,Ve,ke,fe,Me,ce,be;let e,l=h("schedules","start-time")+"",t,n,r=(((z=s[0])==null?void 0:z.startTime)??h("none"))+"",a,u,o,c=h("schedules","end-time")+"",d,I=(((Ve=s[0])==null?void 0:Ve.endTime)??h("none"))+"",p,f,_,w=h("schedules","jitter")+"",A,U=(((ke=s[0])==null?void 0:ke.jitter)??h("none"))+"",O,x,ee,_e=h("schedules","exclusion-calendar")+"",ie,oe=(((Me=(fe=s[0])==null?void 0:fe.excludeCalendar)==null?void 0:Me[0])??h("none"))+"",he,te,Q,Y,we=h("schedules","overlap-policy")+"",M,le=(((ce=s[2])==null?void 0:ce.overlapPolicy)??h("none"))+"",G,L=((be=s[1])==null?void 0:be.limitedActions)&&jl(s);return{c(){e=v("p"),t=S(l),n=R(),a=S(r),u=R(),o=v("p"),d=S(c),p=S(I),f=R(),_=v("p"),A=S(w),O=S(U),x=R(),ee=v("p"),ie=S(_e),he=S(oe),te=R(),L&&L.c(),Q=R(),Y=v("p"),M=S(we),G=S(le)},l(b){e=$(b,"P",{});var F=g(e);t=W(F,l),n=P(F),a=W(F,r),F.forEach(i),u=P(b),o=$(b,"P",{});var se=g(o);d=W(se,c),p=W(se,I),se.forEach(i),f=P(b),_=$(b,"P",{});var Z=g(_);A=W(Z,w),O=W(Z,U),Z.forEach(i),x=P(b),ee=$(b,"P",{});var ve=g(ee);ie=W(ve,_e),he=W(ve,oe),ve.forEach(i),te=P(b),L&&L.l(b),Q=P(b),Y=$(b,"P",{});var re=g(Y);M=W(re,we),G=W(re,le),re.forEach(i)},m(b,F){k(b,e,F),m(e,t),m(e,n),m(e,a),k(b,u,F),k(b,o,F),m(o,d),m(o,p),k(b,f,F),k(b,_,F),m(_,A),m(_,O),k(b,x,F),k(b,ee,F),m(ee,ie),m(ee,he),k(b,te,F),L&&L.m(b,F),k(b,Q,F),k(b,Y,F),m(Y,M),m(Y,G)},p(b,F){var se,Z,ve,re,de,Fe,Ee;F&1&&r!==(r=(((se=b[0])==null?void 0:se.startTime)??h("none"))+"")&&B(a,r),F&1&&I!==(I=(((Z=b[0])==null?void 0:Z.endTime)??h("none"))+"")&&B(p,I),F&1&&U!==(U=(((ve=b[0])==null?void 0:ve.jitter)??h("none"))+"")&&B(O,U),F&1&&oe!==(oe=(((de=(re=b[0])==null?void 0:re.excludeCalendar)==null?void 0:de[0])??h("none"))+"")&&B(he,oe),(Fe=b[1])!=null&&Fe.limitedActions?L?L.p(b,F):(L=jl(b),L.c(),L.m(Q.parentNode,Q)):L&&(L.d(1),L=null),F&4&&le!==(le=(((Ee=b[2])==null?void 0:Ee.overlapPolicy)??h("none"))+"")&&B(G,le)},d(b){b&&i(e),b&&i(u),b&&i(o),b&&i(f),b&&i(_),b&&i(x),b&&i(ee),b&&i(te),L&&L.d(b),b&&i(Q),b&&i(Y)}}}function jl(s){var a;let e,l=h("schedules","remaining-actions")+"",t,n=(((a=s[1])==null?void 0:a.remainingActions)??h("none"))+"",r;return{c(){e=v("p"),t=S(l),r=S(n)},l(u){e=$(u,"P",{});var o=g(e);t=W(o,l),r=W(o,n),o.forEach(i)},m(u,o){k(u,e,o),m(e,t),m(e,r)},p(u,o){var c;o&2&&n!==(n=(((c=u[1])==null?void 0:c.remainingActions)??h("none"))+"")&&B(r,n)},d(u){u&&i(e)}}}function Hs(s){let e,l=h("schedules","advanced-settings")+"",t,n,r,a,u,o,c,d;r=new zl({props:{class:"inline",name:s[3]?"chevron-up":"chevron-down"}});let I=s[3]&&Hl(s);return{c(){e=v("button"),t=S(l),n=R(),N(r.$$.fragment),a=R(),I&&I.c(),u=X(),this.h()},l(p){e=$(p,"BUTTON",{class:!0});var f=g(e);t=W(f,l),n=P(f),C(r.$$.fragment,f),f.forEach(i),a=P(p),I&&I.l(p),u=X(),this.h()},h(){T(e,"class","settings svelte-5rdr1k")},m(p,f){k(p,e,f),m(e,t),m(e,n),H(r,e,null),k(p,a,f),I&&I.m(p,f),k(p,u,f),o=!0,c||(d=ot(e,"click",s[4]),c=!0)},p(p,[f]){const _={};f&8&&(_.name=p[3]?"chevron-up":"chevron-down"),r.$set(_),p[3]?I?I.p(p,f):(I=Hl(p),I.c(),I.m(u.parentNode,u)):I&&(I.d(1),I=null)},i(p){o||(V(r.$$.fragment,p),o=!0)},o(p){q(r.$$.fragment,p),o=!1},d(p){p&&i(e),j(r),p&&i(a),I&&I.d(p),p&&i(u),c=!1,d()}}}function js(s,e,l){let{spec:t}=e,{state:n}=e,{policies:r}=e,a=!1;const u=()=>l(3,a=!a);return s.$$set=o=>{"spec"in o&&l(0,t=o.spec),"state"in o&&l(1,n=o.state),"policies"in o&&l(2,r=o.policies)},[t,n,r,a,u]}class Ls extends Ie{constructor(e){super(),Te(this,e,js,Hs,De,{spec:0,state:1,policies:2})}}function Us(s){let e,l=h("schedules","error-title")+"",t,n,r,a;return{c(){e=v("p"),t=S(l),n=R(),r=v("p"),a=S(s[0]),this.h()},l(u){e=$(u,"P",{class:!0});var o=g(e);t=W(o,l),o.forEach(i),n=P(u),r=$(u,"P",{class:!0});var c=g(r);a=W(c,s[0]),c.forEach(i),this.h()},h(){T(e,"class","error-text svelte-1lke5yx"),T(r,"class","error-text svelte-1lke5yx")},m(u,o){k(u,e,o),m(e,t),k(u,n,o),k(u,r,o),m(r,a)},p(u,o){o&1&&B(a,u[0])},d(u){u&&i(e),u&&i(n),u&&i(r)}}}function ys(s){let e,l;return e=new Xe({props:{error:!0,$$slots:{default:[Us]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,[n]){const r={};n&3&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Os(s,e,l){let{error:t=""}=e;return s.$$set=n=>{"error"in n&&l(0,t=n.error)},[t]}class Kl extends Ie{constructor(e){super(),Te(this,e,Os,ys,De,{error:0})}}function zs(s){let e,l=h("schedules","frequency")+"",t,n,r,a,u;return a=new ms({props:{calendar:s[0],interval:s[1],class:"text-base"}}),{c(){e=v("h2"),t=S(l),n=R(),r=v("div"),N(a.$$.fragment),this.h()},l(o){e=$(o,"H2",{class:!0});var c=g(e);t=W(c,l),c.forEach(i),n=P(o),r=$(o,"DIV",{class:!0});var d=g(r);C(a.$$.fragment,d),d.forEach(i),this.h()},h(){T(e,"class","mb-4 text-2xl"),T(r,"class","pr-2")},m(o,c){k(o,e,c),m(e,t),k(o,n,c),k(o,r,c),H(a,r,null),u=!0},p(o,c){const d={};c&1&&(d.calendar=o[0]),c&2&&(d.interval=o[1]),a.$set(d)},i(o){u||(V(a.$$.fragment,o),u=!0)},o(o){q(a.$$.fragment,o),u=!1},d(o){o&&i(e),o&&i(n),o&&i(r),j(a)}}}function Bs(s){let e,l;return e=new Xe({props:{$$slots:{default:[zs]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,[n]){const r={};n&7&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Gs(s,e,l){let{calendar:t=void 0}=e,{interval:n=void 0}=e;return s.$$set=r=>{"calendar"in r&&l(0,t=r.calendar),"interval"in r&&l(1,n=r.interval)},[t,n]}class Js extends Ie{constructor(e){super(),Te(this,e,Gs,Bs,De,{calendar:0,interval:1})}}function Ks(s){var t;let e,l;return e=new Kl({props:{error:(t=s[7])==null?void 0:t.message}}),{c(){N(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,r){H(e,n,r),l=!0},p(n,r){var u;const a={};r&1&&(a.error=(u=n[7])==null?void 0:u.message),e.$set(a)},i(n){l||(V(e.$$.fragment,n),l=!0)},o(n){q(e.$$.fragment,n),l=!1},d(n){j(e,n)}}}function Ys(s){let e,l,t,n;const r=[Qs,Zs],a=[];function u(o,c){return o[4]?0:1}return e=u(s),l=a[e]=r[e](s),{c(){l.c(),t=X()},l(o){l.l(o),t=X()},m(o,c){a[e].m(o,c),k(o,t,c),n=!0},p(o,c){let d=e;e=u(o),e===d?a[e].p(o,c):(Ye(),q(a[d],1,1,()=>{a[d]=null}),Ze(),l=a[e],l?l.p(o,c):(l=a[e]=r[e](o),l.c()),V(l,1),l.m(t.parentNode,t))},i(o){n||(V(l),n=!0)},o(o){q(l),n=!1},d(o){a[e].d(o),o&&i(t)}}}function Zs(s){var dt,mt,pt,_t,ht,vt,$t,gt,wt,kt,bt,Et,It,Tt,Dt,Rt,Pt,Vt,St,Wt,qt,At,Mt,Ft,Nt,Ct,Ht,jt,Lt,Ut,yt,Ot,zt,Bt,Gt,Jt,Kt;let e,l,t,n,r=h("schedules","back-to-schedules")+"",a,u,o,c,d,I,p,f,_,w,A,U,O,x,ee,_e,ie=((ht=(_t=(pt=(mt=(dt=s[26])==null?void 0:dt.schedule)==null?void 0:mt.action)==null?void 0:pt.startWorkflow)==null?void 0:_t.workflowType)==null?void 0:ht.name)+"",oe,he,te,Q,Y=h("created",{created:ge(($t=(vt=s[26])==null?void 0:vt.info)==null?void 0:$t.createTime,s[5],{relative:s[6]})})+"",we,M,le,G,L,z,Ve,ke,fe,Me,ce,be,b,F,se,Z,ve,re,de,Fe,Ee,Re,Ge,me,xe,Je,ue,et,tt,Ne;n=new zl({props:{name:"chevron-left",class:"inline"}}),d=new Gl({props:{status:(gt=s[26])!=null&&gt.schedule.state.paused?"Paused":"Running"}});let K=((kt=(wt=s[26])==null?void 0:wt.info)==null?void 0:kt.updateTime)&&Ll(s);G=new gs({props:{position:"right",label:(It=(Et=(bt=s[26])==null?void 0:bt.schedule)==null?void 0:Et.state)!=null&&It.paused?h("schedules","unpause"):h("schedules","pause"),menuLabel:h("schedules","schedule-actions"),id:"schedule-actions",disabled:s[11],$$slots:{default:[er]},$$scope:{ctx:s}}}),G.$on("click",s[17]);let y=((Dt=(Tt=s[26])==null?void 0:Tt.info)==null?void 0:Dt.invalidScheduleError)&&Ul(s);fe=new Js({props:{calendar:(St=(Vt=(Pt=(Rt=s[26])==null?void 0:Rt.schedule)==null?void 0:Pt.spec)==null?void 0:Vt.structuredCalendar)==null?void 0:St[0],interval:(Mt=(At=(qt=(Wt=s[26])==null?void 0:Wt.schedule)==null?void 0:qt.spec)==null?void 0:At.interval)==null?void 0:Mt[0]}}),b=new As({props:{namespace:s[8],recentRuns:(Nt=(Ft=s[26])==null?void 0:Ft.info)==null?void 0:Nt.recentActions}}),Z=new Cs({props:{futureRuns:(Ht=(Ct=s[26])==null?void 0:Ct.info)==null?void 0:Ht.futureActionTimes}}),de=new Ls({props:{spec:(Lt=(jt=s[26])==null?void 0:jt.schedule)==null?void 0:Lt.spec,state:(yt=(Ut=s[26])==null?void 0:Ut.schedule)==null?void 0:yt.state,policies:(zt=(Ot=s[26])==null?void 0:Ot.schedule)==null?void 0:zt.policies}}),Re=new Es({props:{notes:(Jt=(Gt=(Bt=s[26])==null?void 0:Bt.schedule)==null?void 0:Gt.state)==null?void 0:Jt.notes}});function Yl(E){s[19](E)}function Zl(){return s[20](s[26])}let ct={id:"pause-schedule-modal",confirmType:"primary",confirmText:(Kt=s[26])!=null&&Kt.schedule.state.paused?h("schedules","unpause"):h("schedules","pause"),cancelText:h("cancel"),confirmDisabled:!s[3],$$slots:{content:[lr],title:[tr]},$$scope:{ctx:s}};s[1]!==void 0&&(ct.open=s[1]),me=new Wl({props:ct}),rt.push(()=>nt(me,"open",Yl)),me.$on("confirmModal",Zl),me.$on("cancelModal",s[14]);function Ql(E){s[21](E)}function Xl(E){s[22](E)}let lt={id:"delete-schedule-modal",confirmType:"destructive",confirmText:h("delete"),cancelText:h("cancel"),$$slots:{content:[rr],title:[sr]},$$scope:{ctx:s}};return s[2]!==void 0&&(lt.open=s[2]),s[7]!==void 0&&(lt.error=s[7]),ue=new Wl({props:lt}),rt.push(()=>nt(ue,"open",Ql)),rt.push(()=>nt(ue,"error",Xl)),ue.$on("confirmModal",s[12]),ue.$on("cancelModal",s[14]),{c(){e=v("header"),l=v("div"),t=v("a"),N(n.$$.fragment),a=S(r),u=R(),o=v("div"),c=v("h1"),N(d.$$.fragment),I=R(),p=v("p"),f=S(s[9]),_=R(),w=v("div"),A=v("p"),U=S(s[8]),O=R(),x=v("div"),ee=R(),_e=v("p"),oe=S(ie),he=R(),te=v("div"),Q=v("p"),we=S(Y),M=R(),K&&K.c(),le=R(),N(G.$$.fragment),L=R(),z=v("div"),y&&y.c(),Ve=R(),ke=v("div"),N(fe.$$.fragment),Me=R(),ce=v("div"),be=v("div"),N(b.$$.fragment),F=R(),se=v("div"),N(Z.$$.fragment),ve=R(),re=v("div"),N(de.$$.fragment),Fe=R(),Ee=v("div"),N(Re.$$.fragment),Ge=R(),N(me.$$.fragment),Je=R(),N(ue.$$.fragment),this.h()},l(E){e=$(E,"HEADER",{class:!0});var D=g(e);l=$(D,"DIV",{class:!0});var ne=g(l);t=$(ne,"A",{href:!0,class:!0,style:!0});var Se=g(t);C(n.$$.fragment,Se),a=W(Se,r),Se.forEach(i),u=P(ne),o=$(ne,"DIV",{class:!0});var Ce=g(o);c=$(Ce,"H1",{class:!0});var We=g(c);C(d.$$.fragment,We),I=P(We),p=$(We,"P",{class:!0,"data-testid":!0});var He=g(p);f=W(He,s[9]),He.forEach(i),We.forEach(i),Ce.forEach(i),_=P(ne),w=$(ne,"DIV",{class:!0});var pe=g(w);A=$(pe,"P",{});var je=g(A);U=W(je,s[8]),je.forEach(i),O=P(pe),x=$(pe,"DIV",{class:!0}),g(x).forEach(i),ee=P(pe),_e=$(pe,"P",{});var Pe=g(_e);oe=W(Pe,ie),Pe.forEach(i),pe.forEach(i),he=P(ne),te=$(ne,"DIV",{class:!0});var qe=g(te);Q=$(qe,"P",{});var Le=g(Q);we=W(Le,Y),Le.forEach(i),qe.forEach(i),M=P(ne),K&&K.l(ne),ne.forEach(i),le=P(D),C(G.$$.fragment,D),D.forEach(i),L=P(E),z=$(E,"DIV",{class:!0});var ae=g(z);y&&y.l(ae),Ve=P(ae),ke=$(ae,"DIV",{class:!0});var Ue=g(ke);C(fe.$$.fragment,Ue),Ue.forEach(i),Me=P(ae),ce=$(ae,"DIV",{class:!0});var Ae=g(ce);be=$(Ae,"DIV",{class:!0});var ye=g(be);C(b.$$.fragment,ye),ye.forEach(i),F=P(Ae),se=$(Ae,"DIV",{class:!0});var Oe=g(se);C(Z.$$.fragment,Oe),Oe.forEach(i),Ae.forEach(i),ve=P(ae),re=$(ae,"DIV",{class:!0});var ze=g(re);C(de.$$.fragment,ze),ze.forEach(i),Fe=P(ae),Ee=$(ae,"DIV",{class:!0});var Be=g(Ee);C(Re.$$.fragment,Be),Be.forEach(i),ae.forEach(i),Ge=P(E),C(me.$$.fragment,E),Je=P(E),C(ue.$$.fragment,E),this.h()},h(){T(t,"href",Bl({namespace:s[8]})),T(t,"class","absolute top-0 back-to-schedules svelte-1pb4ys0"),os(t,"left","-0.5rem"),T(p,"class","font-medium select-all"),T(p,"data-testid","schedule-name"),T(c,"class","text-2xl flex relative items-center gap-4"),T(o,"class","flex justify-between items-center mt-8"),T(x,"class","w-1 h-1 rounded-full bg-gray-900"),T(w,"class","flex items-center gap-2 text-sm"),T(te,"class","flex items-center gap-2 text-sm"),T(l,"class","flex flex-col gap-1 relative"),T(e,"class","flex flex-row justify-between gap-4 mb-8"),T(ke,"class","w-full xl:w-1/2"),T(be,"class","w-full xl:w-3/4"),T(se,"class","w-full xl:w-1/4 xl:min-w-[320px]"),T(ce,"class","flex flex-col xl:flex-row gap-4"),T(re,"class","w-full xl:w-1/2"),T(Ee,"class","w-full xl:w-1/2"),T(z,"class","flex flex-col gap-4 pb-24")},m(E,D){k(E,e,D),m(e,l),m(l,t),H(n,t,null),m(t,a),m(l,u),m(l,o),m(o,c),H(d,c,null),m(c,I),m(c,p),m(p,f),m(l,_),m(l,w),m(w,A),m(A,U),m(w,O),m(w,x),m(w,ee),m(w,_e),m(_e,oe),m(l,he),m(l,te),m(te,Q),m(Q,we),m(l,M),K&&K.m(l,null),m(e,le),H(G,e,null),k(E,L,D),k(E,z,D),y&&y.m(z,null),m(z,Ve),m(z,ke),H(fe,ke,null),m(z,Me),m(z,ce),m(ce,be),H(b,be,null),m(ce,F),m(ce,se),H(Z,se,null),m(z,ve),m(z,re),H(de,re,null),m(z,Fe),m(z,Ee),H(Re,Ee,null),k(E,Ge,D),H(me,E,D),k(E,Je,D),H(ue,E,D),Ne=!0},p(E,D){var Le,ae,Ue,Ae,ye,Oe,ze,Be,Yt,Zt,Qt,Xt,xt,el,tl,ll,sl,rl,nl,al,ol,ul,il,fl,cl,dl,ml,pl,_l,hl,vl,$l,gl,wl,kl,bl,El;s=E;const ne={};D&1&&(ne.status=(Le=s[26])!=null&&Le.schedule.state.paused?"Paused":"Running"),d.$set(ne),(!Ne||D&1)&&ie!==(ie=((Oe=(ye=(Ae=(Ue=(ae=s[26])==null?void 0:ae.schedule)==null?void 0:Ue.action)==null?void 0:Ae.startWorkflow)==null?void 0:ye.workflowType)==null?void 0:Oe.name)+"")&&B(oe,ie),(!Ne||D&97)&&Y!==(Y=h("created",{created:ge((Be=(ze=s[26])==null?void 0:ze.info)==null?void 0:Be.createTime,s[5],{relative:s[6]})})+"")&&B(we,Y),(Zt=(Yt=s[26])==null?void 0:Yt.info)!=null&&Zt.updateTime?K?K.p(s,D):(K=Ll(s),K.c(),K.m(l,null)):K&&(K.d(1),K=null);const Se={};D&1&&(Se.label=(xt=(Xt=(Qt=s[26])==null?void 0:Qt.schedule)==null?void 0:Xt.state)!=null&&xt.paused?h("schedules","unpause"):h("schedules","pause")),D&134217732&&(Se.$$scope={dirty:D,ctx:s}),G.$set(Se),(tl=(el=s[26])==null?void 0:el.info)!=null&&tl.invalidScheduleError?y?(y.p(s,D),D&1&&V(y,1)):(y=Ul(s),y.c(),V(y,1),y.m(z,Ve)):y&&(Ye(),q(y,1,1,()=>{y=null}),Ze());const Ce={};D&1&&(Ce.calendar=(nl=(rl=(sl=(ll=s[26])==null?void 0:ll.schedule)==null?void 0:sl.spec)==null?void 0:rl.structuredCalendar)==null?void 0:nl[0]),D&1&&(Ce.interval=(il=(ul=(ol=(al=s[26])==null?void 0:al.schedule)==null?void 0:ol.spec)==null?void 0:ul.interval)==null?void 0:il[0]),fe.$set(Ce);const We={};D&1&&(We.recentRuns=(cl=(fl=s[26])==null?void 0:fl.info)==null?void 0:cl.recentActions),b.$set(We);const He={};D&1&&(He.futureRuns=(ml=(dl=s[26])==null?void 0:dl.info)==null?void 0:ml.futureActionTimes),Z.$set(He);const pe={};D&1&&(pe.spec=(_l=(pl=s[26])==null?void 0:pl.schedule)==null?void 0:_l.spec),D&1&&(pe.state=(vl=(hl=s[26])==null?void 0:hl.schedule)==null?void 0:vl.state),D&1&&(pe.policies=(gl=($l=s[26])==null?void 0:$l.schedule)==null?void 0:gl.policies),de.$set(pe);const je={};D&1&&(je.notes=(bl=(kl=(wl=s[26])==null?void 0:wl.schedule)==null?void 0:kl.state)==null?void 0:bl.notes),Re.$set(je);const Pe={};D&1&&(Pe.confirmText=(El=s[26])!=null&&El.schedule.state.paused?h("schedules","unpause"):h("schedules","pause")),D&8&&(Pe.confirmDisabled=!s[3]),D&134217737&&(Pe.$$scope={dirty:D,ctx:s}),!xe&&D&2&&(xe=!0,Pe.open=s[1],at(()=>xe=!1)),me.$set(Pe);const qe={};D&134217728&&(qe.$$scope={dirty:D,ctx:s}),!et&&D&4&&(et=!0,qe.open=s[2],at(()=>et=!1)),!tt&&D&128&&(tt=!0,qe.error=s[7],at(()=>tt=!1)),ue.$set(qe)},i(E){Ne||(V(n.$$.fragment,E),V(d.$$.fragment,E),V(G.$$.fragment,E),V(y),V(fe.$$.fragment,E),V(b.$$.fragment,E),V(Z.$$.fragment,E),V(de.$$.fragment,E),V(Re.$$.fragment,E),V(me.$$.fragment,E),V(ue.$$.fragment,E),Ne=!0)},o(E){q(n.$$.fragment,E),q(d.$$.fragment,E),q(G.$$.fragment,E),q(y),q(fe.$$.fragment,E),q(b.$$.fragment,E),q(Z.$$.fragment,E),q(de.$$.fragment,E),q(Re.$$.fragment,E),q(me.$$.fragment,E),q(ue.$$.fragment,E),Ne=!1},d(E){E&&i(e),j(n),j(d),K&&K.d(),j(G),E&&i(L),E&&i(z),y&&y.d(),j(fe),j(b),j(Z),j(de),j(Re),E&&i(Ge),j(me,E),E&&i(Je),j(ue,E)}}}function Qs(s){let e,l;return e=new Jl({props:{title:h("schedules","deleting"),class:"my-2"}}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:J,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Ll(s){var r,a;let e,l,t=h("last-updated",{updated:ge((a=(r=s[26])==null?void 0:r.info)==null?void 0:a.updateTime,s[5],{relative:s[6]})})+"",n;return{c(){e=v("div"),l=v("p"),n=S(t),this.h()},l(u){e=$(u,"DIV",{class:!0});var o=g(e);l=$(o,"P",{});var c=g(l);n=W(c,t),c.forEach(i),o.forEach(i),this.h()},h(){T(e,"class","flex items-center gap-2 text-sm")},m(u,o){k(u,e,o),m(e,l),m(l,n)},p(u,o){var c,d;o&97&&t!==(t=h("last-updated",{updated:ge((d=(c=u[26])==null?void 0:c.info)==null?void 0:d.updateTime,u[5],{relative:u[6]})})+"")&&B(n,t)},d(u){u&&i(e)}}}function Xs(s){let e=h("edit")+"",l;return{c(){l=S(e)},l(t){l=W(t,e)},m(t,n){k(t,l,n)},p:J,d(t){t&&i(l)}}}function xs(s){let e=h("schedules","delete")+"",l;return{c(){l=S(e)},l(t){l=W(t,e)},m(t,n){k(t,l,n)},p:J,d(t){t&&i(l)}}}function er(s){let e,l,t,n;return e=new ql({props:{"data-testid":"edit-schedule",href:cs({namespace:s[8],scheduleId:s[9]}),$$slots:{default:[Xs]},$$scope:{ctx:s}}}),t=new ql({props:{"data-testid":"delete-schedule",destructive:!0,$$slots:{default:[xs]},$$scope:{ctx:s}}}),t.$on("click",s[16]),{c(){N(e.$$.fragment),l=R(),N(t.$$.fragment)},l(r){C(e.$$.fragment,r),l=P(r),C(t.$$.fragment,r)},m(r,a){H(e,r,a),k(r,l,a),H(t,r,a),n=!0},p(r,a){const u={};a&134217728&&(u.$$scope={dirty:a,ctx:r}),e.$set(u);const o={};a&134217728&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){n||(V(e.$$.fragment,r),V(t.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),q(t.$$.fragment,r),n=!1},d(r){j(e,r),r&&i(l),j(t,r)}}}function Ul(s){var n,r;let e,l,t;return l=new Kl({props:{error:(r=(n=s[26])==null?void 0:n.info)==null?void 0:r.invalidScheduleError}}),{c(){e=v("div"),N(l.$$.fragment),this.h()},l(a){e=$(a,"DIV",{class:!0});var u=g(e);C(l.$$.fragment,u),u.forEach(i),this.h()},h(){T(e,"class","w-full xl:w-1/2")},m(a,u){k(a,e,u),H(l,e,null),t=!0},p(a,u){var c,d;const o={};u&1&&(o.error=(d=(c=a[26])==null?void 0:c.info)==null?void 0:d.invalidScheduleError),l.$set(o)},i(a){t||(V(l.$$.fragment,a),t=!0)},o(a){q(l.$$.fragment,a),t=!1},d(a){a&&i(e),j(l)}}}function tr(s){var n;let e,l=((n=s[26])!=null&&n.schedule.state.paused?h("schedules","unpause-modal-title"):h("schedules","pause-modal-title"))+"",t;return{c(){e=v("h3"),t=S(l),this.h()},l(r){e=$(r,"H3",{slot:!0});var a=g(e);t=W(a,l),a.forEach(i),this.h()},h(){T(e,"slot","title")},m(r,a){k(r,e,a),m(e,t)},p(r,a){var u;a&1&&l!==(l=((u=r[26])!=null&&u.schedule.state.paused?h("schedules","unpause-modal-title"):h("schedules","pause-modal-title"))+"")&&B(t,l)},d(r){r&&i(e)}}}function lr(s){var f,_;let e,l,t=((f=s[26])!=null&&f.schedule.state.paused?h("schedules","unpause-modal-confirmation",{schedule:s[9]}):h("schedules","pause-modal-confirmation",{schedule:s[9]}))+"",n,r,a,u=((_=s[26])!=null&&_.schedule.state.paused?h("schedules","unpause-reason"):h("schedules","pause-reason"))+"",o,c,d,I,p;return{c(){e=v("div"),l=v("p"),n=S(t),r=R(),a=v("p"),o=S(u),c=R(),d=v("input"),this.h()},l(w){e=$(w,"DIV",{slot:!0});var A=g(e);l=$(A,"P",{});var U=g(l);n=W(U,t),U.forEach(i),r=P(A),a=$(A,"P",{class:!0});var O=g(a);o=W(O,u),O.forEach(i),c=P(A),d=$(A,"INPUT",{class:!0,placeholder:!0}),A.forEach(i),this.h()},h(){T(a,"class","my-4"),T(d,"class","block w-full border border-gray-200 rounded-md p-2 mt-4"),T(d,"placeholder",h("reason")),T(e,"slot","content")},m(w,A){k(w,e,A),m(e,l),m(l,n),m(e,r),m(e,a),m(a,o),m(e,c),m(e,d),Rl(d,s[3]),I||(p=[ot(d,"input",s[18]),ot(d,"keydown",us(s[15]))],I=!0)},p(w,A){var U,O;A&1&&t!==(t=((U=w[26])!=null&&U.schedule.state.paused?h("schedules","unpause-modal-confirmation",{schedule:w[9]}):h("schedules","pause-modal-confirmation",{schedule:w[9]}))+"")&&B(n,t),A&1&&u!==(u=((O=w[26])!=null&&O.schedule.state.paused?h("schedules","unpause-reason"):h("schedules","pause-reason"))+"")&&B(o,u),A&8&&d.value!==w[3]&&Rl(d,w[3])},d(w){w&&i(e),I=!1,is(p)}}}function sr(s){let e,l=h("schedules","delete-modal-title")+"",t;return{c(){e=v("h3"),t=S(l),this.h()},l(n){e=$(n,"H3",{slot:!0});var r=g(e);t=W(r,l),r.forEach(i),this.h()},h(){T(e,"slot","title")},m(n,r){k(n,e,r),m(e,t)},p:J,d(n){n&&i(e)}}}function rr(s){let e,l,t=h("schedules","delete-modal-confirmation",{schedule:s[9]})+"",n;return{c(){e=v("div"),l=v("p"),n=S(t),this.h()},l(r){e=$(r,"DIV",{slot:!0});var a=g(e);l=$(a,"P",{});var u=g(l);n=W(u,t),u.forEach(i),a.forEach(i),this.h()},h(){T(e,"slot","content")},m(r,a){k(r,e,a),m(e,l),m(l,n)},p:J,d(r){r&&i(e)}}}function nr(s){let e,l;return e=new Jl({}),{c(){N(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:J,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function ar(s){let e,l,t,n={ctx:s,current:null,token:null,hasCatch:!0,pending:nr,then:Ys,catch:Ks,value:26,error:7,blocks:[,,,]};return Qe(l=s[0],n),{c(){e=X(),n.block.c()},l(r){e=X(),n.block.l(r)},m(r,a){k(r,e,a),n.block.m(r,n.anchor=a),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(r,[a]){s=r,n.ctx=s,a&1&&l!==(l=s[0])&&Qe(l,n)||yl(n,s,a)},i(r){t||(V(n.block),t=!0)},o(r){for(let a=0;a<3;a+=1){const u=n.blocks[a];q(u)}t=!1},d(r){r&&i(e),n.block.d(r),n.token=null,n=null}}}function or(s,e,l){let t,n,r,a,u;$e(s,Ke,M=>l(4,t=M)),$e(s,Ol,M=>l(24,r=M)),$e(s,it,M=>l(5,a=M)),$e(s,ft,M=>l(6,u=M));let o=r.params.namespace,c=r.params.schedule;const d={namespace:o,scheduleId:ut(c)};let I=Vl(d),p=!1,f=!1,_="",w="",A=ws();$e(s,A,M=>l(23,n=M));let U=n.namespaceWriteDisabled(o);const O=async()=>{l(7,w="");try{st(Ke,t=!0,t),await ps({namespace:o,scheduleId:c}),l(2,f=!1),setTimeout(()=>{st(Ke,t=!1,t),ds(Bl({namespace:o}))},2e3),l(3,_="")}catch(M){l(7,w=h("schedules","delete-schedule-error",{error:M==null?void 0:M.message})),st(Ke,t=!1,t)}},x=async M=>{var le,G;!((G=(le=M==null?void 0:M.schedule)===null||le===void 0?void 0:le.state)===null||G===void 0)&&G.paused?await _s({namespace:o,scheduleId:c,reason:_}):await hs({namespace:o,scheduleId:c,reason:_}),l(0,I=Vl(d,fetch)),l(3,_=""),l(1,p=!1)},ee=()=>{l(3,_="")};function _e(M){as.call(this,s,M)}const ie=()=>l(2,f=!0),oe=()=>l(1,p=!0);function he(){_=this.value,l(3,_)}function te(M){p=M,l(1,p)}const Q=M=>x(M);function Y(M){f=M,l(2,f)}function we(M){w=M,l(7,w)}return[I,p,f,_,t,a,u,w,o,c,A,U,O,x,ee,_e,ie,oe,he,te,Q,Y,we]}class ur extends Ie{constructor(e){super(),Te(this,e,or,ar,De,{})}}function ir(s){let e,l,t,n;return e=new fs({props:{title:`Schedule | ${s[1]}`,url:s[0].url.href}}),t=new ur({}),{c(){N(e.$$.fragment),l=R(),N(t.$$.fragment)},l(r){C(e.$$.fragment,r),l=P(r),C(t.$$.fragment,r)},m(r,a){H(e,r,a),k(r,l,a),H(t,r,a),n=!0},p(r,[a]){const u={};a&1&&(u.url=r[0].url.href),e.$set(u)},i(r){n||(V(e.$$.fragment,r),V(t.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),q(t.$$.fragment,r),n=!1},d(r){j(e,r),r&&i(l),j(t,r)}}}function fr(s,e,l){let t;$e(s,Ol,r=>l(0,t=r));const n=t.params.schedule;return[t,n]}class Sr extends Ie{constructor(e){super(),Te(this,e,fr,ir,De,{})}}export{Sr as default};
