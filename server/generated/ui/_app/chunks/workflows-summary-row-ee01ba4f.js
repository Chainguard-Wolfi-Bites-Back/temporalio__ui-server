var et=Object.defineProperty,tt=Object.defineProperties;var lt=Object.getOwnPropertyDescriptors;var Qe=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;var Re=(t,e,s)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,je=(t,e)=>{for(var s in e||(e={}))st.call(e,s)&&Re(t,s,e[s]);if(Qe)for(var s of Qe(e))rt.call(e,s)&&Re(t,s,e[s]);return t},He=(t,e)=>tt(t,lt(e));import{S as De,i as qe,s as Ee,I as at,e as v,t as P,k as T,c as h,a as p,h as N,d as u,m as I,b as w,g as ie,M as n,J as ot,K as nt,L as it,q as S,o as C,T as B,U as pe,ar as we,E as Te,H as ft,n as ge,p as ye,w as de,x as _e,y as ve,B as he,l as Ke,j as ne,G as ut,N as ct}from"./index-4d40a842.js";import{p as mt}from"./stores-9cf180cc.js";import{g as dt}from"./navigation-6709cf39.js";import{c as _t,f as $,g as ze}from"./format-date-cc1b1b48.js";import{l as vt}from"./route-for-e4b4dbdd.js";import{u as ht}from"./update-query-parameters-08bf783c.js";import{l as pt,m as wt,n as kt,o as bt,p as gt,q as yt}from"./to-duration-271d3946.js";import{W as Et,t as Ge}from"./workflow-status-f896f1ac.js";import{I as xe}from"./index-9d61a9ea.js";function Tt(t){let e,s,l,a,f,r,o,i,d,V,_,G,q,j,z,O,k,U,M,b,A,L,D,Q;const W=t[1].default,y=at(W,t,t[0],null);return{c(){e=v("section"),s=v("div"),l=v("div"),a=v("div"),f=P("Status"),r=T(),o=v("div"),i=P("Workflow ID"),d=T(),V=v("div"),_=P("Type"),G=T(),q=v("div"),j=P("Start"),z=T(),O=v("div"),k=P("End"),U=T(),M=v("div"),b=v("div"),A=P("Summary"),L=T(),D=v("div"),y&&y.c(),this.h()},l(g){e=h(g,"SECTION",{class:!0});var E=p(e);s=h(E,"DIV",{class:!0});var x=p(s);l=h(x,"DIV",{class:!0});var F=p(l);a=h(F,"DIV",{class:!0});var J=p(a);f=N(J,"Status"),J.forEach(u),r=I(F),o=h(F,"DIV",{class:!0});var Y=p(o);i=N(Y,"Workflow ID"),Y.forEach(u),d=I(F),V=h(F,"DIV",{class:!0});var Z=p(V);_=N(Z,"Type"),Z.forEach(u),G=I(F),q=h(F,"DIV",{class:!0});var ee=p(q);j=N(ee,"Start"),ee.forEach(u),z=I(F),O=h(F,"DIV",{class:!0});var te=p(O);k=N(te,"End"),te.forEach(u),F.forEach(u),x.forEach(u),U=I(E),M=h(E,"DIV",{class:!0});var X=p(M);b=h(X,"DIV",{class:!0});var le=p(b);A=N(le,"Summary"),le.forEach(u),X.forEach(u),L=I(E),D=h(E,"DIV",{class:!0});var se=p(D);y&&y.l(se),se.forEach(u),E.forEach(u),this.h()},h(){w(a,"class","table-header table-cell w-28 rounded-tl-md svelte-qkbvym"),w(o,"class","table-header table-cell md:w-60 xl:w-auto svelte-qkbvym"),w(V,"class","table-header table-cell md:w-60 xl:w-80 svelte-qkbvym"),w(q,"class","table-header hidden text-sm xl:table-cell xl:w-64 xl:text-base svelte-qkbvym"),w(O,"class","table-header hidden rounded-tr-md xl:table-cell xl:w-64 svelte-qkbvym"),w(l,"class","hidden md:table-row"),w(s,"class","table-header-row md:table-header-group svelte-qkbvym"),w(b,"class","rounded-t-md border-b p-2"),w(M,"class","table-header-row md:hidden svelte-qkbvym"),w(D,"class","overflow-y-auto md:table-row-group"),w(e,"class","workflow-table svelte-qkbvym")},m(g,E){ie(g,e,E),n(e,s),n(s,l),n(l,a),n(a,f),n(l,r),n(l,o),n(o,i),n(l,d),n(l,V),n(V,_),n(l,G),n(l,q),n(q,j),n(l,z),n(l,O),n(O,k),n(e,U),n(e,M),n(M,b),n(b,A),n(e,L),n(e,D),y&&y.m(D,null),Q=!0},p(g,[E]){y&&y.p&&(!Q||E&1)&&ot(y,W,g,g[0],Q?it(W,g[0],E,null):nt(g[0]),null)},i(g){Q||(S(y,g),Q=!0)},o(g){C(y,g),Q=!1},d(g){g&&u(e),y&&y.d(g)}}}function It(t,e,s){let{$$slots:l={},$$scope:a}=e;return t.$$set=f=>{"$$scope"in f&&s(0,a=f.$$scope)},[a,l]}class Gt extends De{constructor(e){super(),qe(this,e,It,Tt,Ee,{})}}const St=t=>{const e=[],s=()=>{l&&(e.push(l),l="")};let l="",a=0;for(;a<t.length;){const f=t[a];if(pt(f)){s(),l+=f,a++;continue}if(wt(f)||kt(f)){s(),a++;continue}l+=f,a++}return s(),e},Ie=t=>e=>e.toLowerCase()===t.toLowerCase(),be=(t,e)=>t[e+2],Dt=t=>{for(const e of yt)if(t[e])return{[e]:t[e]}},qt=Ie("WorkflowType"),Vt=Ie("WorkflowId"),Wt=Ie("StartTime"),Ft=Ie("ExecutionStatus"),Pt=t=>{const e=St(t),s={workflowId:"",workflowType:"",executionStatus:null,timeRange:null};return e.forEach((l,a)=>{if(Vt(l)&&(s.workflowId=be(e,a)),qt(l)&&(s.workflowType=be(e,a)),Ft(l)){const f=be(e,a);bt(f)&&(s.executionStatus=f)}if(Wt(l)){const f=be(e,a);try{const r=gt(f),o=Dt(r);s.timeRange=_t(o)}catch(r){console.error("Error parsing StartTime from query",r)}}}),s};function Je(t){let e,s,l,a,f,r=t[1]&&Xe(t),o=t[2]&&Ze(t);return{c(){e=v("div"),r&&r.c(),s=T(),o&&o.c(),this.h()},l(i){e=h(i,"DIV",{class:!0});var d=p(e);r&&r.l(d),s=I(d),o&&o.l(d),d.forEach(u),this.h()},h(){w(e,"class","copy-or-filter svelte-1llgntb")},m(i,d){ie(i,e,d),r&&r.m(e,null),n(e,s),o&&o.m(e,null),l=!0,a||(f=B(e,"click",pe(we(Te))),a=!0)},p(i,d){i[1]?r?(r.p(i,d),d&2&&S(r,1)):(r=Xe(i),r.c(),S(r,1),r.m(e,s)):r&&(ge(),C(r,1,1,()=>{r=null}),ye()),i[2]?o?(o.p(i,d),d&4&&S(o,1)):(o=Ze(i),o.c(),S(o,1),o.m(e,null)):o&&(ge(),C(o,1,1,()=>{o=null}),ye())},i(i){l||(S(r),S(o),l=!0)},o(i){C(r),C(o),l=!1},d(i){i&&u(e),r&&r.d(),o&&o.d(),a=!1,f()}}}function Xe(t){let e,s=t[4],l,a,f,r=Ye(t);return{c(){e=v("button"),r.c()},l(o){e=h(o,"BUTTON",{});var i=p(e);r.l(i),i.forEach(u)},m(o,i){ie(o,e,i),r.m(e,null),l=!0,a||(f=B(e,"click",pe(we(function(){ft(t[3])&&t[3].apply(this,arguments)}))),a=!0)},p(o,i){t=o,i&16&&Ee(s,s=t[4])?(ge(),C(r,1,1,Te),ye(),r=Ye(t),r.c(),S(r,1),r.m(e,null)):r.p(t,i)},i(o){l||(S(r),l=!0)},o(o){C(r),l=!1},d(o){o&&u(e),r.d(o),a=!1,f()}}}function Ye(t){let e,s;return e=new xe({props:{name:"filter",stroke:"#000",fill:t[4]?"#000":"",class:"h-4 w-4"}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){ve(e,l,a),s=!0},p(l,a){const f={};a&16&&(f.fill=l[4]?"#000":""),e.$set(f)},i(l){s||(S(e.$$.fragment,l),s=!0)},o(l){C(e.$$.fragment,l),s=!1},d(l){he(e,l)}}}function Ze(t){let e,s,l,a,f;return s=new xe({props:{name:t[5]?"checkMark":"copy",stroke:"#000",class:"h-4 w-4"}}),{c(){e=v("button"),de(s.$$.fragment)},l(r){e=h(r,"BUTTON",{});var o=p(e);_e(s.$$.fragment,o),o.forEach(u)},m(r,o){ie(r,e,o),ve(s,e,null),l=!0,a||(f=B(e,"click",pe(we(t[6]))),a=!0)},p(r,o){const i={};o&32&&(i.name=r[5]?"checkMark":"copy"),s.$set(i)},i(r){l||(S(s.$$.fragment,r),l=!0)},o(r){C(s.$$.fragment,r),l=!1},d(r){r&&u(e),he(s),a=!1,f()}}}function Nt(t){let e,s,l=t[0]&&Je(t);return{c(){l&&l.c(),e=Ke()},l(a){l&&l.l(a),e=Ke()},m(a,f){l&&l.m(a,f),ie(a,e,f),s=!0},p(a,[f]){a[0]?l?(l.p(a,f),f&1&&S(l,1)):(l=Je(a),l.c(),S(l,1),l.m(e.parentNode,e)):l&&(ge(),C(l,1,1,()=>{l=null}),ye())},i(a){s||(S(l),s=!0)},o(a){C(l),s=!1},d(a){l&&l.d(a),a&&u(e)}}}function Ct(t,e,s){let{show:l=!1}=e,{filterable:a=!0}=e,{copyable:f=!0}=e,{content:r}=e,{onFilter:o=Te}=e,{filtered:i=!1}=e,d=!1;const V=()=>{navigator.clipboard.writeText(r).then(()=>{s(5,d=!d),setTimeout(()=>s(5,d=!1),700)}).catch(_=>console.error(_))};return t.$$set=_=>{"show"in _&&s(0,l=_.show),"filterable"in _&&s(1,a=_.filterable),"copyable"in _&&s(2,f=_.copyable),"content"in _&&s(7,r=_.content),"onFilter"in _&&s(3,o=_.onFilter),"filtered"in _&&s(4,i=_.filtered)},[l,a,f,o,i,d,V,r]}class $e extends De{constructor(e){super(),qe(this,e,Ct,Nt,Ee,{show:0,filterable:1,copyable:2,content:7,onFilter:3,filtered:4})}}function At(t){var We,Fe,Pe;let e,s,l,a,f,r,o,i=t[0].id+"",d,V,_,G,q,j=$(t[0].startTime,t[1])+"",z,O,k,U,M,b,A,L=t[0].name+"",D,Q,W,y,g,E=$(t[0].endTime,t[1])+"",x,F,J,Y,Z=$(t[0].startTime,t[1])+"",ee,te,X,le,se,re,fe,ue=$(t[0].endTime,t[1])+"",ke,H,Se,Ve;return a=new Et({props:{status:t[0].status,delay:ze(t[0].startTime)}}),_=new $e({props:{show:t[2],content:t[0].id,filterable:!1}}),W=new $e({props:{show:t[2],content:t[0].name,onFilter:t[12],filtered:(Pe=(Fe=(We=t[4].url)==null?void 0:We.searchParams)==null?void 0:Fe.get("query"))==null?void 0:Pe.includes(t[0].name)}}),{c(){e=v("a"),s=v("div"),l=v("div"),de(a.$$.fragment),f=T(),r=v("div"),o=v("span"),d=P(i),V=T(),de(_.$$.fragment),G=T(),q=v("p"),z=P(j),O=T(),k=v("div"),U=v("h3"),M=P("Workflow Name:"),b=T(),A=v("span"),D=P(L),Q=T(),de(W.$$.fragment),y=T(),g=v("p"),x=P(E),F=T(),J=v("div"),Y=v("p"),ee=P(Z),te=T(),X=v("span"),le=P("-"),se=T(),re=v("div"),fe=v("p"),ke=P(ue),this.h()},l(c){e=h(c,"A",{href:!0,class:!0});var m=p(e);s=h(m,"DIV",{class:!0});var ae=p(s);l=h(ae,"DIV",{});var oe=p(l);_e(a.$$.fragment,oe),oe.forEach(u),ae.forEach(u),f=I(m),r=h(m,"DIV",{class:!0});var R=p(r);o=h(R,"SPAN",{class:!0});var ce=p(o);d=N(ce,i),ce.forEach(u),V=I(R),_e(_.$$.fragment,R),G=I(R),q=h(R,"P",{class:!0});var me=p(q);z=N(me,j),me.forEach(u),R.forEach(u),O=I(m),k=h(m,"DIV",{class:!0});var K=p(k);U=h(K,"H3",{class:!0});var Ne=p(U);M=N(Ne,"Workflow Name:"),Ne.forEach(u),b=I(K),A=h(K,"SPAN",{class:!0});var Ce=p(A);D=N(Ce,L),Ce.forEach(u),Q=I(K),_e(W.$$.fragment,K),y=I(K),g=h(K,"P",{class:!0});var Ae=p(g);x=N(Ae,E),Ae.forEach(u),K.forEach(u),F=I(m),J=h(m,"DIV",{class:!0});var Le=p(J);Y=h(Le,"P",{});var Be=p(Y);ee=N(Be,Z),Be.forEach(u),Le.forEach(u),te=I(m),X=h(m,"SPAN",{class:!0});var Oe=p(X);le=N(Oe,"-"),Oe.forEach(u),se=I(m),re=h(m,"DIV",{class:!0});var Ue=p(re);fe=h(Ue,"P",{});var Me=p(fe);ke=N(Me,ue),Me.forEach(u),Ue.forEach(u),m.forEach(u),this.h()},h(){w(s,"class","cell svelte-1lknr5h"),w(o,"class","table-link svelte-1lknr5h"),w(q,"class","time-cell-inline svelte-1lknr5h"),w(r,"class","cell links relative truncate font-medium md:font-normal svelte-1lknr5h"),w(U,"class","md:hidden"),w(A,"class","table-link svelte-1lknr5h"),w(g,"class","time-cell-inline svelte-1lknr5h"),w(k,"class","cell links relative flex items-center justify-between gap-2 truncate font-medium md:font-normal svelte-1lknr5h"),w(J,"class","time-cell font-normal svelte-1lknr5h"),w(X,"class","md:hidden"),w(re,"class","time-cell font-medium md:font-normal svelte-1lknr5h"),w(e,"href",t[3]),w(e,"class","row group svelte-1lknr5h")},m(c,m){ie(c,e,m),n(e,s),n(s,l),ve(a,l,null),n(e,f),n(e,r),n(r,o),n(o,d),n(r,V),ve(_,r,null),n(r,G),n(r,q),n(q,z),n(e,O),n(e,k),n(k,U),n(U,M),n(k,b),n(k,A),n(A,D),n(k,Q),ve(W,k,null),n(k,y),n(k,g),n(g,x),n(e,F),n(e,J),n(J,Y),n(Y,ee),n(e,te),n(e,X),n(X,le),n(e,se),n(e,re),n(re,fe),n(fe,ke),H=!0,Se||(Ve=[B(r,"mouseover",t[7]),B(r,"focus",t[8]),B(r,"mouseleave",t[9]),B(r,"blur",t[10]),B(A,"click",pe(we(t[11]))),B(k,"mouseover",t[13]),B(k,"focus",t[14]),B(k,"mouseleave",t[15]),B(k,"blur",t[16]),B(k,"click",pe(we(Te)))],Se=!0)},p(c,[m]){var ce,me,K;const ae={};m&1&&(ae.status=c[0].status),m&1&&(ae.delay=ze(c[0].startTime)),a.$set(ae),(!H||m&1)&&i!==(i=c[0].id+"")&&ne(d,i);const oe={};m&4&&(oe.show=c[2]),m&1&&(oe.content=c[0].id),_.$set(oe),(!H||m&3)&&j!==(j=$(c[0].startTime,c[1])+"")&&ne(z,j),(!H||m&1)&&L!==(L=c[0].name+"")&&ne(D,L);const R={};m&4&&(R.show=c[2]),m&1&&(R.content=c[0].name),m&1&&(R.onFilter=c[12]),m&17&&(R.filtered=(K=(me=(ce=c[4].url)==null?void 0:ce.searchParams)==null?void 0:me.get("query"))==null?void 0:K.includes(c[0].name)),W.$set(R),(!H||m&3)&&E!==(E=$(c[0].endTime,c[1])+"")&&ne(x,E),(!H||m&3)&&Z!==(Z=$(c[0].startTime,c[1])+"")&&ne(ee,Z),(!H||m&3)&&ue!==(ue=$(c[0].endTime,c[1])+"")&&ne(ke,ue),(!H||m&8)&&w(e,"href",c[3])},i(c){H||(S(a.$$.fragment,c),S(_.$$.fragment,c),S(W.$$.fragment,c),H=!0)},o(c){C(a.$$.fragment,c),C(_.$$.fragment,c),C(W.$$.fragment,c),H=!1},d(c){c&&u(e),he(a),he(_),he(W),Se=!1,ut(Ve)}}}function Lt(t,e,s){let l,a;ct(t,mt,b=>s(4,a=b));let{namespace:f}=e,{workflow:r}=e,{timeFormat:o}=e,i=!1;const d=b=>{const A=Ge({timeRange:"All"}),L=a.url.searchParams.get("query"),D=Pt(L!=null?L:A),Q=(D==null?void 0:D.workflowType)===b?"":b,W=Ge(He(je({},D),{workflowType:Q}));ht({url:a.url,parameter:"query",value:W,allowEmpty:!0,goto:dt})},V=()=>s(2,i=!0),_=()=>s(2,i=!0),G=()=>s(2,i=!1),q=()=>s(2,i=!1),j=()=>d(r.name),z=()=>d(r.name),O=()=>s(2,i=!0),k=()=>s(2,i=!0),U=()=>s(2,i=!1),M=()=>s(2,i=!1);return t.$$set=b=>{"namespace"in b&&s(6,f=b.namespace),"workflow"in b&&s(0,r=b.workflow),"timeFormat"in b&&s(1,o=b.timeFormat)},t.$$.update=()=>{t.$$.dirty&65&&s(3,l=vt({namespace:f,workflow:r.id,run:r.runId}))},[r,o,i,l,a,d,f,V,_,G,q,j,z,O,k,U,M]}class Jt extends De{constructor(e){super(),qe(this,e,Lt,At,Ee,{namespace:6,workflow:0,timeFormat:1})}}export{Gt as W,Jt as a,Pt as t};
