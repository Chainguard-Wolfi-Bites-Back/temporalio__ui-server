import{r as ee,a as te}from"./route-for-api-aecf4d21.js";import{S as se,i as le,s as ae,J as de,e as b,t as H,k as C,c as T,a as g,g as R,d as v,n as L,b as I,f as re,K as a,L as _e,M as pe,N as me,x as A,u as Q,h as oe,r as ne,w as ce,O as K,aG as ie,j as q,m as Y,o as N,R as G,v as J,aw as ue}from"./vendor-c7e306c1.js";import{f as fe}from"./format-date-ef16df5d.js";async function Ae(r,e=fetch){const s=await ee(te("task-queue",r),{request:e,params:{taskQueueType:"1"}}),t=await ee(te("task-queue",r),{request:e,params:{taskQueueType:"2"}});t.pollers.forEach(i=>{i.taskQueueTypes=["ACTIVITY"]}),s.pollers.forEach(i=>{i.taskQueueTypes=["WORKFLOW"]});const l=i=>(d,k)=>{const $=d[k.identity]||{lastAccessTime:void 0,taskQueueTypes:[]};return d[k.identity]={lastAccessTime:!$.lastAccessTime||$.lastAccessTime<k.lastAccessTime?k.lastAccessTime:$.lastAccessTime,taskQueueTypes:$.taskQueueTypes.concat([i])},d};return t.pollers.filter(i=>s.pollers.some(d=>{if(i.identity===d.identity)return i.taskQueueTypes=[...d.taskQueueTypes,...i.taskQueueTypes],i})),t.pollers.reduce(l("ACTIVITY"),s.pollers.reduce(l("WORKFLOW"),{})),{pollers:t.pollers,taskQueueStatus:t.taskQueueStatus}}function ve(r){let e,s,t,l,i,d,k,$,w,D,W,h,x,m,_;const O=r[1].default,u=de(O,r,r[0],null);return{c(){e=b("section"),s=b("div"),t=b("div"),l=H("ID"),i=C(),d=b("div"),k=H("Last Accessed"),$=C(),w=b("div"),D=H("Workflow Table Handler"),W=C(),h=b("div"),x=H("Activity Handler"),m=C(),u&&u.c(),this.h()},l(p){e=T(p,"SECTION",{class:!0});var n=g(e);s=T(n,"DIV",{class:!0});var f=g(s);t=T(f,"DIV",{class:!0});var E=g(t);l=R(E,"ID"),E.forEach(v),i=L(f),d=T(f,"DIV",{class:!0});var S=g(d);k=R(S,"Last Accessed"),S.forEach(v),$=L(f),w=T(f,"DIV",{class:!0});var y=g(w);D=R(y,"Workflow Table Handler"),y.forEach(v),W=L(f),h=T(f,"DIV",{class:!0});var j=g(h);x=R(j,"Activity Handler"),j.forEach(v),f.forEach(v),m=L(n),u&&u.l(n),n.forEach(v),this.h()},h(){I(t,"class","w-3/12 text-left"),I(d,"class","w-3/12 text-left"),I(w,"class","w-3/12 text-left"),I(h,"class","w-2/12 text-left"),I(s,"class","bg-gray-200 flex flex-row p-2"),I(e,"class","flex flex-col border-2 border-gray-300 w-full rounded-lg")},m(p,n){re(p,e,n),a(e,s),a(s,t),a(t,l),a(s,i),a(s,d),a(d,k),a(s,$),a(s,w),a(w,D),a(s,W),a(s,h),a(h,x),a(e,m),u&&u.m(e,null),_=!0},p(p,[n]){u&&u.p&&(!_||n&1)&&_e(u,O,p,p[0],_?me(O,p[0],n,null):pe(p[0]),null)},i(p){_||(A(u,p),_=!0)},o(p){Q(u,p),_=!1},d(p){p&&v(e),u&&u.d(p)}}}function ke(r,e,s){let{$$slots:t={},$$scope:l}=e;return r.$$set=i=>{"$$scope"in i&&s(0,l=i.$$scope)},[l,t]}class Qe extends se{constructor(e){super();le(this,e,ke,ve,ae,{})}}function $e(r){let e,s;return e=new K({props:{icon:ie,color:"black"}}),{c(){q(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,l){N(e,t,l),s=!0},p:G,i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){Q(e.$$.fragment,t),s=!1},d(t){J(e,t)}}}function he(r){let e,s;return e=new K({props:{icon:ue,color:"blue"}}),{c(){q(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,l){N(e,t,l),s=!0},p:G,i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){Q(e.$$.fragment,t),s=!1},d(t){J(e,t)}}}function be(r){let e,s;return e=new K({props:{icon:ie,color:"black"}}),{c(){q(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,l){N(e,t,l),s=!0},p:G,i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){Q(e.$$.fragment,t),s=!1},d(t){J(e,t)}}}function Te(r){let e,s;return e=new K({props:{icon:ue,color:"blue"}}),{c(){q(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,l){N(e,t,l),s=!0},p:G,i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){Q(e.$$.fragment,t),s=!1},d(t){J(e,t)}}}function ge(r){let e,s,t=r[0].identity+"",l,i,d,k,$,w=fe(r[0].lastAccessTime)+"",D,W,h,x,m,_,O,u,p,n,f,E;const S=[he,$e],y=[];function j(c,o){return(x==null||o&1)&&(x=!!c[0].taskQueueTypes.includes("WORKFLOW")),x?0:1}m=j(r,-1),_=y[m]=S[m](r);const M=[Te,be],V=[];function z(c,o){return(p==null||o&1)&&(p=!!c[0].taskQueueTypes.includes("ACTIVITY")),p?0:1}return n=z(r,-1),f=V[n]=M[n](r),{c(){e=b("article"),s=b("div"),l=H(t),i=C(),d=b("div"),k=b("h3"),$=b("p"),D=H(w),W=C(),h=b("div"),_.c(),O=C(),u=b("div"),f.c(),this.h()},l(c){e=T(c,"ARTICLE",{class:!0});var o=g(e);s=T(o,"DIV",{class:!0});var F=g(s);l=R(F,t),F.forEach(v),i=L(o),d=T(o,"DIV",{class:!0});var P=g(d);k=T(P,"H3",{});var B=g(k);$=T(B,"P",{});var U=g($);D=R(U,w),U.forEach(v),B.forEach(v),P.forEach(v),W=L(o),h=T(o,"DIV",{class:!0});var X=g(h);_.l(X),X.forEach(v),O=L(o),u=T(o,"DIV",{class:!0});var Z=g(u);f.l(Z),Z.forEach(v),o.forEach(v),this.h()},h(){I(s,"class","links w-3/12 text-left"),I(d,"class","links w-3/12 text-left"),I(h,"class","w-3/12 text-left"),I(u,"class","w-3/12 text-left"),I(e,"class","w-full h-full flex flex-row border-b-2 last:border-b-0 no-underline p-2")},m(c,o){re(c,e,o),a(e,s),a(s,l),a(e,i),a(e,d),a(d,k),a(k,$),a($,D),a(e,W),a(e,h),y[m].m(h,null),a(e,O),a(e,u),V[n].m(u,null),E=!0},p(c,[o]){(!E||o&1)&&t!==(t=c[0].identity+"")&&oe(l,t),(!E||o&1)&&w!==(w=fe(c[0].lastAccessTime)+"")&&oe(D,w);let F=m;m=j(c,o),m===F?y[m].p(c,o):(ne(),Q(y[F],1,1,()=>{y[F]=null}),ce(),_=y[m],_?_.p(c,o):(_=y[m]=S[m](c),_.c()),A(_,1),_.m(h,null));let P=n;n=z(c,o),n===P?V[n].p(c,o):(ne(),Q(V[P],1,1,()=>{V[P]=null}),ce(),f=V[n],f?f.p(c,o):(f=V[n]=M[n](c),f.c()),A(f,1),f.m(u,null))},i(c){E||(A(_),A(f),E=!0)},o(c){Q(_),Q(f),E=!1},d(c){c&&v(e),y[m].d(),V[n].d()}}}function we(r,e,s){let{poller:t}=e;return r.$$set=l=>{"poller"in l&&s(0,t=l.poller)},[t]}class De extends se{constructor(e){super();le(this,e,we,ge,ae,{poller:0})}}export{Qe as W,De as a,Ae as g};
