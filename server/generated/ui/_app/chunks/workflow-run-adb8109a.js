import{d as e,r as p,w as c}from"./index-de429506.js";import{p as s}from"./stores-34c141af.js";import{w}from"./with-loading-22689bcc.js";import{f}from"./workflow-service-0b078d47.js";import{g as d}from"./pollers-service-cc2befa2.js";import{m as k}from"./route-for-0fcfcb54.js";const g=e([s],([r])=>r.params.namespace),b=e([s],([r])=>r.params.workflow),R=e([s],([r])=>r.params.run),I=e([g,b,R],([r,o,a])=>({namespace:r,workflowId:k(o!=null?o:""),runId:a})),W={workflow:null,workers:null},h=r=>I.subscribe(({namespace:o,workflowId:a,runId:t})=>{o&&a&&t?w(u,m,async()=>{const n=await f({namespace:o,workflowId:a,runId:t}),{taskQueue:l}=n,i=await d({queue:l,namespace:o});r({workflow:n,workers:i})}):(u.set(!0),m.set(!1))}),m=c(!0),u=c(!0),P=p(W,h);export{u as l,P as w};
