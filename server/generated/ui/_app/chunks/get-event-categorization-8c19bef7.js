const I=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),O=["workflowExecutionStartedEventAttributes","workflowExecutionCompletedEventAttributes","workflowExecutionFailedEventAttributes","workflowExecutionTimedOutEventAttributes","workflowTaskStartedEventAttributes","workflowTaskScheduledEventAttributes","workflowTaskCompletedEventAttributes","workflowTaskTimedOutEventAttributes","workflowTaskFailedEventAttributes","activityTaskScheduledEventAttributes","activityTaskCompletedEventAttributes","activityTaskStartedEventAttributes","activityTaskFailedEventAttributes","activityTaskTimedOutEventAttributes","timerStartedEventAttributes","timerFiredEventAttributes","activityTaskCancelRequestedEventAttributes","activityTaskCanceledEventAttributes","timerCanceledEventAttributes","markerRecordedEventAttributes","workflowExecutionSignaledEventAttributes","workflowExecutionTerminatedEventAttributes","workflowExecutionCancelRequestedEventAttributes","workflowExecutionCanceledEventAttributes","requestCancelExternalWorkflowExecutionInitiatedEventAttributes","requestCancelExternalWorkflowExecutionFailedEventAttributes","externalWorkflowExecutionCancelRequestedEventAttributes","workflowExecutionContinuedAsNewEventAttributes","startChildWorkflowExecutionInitiatedEventAttributes","startChildWorkflowExecutionFailedEventAttributes","childWorkflowExecutionStartedEventAttributes","childWorkflowExecutionCompletedEventAttributes","childWorkflowExecutionFailedEventAttributes","childWorkflowExecutionCanceledEventAttributes","childWorkflowExecutionTimedOutEventAttributes","childWorkflowExecutionTerminatedEventAttributes","signalExternalWorkflowExecutionInitiatedEventAttributes","signalExternalWorkflowExecutionFailedEventAttributes","externalWorkflowExecutionSignaledEventAttributes","upsertWorkflowSearchAttributesEventAttributes"],R=t=>{for(const e of O)if(e in t)return e},q=(t,e)=>t[e],tt=t=>{const e=R(t),r=q(t,e);return{key:e,attributes:r}},i=t=>e=>Boolean(e[t]),et=i("workflowExecutionCompletedEventAttributes"),G=i("workflowExecutionFailedEventAttributes"),N=i("workflowExecutionTimedOutEventAttributes"),$=i("workflowTaskTimedOutEventAttributes"),L=i("workflowTaskFailedEventAttributes"),w=i("activityTaskScheduledEventAttributes"),M=i("activityTaskStartedEventAttributes"),B=i("activityTaskCompletedEventAttributes"),f=i("activityTaskFailedEventAttributes"),v=i("activityTaskTimedOutEventAttributes"),A=i("timerStartedEventAttributes"),K=i("timerFiredEventAttributes"),j=i("activityTaskCancelRequestedEventAttributes"),b=i("activityTaskCanceledEventAttributes"),m=i("timerCanceledEventAttributes"),T=i("markerRecordedEventAttributes"),x=i("workflowExecutionSignaledEventAttributes"),z=i("workflowExecutionTerminatedEventAttributes"),P=i("workflowExecutionCanceledEventAttributes"),W=i("startChildWorkflowExecutionInitiatedEventAttributes"),U=i("childWorkflowExecutionStartedEventAttributes"),_=i("childWorkflowExecutionCompletedEventAttributes"),D=i("childWorkflowExecutionFailedEventAttributes"),H=i("childWorkflowExecutionCanceledEventAttributes"),J=i("childWorkflowExecutionTimedOutEventAttributes"),C=i("childWorkflowExecutionTerminatedEventAttributes"),h=i("signalExternalWorkflowExecutionInitiatedEventAttributes"),Q=i("signalExternalWorkflowExecutionFailedEventAttributes"),y=t=>v(t)||f(t)||G(t)||N(t)||$(t)||L(t)||D(t)||J(t)||Q(t),it=t=>E(t)?t.isFailureOrTimedOut:y(t),S=t=>b(t)||m(t)||P(t)||H(t),rt=t=>E(t)?t.isCanceled:S(t),g=t=>z(t)||C(t),ot=t=>E(t)?t.isTerminated:g(t),p=t=>M(t)?String(t.activityTaskStartedEventAttributes.scheduledEventId):b(t)?String(t.activityTaskCanceledEventAttributes.scheduledEventId):j(t)?String(t.activityTaskCancelRequestedEventAttributes.scheduledEventId):f(t)?String(t.activityTaskFailedEventAttributes.scheduledEventId):v(t)?String(t.activityTaskTimedOutEventAttributes.scheduledEventId):B(t)?String(t.activityTaskCompletedEventAttributes.scheduledEventId):U(t)?String(t.childWorkflowExecutionStartedEventAttributes.initiatedEventId):C(t)?String(t.childWorkflowExecutionTerminatedEventAttributes.initiatedEventId):_(t)?String(t.childWorkflowExecutionCompletedEventAttributes.initiatedEventId):K(t)?String(t.timerFiredEventAttributes.startedEventId):m(t)?String(t.timerCanceledEventAttributes.startedEventId):t.id,V=t=>{var e,r,n,o,c,d,a,u,l;if(!!t){if(w(t))return(r=(e=t.activityTaskScheduledEventAttributes)==null?void 0:e.activityType)==null?void 0:r.name;if(A(t))return`Timer ${(n=t.timerStartedEventAttributes)==null?void 0:n.timerId} (${(o=t.timerStartedEventAttributes)==null?void 0:o.startToFireTimeout})`;if(h(t))return`Signal: ${(c=t.signalExternalWorkflowExecutionInitiatedEventAttributes)==null?void 0:c.signalName}`;if(x(t))return`Signal received: ${(d=t.workflowExecutionSignaledEventAttributes)==null?void 0:d.signalName}`;if(T(t))return`Marker: ${(a=t.markerRecordedEventAttributes)==null?void 0:a.markerName}`;if(W(t))return`Child Workflow: ${(l=(u=t.startChildWorkflowExecutionInitiatedEventAttributes)==null?void 0:u.workflowType)==null?void 0:l.name}`}},k=({events:t})=>{let e=0,r;for(const n of t.values()){const o=Number(n.id);o>=e&&(e=o,r=n)}return r},s=t=>{const e=p(t),r=V(t),{timestamp:n,category:o,classification:c}=t,d=t,a=new Map,u=new Set;return a.set(t.id,t),u.add(t.id),{id:e,name:r,events:a,eventIds:u,initialEvent:d,timestamp:n,category:o,classification:c,get eventTime(){var l;return(l=this.lastEvent)==null?void 0:l.eventTime},get attributes(){var l;return(l=k(this))==null?void 0:l.attributes},get eventList(){return Array.from(this.events,([l,F])=>F)},get lastEvent(){return k(this)},get isFailureOrTimedOut(){return Boolean(this.eventList.find(y))},get isCanceled(){return Boolean(this.eventList.find(S))},get isTerminated(){return Boolean(this.eventList.find(g))}}},X=t=>{if(w(t)||W(t)||A(t)||h(t)||x(t)||T(t))return s(t)},Y=(t,e)=>{!t||(t.events.set(e.id,e),t.eventIds.add(e.id),t.timestamp=e.timestamp)},nt=t=>{const e={};for(const r of t){const n=p(r),o=X(r);o?e[o.id]=o:Y(e[n],r)}return Object.values(e)},E=t=>t==null?!1:I(t,"events"),Z={ActivityTaskCanceled:"activity",ActivityTaskCancelRequested:"activity",ActivityTaskCompleted:"activity",ActivityTaskFailed:"activity",ActivityTaskScheduled:"activity",ActivityTaskStarted:"activity",ActivityTaskTimedOut:"activity",ChildWorkflowExecutionCanceled:"child-workflow",ChildWorkflowExecutionCompleted:"child-workflow",ChildWorkflowExecutionFailed:"child-workflow",ChildWorkflowExecutionStarted:"child-workflow",ChildWorkflowExecutionTerminated:"child-workflow",ChildWorkflowExecutionTimedOut:"child-workflow",StartChildWorkflowExecutionFailed:"child-workflow",StartChildWorkflowExecutionInitiated:"child-workflow",MarkerRecorded:"marker",SignalExternalWorkflowExecutionFailed:"signal",SignalExternalWorkflowExecutionInitiated:"signal",WorkflowExecutionSignaled:"signal",TimerCanceled:"timer",TimerFired:"timer",TimerStarted:"timer",WorkflowExecutionCanceled:"workflow",WorkflowExecutionCancelRequested:"workflow",WorkflowExecutionCompleted:"workflow",WorkflowExecutionContinuedAsNew:"workflow",WorkflowExecutionFailed:"workflow",WorkflowExecutionStarted:"workflow",WorkflowExecutionTerminated:"workflow",WorkflowExecutionTimedOut:"workflow",WorkflowTaskCompleted:"workflow",WorkflowTaskFailed:"workflow",WorkflowTaskScheduled:"workflow",WorkflowTaskStarted:"workflow",WorkflowTaskTimedOut:"workflow",ExternalWorkflowExecutionCancelRequested:"workflow",ExternalWorkflowExecutionSignaled:"workflow",RequestCancelExternalWorkflowExecutionFailed:"workflow",RequestCancelExternalWorkflowExecutionInitiated:"workflow",UpsertWorkflowSearchAttributes:"command"},lt=[{label:"All",option:void 0},{label:"Activity",option:"activity"},{label:"Child Workflow",option:"child-workflow"},{label:"Command",option:"command"},{label:"Marker",option:"marker"},{label:"Signal",option:"signal"},{label:"Timer",option:"timer"},{label:"Workflow",option:"workflow"}],st=[{label:"All",option:void 0},{label:"Activity",option:"activity"},{label:"Signal",option:"signal"},{label:"Timer",option:"timer"}],at=t=>Z[t];export{at as a,lt as b,st as c,E as d,it as e,tt as f,nt as g,rt as h,et as i,ot as j};
