var tt=Object.defineProperty,lt=Object.defineProperties;var st=Object.getOwnPropertyDescriptors;var Qe=Object.getOwnPropertySymbols;var rt=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var Re=(t,e,s)=>e in t?tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,je=(t,e)=>{for(var s in e||(e={}))rt.call(e,s)&&Re(t,s,e[s]);if(Qe)for(var s of Qe(e))at.call(e,s)&&Re(t,s,e[s]);return t},He=(t,e)=>lt(t,st(e));import{S as De,i as qe,s as Ee,I as ot,e as d,t as N,k as I,c as _,a as v,h as C,d as u,m as S,b as p,g as ie,M as n,J as nt,K as it,L as ft,q as D,o as A,T as O,U as pe,ar as we,E as Te,H as ut,n as ge,p as ye,w as de,x as _e,y as ve,B as he,l as Ke,N as xe,j as ne,G as ct}from"./index-604742bf.js";import{p as mt}from"./stores-810822a9.js";import{g as dt}from"./navigation-6709cf39.js";import{c as _t,f as $,d as ze}from"./format-date-919f4714.js";import{l as vt}from"./route-for-1f2060cd.js";import{u as ht}from"./update-query-parameters-08bf783c.js";import{l as pt,m as wt,n as kt,o as bt,p as gt,q as yt}from"./to-duration-271d3946.js";import{t as Ge}from"./workflow-service-e418293b.js";import{W as Et}from"./workflow-status-0cab7465.js";import{I as et}from"./index-0574ae1f.js";import{c as Tt}from"./copy-to-clipboard-8832075c.js";function It(t){let e,s,l,a,f,r,o,i,h,W,y,w,V,H,G,U,k,M,Q,b,L,B,q,R;const F=t[1].default,E=ot(F,t,t[0],null);return{c(){e=d("section"),s=d("div"),l=d("div"),a=d("div"),f=N("Status"),r=I(),o=d("div"),i=N("Workflow ID"),h=I(),W=d("div"),y=N("Type"),w=I(),V=d("div"),H=N("Start"),G=I(),U=d("div"),k=N("End"),M=I(),Q=d("div"),b=d("div"),L=N("Summary"),B=I(),q=d("div"),E&&E.c(),this.h()},l(g){e=_(g,"SECTION",{class:!0});var T=v(e);s=_(T,"DIV",{class:!0});var x=v(s);l=_(x,"DIV",{class:!0});var P=v(l);a=_(P,"DIV",{class:!0});var J=v(a);f=C(J,"Status"),J.forEach(u),r=S(P),o=_(P,"DIV",{class:!0});var Y=v(o);i=C(Y,"Workflow ID"),Y.forEach(u),h=S(P),W=_(P,"DIV",{class:!0});var Z=v(W);y=C(Z,"Type"),Z.forEach(u),w=S(P),V=_(P,"DIV",{class:!0});var ee=v(V);H=C(ee,"Start"),ee.forEach(u),G=S(P),U=_(P,"DIV",{class:!0});var te=v(U);k=C(te,"End"),te.forEach(u),P.forEach(u),x.forEach(u),M=S(T),Q=_(T,"DIV",{class:!0});var X=v(Q);b=_(X,"DIV",{class:!0});var le=v(b);L=C(le,"Summary"),le.forEach(u),X.forEach(u),B=S(T),q=_(T,"DIV",{class:!0});var se=v(q);E&&E.l(se),se.forEach(u),T.forEach(u),this.h()},h(){p(a,"class","table-header table-cell w-28 rounded-tl-md svelte-qkbvym"),p(o,"class","table-header table-cell md:w-60 xl:w-auto svelte-qkbvym"),p(W,"class","table-header table-cell md:w-60 xl:w-80 svelte-qkbvym"),p(V,"class","table-header hidden text-sm xl:table-cell xl:w-64 xl:text-base svelte-qkbvym"),p(U,"class","table-header hidden rounded-tr-md xl:table-cell xl:w-64 svelte-qkbvym"),p(l,"class","hidden md:table-row"),p(s,"class","table-header-row md:table-header-group svelte-qkbvym"),p(b,"class","rounded-t-md border-b p-2"),p(Q,"class","table-header-row md:hidden svelte-qkbvym"),p(q,"class","overflow-y-auto md:table-row-group"),p(e,"class","workflow-table svelte-qkbvym")},m(g,T){ie(g,e,T),n(e,s),n(s,l),n(l,a),n(a,f),n(l,r),n(l,o),n(o,i),n(l,h),n(l,W),n(W,y),n(l,w),n(l,V),n(V,H),n(l,G),n(l,U),n(U,k),n(e,M),n(e,Q),n(Q,b),n(b,L),n(e,B),n(e,q),E&&E.m(q,null),R=!0},p(g,[T]){E&&E.p&&(!R||T&1)&&nt(E,F,g,g[0],R?ft(F,g[0],T,null):it(g[0]),null)},i(g){R||(D(E,g),R=!0)},o(g){A(E,g),R=!1},d(g){g&&u(e),E&&E.d(g)}}}function St(t,e,s){let{$$slots:l={},$$scope:a}=e;return t.$$set=f=>{"$$scope"in f&&s(0,a=f.$$scope)},[a,l]}class Yt extends De{constructor(e){super(),qe(this,e,St,It,Ee,{})}}const Dt=t=>{const e=[],s=()=>{l&&(e.push(l),l="")};let l="",a=0;for(;a<t.length;){const f=t[a];if(pt(f)){s(),l+=f,a++;continue}if(wt(f)||kt(f)){s(),a++;continue}l+=f,a++}return s(),e},Ie=t=>e=>e.toLowerCase()===t.toLowerCase(),be=(t,e)=>t[e+2],qt=t=>{for(const e of yt)if(t[e])return{[e]:t[e]}},Vt=Ie("WorkflowType"),Wt=Ie("WorkflowId"),Ft=Ie("StartTime"),Pt=Ie("ExecutionStatus"),Nt=t=>{const e=Dt(t),s={workflowId:"",workflowType:"",executionStatus:null,timeRange:null};return e.forEach((l,a)=>{if(Wt(l)&&(s.workflowId=be(e,a)),Vt(l)&&(s.workflowType=be(e,a)),Pt(l)){const f=be(e,a);bt(f)&&(s.executionStatus=f)}if(Ft(l)){const f=be(e,a);try{const r=gt(f),o=qt(r);s.timeRange=_t(o)}catch(r){console.error("Error parsing StartTime from query",r)}}}),s};function Je(t){let e,s,l,a,f,r=t[1]&&Xe(t),o=t[2]&&Ze(t);return{c(){e=d("div"),r&&r.c(),s=I(),o&&o.c(),this.h()},l(i){e=_(i,"DIV",{class:!0});var h=v(e);r&&r.l(h),s=S(h),o&&o.l(h),h.forEach(u),this.h()},h(){p(e,"class","copy-or-filter svelte-1llgntb")},m(i,h){ie(i,e,h),r&&r.m(e,null),n(e,s),o&&o.m(e,null),l=!0,a||(f=O(e,"click",pe(we(Te))),a=!0)},p(i,h){i[1]?r?(r.p(i,h),h&2&&D(r,1)):(r=Xe(i),r.c(),D(r,1),r.m(e,s)):r&&(ge(),A(r,1,1,()=>{r=null}),ye()),i[2]?o?(o.p(i,h),h&4&&D(o,1)):(o=Ze(i),o.c(),D(o,1),o.m(e,null)):o&&(ge(),A(o,1,1,()=>{o=null}),ye())},i(i){l||(D(r),D(o),l=!0)},o(i){A(r),A(o),l=!1},d(i){i&&u(e),r&&r.d(),o&&o.d(),a=!1,f()}}}function Xe(t){let e,s=t[4],l,a,f,r=Ye(t);return{c(){e=d("button"),r.c()},l(o){e=_(o,"BUTTON",{});var i=v(e);r.l(i),i.forEach(u)},m(o,i){ie(o,e,i),r.m(e,null),l=!0,a||(f=O(e,"click",pe(we(function(){ut(t[3])&&t[3].apply(this,arguments)}))),a=!0)},p(o,i){t=o,i&16&&Ee(s,s=t[4])?(ge(),A(r,1,1,Te),ye(),r=Ye(t),r.c(),D(r,1),r.m(e,null)):r.p(t,i)},i(o){l||(D(r),l=!0)},o(o){A(r),l=!1},d(o){o&&u(e),r.d(o),a=!1,f()}}}function Ye(t){let e,s;return e=new et({props:{name:"filter",stroke:"#000",fill:t[4]?"#000":"",class:"h-4 w-4"}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){ve(e,l,a),s=!0},p(l,a){const f={};a&16&&(f.fill=l[4]?"#000":""),e.$set(f)},i(l){s||(D(e.$$.fragment,l),s=!0)},o(l){A(e.$$.fragment,l),s=!1},d(l){he(e,l)}}}function Ze(t){let e,s,l,a,f;return s=new et({props:{name:t[5]?"checkMark":"copy",stroke:"#000",class:"h-4 w-4"}}),{c(){e=d("button"),de(s.$$.fragment)},l(r){e=_(r,"BUTTON",{});var o=v(e);_e(s.$$.fragment,o),o.forEach(u)},m(r,o){ie(r,e,o),ve(s,e,null),l=!0,a||(f=O(e,"click",pe(we(t[6]))),a=!0)},p(r,o){const i={};o&32&&(i.name=r[5]?"checkMark":"copy"),s.$set(i)},i(r){l||(D(s.$$.fragment,r),l=!0)},o(r){A(s.$$.fragment,r),l=!1},d(r){r&&u(e),he(s),a=!1,f()}}}function Ct(t){let e,s,l=t[0]&&Je(t);return{c(){l&&l.c(),e=Ke()},l(a){l&&l.l(a),e=Ke()},m(a,f){l&&l.m(a,f),ie(a,e,f),s=!0},p(a,[f]){a[0]?l?(l.p(a,f),f&1&&D(l,1)):(l=Je(a),l.c(),D(l,1),l.m(e.parentNode,e)):l&&(ge(),A(l,1,1,()=>{l=null}),ye())},i(a){s||(D(l),s=!0)},o(a){A(l),s=!1},d(a){l&&l.d(a),a&&u(e)}}}function At(t,e,s){let l,{show:a=!1}=e,{filterable:f=!0}=e,{copyable:r=!0}=e,{content:o}=e,{onFilter:i=Te}=e,{filtered:h=!1}=e;const{copy:W,copied:y}=Tt(o,700);return xe(t,y,w=>s(5,l=w)),t.$$set=w=>{"show"in w&&s(0,a=w.show),"filterable"in w&&s(1,f=w.filterable),"copyable"in w&&s(2,r=w.copyable),"content"in w&&s(8,o=w.content),"onFilter"in w&&s(3,i=w.onFilter),"filtered"in w&&s(4,h=w.filtered)},[a,f,r,i,h,l,W,y,o]}class $e extends De{constructor(e){super(),qe(this,e,At,Ct,Ee,{show:0,filterable:1,copyable:2,content:8,onFilter:3,filtered:4})}}function Lt(t){var We,Fe,Pe;let e,s,l,a,f,r,o,i=t[0].id+"",h,W,y,w,V,H=$(t[0].startTime,t[1])+"",G,U,k,M,Q,b,L,B=t[0].name+"",q,R,F,E,g,T=$(t[0].endTime,t[1])+"",x,P,J,Y,Z=$(t[0].startTime,t[1])+"",ee,te,X,le,se,re,fe,ue=$(t[0].endTime,t[1])+"",ke,K,Se,Ve;return a=new Et({props:{status:t[0].status,delay:ze(t[0].startTime)}}),y=new $e({props:{show:t[2],content:t[0].id,filterable:!1}}),F=new $e({props:{show:t[2],content:t[0].name,onFilter:t[12],filtered:(Pe=(Fe=(We=t[4].url)==null?void 0:We.searchParams)==null?void 0:Fe.get("query"))==null?void 0:Pe.includes(t[0].name)}}),{c(){e=d("a"),s=d("div"),l=d("div"),de(a.$$.fragment),f=I(),r=d("div"),o=d("span"),h=N(i),W=I(),de(y.$$.fragment),w=I(),V=d("p"),G=N(H),U=I(),k=d("div"),M=d("h3"),Q=N("Workflow Name:"),b=I(),L=d("span"),q=N(B),R=I(),de(F.$$.fragment),E=I(),g=d("p"),x=N(T),P=I(),J=d("div"),Y=d("p"),ee=N(Z),te=I(),X=d("span"),le=N("-"),se=I(),re=d("div"),fe=d("p"),ke=N(ue),this.h()},l(c){e=_(c,"A",{href:!0,class:!0});var m=v(e);s=_(m,"DIV",{class:!0});var ae=v(s);l=_(ae,"DIV",{});var oe=v(l);_e(a.$$.fragment,oe),oe.forEach(u),ae.forEach(u),f=S(m),r=_(m,"DIV",{class:!0});var j=v(r);o=_(j,"SPAN",{class:!0});var ce=v(o);h=C(ce,i),ce.forEach(u),W=S(j),_e(y.$$.fragment,j),w=S(j),V=_(j,"P",{class:!0});var me=v(V);G=C(me,H),me.forEach(u),j.forEach(u),U=S(m),k=_(m,"DIV",{class:!0});var z=v(k);M=_(z,"H3",{class:!0});var Ne=v(M);Q=C(Ne,"Workflow Name:"),Ne.forEach(u),b=S(z),L=_(z,"SPAN",{class:!0});var Ce=v(L);q=C(Ce,B),Ce.forEach(u),R=S(z),_e(F.$$.fragment,z),E=S(z),g=_(z,"P",{class:!0});var Ae=v(g);x=C(Ae,T),Ae.forEach(u),z.forEach(u),P=S(m),J=_(m,"DIV",{class:!0});var Le=v(J);Y=_(Le,"P",{});var Be=v(Y);ee=C(Be,Z),Be.forEach(u),Le.forEach(u),te=S(m),X=_(m,"SPAN",{class:!0});var Oe=v(X);le=C(Oe,"-"),Oe.forEach(u),se=S(m),re=_(m,"DIV",{class:!0});var Ue=v(re);fe=_(Ue,"P",{});var Me=v(fe);ke=C(Me,ue),Me.forEach(u),Ue.forEach(u),m.forEach(u),this.h()},h(){p(s,"class","cell svelte-1lknr5h"),p(o,"class","table-link svelte-1lknr5h"),p(V,"class","time-cell-inline svelte-1lknr5h"),p(r,"class","cell links relative truncate font-medium md:font-normal svelte-1lknr5h"),p(M,"class","md:hidden"),p(L,"class","table-link svelte-1lknr5h"),p(g,"class","time-cell-inline svelte-1lknr5h"),p(k,"class","cell links relative flex items-center justify-between gap-2 truncate font-medium md:font-normal svelte-1lknr5h"),p(J,"class","time-cell font-normal svelte-1lknr5h"),p(X,"class","md:hidden"),p(re,"class","time-cell font-medium md:font-normal svelte-1lknr5h"),p(e,"href",t[3]),p(e,"class","row group svelte-1lknr5h")},m(c,m){ie(c,e,m),n(e,s),n(s,l),ve(a,l,null),n(e,f),n(e,r),n(r,o),n(o,h),n(r,W),ve(y,r,null),n(r,w),n(r,V),n(V,G),n(e,U),n(e,k),n(k,M),n(M,Q),n(k,b),n(k,L),n(L,q),n(k,R),ve(F,k,null),n(k,E),n(k,g),n(g,x),n(e,P),n(e,J),n(J,Y),n(Y,ee),n(e,te),n(e,X),n(X,le),n(e,se),n(e,re),n(re,fe),n(fe,ke),K=!0,Se||(Ve=[O(r,"mouseover",t[7]),O(r,"focus",t[8]),O(r,"mouseleave",t[9]),O(r,"blur",t[10]),O(L,"click",pe(we(t[11]))),O(k,"mouseover",t[13]),O(k,"focus",t[14]),O(k,"mouseleave",t[15]),O(k,"blur",t[16]),O(k,"click",pe(we(Te)))],Se=!0)},p(c,[m]){var ce,me,z;const ae={};m&1&&(ae.status=c[0].status),m&1&&(ae.delay=ze(c[0].startTime)),a.$set(ae),(!K||m&1)&&i!==(i=c[0].id+"")&&ne(h,i);const oe={};m&4&&(oe.show=c[2]),m&1&&(oe.content=c[0].id),y.$set(oe),(!K||m&3)&&H!==(H=$(c[0].startTime,c[1])+"")&&ne(G,H),(!K||m&1)&&B!==(B=c[0].name+"")&&ne(q,B);const j={};m&4&&(j.show=c[2]),m&1&&(j.content=c[0].name),m&1&&(j.onFilter=c[12]),m&17&&(j.filtered=(z=(me=(ce=c[4].url)==null?void 0:ce.searchParams)==null?void 0:me.get("query"))==null?void 0:z.includes(c[0].name)),F.$set(j),(!K||m&3)&&T!==(T=$(c[0].endTime,c[1])+"")&&ne(x,T),(!K||m&3)&&Z!==(Z=$(c[0].startTime,c[1])+"")&&ne(ee,Z),(!K||m&3)&&ue!==(ue=$(c[0].endTime,c[1])+"")&&ne(ke,ue),(!K||m&8)&&p(e,"href",c[3])},i(c){K||(D(a.$$.fragment,c),D(y.$$.fragment,c),D(F.$$.fragment,c),K=!0)},o(c){A(a.$$.fragment,c),A(y.$$.fragment,c),A(F.$$.fragment,c),K=!1},d(c){c&&u(e),he(a),he(y),he(F),Se=!1,ct(Ve)}}}function Bt(t,e,s){let l,a;xe(t,mt,b=>s(4,a=b));let{namespace:f}=e,{workflow:r}=e,{timeFormat:o}=e,i=!1;const h=b=>{const L=Ge({timeRange:"All"}),B=a.url.searchParams.get("query"),q=Nt(B!=null?B:L),R=(q==null?void 0:q.workflowType)===b?"":b,F=Ge(He(je({},q),{workflowType:R}));ht({url:a.url,parameter:"query",value:F,allowEmpty:!0,goto:dt})},W=()=>s(2,i=!0),y=()=>s(2,i=!0),w=()=>s(2,i=!1),V=()=>s(2,i=!1),H=()=>h(r.name),G=()=>h(r.name),U=()=>s(2,i=!0),k=()=>s(2,i=!0),M=()=>s(2,i=!1),Q=()=>s(2,i=!1);return t.$$set=b=>{"namespace"in b&&s(6,f=b.namespace),"workflow"in b&&s(0,r=b.workflow),"timeFormat"in b&&s(1,o=b.timeFormat)},t.$$.update=()=>{t.$$.dirty&65&&s(3,l=vt({namespace:f,workflow:r.id,run:r.runId}))},[r,o,i,l,a,h,f,W,y,w,V,H,G,U,k,M,Q]}class Zt extends De{constructor(e){super(),qe(this,e,Bt,Lt,Ee,{namespace:6,workflow:0,timeFormat:1})}}export{Yt as W,Zt as a,Nt as t};
