import{S as _e,i as $e,s as ge,l as F,a as P,m as M,n as O,h as $,c as q,p as B,b as E,N as D,g as x,t as v,d as ee,f as w,O as Q,P as qe,r as V,u as j,U as De,au as Ne,a0 as G,a8 as J,x as A,y as R,z as I,a9 as K,C,e as Y,a1 as Pe,ac as Be,aq as Fe,v as se,F as le,o as Me,a4 as ue,ao as Oe}from"../../../../chunks/index-89809c17.js";import{p as he}from"../../../../chunks/stores-5080fd27.js";import{t as ce}from"../../../../chunks/time-format-35a97a1e.js";import{w as de,r as we,a as Ve,u as je,l as Ue,b as Le,c as Qe,p as ze}from"../../../../chunks/terminate-service-1c67a969.js";import{l as ke}from"../../../../chunks/namespaces-d4484f73.js";import{E as He}from"../../../../chunks/empty-state-c8b8f69f.js";import{P as Ge}from"../../../../chunks/pagination-bb5f947d.js";import{t as me,j as Je,S as Ke,W as Xe,a as Ye}from"../../../../chunks/search-cae55eea.js";import{I as pe,N as Ze}from"../../../../chunks/namespace-selector-814a3e1c.js";import{B as xe}from"../../../../chunks/button-9debcf20.js";import{I as et}from"../../../../chunks/icon-356cfdd5.js";import{b as tt}from"../../../../chunks/table-row-cd24e96c.js";import{u as oe}from"../../../../chunks/update-query-parameters-0d565146.js";import{o as ne}from"../../../../chunks/format-time-d031c2bc.js";import{t as be}from"../../../../chunks/workflow-service-48aa1123.js";import{S as ie,a as Z}from"../../../../chunks/simple-select-c74c9fef.js";import{a as rt}from"../../../../chunks/is-44021919.js";import{L as lt}from"../../../../chunks/loading-06bcc4a5.js";import{t as ve}from"../../../../chunks/toaster-6a6d75c6.js";import{M as nt}from"../../../../chunks/modal-3804484b.js";import{P as ot}from"../../../../chunks/page-title-480c98d1.js";import{d as st}from"../../../../chunks/index-850385bc.js";import{i as at,c as ft}from"../../../../chunks/version-check-abaeeee9.js";import{t as ut}from"../../../../chunks/versions-5cbae67c.js";import"../../../../chunks/persist-store-154b32b6.js";import"../../../../chunks/parse-with-big-int-561ccb8b.js";import"../../../../chunks/with-loading-f07bedaf.js";import"../../../../chunks/route-for-06e4a074.js";import"../../../../chunks/route-for-api-94236392.js";import"../../../../chunks/auth-user-33df49d8.js";import"../../../../chunks/notifications-db2d60e4.js";import"../../../../chunks/is-network-error-5f9e2367.js";import"../../../../chunks/v4-f2cd1a04.js";import"../../../../chunks/core-user-035bf3e2.js";import"../../../../chunks/format-date-c1755997.js";import"../../../../chunks/workflow-status-a8329651.js";import"../../../../chunks/copy-to-clipboard-90539b90.js";import"../../../../chunks/nav-open-3db1b91d.js";import"../../../../chunks/new-feature-tags-db84f453.js";import"../../../../chunks/tooltip-dce2bbb6.js";import"../../../../chunks/badge-6c7ef4f8.js";import"../../../../chunks/checkbox-dd0154c5.js";import"../../../../chunks/navigation-fbe70647.js";import"../../../../chunks/singletons-eca981c1.js";import"../../../../chunks/settings-82191e74.js";import"../../../../chunks/simplify-attributes-055c76f2.js";import"../../../../chunks/icon-button-2ac5123e.js";import"../../../../chunks/index-2cacf65d.js";import"../../../../chunks/index-5974284a.js";function Te(n,e,r){const t=n.slice();return t[16]=e[r][0],t[17]=e[r][1],t}function ye(n,e,r){const t=n.slice();return t[17]=e[r],t}function it(n){let e,r,t,l,o;return{c(){e=F("a"),r=V("Advanced Search"),this.h()},l(i){e=M(i,"A",{href:!0,class:!0});var s=O(e);r=j(s,"Advanced Search"),s.forEach($),this.h()},h(){B(e,"href",t=n[2].url.pathname+"?searchType=advanced"),B(e,"class","text-blue-700")},m(i,s){E(i,e,s),D(e,r),l||(o=De(e,"click",Ne(n[6]("advanced"))),l=!0)},p(i,s){s&4&&t!==(t=i[2].url.pathname+"?searchType=advanced")&&B(e,"href",t)},d(i){i&&$(e),l=!1,o()}}}function ct(n){let e,r,t,l,o;return{c(){e=F("a"),r=V("Basic Search"),this.h()},l(i){e=M(i,"A",{href:!0,class:!0});var s=O(e);r=j(s,"Basic Search"),s.forEach($),this.h()},h(){B(e,"href",t=n[2].url.pathname+"?searchType=basic"),B(e,"class","text-blue-700")},m(i,s){E(i,e,s),D(e,r),l||(o=De(e,"click",Ne(n[6]("basic"))),l=!0)},p(i,s){s&4&&t!==(t=i[2].url.pathname+"?searchType=basic")&&B(e,"href",t)},d(i){i&&$(e),l=!1,o()}}}function mt(n){let e,r,t,l,o,i,s,a,f,h,u,_,c,m,k,b;function y(g){n[9](g)}let N={icon:"search",id:"workflow-id-filter",placeholder:"Workflow ID"};n[3].workflowId!==void 0&&(N.value=n[3].workflowId),r=new pe({props:N}),G.push(()=>J(r,"value",y)),r.$on("input",n[8]);function T(g){n[10](g)}let U={icon:"search",id:"workflow-type-filter",placeholder:"Workflow Type"};n[3].workflowType!==void 0&&(U.value=n[3].workflowType),o=new pe({props:U}),G.push(()=>J(o,"value",T)),o.$on("input",n[8]);function H(g){n[11](g)}let te={id:"time-range-filter",placeholder:"Time Range",$$slots:{default:[ht]},$$scope:{ctx:n}};n[3].timeRange!==void 0&&(te.value=n[3].timeRange),a=new ie({props:te}),G.push(()=>J(a,"value",H)),a.$on("change",n[8]);function re(g){n[12](g)}let p={id:"execution-status-filter",label:"Workflow Status",$$slots:{default:[wt]},$$scope:{ctx:n}};n[3].executionStatus!==void 0&&(p.value=n[3].executionStatus),u=new ie({props:p}),G.push(()=>J(u,"value",re)),u.$on("change",n[8]);function W(g){n[13](g)}let L={id:"filter-by-relative-time",$$slots:{default:[Tt]},$$scope:{ctx:n}};return n[4]!==void 0&&(L.value=n[4]),m=new ie({props:L}),G.push(()=>J(m,"value",W)),{c(){e=F("div"),A(r.$$.fragment),l=P(),A(o.$$.fragment),s=P(),A(a.$$.fragment),h=P(),A(u.$$.fragment),c=P(),A(m.$$.fragment),this.h()},l(g){e=M(g,"DIV",{class:!0});var S=O(e);R(r.$$.fragment,S),l=q(S),R(o.$$.fragment,S),s=q(S),R(a.$$.fragment,S),h=q(S),R(u.$$.fragment,S),c=q(S),R(m.$$.fragment,S),S.forEach($),this.h()},h(){B(e,"class","grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-5")},m(g,S){E(g,e,S),I(r,e,null),D(e,l),I(o,e,null),D(e,s),I(a,e,null),D(e,h),I(u,e,null),D(e,c),I(m,e,null),b=!0},p(g,S){const z={};!t&&S&8&&(t=!0,z.value=g[3].workflowId,K(()=>t=!1)),r.$set(z);const d={};!i&&S&8&&(i=!0,d.value=g[3].workflowType,K(()=>i=!1)),o.$set(d);const X={};S&4194312&&(X.$$scope={dirty:S,ctx:g}),!f&&S&8&&(f=!0,X.value=g[3].timeRange,K(()=>f=!1)),a.$set(X);const ae={};S&4194304&&(ae.$$scope={dirty:S,ctx:g}),!_&&S&8&&(_=!0,ae.value=g[3].executionStatus,K(()=>_=!1)),u.$set(ae);const fe={};S&4194304&&(fe.$$scope={dirty:S,ctx:g}),!k&&S&16&&(k=!0,fe.value=g[4],K(()=>k=!1)),m.$set(fe)},i(g){b||(w(r.$$.fragment,g),w(o.$$.fragment,g),w(a.$$.fragment,g),w(u.$$.fragment,g),w(m.$$.fragment,g),b=!0)},o(g){v(r.$$.fragment,g),v(o.$$.fragment,g),v(a.$$.fragment,g),v(u.$$.fragment,g),v(m.$$.fragment,g),b=!1},d(g){g&&$(e),C(r),C(o),C(a),C(u),C(m)}}}function pt(n){let e,r;return e=new Ke({props:{icon:!0,id:"advanced-search",placeholder:"Query\u2026",value:n[1]}}),e.$on("submit",n[7]),{c(){A(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,l){I(e,t,l),r=!0},p(t,l){const o={};l&2&&(o.value=t[1]),e.$set(o)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function _t(n){let e;return{c(){e=V("All")},l(r){e=j(r,"All")},m(r,t){E(r,e,t)},d(r){r&&$(e)}}}function Ee(n){let e,r;return e=new Z({props:{value:n[3].timeRange,$$slots:{default:[$t]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,l){I(e,t,l),r=!0},p(t,l){const o={};l&8&&(o.value=t[3].timeRange),l&4194312&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function $t(n){let e=n[3].timeRange+"",r;return{c(){r=V(e)},l(t){r=j(t,e)},m(t,l){E(t,r,l)},p(t,l){l&8&&e!==(e=t[3].timeRange+"")&&se(r,e)},d(t){t&&$(r)}}}function gt(n){let e=n[17]+"",r;return{c(){r=V(e)},l(t){r=j(t,e)},m(t,l){E(t,r,l)},p:le,d(t){t&&$(r)}}}function Se(n){let e,r;return e=new Z({props:{value:n[17],$$slots:{default:[gt]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,l){I(e,t,l),r=!0},p(t,l){const o={};l&4194304&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function ht(n){let e,r,t=n[3].timeRange&&!ne.includes(n[3].timeRange),l,o,i;e=new Z({props:{value:null,$$slots:{default:[_t]},$$scope:{ctx:n}}});let s=t&&Ee(n),a=ne,f=[];for(let u=0;u<a.length;u+=1)f[u]=Se(ye(n,a,u));const h=u=>v(f[u],1,1,()=>{f[u]=null});return{c(){A(e.$$.fragment),r=P(),s&&s.c(),l=P();for(let u=0;u<f.length;u+=1)f[u].c();o=Y()},l(u){R(e.$$.fragment,u),r=q(u),s&&s.l(u),l=q(u);for(let _=0;_<f.length;_+=1)f[_].l(u);o=Y()},m(u,_){I(e,u,_),E(u,r,_),s&&s.m(u,_),E(u,l,_);for(let c=0;c<f.length;c+=1)f[c].m(u,_);E(u,o,_),i=!0},p(u,_){const c={};if(_&4194304&&(c.$$scope={dirty:_,ctx:u}),e.$set(c),_&8&&(t=u[3].timeRange&&!ne.includes(u[3].timeRange)),t?s?(s.p(u,_),_&8&&w(s,1)):(s=Ee(u),s.c(),w(s,1),s.m(l.parentNode,l)):s&&(x(),v(s,1,1,()=>{s=null}),ee()),_&0){a=ne;let m;for(m=0;m<a.length;m+=1){const k=ye(u,a,m);f[m]?(f[m].p(k,_),w(f[m],1)):(f[m]=Se(k),f[m].c(),w(f[m],1),f[m].m(o.parentNode,o))}for(x(),m=a.length;m<f.length;m+=1)h(m);ee()}},i(u){if(!i){w(e.$$.fragment,u),w(s);for(let _=0;_<a.length;_+=1)w(f[_]);i=!0}},o(u){v(e.$$.fragment,u),v(s),f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)v(f[_]);i=!1},d(u){C(e,u),u&&$(r),s&&s.d(u),u&&$(l),Pe(f,u),u&&$(o)}}}function dt(n){let e=n[16]+"",r;return{c(){r=V(e)},l(t){r=j(t,e)},m(t,l){E(t,r,l)},p:le,d(t){t&&$(r)}}}function We(n,e){let r,t,l;return t=new Z({props:{value:e[17],$$slots:{default:[dt]},$$scope:{ctx:e}}}),{key:n,first:null,c(){r=Y(),A(t.$$.fragment),this.h()},l(o){r=Y(),R(t.$$.fragment,o),this.h()},h(){this.first=r},m(o,i){E(o,r,i),I(t,o,i),l=!0},p(o,i){e=o;const s={};i&4194304&&(s.$$scope={dirty:i,ctx:e}),t.$set(s)},i(o){l||(w(t.$$.fragment,o),l=!0)},o(o){v(t.$$.fragment,o),l=!1},d(o){o&&$(r),C(t,o)}}}function wt(n){let e=[],r=new Map,t,l,o=Object.entries(n[5]);const i=s=>s[16];for(let s=0;s<o.length;s+=1){let a=Te(n,o,s),f=i(a);r.set(f,e[s]=We(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=Y()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=Y()},m(s,a){for(let f=0;f<e.length;f+=1)e[f].m(s,a);E(s,t,a),l=!0},p(s,a){a&32&&(o=Object.entries(s[5]),x(),e=Be(e,a,i,1,s,o,r,t.parentNode,Fe,We,t,Te),ee())},i(s){if(!l){for(let a=0;a<o.length;a+=1)w(e[a]);l=!0}},o(s){for(let a=0;a<e.length;a+=1)v(e[a]);l=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&$(t)}}}function kt(n){let e;return{c(){e=V("Relative")},l(r){e=j(r,"Relative")},m(r,t){E(r,e,t)},d(r){r&&$(e)}}}function bt(n){let e;return{c(){e=V("UTC")},l(r){e=j(r,"UTC")},m(r,t){E(r,e,t)},d(r){r&&$(e)}}}function vt(n){let e;return{c(){e=V("Local")},l(r){e=j(r,"Local")},m(r,t){E(r,e,t)},d(r){r&&$(e)}}}function Tt(n){let e,r,t,l,o,i;return e=new Z({props:{value:"relative",$$slots:{default:[kt]},$$scope:{ctx:n}}}),t=new Z({props:{value:"UTC",$$slots:{default:[bt]},$$scope:{ctx:n}}}),o=new Z({props:{value:"local",$$slots:{default:[vt]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment),r=P(),A(t.$$.fragment),l=P(),A(o.$$.fragment)},l(s){R(e.$$.fragment,s),r=q(s),R(t.$$.fragment,s),l=q(s),R(o.$$.fragment,s)},m(s,a){I(e,s,a),E(s,r,a),I(t,s,a),E(s,l,a),I(o,s,a),i=!0},p(s,a){const f={};a&4194304&&(f.$$scope={dirty:a,ctx:s}),e.$set(f);const h={};a&4194304&&(h.$$scope={dirty:a,ctx:s}),t.$set(h);const u={};a&4194304&&(u.$$scope={dirty:a,ctx:s}),o.$set(u)},i(s){i||(w(e.$$.fragment,s),w(t.$$.fragment,s),w(o.$$.fragment,s),i=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),v(o.$$.fragment,s),i=!1},d(s){C(e,s),s&&$(r),C(t,s),s&&$(l),C(o,s)}}}function yt(n){let e,r,t,l,o,i;function s(c,m){return c[0]==="advanced"?ct:it}let a=s(n),f=a(n);const h=[pt,mt],u=[];function _(c,m){return c[0]==="advanced"?0:1}return l=_(n),o=u[l]=h[l](n),{c(){e=F("section"),r=F("p"),f.c(),t=P(),o.c(),this.h()},l(c){e=M(c,"SECTION",{class:!0});var m=O(e);r=M(m,"P",{class:!0});var k=O(r);f.l(k),k.forEach($),t=q(m),o.l(m),m.forEach($),this.h()},h(){B(r,"class","pb-2 text-right text-xs"),B(e,"class","flex flex-col")},m(c,m){E(c,e,m),D(e,r),f.m(r,null),D(e,t),u[l].m(e,null),i=!0},p(c,[m]){a===(a=s(c))&&f?f.p(c,m):(f.d(1),f=a(c),f&&(f.c(),f.m(r,null)));let k=l;l=_(c),l===k?u[l].p(c,m):(x(),v(u[k],1,1,()=>{u[k]=null}),ee(),o=u[l],o?o.p(c,m):(o=u[l]=h[l](c),o.c()),w(o,1),o.m(e,null))},i(c){i||(w(o),i=!0)},o(c){v(o),i=!1},d(c){c&&$(e),f.d(),u[l].d()}}}function Et(n,e,r){let t,l,o,i;Q(n,he,T=>r(2,o=T)),Q(n,ce,T=>r(4,i=T));const s=qe();let{searchType:a}=e;const f=be({timeRange:"All"}),h={All:null,Running:"Running","Timed Out":"TimedOut",Completed:"Completed",Failed:"Failed","Continued as New":"ContinuedAsNew",Canceled:"Canceled",Terminated:"Terminated"},u=T=>()=>{r(0,a=T),oe({parameter:"search",value:a,url:o.url})},_=T=>{s("search");const U=new FormData(T.target);r(1,t=String(U.get("query"))),r(3,l=me(t)),oe({url:o.url,parameter:"query",value:t})},c=Je(()=>{s("search"),r(1,t=be(l)),oe({url:o.url,parameter:"query",value:t,allowEmpty:!0})},300);function m(T){n.$$.not_equal(l.workflowId,T)&&(l.workflowId=T,r(3,l),r(1,t),r(2,o))}function k(T){n.$$.not_equal(l.workflowType,T)&&(l.workflowType=T,r(3,l),r(1,t),r(2,o))}function b(T){n.$$.not_equal(l.timeRange,T)&&(l.timeRange=T,r(3,l),r(1,t),r(2,o))}function y(T){n.$$.not_equal(l.executionStatus,T)&&(l.executionStatus=T,r(3,l),r(1,t),r(2,o))}function N(T){i=T,ce.set(i)}return n.$$set=T=>{"searchType"in T&&r(0,a=T.searchType)},n.$$.update=()=>{n.$$.dirty&4&&r(1,t=o.url.searchParams.get("query")),n.$$.dirty&2&&r(3,l=me(t!=null?t:f))},[a,t,o,l,i,h,u,_,c,m,k,b,y,N]}class St extends _e{constructor(e){super(),$e(this,e,Et,yt,ge,{searchType:0})}}const Wt=n=>rt(n)?n==="basic"||n==="advanced":!1,At=n=>{const e=n.searchParams.get("search");return Wt(e)?e:(n.searchParams.set("search","basic"),"basic")},Ae=(n,e)=>e===1?n:`${n}s`;function Re(n,e,r){const t=n.slice();return t[28]=e[r],t}function Rt(n){let e,r;return{c(){e=F("h3"),r=V("Terminate Workflows"),this.h()},l(t){e=M(t,"H3",{slot:!0});var l=O(e);r=j(l,"Terminate Workflows"),l.forEach($),this.h()},h(){B(e,"slot","title")},m(t,l){E(t,e,l),D(e,r)},p:le,d(t){t&&$(e)}}}function It(n){let e,r,t,l=n[7].length+"",o,i,s=Ae("workflow",n[7].length)+"",a,f,h,u,_,c;function m(b){n[19](b)}let k={id:"bulk-terminate-reason",placeholder:"Enter a reason"};return n[3]!==void 0&&(k.value=n[3]),u=new pe({props:k}),G.push(()=>J(u,"value",m)),{c(){e=F("p"),r=V("Are you sure you want to terminate "),t=F("strong"),o=V(l),i=V(" running "),a=V(s),f=V("? This action cannot be undone."),h=P(),A(u.$$.fragment),this.h()},l(b){e=M(b,"P",{class:!0});var y=O(e);r=j(y,"Are you sure you want to terminate "),t=M(y,"STRONG",{});var N=O(t);o=j(N,l),i=j(N," running "),a=j(N,s),N.forEach($),f=j(y,"? This action cannot be undone."),y.forEach($),h=q(b),R(u.$$.fragment,b),this.h()},h(){B(e,"class","mb-2")},m(b,y){E(b,e,y),D(e,r),D(e,t),D(t,o),D(t,i),D(t,a),D(e,f),E(b,h,y),I(u,b,y),c=!0},p(b,y){(!c||y[0]&128)&&l!==(l=b[7].length+"")&&se(o,l),(!c||y[0]&128)&&s!==(s=Ae("workflow",b[7].length)+"")&&se(a,s);const N={};!_&&y[0]&8&&(_=!0,N.value=b[3],K(()=>_=!1)),u.$set(N)},i(b){c||(w(u.$$.fragment,b),c=!0)},o(b){v(u.$$.fragment,b),c=!1},d(b){b&&$(e),b&&$(h),C(u,b)}}}function Ct(n){let e,r;return e=new et({props:{name:"retry"}}),{c(){A(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,l){I(e,t,l),r=!0},p:le,i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Ie(n){let e,r;return e=new tt({props:{$$slots:{default:[Pt]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,l){I(e,t,l),r=!0},p(t,l){const o={};l[0]&12288|l[1]&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Dt(n){let e,r;return e=new He({props:{title:"No Workflows Found",content:n[14],error:n[13]}}),{c(){A(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,l){I(e,t,l),r=!0},p(t,l){const o={};l[0]&8192&&(o.error=t[13]),e.$set(o)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Nt(n){let e,r;return e=new lt({}),{c(){A(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,l){I(e,t,l),r=!0},p:le,i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Pt(n){let e,r,t,l,o,i,s,a,f;const h=[Nt,Dt],u=[];function _(c,m){return c[12]?0:1}return l=_(n),o=u[l]=h[l](n),{c(){e=F("td"),r=P(),t=F("td"),o.c(),i=P(),s=F("td"),a=P(),this.h()},l(c){e=M(c,"TD",{class:!0}),O(e).forEach($),r=q(c),t=M(c,"TD",{colspan:!0});var m=O(t);o.l(m),m.forEach($),i=q(c),s=M(c,"TD",{class:!0}),O(s).forEach($),a=q(c),this.h()},h(){B(e,"class","hidden xl:table-cell"),B(t,"colspan","3"),B(s,"class","hidden xl:table-cell")},m(c,m){E(c,e,m),E(c,r,m),E(c,t,m),u[l].m(t,null),E(c,i,m),E(c,s,m),E(c,a,m),f=!0},p(c,m){let k=l;l=_(c),l===k?u[l].p(c,m):(x(),v(u[k],1,1,()=>{u[k]=null}),ee(),o=u[l],o?o.p(c,m):(o=u[l]=h[l](c),o.c()),w(o,1),o.m(t,null))},i(c){f||(w(o),f=!0)},o(c){v(o),f=!1},d(c){c&&$(e),c&&$(r),c&&$(t),u[l].d(),c&&$(i),c&&$(s),c&&$(a)}}}function Ce(n){let e,r;return e=new Ye({props:{bulkActionsEnabled:n[0],workflow:n[28],namespace:n[8].params.namespace,timeFormat:n[11],selected:n[1].includes(n[28])}}),{c(){A(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,l){I(e,t,l),r=!0},p(t,l){const o={};l[0]&1&&(o.bulkActionsEnabled=t[0]),l[0]&134217728&&(o.workflow=t[28]),l[0]&256&&(o.namespace=t[8].params.namespace),l[0]&2048&&(o.timeFormat=t[11]),l[0]&134217730&&(o.selected=t[1].includes(t[28])),e.$set(o)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function qt(n){let e,r,t=n[27],l=[];for(let s=0;s<t.length;s+=1)l[s]=Ce(Re(n,t,s));const o=s=>v(l[s],1,1,()=>{l[s]=null});let i=null;return t.length||(i=Ie(n)),{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Y(),i&&i.c()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=Y(),i&&i.l(s)},m(s,a){for(let f=0;f<l.length;f+=1)l[f].m(s,a);E(s,e,a),i&&i.m(s,a),r=!0},p(s,a){if(a[0]&134248707){t=s[27];let f;for(f=0;f<t.length;f+=1){const h=Re(s,t,f);l[f]?(l[f].p(h,a),w(l[f],1)):(l[f]=Ce(h),l[f].c(),w(l[f],1),l[f].m(e.parentNode,e))}for(x(),f=t.length;f<l.length;f+=1)o(f);ee(),!t.length&&i?i.p(s,a):t.length?i&&(x(),v(i,1,1,()=>{i=null}),ee()):(i=Ie(s),i.c(),w(i,1),i.m(e.parentNode,e))}},i(s){if(!r){for(let a=0;a<t.length;a+=1)w(l[a]);r=!0}},o(s){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)v(l[a]);r=!1},d(s){Pe(l,s),s&&$(e),i&&i.d(s)}}}function Bt(n){let e,r,t,l;function o(a){n[22](a)}function i(a){n[23](a)}let s={bulkActionsEnabled:n[0],updating:n[10],visibleWorkflows:n[27],terminableWorkflowCount:n[7].length,$$slots:{default:[qt]},$$scope:{ctx:n}};return n[1]!==void 0&&(s.selectedWorkflows=n[1]),n[5]!==void 0&&(s.allSelected=n[5]),e=new Xe({props:s}),G.push(()=>J(e,"selectedWorkflows",o)),G.push(()=>J(e,"allSelected",i)),e.$on("terminateWorkflows",n[17]),{c(){A(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,f){I(e,a,f),l=!0},p(a,f){const h={};f[0]&1&&(h.bulkActionsEnabled=a[0]),f[0]&1024&&(h.updating=a[10]),f[0]&134217728&&(h.visibleWorkflows=a[27]),f[0]&128&&(h.terminableWorkflowCount=a[7].length),f[0]&134232323|f[1]&1&&(h.$$scope={dirty:f,ctx:a}),!r&&f[0]&2&&(r=!0,h.selectedWorkflows=a[1],K(()=>r=!1)),!t&&f[0]&32&&(t=!0,h.allSelected=a[5],K(()=>t=!1)),e.$set(h)},i(a){l||(w(e.$$.fragment,a),l=!0)},o(a){v(e.$$.fragment,a),l=!1},d(a){C(e,a)}}}function Ft(n){let e,r,t,l,o,i,s,a,f,h,u=n[8].params.namespace+"",_,c,m,k,b,y,N,T,U,H;e=new nt({props:{open:n[4],confirmText:"Terminate",confirmType:"destructive",confirmDisabled:n[3]==="",loading:n[6],$$slots:{content:[It],title:[Rt]},$$scope:{ctx:n}}}),e.$on("cancelModal",n[20]),e.$on("confirmModal",n[18]),s=new Ze({}),k=new xe({props:{variant:"secondary",$$slots:{default:[Ct]},$$scope:{ctx:n}}}),k.$on("click",n[16]);function te(p){n[21](p)}let re={};return n[2]!==void 0&&(re.searchType=n[2]),y=new St({props:re}),G.push(()=>J(y,"searchType",te)),y.$on("search",n[15]),U=new Ge({props:{items:n[9],$$slots:{default:[Bt,({visibleItems:p})=>({27:p}),({visibleItems:p})=>[p?134217728:0]]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment),r=P(),t=F("div"),l=F("div"),o=F("h1"),i=V(`Recent Workflows
      `),A(s.$$.fragment),a=P(),f=F("div"),h=F("p"),_=V(u),c=P(),m=F("div"),A(k.$$.fragment),b=P(),A(y.$$.fragment),T=P(),A(U.$$.fragment),this.h()},l(p){R(e.$$.fragment,p),r=q(p),t=M(p,"DIV",{class:!0});var W=O(t);l=M(W,"DIV",{});var L=O(l);o=M(L,"H1",{class:!0,"data-cy":!0});var g=O(o);i=j(g,`Recent Workflows
      `),R(s.$$.fragment,g),g.forEach($),a=q(L),f=M(L,"DIV",{class:!0});var S=O(f);h=M(S,"P",{"data-cy":!0});var z=O(h);_=j(z,u),z.forEach($),S.forEach($),L.forEach($),c=q(W),m=M(W,"DIV",{});var d=O(m);R(k.$$.fragment,d),d.forEach($),W.forEach($),b=q(p),R(y.$$.fragment,p),T=q(p),R(U.$$.fragment,p),this.h()},h(){B(o,"class","text-2xl"),B(o,"data-cy","namespace-title"),B(h,"data-cy","namespace-name"),B(f,"class","flex items-center gap-2 text-sm"),B(t,"class","mb-2 flex justify-between")},m(p,W){I(e,p,W),E(p,r,W),E(p,t,W),D(t,l),D(l,o),D(o,i),I(s,o,null),D(l,a),D(l,f),D(f,h),D(h,_),D(t,c),D(t,m),I(k,m,null),E(p,b,W),I(y,p,W),E(p,T,W),I(U,p,W),H=!0},p(p,W){const L={};W[0]&16&&(L.open=p[4]),W[0]&8&&(L.confirmDisabled=p[3]===""),W[0]&64&&(L.loading=p[6]),W[0]&136|W[1]&1&&(L.$$scope={dirty:W,ctx:p}),e.$set(L),(!H||W[0]&256)&&u!==(u=p[8].params.namespace+"")&&se(_,u);const g={};W[1]&1&&(g.$$scope={dirty:W,ctx:p}),k.$set(g);const S={};!N&&W[0]&4&&(N=!0,S.searchType=p[2],K(()=>N=!1)),y.$set(S);const z={};W[0]&512&&(z.items=p[9]),W[0]&134233507|W[1]&1&&(z.$$scope={dirty:W,ctx:p}),U.$set(z)},i(p){H||(w(e.$$.fragment,p),w(s.$$.fragment,p),w(k.$$.fragment,p),w(y.$$.fragment,p),w(U.$$.fragment,p),H=!0)},o(p){v(e.$$.fragment,p),v(s.$$.fragment,p),v(k.$$.fragment,p),v(y.$$.fragment,p),v(U.$$.fragment,p),H=!1},d(p){C(e,p),p&&$(r),p&&$(t),C(s),C(k),p&&$(b),C(y,p),p&&$(T),C(U,p)}}}function Mt(n,e,r){let t,l,o,i,s,a,f,h,u,_;Q(n,de,d=>r(24,l=d)),Q(n,he,d=>r(8,o=d)),Q(n,we,d=>r(25,i=d)),Q(n,ke,d=>r(26,s=d)),Q(n,Ve,d=>r(9,a=d)),Q(n,je,d=>r(10,f=d)),Q(n,ce,d=>r(11,h=d)),Q(n,Ue,d=>r(12,u=d)),Q(n,Le,d=>r(13,_=d));let{bulkActionsEnabled:c=!1}=e,m=At(o.url),k=[],b="",y=!1,N=!1,T=!1;const U=m==="advanced"?"Please check your syntax and try again.":"If you have filters applied, try adjusting them.";Me(()=>{ue(ke,s=o.params.namespace,s)});const H=()=>{r(5,N=!1),r(1,k=[])},te=()=>{H(),ue(we,i=Date.now(),i)},re=()=>{r(4,y=!0)},p=async()=>{r(6,T=!0);const{namespace:d}=o.params;try{const X=await Qe({namespace:d,workflowExecutions:t,reason:b});await ze({namespace:d,jobId:X})}catch{r(4,y=!1),ve.push({variant:"error",message:"Unable to terminate workflows."});return}ve.push({variant:"primary",message:`Successfully terminated ${t.length} workflows.`,id:"batch-terminate-success-toast"}),r(1,k=[]),r(5,N=!1),r(6,T=!1),r(4,y=!1),r(3,b=""),oe({parameter:"query",value:"",url:o.url})};Oe(()=>{const d=o.url.searchParams.get("query"),X=d?me(d):{};ue(de,l={parameters:X,searchType:m},l)});function W(d){b=d,r(3,b)}const L=()=>r(4,y=!1);function g(d){m=d,r(2,m)}function S(d){k=d,r(1,k)}function z(d){N=d,r(5,N)}return n.$$set=d=>{"bulkActionsEnabled"in d&&r(0,c=d.bulkActionsEnabled)},n.$$.update=()=>{n.$$.dirty[0]&2&&r(7,t=k.filter(d=>d.canBeTerminated))},[c,k,m,b,y,N,T,t,o,a,f,h,u,_,U,H,te,re,p,W,L,g,S,z]}class Ot extends _e{constructor(e){super(),$e(this,e,Mt,Ft,ge,{bulkActionsEnabled:0},null,[-1,-1])}}const Vt=n=>n.visibilityStore.includes("elasticsearch"),jt=st([ut,ft],([n,e])=>at(n,"1.18.0")&&Vt(e));function Ut(n){let e,r,t,l;return e=new ot({props:{title:`Workflows | ${n[0].params.namespace}`,url:n[0].url.href}}),t=new Ot({props:{bulkActionsEnabled:n[1]}}),{c(){A(e.$$.fragment),r=P(),A(t.$$.fragment)},l(o){R(e.$$.fragment,o),r=q(o),R(t.$$.fragment,o)},m(o,i){I(e,o,i),E(o,r,i),I(t,o,i),l=!0},p(o,[i]){const s={};i&1&&(s.title=`Workflows | ${o[0].params.namespace}`),i&1&&(s.url=o[0].url.href),e.$set(s);const a={};i&2&&(a.bulkActionsEnabled=o[1]),t.$set(a)},i(o){l||(w(e.$$.fragment,o),w(t.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),l=!1},d(o){C(e,o),o&&$(r),C(t,o)}}}function Lt(n,e,r){let t,l;return Q(n,he,o=>r(0,t=o)),Q(n,jt,o=>r(1,l=o)),[t,l]}class Or extends _e{constructor(e){super(),$e(this,e,Lt,Ut,ge,{})}}export{Or as default};
