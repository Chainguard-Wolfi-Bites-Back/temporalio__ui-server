import{S as te,i as re,s as ne,I as $e,l as k,m as $,n as v,h as c,b,J as ve,K as ye,L as Ie,f as h,af as xe,ag as et,t as w,ah as tt,am as rt,P as nt,e as ue,g as Ke,d as Ye,N as q,w as I,a as W,x as E,c as D,y as T,B as C,r as N,u as B,p as d,M as p,E as ie,Y as Ue,T as Je,a3 as ze,D as at,C as Ve,V as Re,W as st,R as z,v as ee,an as ot}from"../../../../../../chunks/index-de024f11.js";import{p as Ge}from"../../../../../../chunks/stores-d8da1c6f.js";import{r as Fe,l as lt,w as it}from"../../../../../../chunks/workflow-run-166818e6.js";import{t as Me}from"../../../../../../chunks/events-1d56c094.js";import{f as qe}from"../../../../../../chunks/index-fe89e29d.js";import{I as ft}from"../../../../../../chunks/icon-9e859714.js";import{e as ut}from"../../../../../../chunks/event-view-85032117.js";import{w as ct}from"../../../../../../chunks/workflows-8be65293.js";import{g as fe,h as we,i as ge,j as be,k as ke,l as He}from"../../../../../../chunks/route-for-82ed5238.js";import{W as mt}from"../../../../../../chunks/workflow-status-f6aafad6.js";import{n as Le}from"../../../../../../chunks/notifications-00b5eabd.js";import{s as Xe}from"../../../../../../chunks/parse-with-big-int-561ccb8b.js";import{r as dt,a as pt}from"../../../../../../chunks/route-for-api-aeedb213.js";import{B as Ze}from"../../../../../../chunks/button-3bc39b55.js";import{M as _t}from"../../../../../../chunks/modal-61aefed4.js";import{r as ht}from"../../../../../../chunks/index-e5247e3a.js";import{T as wt}from"../../../../../../chunks/tooltip-0d63ba32.js";import{f as gt}from"../../../../../../chunks/events-service-8fab0c25.js";import{t as bt}from"../../../../../../chunks/workflow-service-a7ea485e.js";import{L as kt}from"../../../../../../chunks/loading-dda85f82.js";import"../../../../../../chunks/with-loading-f07bedaf.js";import"../../../../../../chunks/pollers-service-35672e39.js";import"../../../../../../chunks/is-http-0cd19773.js";import"../../../../../../chunks/persist-store-517b9cd5.js";import"../../../../../../chunks/get-encoder-endpoint-3b2de316.js";import"../../../../../../chunks/data-converter-config-d0754e13.js";import"../../../../../../chunks/atob-55d1853d.js";import"../../../../../../chunks/auth-user-88f31028.js";import"../../../../../../chunks/index-7e3f25d2.js";import"../../../../../../chunks/has-c7a26a56.js";import"../../../../../../chunks/is-44021919.js";import"../../../../../../chunks/settings-669d336e.js";import"../../../../../../chunks/version-check-2c34d915.js";import"../../../../../../chunks/get-public-path-6c4a8950.js";import"../../../../../../chunks/is-network-error-5f9e2367.js";import"../../../../../../chunks/badge-025d5c71.js";import"../../../../../../chunks/copyable-163c5f91.js";import"../../../../../../chunks/copy-to-clipboard-da829ffe.js";import"../../../../../../chunks/paginated-9ef24158.js";import"../../../../../../chunks/index-62d980ff.js";import"../../../../../../chunks/format-date-eb94f038.js";import"../../../../../../chunks/get-event-categorization-2cfb578f.js";import"../../../../../../chunks/simplify-attributes-db1e2585.js";function $t(a){let e,r,t,s;const n=a[1].default,o=$e(n,a,a[0],null);return{c(){e=k("div"),o&&o.c()},l(l){e=$(l,"DIV",{});var i=v(e);o&&o.l(i),i.forEach(c)},m(l,i){b(l,e,i),o&&o.m(e,null),s=!0},p(l,[i]){o&&o.p&&(!s||i&1)&&ve(o,n,l,l[0],s?Ie(n,l[0],i,null):ye(l[0]),null)},i(l){s||(h(o,l),xe(()=>{t&&t.end(1),r=et(e,qe,{y:-50,duration:150,delay:50}),r.start()}),s=!0)},o(l){w(o,l),r&&r.invalidate(),t=tt(e,qe,{y:-50,duration:150}),s=!1},d(l){l&&c(e),o&&o.d(l),l&&t&&t.end()}}}function vt(a,e,r){let{$$slots:t={},$$scope:s}=e;return a.$$set=n=>{"$$scope"in n&&r(0,s=n.$$scope)},[s,t]}class yt extends te{constructor(e){super(),re(this,e,vt,$t,ne,{})}}async function It({workflow:a,namespace:e,reason:r}){const t=await dt("workflow.terminate",{namespace:e,workflowId:a.id,runId:a.runId});return await pt(t,{options:{method:"POST",body:Xe({reason:r})},shouldRetry:!1,notifyOnError:!1})}const je="CoreUser",Et=ht({terminateDisabled:()=>!1}),Tt=()=>rt(je)?nt(je):Et;function Oe(a){let e,r,t,s;return e=new wt({props:{bottomLeft:!0,hide:!a[3],width:200,text:"You do not have permission to terminate this workflow. Contact your admin for assistance.",$$slots:{default:[St]},$$scope:{ctx:a}}}),t=new _t({props:{open:a[2],confirmText:"Terminate",confirmType:"destructive",$$slots:{content:[Wt],title:[At]},$$scope:{ctx:a}}}),t.$on("cancelModal",a[5]),t.$on("confirmModal",a[6]),{c(){I(e.$$.fragment),r=W(),I(t.$$.fragment)},l(n){E(e.$$.fragment,n),r=D(n),E(t.$$.fragment,n)},m(n,o){T(e,n,o),b(n,r,o),T(t,n,o),s=!0},p(n,o){const l={};o&8&&(l.hide=!n[3]),o&16392&&(l.$$scope={dirty:o,ctx:n}),e.$set(l);const i={};o&4&&(i.open=n[2]),o&16386&&(i.$$scope={dirty:o,ctx:n}),t.$set(i)},i(n){s||(h(e.$$.fragment,n),h(t.$$.fragment,n),s=!0)},o(n){w(e.$$.fragment,n),w(t.$$.fragment,n),s=!1},d(n){C(e,n),n&&c(r),C(t,n)}}}function Ct(a){let e;return{c(){e=N("Terminate")},l(r){e=B(r,"Terminate")},m(r,t){b(r,e,t)},d(r){r&&c(e)}}}function St(a){let e,r;return e=new Ze({props:{variant:"destructive",disabled:a[3],dataCy:"terminate-button",$$slots:{default:[Ct]},$$scope:{ctx:a}}}),e.$on("click",a[4]),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,s){T(e,t,s),r=!0},p(t,s){const n={};s&8&&(n.disabled=t[3]),s&16384&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function At(a){let e,r;return{c(){e=k("h3"),r=N("Terminate Workflow"),this.h()},l(t){e=$(t,"H3",{slot:!0});var s=v(e);r=B(s,"Terminate Workflow"),s.forEach(c),this.h()},h(){d(e,"slot","title")},m(t,s){b(t,e,s),p(e,r)},p:ie,d(t){t&&c(e)}}}function Wt(a){let e,r,t,s,n,o,l;return{c(){e=k("div"),r=k("p"),t=N(`Are you sure you want to terminate this workflow? This action cannot be
        undone.`),s=W(),n=k("input"),this.h()},l(i){e=$(i,"DIV",{slot:!0});var f=v(e);r=$(f,"P",{});var m=v(r);t=B(m,`Are you sure you want to terminate this workflow? This action cannot be
        undone.`),m.forEach(c),s=D(f),n=$(f,"INPUT",{class:!0,placeholder:!0}),f.forEach(c),this.h()},h(){d(n,"class","mt-4 block w-full rounded-md border border-gray-200 p-2"),d(n,"placeholder","Enter a reason"),d(e,"slot","content")},m(i,f){b(i,e,f),p(e,r),p(r,t),p(e,s),p(e,n),Ue(n,a[1]),o||(l=Je(n,"input",a[10]),o=!0)},p(i,f){f&2&&n.value!==i[1]&&Ue(n,i[1])},d(i){i&&c(e),o=!1,l()}}}function Dt(a){let e,r,t=a[0].canBeTerminated&&Oe(a);return{c(){t&&t.c(),e=ue()},l(s){t&&t.l(s),e=ue()},m(s,n){t&&t.m(s,n),b(s,e,n),r=!0},p(s,[n]){s[0].canBeTerminated?t?(t.p(s,n),n&1&&h(t,1)):(t=Oe(s),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Ke(),w(t,1,1,()=>{t=null}),Ye())},i(s){r||(h(t),r=!0)},o(s){w(t),r=!1},d(s){t&&t.d(s),s&&c(e)}}}function Pt(a,e,r){let t,s,n;q(a,Fe,y=>r(11,n=y));let{workflow:o}=e,{namespace:l}=e,i="",f=!1;const m=()=>r(2,f=!0),S=()=>r(2,f=!1),V=async()=>{r(2,f=!1),r(1,i=""),ze(Fe,n=Date.now(),n),await at(),Le.add("success","Workflow Terminated")},_=()=>{r(2,f=!1),r(1,i=""),Le.add("error","Cannot Terminate Workflow")},R=()=>{!o.canBeTerminated||It({workflow:o,namespace:l,reason:i}).then(V).catch(_)};let G=Tt();q(a,G,y=>r(9,s=y));function oe(){i=this.value,r(1,i)}return a.$$set=y=>{"workflow"in y&&r(0,o=y.workflow),"namespace"in y&&r(8,l=y.namespace)},a.$$.update=()=>{a.$$.dirty&768&&r(3,t=s.terminateDisabled(l))},[o,i,f,t,m,S,R,G,l,s,oe]}class Nt extends te{constructor(e){super(),re(this,e,Pt,Dt,ne,{workflow:0,namespace:8})}}function Bt(a){let e,r;return{c(){e=k("span"),r=N("Download"),this.h()},l(t){e=$(t,"SPAN",{class:!0});var s=v(e);r=B(s,"Download"),s.forEach(c),this.h()},h(){d(e,"class","hidden md:inline")},m(t,s){b(t,e,s),p(e,r)},p:ie,d(t){t&&c(e)}}}function Ut(a){let e,r;return e=new Ze({props:{variant:"secondary",icon:"download",$$slots:{default:[Bt]},$$scope:{ctx:a}}}),e.$on("click",a[0]),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,s){T(e,t,s),r=!0},p(t,[s]){const n={};s&16&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Vt(a,e,r){let{namespace:t}=e,{workflowId:s}=e,{runId:n}=e;const o=async()=>{const l=await gt({namespace:t,workflowId:s,runId:n,sort:"ascending"}),i=Xe({events:l},null,2);f(i,`${n}/events.json`,"text/plain");function f(m,S,V){const _=document.createElement("a"),R=new Blob([m],{type:V});_.href=URL.createObjectURL(R),_.download=S,_.click()}};return a.$$set=l=>{"namespace"in l&&r(1,t=l.namespace),"workflowId"in l&&r(2,s=l.workflowId),"runId"in l&&r(3,n=l.runId)},[o,t,s,n]}class Rt extends te{constructor(e){super(),re(this,e,Vt,Ut,ne,{namespace:1,workflowId:2,runId:3})}}function Ft(a){let e,r,t,s;function n(i,f){return i[2]||i[2]===0?Ht:qt}let o=n(a),l=o(a);return{c(){e=k("div"),l.c(),this.h()},l(i){e=$(i,"DIV",{class:!0,"data-cy":!0});var f=v(e);l.l(f),f.forEach(c),this.h()},h(){d(e,"class","block cursor-pointer whitespace-nowrap border-b-2 border-white text-sm hover:border-b-2 hover:border-blue-700 md:text-base svelte-1gctro0"),d(e,"data-cy",r=a[5].dataCy),z(e,"active",a[3]),z(e,"disabled",a[4])},m(i,f){b(i,e,f),l.m(e,null),t||(s=Je(e,"click",a[6]),t=!0)},p(i,f){o===(o=n(i))&&l?l.p(i,f):(l.d(1),l=o(i),l&&(l.c(),l.m(e,null))),f&32&&r!==(r=i[5].dataCy)&&d(e,"data-cy",r),f&8&&z(e,"active",i[3]),f&16&&z(e,"disabled",i[4])},d(i){i&&c(e),l.d(),t=!1,s()}}}function Mt(a){let e,r;function t(o,l){return o[2]||o[2]===0?jt:Lt}let s=t(a),n=s(a);return{c(){e=k("a"),n.c(),this.h()},l(o){e=$(o,"A",{class:!0,href:!0,"data-cy":!0});var l=v(e);n.l(l),l.forEach(c),this.h()},h(){d(e,"class","block whitespace-nowrap border-b-2 border-white text-sm hover:border-b-2 hover:border-blue-700 md:text-base svelte-1gctro0"),d(e,"href",a[0]),d(e,"data-cy",r=a[5].dataCy),z(e,"active",a[3]),z(e,"disabled",a[4])},m(o,l){b(o,e,l),n.m(e,null)},p(o,l){s===(s=t(o))&&n?n.p(o,l):(n.d(1),n=s(o),n&&(n.c(),n.m(e,null))),l&1&&d(e,"href",o[0]),l&32&&r!==(r=o[5].dataCy)&&d(e,"data-cy",r),l&8&&z(e,"active",o[3]),l&16&&z(e,"disabled",o[4])},d(o){o&&c(e),n.d()}}}function qt(a){let e;return{c(){e=N(a[1])},l(r){e=B(r,a[1])},m(r,t){b(r,e,t)},p(r,t){t&2&&ee(e,r[1])},d(r){r&&c(e)}}}function Ht(a){let e,r,t,s;return{c(){e=N(a[1]),r=W(),t=k("span"),s=N(a[2]),this.h()},l(n){e=B(n,a[1]),r=D(n),t=$(n,"SPAN",{class:!0});var o=v(t);s=B(o,a[2]),o.forEach(c),this.h()},h(){d(t,"class","rounded-sm bg-blue-100 px-2 text-blue-700")},m(n,o){b(n,e,o),b(n,r,o),b(n,t,o),p(t,s)},p(n,o){o&2&&ee(e,n[1]),o&4&&ee(s,n[2])},d(n){n&&c(e),n&&c(r),n&&c(t)}}}function Lt(a){let e;return{c(){e=N(a[1])},l(r){e=B(r,a[1])},m(r,t){b(r,e,t)},p(r,t){t&2&&ee(e,r[1])},d(r){r&&c(e)}}}function jt(a){let e,r,t,s;return{c(){e=N(a[1]),r=W(),t=k("span"),s=N(a[2]),this.h()},l(n){e=B(n,a[1]),r=D(n),t=$(n,"SPAN",{class:!0});var o=v(t);s=B(o,a[2]),o.forEach(c),this.h()},h(){d(t,"class","rounded-sm bg-blue-100 px-2 text-blue-700")},m(n,o){b(n,e,o),b(n,r,o),b(n,t,o),p(t,s)},p(n,o){o&2&&ee(e,n[1]),o&4&&ee(s,n[2])},d(n){n&&c(e),n&&c(r),n&&c(t)}}}function Ot(a){let e;function r(n,o){return n[0]?Mt:Ft}let t=r(a),s=t(a);return{c(){s.c(),e=ue()},l(n){s.l(n),e=ue()},m(n,o){s.m(n,o),b(n,e,o)},p(n,[o]){t===(t=r(n))&&s?s.p(n,o):(s.d(1),s=t(n),s&&(s.c(),s.m(e.parentNode,e)))},i:ie,o:ie,d(n){s.d(n),n&&c(e)}}}function Qt(a,e,r){let{href:t=""}=e,{label:s}=e,{amount:n=null}=e,{active:o=!1}=e,{disabled:l=!1}=e;function i(f){st.call(this,a,f)}return a.$$set=f=>{r(5,e=Ve(Ve({},e),Re(f))),"href"in f&&r(0,t=f.href),"label"in f&&r(1,s=f.label),"amount"in f&&r(2,n=f.amount),"active"in f&&r(3,o=f.active),"disabled"in f&&r(4,l=f.disabled)},e=Re(e),[t,s,n,o,l,e,i]}class le extends te{constructor(e){super(),re(this,e,Qt,Ot,ne,{href:0,label:1,amount:2,active:3,disabled:4})}}const Qe=a=>{const e=a==null?void 0:a.indexOf("?");return e>-1?a.slice(0,e):a},U=(a,e,r=!1)=>{const t=Qe(a).split("/"),s=Qe(e).split("/");if(r&&t.length!==s.length)return!1;for(let n=0;n<t.length;n++){const o=t[n],l=s[n];if(o!==l)return!1}return!0};function Kt(a){var Ee,Te,Ce,Se,Ae;let e,r,t,s,n,o,l,i,f,m,S,V,_,R=a[1].id+"",G,oe,y,H,ce,L,me,A,j,de,O,pe,Q,_e,K,he,Y,ae;return n=new ft({props:{name:"chevron-left",class:"inline"}}),S=new mt({props:{status:(Ee=a[1])==null?void 0:Ee.status}}),H=new Rt({props:{namespace:a[0],workflowId:a[1].id,runId:a[1].runId}}),L=new Nt({props:{workflow:a[1],namespace:a[0]}}),j=new le({props:{label:"History",href:fe({view:a[3],...a[5]}),amount:(Te=a[1])==null?void 0:Te.historyEvents,dataCy:"history-tab",active:U(a[4].url.pathname,fe({view:a[3],...a[5]}))}}),O=new le({props:{label:"Workers",href:we(a[5]),amount:(Se=(Ce=a[2])==null?void 0:Ce.pollers)==null?void 0:Se.length,dataCy:"workers-tab",active:U(a[4].url.pathname,we(a[5]))}}),Q=new le({props:{label:"Pending Activities",href:ge(a[5]),amount:(Ae=a[1].pendingActivities)==null?void 0:Ae.length,dataCy:"pending-activities-tab",active:U(a[4].url.pathname,ge(a[5]))}}),K=new le({props:{label:"Stack Trace",href:be(a[5]),dataCy:"stack-trace-tab",active:U(a[4].url.pathname,be(a[5]))}}),Y=new le({props:{label:"Queries",href:ke(a[5]),dataCy:"queries-tab",active:U(a[4].url.pathname,ke(a[5]))}}),{c(){e=k("header"),r=k("main"),t=k("div"),s=k("a"),I(n.$$.fragment),o=N("Back to Workflows"),i=W(),f=k("div"),m=k("h1"),I(S.$$.fragment),V=W(),_=k("span"),G=N(R),oe=W(),y=k("div"),I(H.$$.fragment),ce=W(),I(L.$$.fragment),me=W(),A=k("nav"),I(j.$$.fragment),de=W(),I(O.$$.fragment),pe=W(),I(Q.$$.fragment),_e=W(),I(K.$$.fragment),he=W(),I(Y.$$.fragment),this.h()},l(u){e=$(u,"HEADER",{class:!0});var g=v(e);r=$(g,"MAIN",{class:!0});var F=v(r);t=$(F,"DIV",{class:!0});var X=v(t);s=$(X,"A",{href:!0,"data-cy":!0,class:!0});var Z=v(s);E(n.$$.fragment,Z),o=B(Z,"Back to Workflows"),Z.forEach(c),X.forEach(c),i=D(F),f=$(F,"DIV",{class:!0});var M=v(f);m=$(M,"H1",{class:!0});var J=v(m);E(S.$$.fragment,J),V=D(J),_=$(J,"SPAN",{class:!0});var se=v(_);G=B(se,R),se.forEach(c),J.forEach(c),oe=D(M),y=$(M,"DIV",{class:!0});var x=v(y);E(H.$$.fragment,x),ce=D(x),E(L.$$.fragment,x),x.forEach(c),M.forEach(c),me=D(F),A=$(F,"NAV",{class:!0});var P=v(A);E(j.$$.fragment,P),de=D(P),E(O.$$.fragment,P),pe=D(P),E(Q.$$.fragment,P),_e=D(P),E(K.$$.fragment,P),he=D(P),E(Y.$$.fragment,P),P.forEach(c),F.forEach(c),g.forEach(c),this.h()},h(){d(s,"href",l=`/namespaces/${a[0]}/workflows?query=${He(a[7])}&search=${a[6]}`),d(s,"data-cy","back-to-workflows"),d(s,"class","back-to-workflows svelte-st9g8m"),d(t,"class","-mt-3 -ml-2 block"),d(_,"class","select-all font-medium"),d(m,"class","relative flex items-center gap-4 text-2xl"),d(y,"class","ml-8 flex items-center justify-end gap-4"),d(f,"class","mb-8 flex items-center justify-between"),d(A,"class","flex flex-wrap gap-6"),d(r,"class","relative flex flex-col gap-1"),d(e,"class","mb-4 flex flex-col gap-4")},m(u,g){b(u,e,g),p(e,r),p(r,t),p(t,s),T(n,s,null),p(s,o),p(r,i),p(r,f),p(f,m),T(S,m,null),p(m,V),p(m,_),p(_,G),p(f,oe),p(f,y),T(H,y,null),p(y,ce),T(L,y,null),p(r,me),p(r,A),T(j,A,null),p(A,de),T(O,A,null),p(A,pe),T(Q,A,null),p(A,_e),T(K,A,null),p(A,he),T(Y,A,null),ae=!0},p(u,[g]){var We,De,Pe,Ne,Be;(!ae||g&1&&l!==(l=`/namespaces/${u[0]}/workflows?query=${He(u[7])}&search=${u[6]}`))&&d(s,"href",l);const F={};g&2&&(F.status=(We=u[1])==null?void 0:We.status),S.$set(F),(!ae||g&2)&&R!==(R=u[1].id+"")&&ee(G,R);const X={};g&1&&(X.namespace=u[0]),g&2&&(X.workflowId=u[1].id),g&2&&(X.runId=u[1].runId),H.$set(X);const Z={};g&2&&(Z.workflow=u[1]),g&1&&(Z.namespace=u[0]),L.$set(Z);const M={};g&8&&(M.href=fe({view:u[3],...u[5]})),g&2&&(M.amount=(De=u[1])==null?void 0:De.historyEvents),g&24&&(M.active=U(u[4].url.pathname,fe({view:u[3],...u[5]}))),j.$set(M);const J={};g&4&&(J.amount=(Ne=(Pe=u[2])==null?void 0:Pe.pollers)==null?void 0:Ne.length),g&16&&(J.active=U(u[4].url.pathname,we(u[5]))),O.$set(J);const se={};g&2&&(se.amount=(Be=u[1].pendingActivities)==null?void 0:Be.length),g&16&&(se.active=U(u[4].url.pathname,ge(u[5]))),Q.$set(se);const x={};g&16&&(x.active=U(u[4].url.pathname,be(u[5]))),K.$set(x);const P={};g&16&&(P.active=U(u[4].url.pathname,ke(u[5]))),Y.$set(P)},i(u){ae||(h(n.$$.fragment,u),h(S.$$.fragment,u),h(H.$$.fragment,u),h(L.$$.fragment,u),h(j.$$.fragment,u),h(O.$$.fragment,u),h(Q.$$.fragment,u),h(K.$$.fragment,u),h(Y.$$.fragment,u),ae=!0)},o(u){w(n.$$.fragment,u),w(S.$$.fragment,u),w(H.$$.fragment,u),w(L.$$.fragment,u),w(j.$$.fragment,u),w(O.$$.fragment,u),w(Q.$$.fragment,u),w(K.$$.fragment,u),w(Y.$$.fragment,u),ae=!1},d(u){u&&c(e),C(n),C(S),C(H),C(L),C(j),C(O),C(Q),C(K),C(Y)}}}function Yt(a,e,r){let t,s,n;q(a,ct,_=>r(8,t=_)),q(a,ut,_=>r(3,s=_)),q(a,Ge,_=>r(4,n=_));let{namespace:o}=e,{workflow:l}=e,{workers:i}=e;const f={namespace:o,workflow:l.id,run:l.runId},{parameters:m,searchType:S}=t,V=bt(m);return a.$$set=_=>{"namespace"in _&&r(0,o=_.namespace),"workflow"in _&&r(1,l=_.workflow),"workers"in _&&r(2,i=_.workers)},[o,l,i,s,n,f,S,V]}class Jt extends te{constructor(e){super(),re(this,e,Yt,Kt,ne,{namespace:0,workflow:1,workers:2})}}function zt(a){let e,r;return e=new yt({props:{$$slots:{default:[Xt]},$$scope:{ctx:a}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,s){T(e,t,s),r=!0},p(t,s){const n={};s&18&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Gt(a){let e,r;return e=new kt({}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,s){T(e,t,s),r=!0},p:ie,i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Xt(a){let e,r,t;e=new Jt({props:{namespace:a[2],workflow:a[1].workflow,workers:a[1].workers}});const s=a[3].default,n=$e(s,a,a[4],null);return{c(){I(e.$$.fragment),r=W(),n&&n.c()},l(o){E(e.$$.fragment,o),r=D(o),n&&n.l(o)},m(o,l){T(e,o,l),b(o,r,l),n&&n.m(o,l),t=!0},p(o,l){const i={};l&2&&(i.workflow=o[1].workflow),l&2&&(i.workers=o[1].workers),e.$set(i),n&&n.p&&(!t||l&16)&&ve(n,s,o,o[4],t?Ie(s,o[4],l,null):ye(o[4]),null)},i(o){t||(h(e.$$.fragment,o),h(n,o),t=!0)},o(o){w(e.$$.fragment,o),w(n,o),t=!1},d(o){C(e,o),o&&c(r),n&&n.d(o)}}}function Zt(a){let e,r,t,s;const n=[Gt,zt],o=[];function l(i,f){return i[0]?0:1}return r=l(a),t=o[r]=n[r](a),{c(){e=k("main"),t.c(),this.h()},l(i){e=$(i,"MAIN",{class:!0});var f=v(e);t.l(f),f.forEach(c),this.h()},h(){d(e,"class","flex h-full flex-col gap-6")},m(i,f){b(i,e,f),o[r].m(e,null),s=!0},p(i,[f]){let m=r;r=l(i),r===m?o[r].p(i,f):(Ke(),w(o[m],1,1,()=>{o[m]=null}),Ye(),t=o[r],t?t.p(i,f):(t=o[r]=n[r](i),t.c()),h(t,1),t.m(e,null))},i(i){s||(h(t),s=!0)},o(i){w(t),s=!1},d(i){i&&c(e),o[r].d()}}}function xt(a,e,r){let t,s,n,o;q(a,Me,m=>r(5,t=m)),q(a,Ge,m=>r(6,s=m)),q(a,lt,m=>r(0,n=m)),q(a,it,m=>r(1,o=m));let{$$slots:l={},$$scope:i}=e;const{namespace:f}=s.params;return ot(()=>{ze(Me,t=null,t)}),a.$$set=m=>{"$$scope"in m&&r(4,i=m.$$scope)},[n,o,f,l,i]}class er extends te{constructor(e){super(),re(this,e,xt,Zt,ne,{})}}function tr(a){let e;const r=a[0].default,t=$e(r,a,a[1],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&2)&&ve(t,r,s,s[1],e?Ie(r,s[1],n,null):ye(s[1]),null)},i(s){e||(h(t,s),e=!0)},o(s){w(t,s),e=!1},d(s){t&&t.d(s)}}}function rr(a){let e,r;return e=new er({props:{$$slots:{default:[tr]},$$scope:{ctx:a}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,s){T(e,t,s),r=!0},p(t,[s]){const n={};s&2&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function nr(a,e,r){let{$$slots:t={},$$scope:s}=e;return a.$$set=n=>{"$$scope"in n&&r(1,s=n.$$scope)},[t,s]}class Yr extends te{constructor(e){super(),re(this,e,nr,rr,ne,{})}}export{Yr as default};
