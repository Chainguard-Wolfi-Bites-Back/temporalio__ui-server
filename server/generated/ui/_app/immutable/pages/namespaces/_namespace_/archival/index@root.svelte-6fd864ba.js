import{S as Q,i as M,s as G,l as S,r as W,a as C,w as A,m as I,n as B,u as q,h as $,c as N,x as T,p as g,b as k,M as y,y as P,Y as ee,T as U,v as z,f as v,t as w,B as F,N as j,as as J,g as R,d as V,G as $e,W as te,$ as de,a7 as be,a8 as ge,e as L,a0 as _e,ab as ve,ao as ke,E as K}from"../../../../chunks/index-de024f11.js";import{b as we}from"../../../../chunks/workflow-service-a7ea485e.js";import{j as ye,W as Ee,a as Ae}from"../../../../chunks/index-dfe567ea.js";import{p as X}from"../../../../chunks/stores-d8da1c6f.js";import{g as le}from"../../../../chunks/navigation-fbe70647.js";import{e as re}from"../../../../chunks/format-date-eb94f038.js";import{S as Te,a as O}from"../../../../chunks/simple-select-036c95e1.js";import{u as Pe,F as ae,P as Fe}from"../../../../chunks/pagination-34bcf13c.js";import{I as he}from"../../../../chunks/icon-9e859714.js";import{B as Se}from"../../../../chunks/button-3bc39b55.js";import{t as Y}from"../../../../chunks/time-format-2ee65eaa.js";import{E as Ce}from"../../../../chunks/empty-state-37c281b9.js";import{C as Z}from"../../../../chunks/code-block-a4f4482b.js";import{P as Ie}from"../../../../chunks/page-title-fd3770ee.js";import"../../../../chunks/settings-669d336e.js";import"../../../../chunks/index-e5247e3a.js";import"../../../../chunks/simplify-attributes-db1e2585.js";import"../../../../chunks/route-for-api-aeedb213.js";import"../../../../chunks/route-for-82ed5238.js";import"../../../../chunks/get-public-path-6c4a8950.js";import"../../../../chunks/auth-user-88f31028.js";import"../../../../chunks/persist-store-517b9cd5.js";import"../../../../chunks/parse-with-big-int-561ccb8b.js";import"../../../../chunks/notifications-00b5eabd.js";import"../../../../chunks/is-network-error-5f9e2367.js";import"../../../../chunks/table-row-83568b70.js";import"../../../../chunks/is-44021919.js";import"../../../../chunks/workflow-status-f6aafad6.js";import"../../../../chunks/copy-to-clipboard-da829ffe.js";import"../../../../chunks/singletons-eca981c1.js";import"../../../../chunks/badge-025d5c71.js";function Ne(i){let e,r,t,l,o,a,n,s,u,m,p;return a=new he({props:{name:"search",class:"flex items-center text-gray-700"}}),{c(){e=S("div"),r=S("label"),t=W(i[0]),l=C(),o=S("span"),A(a.$$.fragment),n=C(),s=S("input"),this.h()},l(b){e=I(b,"DIV",{class:!0});var f=B(e);r=I(f,"LABEL",{for:!0,class:!0});var _=B(r);t=q(_,i[0]),_.forEach($),l=N(f),o=I(f,"SPAN",{class:!0});var c=B(o);T(a.$$.fragment,c),c.forEach($),n=N(f),s=I(f,"INPUT",{class:!0,placeholder:!0,id:!0}),f.forEach($),this.h()},h(){g(r,"for",i[2]),g(r,"class","hidden"),g(o,"class","svelte-fxm0nn"),g(s,"class","block w-full focus:outline-none"),g(s,"placeholder",i[0]),g(s,"id",i[2]),g(e,"class","input-container focus-within:border-blue-700 svelte-fxm0nn")},m(b,f){k(b,e,f),y(e,r),y(r,t),y(e,l),y(e,o),P(a,o,null),y(e,n),y(e,s),ee(s,i[1]),u=!0,m||(p=U(s,"input",i[6]),m=!0)},p(b,[f]){(!u||f&1)&&z(t,b[0]),(!u||f&1)&&g(s,"placeholder",b[0]),f&2&&s.value!==b[1]&&ee(s,b[1])},i(b){u||(v(a.$$.fragment,b),u=!0)},o(b){w(a.$$.fragment,b),u=!1},d(b){b&&$(e),F(a),m=!1,p()}}}function We(i,e,r){let t;j(i,X,p=>r(5,t=p));let{parameter:l}=e,{name:o}=e,{value:a}=e,n=l&&t.url.searchParams.get(l)||a;const s=`${l||o}-filter`,u=ye(Pe,300);function m(){n=this.value,r(1,n)}return i.$$set=p=>{"parameter"in p&&r(3,l=p.parameter),"name"in p&&r(0,o=p.name),"value"in p&&r(4,a=p.value)},i.$$.update=()=>{i.$$.dirty&42&&u({parameter:l,value:n,url:t.url})},[o,n,s,l,a,t,m]}class ne extends Q{constructor(e){super(),M(this,e,We,Ne,G,{parameter:3,name:0,value:4})}}function se(i){let e,r;return e=new he({props:{name:"search",class:"ml-4 flex items-center text-gray-700"}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){P(e,t,l),r=!0},i(t){r||(v(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){F(e,t)}}}function qe(i){let e;return{c(){e=W(i[2])},l(r){e=q(r,i[2])},m(r,t){k(r,e,t)},p(r,t){t&4&&z(e,r[2])},d(r){r&&$(e)}}}function Be(i){let e,r,t,l,o,a,n,s,u,m,p,b,f=i[4]&&se();return u=new Se({props:{class:"m-2",type:"submit",$$slots:{default:[qe]},$$scope:{ctx:i}}}),{c(){e=S("form"),f&&f.c(),r=C(),t=S("label"),l=W(i[2]),o=C(),a=S("input"),n=C(),s=S("div"),A(u.$$.fragment),this.h()},l(_){e=I(_,"FORM",{class:!0});var c=B(e);f&&f.l(c),r=N(c),t=I(c,"LABEL",{for:!0,class:!0});var h=B(t);l=q(h,i[2]),h.forEach($),o=N(c),a=I(c,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0,autocomplete:!0}),n=N(c),s=I(c,"DIV",{});var d=B(s);T(u.$$.fragment,d),d.forEach($),c.forEach($),this.h()},h(){g(t,"for",i[5]),g(t,"class","hidden"),g(a,"id",i[5]),g(a,"type","text"),g(a,"class","w-full rounded-l-lg px-4 focus:outline-none"),g(a,"name",i[3]),a.value=i[1],g(a,"placeholder",i[0]),g(a,"autocomplete","off"),g(e,"class","relative flex items-center rounded-lg border-2 transition-colors focus-within:border-blue-700")},m(_,c){k(_,e,c),f&&f.m(e,null),y(e,r),y(e,t),y(t,l),y(e,o),y(e,a),y(e,n),y(e,s),P(u,s,null),m=!0,p||(b=[U(a,"input",i[7]),U(e,"submit",J(i[6]))],p=!0)},p(_,[c]){_[4]?f?c&16&&v(f,1):(f=se(),f.c(),v(f,1),f.m(e,r)):f&&(R(),w(f,1,1,()=>{f=null}),V()),(!m||c&4)&&z(l,_[2]),(!m||c&32)&&g(t,"for",_[5]),(!m||c&32)&&g(a,"id",_[5]),(!m||c&8)&&g(a,"name",_[3]),(!m||c&2&&a.value!==_[1])&&(a.value=_[1]),(!m||c&1)&&g(a,"placeholder",_[0]);const h={};c&260&&(h.$$scope={dirty:c,ctx:_}),u.$set(h)},i(_){m||(v(f),v(u.$$.fragment,_),m=!0)},o(_){w(f),w(u.$$.fragment,_),m=!1},d(_){_&&$(e),f&&f.d(),F(u),p=!1,$e(b)}}}function De(i,e,r){let{placeholder:t=""}=e,{value:l=""}=e,{label:o="Search"}=e,{name:a="query"}=e,{icon:n=!1}=e,{id:s=`${o.toLocaleUpperCase()}-input`}=e;function u(p){te.call(this,i,p)}function m(p){te.call(this,i,p)}return i.$$set=p=>{"placeholder"in p&&r(0,t=p.placeholder),"value"in p&&r(1,l=p.value),"label"in p&&r(2,o=p.label),"name"in p&&r(3,a=p.name),"icon"in p&&r(4,n=p.icon),"id"in p&&r(5,s=p.id)},[t,l,o,a,n,s,u,m]}class Le extends Q{constructor(e){super(),M(this,e,De,Be,G,{placeholder:0,value:1,label:2,name:3,icon:4,id:5})}}function oe(i,e,r){const t=i.slice();return t[7]=e[r][0],t[8]=e[r][1],t}function ie(i,e,r){const t=i.slice();return t[8]=e[r],t}function Re(i){let e,r,t,l,o;return{c(){e=S("a"),r=W("Advanced Search"),this.h()},l(a){e=I(a,"A",{href:!0,class:!0});var n=B(e);r=q(n,"Advanced Search"),n.forEach($),this.h()},h(){g(e,"href",t=i[1].url.pathname+"?query"),g(e,"class","text-blue-700")},m(a,n){k(a,e,n),y(e,r),l||(o=U(e,"click",J(i[5]("advanced"))),l=!0)},p(a,n){n&2&&t!==(t=a[1].url.pathname+"?query")&&g(e,"href",t)},d(a){a&&$(e),l=!1,o()}}}function Ve(i){let e,r,t,l,o;return{c(){e=S("a"),r=W("Basic Search"),this.h()},l(a){e=I(a,"A",{href:!0,class:!0});var n=B(e);r=q(n,"Basic Search"),n.forEach($),this.h()},h(){g(e,"href",t=i[1].url.pathname),g(e,"class","text-blue-700")},m(a,n){k(a,e,n),y(e,r),l||(o=U(e,"click",J(i[5]("basic"))),l=!0)},p(a,n){n&2&&t!==(t=a[1].url.pathname)&&g(e,"href",t)},d(a){a&&$(e),l=!1,o()}}}function Oe(i){let e,r,t,l,o,a,n,s,u,m,p,b;r=new ne({props:{parameter:"workflow-id",name:"Workflow ID",value:Xe}}),l=new ne({props:{parameter:"workflow-type",name:"Workflow Type",value:Ze}}),a=new ae({props:{label:"Time Range",parameter:"time-range",value:"24 hours",$$slots:{default:[He]},$$scope:{ctx:i}}}),s=new ae({props:{label:"Workflow Status",parameter:"status",value:null,$$slots:{default:[Me]},$$scope:{ctx:i}}});function f(c){i[6](c)}let _={id:"filter-by-relative-time",$$slots:{default:[Je]},$$scope:{ctx:i}};return i[2]!==void 0&&(_.value=i[2]),m=new Te({props:_}),de.push(()=>be(m,"value",f)),{c(){e=S("div"),A(r.$$.fragment),t=C(),A(l.$$.fragment),o=C(),A(a.$$.fragment),n=C(),A(s.$$.fragment),u=C(),A(m.$$.fragment),this.h()},l(c){e=I(c,"DIV",{class:!0});var h=B(e);T(r.$$.fragment,h),t=N(h),T(l.$$.fragment,h),o=N(h),T(a.$$.fragment,h),n=N(h),T(s.$$.fragment,h),u=N(h),T(m.$$.fragment,h),h.forEach($),this.h()},h(){g(e,"class","grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-5")},m(c,h){k(c,e,h),P(r,e,null),y(e,t),P(l,e,null),y(e,o),P(a,e,null),y(e,n),P(s,e,null),y(e,u),P(m,e,null),b=!0},p(c,h){const d={};h&8192&&(d.$$scope={dirty:h,ctx:c}),a.$set(d);const E={};h&8192&&(E.$$scope={dirty:h,ctx:c}),s.$set(E);const D={};h&8192&&(D.$$scope={dirty:h,ctx:c}),!p&&h&4&&(p=!0,D.value=c[2],ge(()=>p=!1)),m.$set(D)},i(c){b||(v(r.$$.fragment,c),v(l.$$.fragment,c),v(a.$$.fragment,c),v(s.$$.fragment,c),v(m.$$.fragment,c),b=!0)},o(c){w(r.$$.fragment,c),w(l.$$.fragment,c),w(a.$$.fragment,c),w(s.$$.fragment,c),w(m.$$.fragment,c),b=!1},d(c){c&&$(e),F(r),F(l),F(a),F(s),F(m)}}}function Ue(i){let e,r;return e=new Le({props:{icon:!0,placeholder:"Query\u2026",value:i[1].url.searchParams.get("query")}}),e.$on("submit",i[4]),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){P(e,t,l),r=!0},p(t,l){const o={};l&2&&(o.value=t[1].url.searchParams.get("query")),e.$set(o)},i(t){r||(v(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){F(e,t)}}}function je(i){let e=i[8]+"",r;return{c(){r=W(e)},l(t){r=q(t,e)},m(t,l){k(t,r,l)},p:K,d(t){t&&$(r)}}}function fe(i){let e,r;return e=new O({props:{value:i[8],$$slots:{default:[je]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){P(e,t,l),r=!0},p(t,l){const o={};l&8192&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(v(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){F(e,t)}}}function He(i){let e,r,t=re,l=[];for(let a=0;a<t.length;a+=1)l[a]=fe(ie(i,t,a));const o=a=>w(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=L()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);e=L()},m(a,n){for(let s=0;s<l.length;s+=1)l[s].m(a,n);k(a,e,n),r=!0},p(a,n){if(n&0){t=re;let s;for(s=0;s<t.length;s+=1){const u=ie(a,t,s);l[s]?(l[s].p(u,n),v(l[s],1)):(l[s]=fe(u),l[s].c(),v(l[s],1),l[s].m(e.parentNode,e))}for(R(),s=t.length;s<l.length;s+=1)o(s);V()}},i(a){if(!r){for(let n=0;n<t.length;n+=1)v(l[n]);r=!0}},o(a){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)w(l[n]);r=!1},d(a){_e(l,a),a&&$(e)}}}function Qe(i){let e=i[7]+"",r;return{c(){r=W(e)},l(t){r=q(t,e)},m(t,l){k(t,r,l)},p:K,d(t){t&&$(r)}}}function ce(i,e){let r,t,l;return t=new O({props:{value:e[8],$$slots:{default:[Qe]},$$scope:{ctx:e}}}),{key:i,first:null,c(){r=L(),A(t.$$.fragment),this.h()},l(o){r=L(),T(t.$$.fragment,o),this.h()},h(){this.first=r},m(o,a){k(o,r,a),P(t,o,a),l=!0},p(o,a){e=o;const n={};a&8192&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(o){l||(v(t.$$.fragment,o),l=!0)},o(o){w(t.$$.fragment,o),l=!1},d(o){o&&$(r),F(t,o)}}}function Me(i){let e=[],r=new Map,t,l,o=Object.entries(i[3]);const a=n=>n[7];for(let n=0;n<o.length;n+=1){let s=oe(i,o,n),u=a(s);r.set(u,e[n]=ce(u,s))}return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=L()},l(n){for(let s=0;s<e.length;s+=1)e[s].l(n);t=L()},m(n,s){for(let u=0;u<e.length;u+=1)e[u].m(n,s);k(n,t,s),l=!0},p(n,s){s&8&&(o=Object.entries(n[3]),R(),e=ve(e,s,a,1,n,o,r,t.parentNode,ke,ce,t,oe),V())},i(n){if(!l){for(let s=0;s<o.length;s+=1)v(e[s]);l=!0}},o(n){for(let s=0;s<e.length;s+=1)w(e[s]);l=!1},d(n){for(let s=0;s<e.length;s+=1)e[s].d(n);n&&$(t)}}}function Ge(i){let e;return{c(){e=W("Relative")},l(r){e=q(r,"Relative")},m(r,t){k(r,e,t)},d(r){r&&$(e)}}}function Ye(i){let e;return{c(){e=W("UTC")},l(r){e=q(r,"UTC")},m(r,t){k(r,e,t)},d(r){r&&$(e)}}}function ze(i){let e;return{c(){e=W("Local")},l(r){e=q(r,"Local")},m(r,t){k(r,e,t)},d(r){r&&$(e)}}}function Je(i){let e,r,t,l,o,a;return e=new O({props:{value:"relative",$$slots:{default:[Ge]},$$scope:{ctx:i}}}),t=new O({props:{value:"UTC",$$slots:{default:[Ye]},$$scope:{ctx:i}}}),o=new O({props:{value:"local",$$slots:{default:[ze]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment),r=C(),A(t.$$.fragment),l=C(),A(o.$$.fragment)},l(n){T(e.$$.fragment,n),r=N(n),T(t.$$.fragment,n),l=N(n),T(o.$$.fragment,n)},m(n,s){P(e,n,s),k(n,r,s),P(t,n,s),k(n,l,s),P(o,n,s),a=!0},p(n,s){const u={};s&8192&&(u.$$scope={dirty:s,ctx:n}),e.$set(u);const m={};s&8192&&(m.$$scope={dirty:s,ctx:n}),t.$set(m);const p={};s&8192&&(p.$$scope={dirty:s,ctx:n}),o.$set(p)},i(n){a||(v(e.$$.fragment,n),v(t.$$.fragment,n),v(o.$$.fragment,n),a=!0)},o(n){w(e.$$.fragment,n),w(t.$$.fragment,n),w(o.$$.fragment,n),a=!1},d(n){F(e,n),n&&$(r),F(t,n),n&&$(l),F(o,n)}}}function Ke(i){let e,r,t,l,o,a;function n(f,_){return f[0]?Ve:Re}let s=n(i),u=s(i);const m=[Ue,Oe],p=[];function b(f,_){return f[0]?0:1}return l=b(i),o=p[l]=m[l](i),{c(){e=S("section"),r=S("p"),u.c(),t=C(),o.c(),this.h()},l(f){e=I(f,"SECTION",{class:!0});var _=B(e);r=I(_,"P",{class:!0});var c=B(r);u.l(c),c.forEach($),t=N(_),o.l(_),_.forEach($),this.h()},h(){g(r,"class","text-right text-xs"),g(e,"class","flex flex-col gap-2")},m(f,_){k(f,e,_),y(e,r),u.m(r,null),y(e,t),p[l].m(e,null),a=!0},p(f,[_]){s===(s=n(f))&&u?u.p(f,_):(u.d(1),u=s(f),u&&(u.c(),u.m(r,null)));let c=l;l=b(f),l===c?p[l].p(f,_):(R(),w(p[c],1,1,()=>{p[c]=null}),V(),o=p[l],o?o.p(f,_):(o=p[l]=m[l](f),o.c()),v(o,1),o.m(e,null))},i(f){a||(v(o),a=!0)},o(f){w(o),a=!1},d(f){f&&$(e),u.d(),p[l].d()}}}let Xe="",Ze="";function xe(i,e,r){let t,l;j(i,X,m=>r(1,t=m)),j(i,Y,m=>r(2,l=m));const o={All:null,"Timed Out":"TimedOut",Completed:"Completed",Failed:"Failed","Continued as New":"ContinuedAsNew",Canceled:"Canceled",Terminated:"Terminated"};let a=t.url.searchParams.has("query");const n=m=>{const b=new FormData(m.target).get("query");t.url.searchParams.set("query",String(b)),le(t.url.toString())},s=m=>p=>{const b=p.target;r(0,a=m==="advanced"),a||t.url.searchParams.delete("query"),le(b.href)};function u(m){l=m,Y.set(l)}return[a,t,l,o,n,s,u]}class et extends Q{constructor(e){super(),M(this,e,xe,Ke,G,{})}}function ue(i,e,r){const t=i.slice();return t[7]=e[r],t}function tt(i){let e,r,t,l,o,a,n,s,u,m,p,b,f,_,c;n=new Z({props:{content:`tctl --namespace ${i[0]} namespace update --has enabled`,language:"text",inline:!0}});let h=!i[3]&&me(i);return{c(){e=S("h2"),r=W("This namespace is currently not enabled for archival."),t=C(),l=S("p"),o=W("Run this command to enable Archival for Event Histories:"),a=C(),A(n.$$.fragment),s=C(),h&&h.c(),u=C(),m=S("p"),p=W("For more details, please check out "),b=S("a"),f=W("Archival documentation"),_=W("."),this.h()},l(d){e=I(d,"H2",{class:!0,"data-cy":!0});var E=B(e);r=q(E,"This namespace is currently not enabled for archival."),E.forEach($),t=N(d),l=I(d,"P",{});var D=B(l);o=q(D,"Run this command to enable Archival for Event Histories:"),D.forEach($),a=N(d),T(n.$$.fragment,d),s=N(d),h&&h.l(d),u=N(d),m=I(d,"P",{});var H=B(m);p=q(H,"For more details, please check out "),b=I(H,"A",{class:!0,href:!0,target:!0});var x=B(b);f=q(x,"Archival documentation"),x.forEach($),_=q(H,"."),H.forEach($),this.h()},h(){g(e,"class","text-2xl"),g(e,"data-cy","archived-disabled-title"),g(b,"class","text-blue-700 underline"),g(b,"href","https://docs.temporal.io/server/archive-data/"),g(b,"target","_blank")},m(d,E){k(d,e,E),y(e,r),k(d,t,E),k(d,l,E),y(l,o),k(d,a,E),P(n,d,E),k(d,s,E),h&&h.m(d,E),k(d,u,E),k(d,m,E),y(m,p),y(m,b),y(b,f),y(m,_),c=!0},p(d,E){const D={};E&1&&(D.content=`tctl --namespace ${d[0]} namespace update --has enabled`),n.$set(D),d[3]?h&&(R(),w(h,1,1,()=>{h=null}),V()):h?(h.p(d,E),E&8&&v(h,1)):(h=me(d),h.c(),v(h,1),h.m(u.parentNode,u))},i(d){c||(v(n.$$.fragment,d),v(h),c=!0)},o(d){w(n.$$.fragment,d),w(h),c=!1},d(d){d&&$(e),d&&$(t),d&&$(l),d&&$(a),F(n,d),d&&$(s),h&&h.d(d),d&&$(u),d&&$(m)}}}function lt(i){let e,r,t,l,o,a,n,s,u,m,p,b,f,_;return n=new Z({props:{content:`tctl --namespace ${i[0]} namespace update -vas enabled`,language:"text",inline:!0}}),{c(){e=S("h2"),r=W(`This namespace is currently enabled for archival but visibility is not
    enabled.`),t=C(),l=S("p"),o=W("To enable Visibility Archival:"),a=C(),A(n.$$.fragment),s=C(),u=S("p"),m=W("For more details, please check out "),p=S("a"),b=W("Archival documentation"),f=W("."),this.h()},l(c){e=I(c,"H2",{class:!0,"data-cy":!0});var h=B(e);r=q(h,`This namespace is currently enabled for archival but visibility is not
    enabled.`),h.forEach($),t=N(c),l=I(c,"P",{});var d=B(l);o=q(d,"To enable Visibility Archival:"),d.forEach($),a=N(c),T(n.$$.fragment,c),s=N(c),u=I(c,"P",{});var E=B(u);m=q(E,"For more details, please check out "),p=I(E,"A",{class:!0,href:!0,target:!0});var D=B(p);b=q(D,"Archival documentation"),D.forEach($),f=q(E,"."),E.forEach($),this.h()},h(){g(e,"class","text-2xl"),g(e,"data-cy","visibility-disabled-title"),g(p,"class","text-blue-700 underline"),g(p,"href","https://docs.temporal.io/server/archive-data/"),g(p,"target","_blank")},m(c,h){k(c,e,h),y(e,r),k(c,t,h),k(c,l,h),y(l,o),k(c,a,h),P(n,c,h),k(c,s,h),k(c,u,h),y(u,m),y(u,p),y(p,b),y(u,f),_=!0},p(c,h){const d={};h&1&&(d.content=`tctl --namespace ${c[0]} namespace update -vas enabled`),n.$set(d)},i(c){_||(v(n.$$.fragment,c),_=!0)},o(c){w(n.$$.fragment,c),_=!1},d(c){c&&$(e),c&&$(t),c&&$(l),c&&$(a),F(n,c),c&&$(s),c&&$(u)}}}function rt(i){let e,r,t,l,o,a,n,s,u;l=new et({});const m=[nt,at],p=[];function b(f,_){var c;return(c=f[1])!=null&&c.length?0:1}return a=b(i),n=p[a]=m[a](i),{c(){e=S("h2"),r=W("Archived Workflows"),t=C(),A(l.$$.fragment),o=C(),n.c(),s=L(),this.h()},l(f){e=I(f,"H2",{class:!0,"data-cy":!0});var _=B(e);r=q(_,"Archived Workflows"),_.forEach($),t=N(f),T(l.$$.fragment,f),o=N(f),n.l(f),s=L(),this.h()},h(){g(e,"class","text-2xl"),g(e,"data-cy","archived-enabled-title")},m(f,_){k(f,e,_),y(e,r),k(f,t,_),P(l,f,_),k(f,o,_),p[a].m(f,_),k(f,s,_),u=!0},p(f,_){let c=a;a=b(f),a===c?p[a].p(f,_):(R(),w(p[c],1,1,()=>{p[c]=null}),V(),n=p[a],n?n.p(f,_):(n=p[a]=m[a](f),n.c()),v(n,1),n.m(s.parentNode,s))},i(f){u||(v(l.$$.fragment,f),v(n),u=!0)},o(f){w(l.$$.fragment,f),w(n),u=!1},d(f){f&&$(e),f&&$(t),F(l,f),f&&$(o),p[a].d(f),f&&$(s)}}}function me(i){let e,r,t,l,o;return l=new Z({props:{content:`tctl --namespace ${i[0]} namespace update -vas enabled`,language:"text",inline:!0}}),{c(){e=S("p"),r=W("To enable Visibility Archival:"),t=C(),A(l.$$.fragment)},l(a){e=I(a,"P",{});var n=B(e);r=q(n,"To enable Visibility Archival:"),n.forEach($),t=N(a),T(l.$$.fragment,a)},m(a,n){k(a,e,n),y(e,r),k(a,t,n),P(l,a,n),o=!0},p(a,n){const s={};n&1&&(s.content=`tctl --namespace ${a[0]} namespace update -vas enabled`),l.$set(s)},i(a){o||(v(l.$$.fragment,a),o=!0)},o(a){w(l.$$.fragment,a),o=!1},d(a){a&&$(e),a&&$(t),F(l,a)}}}function at(i){let e,r;return e=new Ce({props:{title:"No Workflows Found",content:"If you have filters applied, try adjusting them."}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){P(e,t,l),r=!0},p:K,i(t){r||(v(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){F(e,t)}}}function nt(i){let e,r;return e=new Fe({props:{items:i[1],$$slots:{default:[ot,({visibleItems:t})=>({6:t}),({visibleItems:t})=>t?64:0]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){P(e,t,l),r=!0},p(t,l){const o={};l&2&&(o.items=t[1]),l&1121&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(v(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){F(e,t)}}}function pe(i){let e,r;return e=new Ae({props:{workflow:i[7],namespace:i[0],timeFormat:i[5]}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){P(e,t,l),r=!0},p(t,l){const o={};l&64&&(o.workflow=t[7]),l&1&&(o.namespace=t[0]),l&32&&(o.timeFormat=t[5]),e.$set(o)},i(t){r||(v(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){F(e,t)}}}function st(i){let e,r,t=i[6],l=[];for(let a=0;a<t.length;a+=1)l[a]=pe(ue(i,t,a));const o=a=>w(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=L()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);e=L()},m(a,n){for(let s=0;s<l.length;s+=1)l[s].m(a,n);k(a,e,n),r=!0},p(a,n){if(n&97){t=a[6];let s;for(s=0;s<t.length;s+=1){const u=ue(a,t,s);l[s]?(l[s].p(u,n),v(l[s],1)):(l[s]=pe(u),l[s].c(),v(l[s],1),l[s].m(e.parentNode,e))}for(R(),s=t.length;s<l.length;s+=1)o(s);V()}},i(a){if(!r){for(let n=0;n<t.length;n+=1)v(l[n]);r=!0}},o(a){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)w(l[n]);r=!1},d(a){_e(l,a),a&&$(e)}}}function ot(i){let e,r;return e=new Ee({props:{$$slots:{default:[st]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){P(e,t,l),r=!0},p(t,l){const o={};l&1121&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(v(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){F(e,t)}}}function it(i){let e,r,t,l,o,a;e=new Ie({props:{title:`Archival | ${i[0]}`,url:i[4].url.href}});const n=[rt,lt,tt],s=[];function u(m,p){return m[2]&&m[3]?0:m[2]?1:2}return t=u(i),l=s[t]=n[t](i),{c(){A(e.$$.fragment),r=C(),l.c(),o=L()},l(m){T(e.$$.fragment,m),r=N(m),l.l(m),o=L()},m(m,p){P(e,m,p),k(m,r,p),s[t].m(m,p),k(m,o,p),a=!0},p(m,[p]){const b={};p&1&&(b.title=`Archival | ${m[0]}`),p&16&&(b.url=m[4].url.href),e.$set(b);let f=t;t=u(m),t===f?s[t].p(m,p):(R(),w(s[f],1,1,()=>{s[f]=null}),V(),l=s[t],l?l.p(m,p):(l=s[t]=n[t](m),l.c()),v(l,1),l.m(o.parentNode,o))},i(m){a||(v(e.$$.fragment,m),v(l),a=!0)},o(m){w(e.$$.fragment,m),w(l),a=!1},d(m){F(e,m),m&&$(r),s[t].d(m),m&&$(o)}}}const Ut=async function({params:i,url:e,stuff:r}){var t,l;const{searchParams:o}=e;o.has("time-range")||o.set("time-range","1 day");const a=i.namespace,n=o.get("workflow-id"),s=o.get("workflow-type"),u=o.get("time-range"),m=o.get("status"),p={workflowId:n,workflowType:s,closeTime:u,executionStatus:m},f=r.namespaces.find(d=>d.namespaceInfo.name===a),_=((t=f==null?void 0:f.config)===null||t===void 0?void 0:t.historyArchivalState)==="Enabled",c=((l=f==null?void 0:f.config)===null||l===void 0?void 0:l.visibilityArchivalState)==="Enabled",h=_&&c?await we(a,p,fetch):null;return{props:{workflows:h?h.workflows:[],namespace:a,archivalEnabled:_,visibilityArchivalEnabled:c}}};function ft(i,e,r){let t,l;j(i,X,u=>r(4,t=u)),j(i,Y,u=>r(5,l=u));let{namespace:o}=e,{workflows:a}=e,{archivalEnabled:n=!1}=e,{visibilityArchivalEnabled:s=!1}=e;return i.$$set=u=>{"namespace"in u&&r(0,o=u.namespace),"workflows"in u&&r(1,a=u.workflows),"archivalEnabled"in u&&r(2,n=u.archivalEnabled),"visibilityArchivalEnabled"in u&&r(3,s=u.visibilityArchivalEnabled)},[o,a,n,s,t,l]}class jt extends Q{constructor(e){super(),M(this,e,ft,it,G,{namespace:0,workflows:1,archivalEnabled:2,visibilityArchivalEnabled:3})}}export{jt as default,Ut as load};
