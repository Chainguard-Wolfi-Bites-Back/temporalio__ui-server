import{S as ce,i as ue,s as _e,l as L,m as S,n as V,h as w,q as R,ax as $,ag as de,b as M,N as y,ar as ge,U as te,g as fe,ac as ve,ap as be,d as me,f as H,t as U,o as ke,J as we,a as A,c as F,K as ye,L as Ee,M as Te,E as x,a0 as ee,r as j,u as G,x as B,y as J,p as z,z as K,Z as le,C as Y,O as se,a4 as Ie,F as he,e as re,v as Le}from"../../chunks/index-681506b4.js";import{g as Se}from"../../chunks/navigation-fbe70647.js";import{p as Ne}from"../../chunks/stores-6139b3d6.js";import{l as oe}from"../../chunks/namespaces-c7db9b43.js";import{r as Ve}from"../../chunks/route-for-06e4a074.js";import{E as pe}from"../../chunks/empty-state-3ccc9dac.js";import{I as He}from"../../chunks/icon-f119ac4d.js";import{P as Ue}from"../../chunks/page-title-42e4ccec.js";import{b as ze}from"../../chunks/workflow-service-5c016f96.js";import{n as Ce}from"../../chunks/notifications-98a8add6.js";import"../../chunks/singletons-eca981c1.js";import"../../chunks/persist-store-97aab428.js";import"../../chunks/index-b4b51db3.js";import"../../chunks/parse-with-big-int-561ccb8b.js";import"../../chunks/settings-98c2e5c7.js";import"../../chunks/simplify-attributes-055c76f2.js";import"../../chunks/format-date-c1755997.js";import"../../chunks/format-time-d031c2bc.js";import"../../chunks/is-44021919.js";import"../../chunks/route-for-api-45689f42.js";import"../../chunks/auth-user-1dab4aa1.js";import"../../chunks/is-network-error-5f9e2367.js";function ne(r,e,t){const l=r.slice();return l[23]=e[t],l}const We=r=>({item:r&16}),ie=r=>({item:r[23].data});function Me(r){let e;return{c(){e=j("Missing template")},l(t){e=G(t,"Missing template")},m(t,l){M(t,e,l)},d(t){t&&w(e)}}}function ae(r,e){let t,l,i;const _=e[14].default,f=we(_,e,e[13],ie),a=f||Me();return{key:r,first:null,c(){t=L("svelte-virtual-list-row"),a&&a.c(),l=A(),this.h()},l(s){t=S(s,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var u=V(t);a&&a.l(u),l=F(u),u.forEach(w),this.h()},h(){$(t,"class","svelte-1kdxoed"),this.first=t},m(s,u){M(s,t,u),a&&a.m(t,null),y(t,l),i=!0},p(s,u){e=s,f&&f.p&&(!i||u&8208)&&ye(f,_,e,e[13],i?Te(_,e[13],u,We):Ee(e[13]),ie)},i(s){i||(H(a,s),i=!0)},o(s){U(a,s),i=!1},d(s){s&&w(t),a&&a.d(s)}}}function Pe(r){let e,t,l=[],i=new Map,_,f,a,s,u=r[4];const h=c=>c[23].index;for(let c=0;c<u.length;c+=1){let n=ne(r,u,c),v=h(n);i.set(v,l[c]=ae(v,n))}return{c(){e=L("svelte-virtual-list-viewport"),t=L("svelte-virtual-list-contents");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=S(c,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var n=V(e);t=S(n,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var v=V(t);for(let d=0;d<l.length;d+=1)l[d].l(v);v.forEach(w),n.forEach(w),this.h()},h(){R(t,"padding-top",r[5]+"px"),R(t,"padding-bottom",r[6]+"px"),$(t,"class","svelte-1kdxoed"),R(e,"height",r[0]),$(e,"class","svelte-1kdxoed"),de(()=>r[17].call(e))},m(c,n){M(c,e,n),y(e,t);for(let v=0;v<l.length;v+=1)l[v].m(t,null);r[15](t),r[16](e),_=ge(e,r[17].bind(e)),f=!0,a||(s=te(e,"scroll",r[7]),a=!0)},p(c,[n]){n&8208&&(u=c[4],fe(),l=ve(l,n,h,1,c,u,i,t,be,ae,null,ne),me()),(!f||n&32)&&R(t,"padding-top",c[5]+"px"),(!f||n&64)&&R(t,"padding-bottom",c[6]+"px"),(!f||n&1)&&R(e,"height",c[0])},i(c){if(!f){for(let n=0;n<u.length;n+=1)H(l[n]);f=!0}},o(c){for(let n=0;n<l.length;n+=1)U(l[n]);f=!1},d(c){c&&w(e);for(let n=0;n<l.length;n+=1)l[n].d();r[15](null),r[16](null),_(),a=!1,s()}}}function Re(r,e,t){let{$$slots:l={},$$scope:i}=e,{items:_}=e,{height:f="100%"}=e,{itemHeight:a=void 0}=e,{start:s=0}=e,{end:u=0}=e,h=[],c,n,v,d=0,C,m,b=0,E=0,T;async function O(o,p,k){const{scrollTop:I}=n;await x();let N=b-I,g=s;for(;N<p&&g<o.length;){let q=c[g-s];q||(t(9,u=g+1),await x(),q=c[g-s]),N+=h[g]=k||q.offsetHeight,g+=1}t(9,u=g);const W=o.length-u;T=(b+N)/u,t(6,E=W*T),h.length=o.length}async function Z(){const{scrollTop:o}=n,p=s;for(let g=0;g<c.length;g+=1)h[s+g]=a||c[g].offsetHeight;let k=0,I=0;for(;k<_.length;){const g=h[k]||T;if(I+g>o){t(8,s=k),t(5,b=I);break}I+=g,k+=1}for(;k<_.length&&(I+=h[k]||T,k+=1,!(I>o+d)););t(9,u=k);const N=_.length-u;for(T=I/u;k<_.length;)h[k++]=T;if(t(6,E=N*T),s<p){await x();let g=0,W=0;for(let P=s;P<p;P+=1)c[P-s]&&(g+=h[P],W+=a||c[P-s].offsetHeight);const q=W-g;n.scrollTo(0,o+q)}}ke(()=>{c=v.getElementsByTagName("svelte-virtual-list-row"),t(12,m=!0)});function Q(o){ee[o?"unshift":"push"](()=>{v=o,t(3,v)})}function D(o){ee[o?"unshift":"push"](()=>{n=o,t(2,n)})}function X(){d=this.offsetHeight,t(1,d)}return r.$$set=o=>{"items"in o&&t(10,_=o.items),"height"in o&&t(0,f=o.height),"itemHeight"in o&&t(11,a=o.itemHeight),"start"in o&&t(8,s=o.start),"end"in o&&t(9,u=o.end),"$$scope"in o&&t(13,i=o.$$scope)},r.$$.update=()=>{r.$$.dirty&1792&&t(4,C=_.slice(s,u).map((o,p)=>({index:p+s,data:o}))),r.$$.dirty&7170&&m&&O(_,d,a)},[f,d,n,v,C,b,E,Z,s,u,_,a,m,i,l,Q,D,X]}class Ae extends ce{constructor(e){super(),ue(this,e,Re,Pe,_e,{items:10,height:0,itemHeight:11,start:8,end:9})}}function Fe(r){let e,t;return e=new pe({props:{title:"No Namespaces. Contact your admin to create one."}}),{c(){B(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p:he,i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Oe(r){let e,t,l,i;const _=[qe,De],f=[];function a(s,u){return s[2].length?0:1}return e=a(r),t=f[e]=_[e](r),{c(){t.c(),l=re()},l(s){t.l(s),l=re()},m(s,u){f[e].m(s,u),M(s,l,u),i=!0},p(s,u){let h=e;e=a(s),e===h?f[e].p(s,u):(fe(),U(f[h],1,1,()=>{f[h]=null}),me(),t=f[e],t?t.p(s,u):(t=f[e]=_[e](s),t.c()),H(t,1),t.m(l.parentNode,l))},i(s){i||(H(t),i=!0)},o(s){U(t),i=!1},d(s){f[e].d(s),s&&w(l)}}}function De(r){let e,t;return e=new pe({props:{title:"No results."}}),{c(){B(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p:he,i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function qe(r){let e,t;return e=new Ae({props:{items:r[2],itemHeight:50,$$slots:{default:[Be,({item:l})=>({13:l}),({item:l})=>l?8192:0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const _={};i&4&&(_.items=l[2]),i&24576&&(_.$$scope={dirty:i,ctx:l}),e.$set(_)},i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Be(r){let e,t=r[13].namespace+"",l,i,_;function f(){return r[7](r[13])}return{c(){e=L("li"),l=j(t),this.h()},l(a){e=S(a,"LI",{class:!0});var s=V(e);l=G(s,t),s.forEach(w),this.h()},h(){z(e,"class","link-item svelte-ttx97")},m(a,s){M(a,e,s),y(e,l),i||(_=te(e,"click",f),i=!0)},p(a,s){r=a,s&8192&&t!==(t=r[13].namespace+"")&&Le(l,t)},d(a){a&&w(e),i=!1,_()}}}function Je(r){let e,t,l,i,_,f,a,s,u,h,c,n,v,d,C,m,b,E,T,O,Z;e=new Ue({props:{title:"Select Namespace",url:r[3].url.href}}),n=new He({props:{name:"search"}});const Q=[Oe,Fe],D=[];function X(o,p){return o[4].length?0:1}return b=X(r),E=D[b]=Q[b](r),{c(){B(e.$$.fragment),t=A(),l=L("div"),i=L("h1"),_=j("Welcome to Temporal"),f=A(),a=L("p"),s=j("Select a namespace to get started."),u=A(),h=L("div"),c=L("div"),B(n.$$.fragment),v=A(),d=L("input"),C=A(),m=L("ul"),E.c(),this.h()},l(o){J(e.$$.fragment,o),t=F(o),l=S(o,"DIV",{class:!0});var p=V(l);i=S(p,"H1",{class:!0});var k=V(i);_=G(k,"Welcome to Temporal"),k.forEach(w),f=F(p),a=S(p,"P",{class:!0});var I=V(a);s=G(I,"Select a namespace to get started."),I.forEach(w),u=F(p),h=S(p,"DIV",{class:!0});var N=V(h);c=S(N,"DIV",{class:!0});var g=V(c);J(n.$$.fragment,g),g.forEach(w),v=F(N),d=S(N,"INPUT",{class:!0,placeholder:!0}),N.forEach(w),C=F(p),m=S(p,"UL",{class:!0});var W=V(m);E.l(W),W.forEach(w),p.forEach(w),this.h()},h(){z(i,"class","my-4 text-3xl"),z(a,"class","mb-8"),z(c,"class","ml-4 mr-2"),z(d,"class","w-full"),z(d,"placeholder","Search"),z(h,"class","mb-5 flex rounded-full border p-1 pr-4"),z(m,"class","h-screen w-full"),z(l,"class","w-full p-8 xl:w-1/2")},m(o,p){K(e,o,p),M(o,t,p),M(o,l,p),y(l,i),y(i,_),y(l,f),y(l,a),y(a,s),y(l,u),y(l,h),y(h,c),K(n,c,null),y(h,v),y(h,d),le(d,r[0]),r[6](d),y(l,C),y(l,m),D[b].m(m,null),T=!0,O||(Z=te(d,"input",r[5]),O=!0)},p(o,[p]){const k={};p&8&&(k.url=o[3].url.href),e.$set(k),p&1&&d.value!==o[0]&&le(d,o[0]),E.p(o,p)},i(o){T||(H(e.$$.fragment,o),H(n.$$.fragment,o),H(E),T=!0)},o(o){U(e.$$.fragment,o),U(n.$$.fragment,o),U(E),T=!1},d(o){Y(e,o),o&&w(t),o&&w(l),Y(n),r[6](null),D[b].d(),O=!1,Z()}}}function Ke(r,e,t){let l,i,_;se(r,oe,m=>t(10,i=m)),se(r,Ne,m=>t(3,_=m));var f,a;let s=null;const u=(a=(f=_.stuff)===null||f===void 0?void 0:f.settings)===null||a===void 0?void 0:a.showTemporalSystemNamespace,c=(_.stuff.namespaces||[]).map(m=>{var b;return(b=m==null?void 0:m.namespaceInfo)===null||b===void 0?void 0:b.name}).filter(m=>u||m!=="temporal-system").map(m=>({namespace:m,onClick:async b=>{const{authorized:E}=await ze(b);E?(Ie(oe,i=b,i),Se(Ve({namespace:b}))):Ce.add("error","You do not have access to this namespace.")}}));let n="";function v(){n=this.value,t(0,n)}function d(m){ee[m?"unshift":"push"](()=>{s=m,t(1,s)})}const C=m=>m==null?void 0:m.onClick(m.namespace);return r.$$.update=()=>{r.$$.dirty&1&&t(2,l=c.filter(({namespace:m})=>m.includes(n)))},[n,s,l,_,c,v,d,C]}class ht extends ce{constructor(e){super(),ue(this,e,Ke,Je,_e,{})}}export{ht as default};
