import{S as p,i as l,s as u,x as d,y as f,z as _,F as g,f as v,t as N,C as h,O as x,o as y}from"../chunks/index-7e739eea.js";import{a as $}from"../chunks/get-namespace-a384fdef.js";import{r as c,q as m}from"../chunks/route-for-06e4a074.js";import{g as i}from"../chunks/navigation-fbe70647.js";import{b}from"../chunks/workflow-service-edf003eb.js";import{l as w}from"../chunks/namespaces-8acbff9a.js";import{L as C}from"../chunks/loading-d00fcc7a.js";import"../chunks/singletons-eca981c1.js";import"../chunks/settings-c94c37e6.js";import"../chunks/index-d8ed1bec.js";import"../chunks/simplify-attributes-055c76f2.js";import"../chunks/format-date-c1755997.js";import"../chunks/format-time-d031c2bc.js";import"../chunks/is-44021919.js";import"../chunks/route-for-api-652ea8c7.js";import"../chunks/auth-user-bc1ad23a.js";import"../chunks/persist-store-c25f6403.js";import"../chunks/parse-with-big-int-561ccb8b.js";import"../chunks/notifications-7e703e91.js";import"../chunks/is-network-error-5f9e2367.js";function F(a){let e,o;return e=new C({}),{c(){d(e.$$.fragment)},l(t){f(e.$$.fragment,t)},m(t,n){_(e,t,n),o=!0},p:g,i(t){o||(v(e.$$.fragment,t),o=!0)},o(t){N(e.$$.fragment,t),o=!1},d(t){h(e,t)}}}const P=async({stuff:a})=>{var e,o;const t=a.namespaces,n=(e=a==null?void 0:a.settings)===null||e===void 0?void 0:e.defaultNamespace,s=(o=a.settings.runtimeEnvironment)===null||o===void 0?void 0:o.isCloud,r=$({namespaces:t,defaultNamespace:n});return s?{status:302,redirect:c({namespace:r})}:{props:{namespace:r}}};function z(a,e,o){let t;x(a,w,r=>o(1,t=r));let{namespace:n}=e;const s=t&&t!=="default"?t:n;return y(async()=>{try{const{authorized:r}=await b(s);r?i(c({namespace:s})):i(m())}catch{i(m())}}),a.$$set=r=>{"namespace"in r&&o(0,n=r.namespace)},[n]}class Q extends p{constructor(e){super(),l(this,e,z,F,u,{namespace:0})}}export{Q as default,P as load};
