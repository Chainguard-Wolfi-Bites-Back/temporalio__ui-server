import{S as p,i as l,s as u,x as d,y as f,z as _,F as g,f as N,t as v,C as h,O as x,o as y}from"../chunks/index-0b369c75.js";import{r as c,j as m}from"../chunks/route-for-198cbbe1.js";import{g as s}from"../chunks/navigation-fbe70647.js";import{a as C}from"../chunks/workflow-service-82cd2181.js";import{l as $}from"../chunks/namespaces-648ccca7.js";import{L as w}from"../chunks/loading-54a8cebb.js";import"../chunks/singletons-eca981c1.js";import"../chunks/settings-be4fa165.js";import"../chunks/index-8c6be68a.js";import"../chunks/simplify-attributes-e2395256.js";import"../chunks/format-date-e74858c6.js";import"../chunks/format-time-1c3c6192.js";import"../chunks/is-b4c8f655.js";import"../chunks/route-for-api-cb3151e3.js";import"../chunks/auth-user-8d8472d7.js";import"../chunks/persist-store-35c981b5.js";import"../chunks/parse-with-big-int-561ccb8b.js";import"../chunks/notifications-64e4d8bf.js";import"../chunks/is-network-error-5f9e2367.js";function F(a){let e,o;return e=new w({}),{c(){d(e.$$.fragment)},l(t){f(e.$$.fragment,t)},m(t,n){_(e,t,n),o=!0},p:g,i(t){o||(N(e.$$.fragment,t),o=!0)},o(t){v(e.$$.fragment,t),o=!1},d(t){h(e,t)}}}const J=async({stuff:a})=>{var e,o;const t=(e=a==null?void 0:a.settings)===null||e===void 0?void 0:e.defaultNamespace;return((o=a.settings.runtimeEnvironment)===null||o===void 0?void 0:o.isCloud)?{status:302,redirect:c({namespace:t})}:{props:{defaultNamespace:t}}};function b(a,e,o){let t;x(a,$,r=>o(1,t=r));let{defaultNamespace:n}=e;const i=t&&t!=="default"?t:n;return y(async()=>{try{const{authorized:r}=await C(i);r?s(c({namespace:i})):s(m())}catch{s(m())}}),a.$$set=r=>{"defaultNamespace"in r&&o(0,n=r.defaultNamespace)},[n]}class K extends p{constructor(e){super(),l(this,e,b,F,u,{defaultNamespace:0})}}export{K as default,J as load};
