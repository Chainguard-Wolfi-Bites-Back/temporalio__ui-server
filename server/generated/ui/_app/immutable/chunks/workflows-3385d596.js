import{d as t,r as m,w as a}from"./index-8c6be68a.js";import{p as i}from"./stores-5674b937.js";import{g as d,h}from"./workflow-service-82cd2181.js";import{w as k}from"./with-loading-f07bedaf.js";import{p as b}from"./route-for-198cbbe1.js";import{i as y,c as p}from"./version-check-0f5c0d26.js";import{t as g}from"./versions-02c70e25.js";const w=s=>{var o;return(o=s==null?void 0:s.visibilityStore)==null?void 0:o.includes("elasticsearch")},v=t([i],([s])=>{var o,r,e;return(e=(r=(o=s.stuff)==null?void 0:o.settings)==null?void 0:r.runtimeEnvironment)==null?void 0:e.isCloud}),G=t([g,p],([s,o])=>y(s,"1.18.0")&&w(o)),C=t([p,v],([s,o])=>{var r;return(r=w(s))!=null?r:o}),V=a(0),A=t([i],([s])=>s.params.namespace),W=t([i],([s])=>s.url.searchParams.get("query")),q=t([i],([s])=>s.url.pathname),P=t([A,W,q,V,C],([s,o,r,e,n])=>({namespace:s,query:o,path:r,refresh:e,supportsAdvancedVisibility:n})),E=s=>{B.set(s)},S=s=>P.subscribe(({namespace:o,query:r,path:e,supportsAdvancedVisibility:n})=>{e==`${b}/namespaces/${o}/workflows`&&k(x,$,async()=>{const{workflows:f,error:c}=await d(o,{query:r});if(s(f),n){const u=await h(o,r);E(u)}c?l.set(c):l.set("")})}),H=a({parameters:{},searchType:"basic"}),$=a(!0),x=a(!0),B=a({count:0,totalCount:0}),l=a(""),I=m([],S),J=a("");export{J as a,I as b,l as c,B as d,G as e,x as l,V as r,C as s,$ as u,H as w};
