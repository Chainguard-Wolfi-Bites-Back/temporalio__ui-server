import{r as a,a as u}from"./route-for-api-ad1e0920.js";import{v as h}from"./v4-f2cd1a04.js";const y=async(e,s=fetch)=>{var d;let t="";const n=o=>{var i,l;return t=(l=(i=o==null?void 0:o.body)==null?void 0:i.message)!=null?l:`Error fetching schedules: ${o.status}: ${o.statusText}`},{schedules:r,nextPageToken:c}=(d=await a(u("schedules",{namespace:e}),{params:{},onError:n,request:s}))!=null?d:{schedules:[],nextPageToken:""};return{schedules:r,nextPageToken:String(c),error:t}};async function m(e,s=fetch){return a(u("schedule",e),{request:s})}async function g(e,s=fetch){return a(u("schedule.delete",e),{request:s,options:{method:"DELETE"}})}async function S({namespace:e,body:s}){let t="";const n=c=>{var d,o;return t=(o=(d=c==null?void 0:c.body)==null?void 0:d.message)!=null?o:`Error creating schedule: ${c.status}: ${c.statusText}`},{conflictToken:r}=await a(u("schedules",{namespace:e}),{options:{method:"POST",body:JSON.stringify({request_id:h(),...s})},shouldRetry:!1,onError:n});return{conflictToken:r,error:t}}async function T({namespace:e,scheduleId:s,reason:t}){const n={patch:{pause:t}};return await a(u("schedule",{namespace:e,scheduleId:s}),{options:{method:"PATCH",body:JSON.stringify({...n,request_id:h()})},shouldRetry:!1,onError:r=>console.error(r)})}async function E({namespace:e,scheduleId:s,reason:t}){const n={patch:{unpause:t}};return await a(u("schedule",{namespace:e,scheduleId:s}),{options:{method:"PATCH",body:JSON.stringify({...n,request_id:h()})},shouldRetry:!1})}export{y as a,S as c,g as d,m as f,T as p,E as u};
