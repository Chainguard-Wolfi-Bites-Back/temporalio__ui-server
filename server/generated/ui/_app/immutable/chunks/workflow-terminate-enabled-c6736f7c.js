import{d as t,r as d,w as a}from"./index-c915c910.js";import{p as n}from"./stores-de421f88.js";import{c as m,d as p}from"./workflow-service-b011eab6.js";import{i as b}from"./version-check-d006b302.js";import{c as l}from"./cluster-cca105a5.js";import{t as k}from"./versions-773860c5.js";const y=300,h=async(r,o,s)=>{o.set(!0);try{await s()}catch(e){console.error(e)}r.set(!1),setTimeout(()=>{o.set(!1)},y)},f=r=>{var o;return(o=r==null?void 0:r.visibilityStore)==null?void 0:o.includes("elasticsearch")},C=t([n],([r])=>{var o,s,e;return(e=(s=(o=r.data)==null?void 0:o.settings)==null?void 0:s.runtimeEnvironment)==null?void 0:e.isCloud});t([k,l],([r,o])=>b(r,"1.18.0")&&f(o));const v=t([l,C],([r,o])=>f(r)??o),A=a(0),E=t([n],([r])=>r.params.namespace),V=t([n],([r])=>r.url.searchParams.get("query")),W=t([E,V,A,v],([r,o,s,e])=>({namespace:r,query:o,refresh:s,supportsAdvancedVisibility:e})),q=r=>{x.set(r)},T=r=>W.subscribe(({namespace:o,query:s,supportsAdvancedVisibility:e})=>{h(S,D,async()=>{const{workflows:w,error:i}=await m(o,{query:s});if(r(w),e){const u=await p(o,s);q(u)}i?c.set(i):c.set("")})}),B=a({parameters:{},searchType:"basic"}),D=a(!0),S=a(!0),x=a({count:0,totalCount:0}),c=a(""),F=d([],T),G=a(""),H=r=>{var o;return(o=r==null?void 0:r.runtimeEnvironment)!=null&&o.isCloud||r.disableWriteActions?!1:!r.workflowCancelDisabled},I=r=>r.disableWriteActions?!1:!r.workflowTerminateDisabled;export{F as a,c as b,x as c,G as d,H as e,I as f,S as l,A as r,v as s,D as u,B as w};
