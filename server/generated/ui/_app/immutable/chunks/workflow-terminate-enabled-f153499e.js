import{d as D,r as re,w as v}from"./index-9821ab11.js";import{p as P}from"./stores-4e1b824b.js";import{a as ue,b as ce}from"./workflow-service-d6d07ca0.js";import{i as de}from"./version-check-d006b302.js";import{c as j}from"./cluster-ac8838e5.js";import{t as me}from"./versions-3d19864d.js";import{S as U,i as X,s as Y,w as A,x as I,y as O,f as b,t as k,z as S,ak as _e,J as he,F as $,k as V,a as M,l as E,m as y,h,c as q,n as p,b as g,K as R,g as x,d as ee,G as le,H as te,I as se,Z as ne,q as z,r as N,u as T,ai as be,M as B,N as Q,al as ke,a5 as pe,a6 as ge,B as we,e as F,Q as W}from"./index-3630b6f8.js";import{I as ae}from"./icon-a76a7fcc.js";import{M as ve}from"./menu-item-252b9380.js";import{M as Ce,a as Ve,b as Ee}from"./menu-b3aded4c.js";const ye=300,Ae=async(t,e,s)=>{e.set(!0);try{await s()}catch(l){console.error(l)}t.set(!1),setTimeout(()=>{e.set(!1)},ye)},ie=t=>{var e;return(e=t==null?void 0:t.visibilityStore)==null?void 0:e.includes("elasticsearch")},Ie=D([P],([t])=>{var e,s,l;return(l=(s=(e=t.data)==null?void 0:e.settings)==null?void 0:s.runtimeEnvironment)==null?void 0:l.isCloud});D([me,j],([t,e])=>de(t,"1.18.0")&&ie(e));const Oe=D([j,Ie],([t,e])=>ie(t)??e),Se=v(0),De=D([P],([t])=>t.params.namespace),Me=D([P],([t])=>t.url.searchParams.get("query")),qe=D([De,Me,Se,Oe],([t,e,s,l])=>({namespace:t,query:e,refresh:s,supportsAdvancedVisibility:l})),Re=t=>{Te.set(t)},We=t=>qe.subscribe(({namespace:e,query:s,supportsAdvancedVisibility:l})=>{Ae(Ne,ze,async()=>{const{workflows:n,error:c}=await ue(e,{query:s});if(t(n),l){const u=await ce(e,s);Re(u)}c?G.set(c):G.set("")})}),nl=v({parameters:{},searchType:"basic"}),ze=v(!0),Ne=v(!0),Te=v({count:0,totalCount:0}),G=v(""),al=re([],We),il=v("");function H(t){let e,s;return e=new ae({props:{name:"checkmark"}}),{c(){A(e.$$.fragment)},l(l){I(e.$$.fragment,l)},m(l,n){O(e,l,n),s=!0},i(l){s||(b(e.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),s=!1},d(l){S(e,l)}}}function J(t){let e,s;return{c(){e=V("span"),s=z(t[0]),this.h()},l(l){e=E(l,"SPAN",{class:!0});var n=y(e);s=N(n,t[0]),n.forEach(h),this.h()},h(){p(e,"class","option-description svelte-opscnd")},m(l,n){g(l,e,n),R(e,s)},p(l,n){n&1&&T(s,l[0])},d(l){l&&h(e)}}}function Le(t){let e,s,l,n,c,u,o=t[3]&&H();const a=t[9].default,i=$(a,t,t[11],null);let f=t[0]&&J(t);return{c(){e=V("div"),o&&o.c(),s=M(),l=V("div"),n=V("span"),i&&i.c(),c=M(),f&&f.c(),this.h()},l(r){e=E(r,"DIV",{class:!0});var m=y(e);o&&o.l(m),m.forEach(h),s=q(r),l=E(r,"DIV",{class:!0});var w=y(l);n=E(w,"SPAN",{class:!0});var C=y(n);i&&i.l(C),C.forEach(h),c=q(w),f&&f.l(w),w.forEach(h),this.h()},h(){p(e,"class","mr-2 w-6"),p(n,"class","option-label svelte-opscnd"),p(l,"class","flex w-full flex-col")},m(r,m){g(r,e,m),o&&o.m(e,null),g(r,s,m),g(r,l,m),R(l,n),i&&i.m(n,null),t[10](n),R(l,c),f&&f.m(l,null),u=!0},p(r,m){r[3]?o?m&8&&b(o,1):(o=H(),o.c(),b(o,1),o.m(e,null)):o&&(x(),k(o,1,1,()=>{o=null}),ee()),i&&i.p&&(!u||m&2048)&&le(i,a,r,r[11],u?se(a,r[11],m,null):te(r[11]),null),r[0]?f?f.p(r,m):(f=J(r),f.c(),f.m(l,null)):f&&(f.d(1),f=null)},i(r){u||(b(o),b(i,r),u=!0)},o(r){k(o),k(i,r),u=!1},d(r){r&&h(e),o&&o.d(),r&&h(s),r&&h(l),i&&i.d(r),t[10](null),f&&f.d()}}}function Pe(t){let e,s;return e=new ve({props:{class:"flex flex-row items-start",selected:t[3],dark:t[1],$$slots:{default:[Le]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){A(e.$$.fragment)},l(l){I(e.$$.fragment,l)},m(l,n){O(e,l,n),s=!0},p(l,[n]){const c={};n&8&&(c.selected=l[3]),n&2&&(c.dark=l[1]),n&2061&&(c.$$scope={dirty:n,ctx:l}),e.$set(c)},i(l){s||(b(e.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),s=!1},d(l){S(e,l)}}}function Be(t,e,s){let l,{$$slots:n={},$$scope:c}=e;const u=_e("select-value");he(t,u,_=>s(8,l=_));let{value:o=void 0}=e,{description:a=""}=e,{dark:i=!1}=e,f,r,m;const w=()=>{u.update(_=>({..._,selectValue:r})),l.onChange(r)};function C(_){ne[_?"unshift":"push"](()=>{m=_,s(2,m)})}return t.$$set=_=>{"value"in _&&s(6,o=_.value),"description"in _&&s(0,a=_.description),"dark"in _&&s(1,i=_.dark),"$$scope"in _&&s(11,c=_.$$scope)},t.$$.update=()=>{t.$$.dirty&452&&m&&(s(7,r=o??m.textContent),s(3,f=l.selectValue===r))},[a,i,m,f,u,w,o,r,l,n,C,c]}class ol extends U{constructor(e){super(),X(this,e,Be,Pe,Y,{value:6,description:0,dark:1})}}function K(t){let e,s;return{c(){e=V("label"),s=z(t[2]),this.h()},l(l){e=E(l,"LABEL",{for:!0,class:!0});var n=y(e);s=N(n,t[2]),n.forEach(h),this.h()},h(){p(e,"for",t[3]),p(e,"class","svelte-1kzttn7")},m(l,n){g(l,e,n),R(e,s)},p(l,n){n&4&&T(s,l[2]),n&8&&p(e,"for",l[3])},d(l){l&&h(e)}}}function Qe(t){let e=t[9](t[0])+"",s;return{c(){s=z(e)},l(l){s=N(l,e)},m(l,n){g(l,s,n)},p(l,n){n&513&&e!==(e=l[9](l[0])+"")&&T(s,e)},d(l){l&&h(s)}}}function Fe(t){let e;return{c(){e=z(t[5])},l(s){e=N(s,t[5])},m(s,l){g(s,e,l)},p(s,l){l&32&&T(e,s[5])},d(s){s&&h(e)}}}function Z(t){let e,s;return e=new ae({props:{name:"lock",class:"text-gray-500"}}),{c(){A(e.$$.fragment)},l(l){I(e.$$.fragment,l)},m(l,n){O(e,l,n),s=!0},i(l){s||(b(e.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),s=!1},d(l){S(e,l)}}}function Ge(t){let e,s,l,n;function c(i,f){return!i[0]&&i[5]!==""?Fe:Qe}let u=c(t),o=u(t),a=t[6]&&Z();return{c(){e=V("div"),o.c(),s=M(),a&&a.c(),l=F(),this.h()},l(i){e=E(i,"DIV",{class:!0,id:!0});var f=y(e);o.l(f),f.forEach(h),s=q(i),a&&a.l(i),l=F(),this.h()},h(){p(e,"class","select-input svelte-1kzttn7"),p(e,"id",t[3]),W(e,"dark",t[4]),W(e,"disabled",t[6])},m(i,f){g(i,e,f),o.m(e,null),g(i,s,f),a&&a.m(i,f),g(i,l,f),n=!0},p(i,f){u===(u=c(i))&&o?o.p(i,f):(o.d(1),o=u(i),o&&(o.c(),o.m(e,null))),(!n||f&8)&&p(e,"id",i[3]),(!n||f&16)&&W(e,"dark",i[4]),(!n||f&64)&&W(e,"disabled",i[6]),i[6]?a?f&64&&b(a,1):(a=Z(),a.c(),b(a,1),a.m(l.parentNode,l)):a&&(x(),k(a,1,1,()=>{a=null}),ee())},i(i){n||(b(a),n=!0)},o(i){k(a),n=!1},d(i){i&&h(e),o.d(),i&&h(s),a&&a.d(i),i&&h(l)}}}function He(t){let e;const s=t[12].default,l=$(s,t,t[14],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,c){l&&l.m(n,c),e=!0},p(n,c){l&&l.p&&(!e||c&16384)&&le(l,s,n,n[14],e?se(s,n[14],c,null):te(n[14]),null)},i(n){e||(b(l,n),e=!0)},o(n){k(l,n),e=!1},d(n){l&&l.d(n)}}}function Je(t){let e,s,l,n,c;function u(a){t[13](a)}let o={hasIndicator:!t[6],class:"select-input-container "+(t[6]?"disabled":"")+" "+(t[7]?"unroundRight":""),keepOpen:t[8],controls:t[3]+"-menu",dataCy:t[10].dataCy,dark:t[4],disabled:t[6],$$slots:{default:[Ge]},$$scope:{ctx:t}};return t[1]!==void 0&&(o.show=t[1]),e=new Ve({props:o}),ne.push(()=>pe(e,"show",u)),n=new Ee({props:{id:t[3]+"-menu",class:"h-auto max-h-96 min-w-fit",show:t[1],dark:t[4],$$slots:{default:[He]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment),l=M(),A(n.$$.fragment)},l(a){I(e.$$.fragment,a),l=q(a),I(n.$$.fragment,a)},m(a,i){O(e,a,i),g(a,l,i),O(n,a,i),c=!0},p(a,i){const f={};i&64&&(f.hasIndicator=!a[6]),i&192&&(f.class="select-input-container "+(a[6]?"disabled":"")+" "+(a[7]?"unroundRight":"")),i&256&&(f.keepOpen=a[8]),i&8&&(f.controls=a[3]+"-menu"),i&1024&&(f.dataCy=a[10].dataCy),i&16&&(f.dark=a[4]),i&64&&(f.disabled=a[6]),i&17017&&(f.$$scope={dirty:i,ctx:a}),!s&&i&2&&(s=!0,f.show=a[1],ge(()=>s=!1)),e.$set(f);const r={};i&8&&(r.id=a[3]+"-menu"),i&2&&(r.show=a[1]),i&16&&(r.dark=a[4]),i&16384&&(r.$$scope={dirty:i,ctx:a}),n.$set(r)},i(a){c||(b(e.$$.fragment,a),b(n.$$.fragment,a),c=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),c=!1},d(a){S(e,a),a&&h(l),S(n,a)}}}function Ke(t){let e,s,l,n,c,u=t[2]&&K(t);return l=new Ce({props:{class:"w-full",$$slots:{default:[Je]},$$scope:{ctx:t}}}),{c(){e=V("div"),u&&u.c(),s=M(),A(l.$$.fragment),this.h()},l(o){e=E(o,"DIV",{class:!0});var a=y(e);u&&u.l(a),s=q(a),I(l.$$.fragment,a),a.forEach(h),this.h()},h(){p(e,"class",n="select "+t[10].class+" svelte-1kzttn7")},m(o,a){g(o,e,a),u&&u.m(e,null),R(e,s),O(l,e,null),c=!0},p(o,[a]){o[2]?u?u.p(o,a):(u=K(o),u.c(),u.m(e,s)):u&&(u.d(1),u=null);const i={};a&18427&&(i.$$scope={dirty:a,ctx:o}),l.$set(i),(!c||a&1024&&n!==(n="select "+o[10].class+" svelte-1kzttn7"))&&p(e,"class",n)},i(o){c||(b(l.$$.fragment,o),c=!0)},o(o){k(l.$$.fragment,o),c=!1},d(o){o&&h(e),u&&u.d(),S(l)}}}function Ze(t,e,s){let{$$slots:l={},$$scope:n}=e,{show:c=!1}=e,{label:u=""}=e,{id:o}=e,{value:a=void 0}=e,{dark:i=!1}=e,{placeholder:f=""}=e,{disabled:r=!1}=e,{unroundRight:m=!1}=e,{keepOpen:w=!1}=e,{displayValue:C=d=>d??""}=e,{onChange:_=we}=e;const L=v({selectValue:a,onChange:_}),oe=L.subscribe(d=>{s(0,a=d.selectValue)});be(()=>{oe()});function fe(d){c=d,s(1,c)}return t.$$set=d=>{s(10,e=B(B({},e),Q(d))),"show"in d&&s(1,c=d.show),"label"in d&&s(2,u=d.label),"id"in d&&s(3,o=d.id),"value"in d&&s(0,a=d.value),"dark"in d&&s(4,i=d.dark),"placeholder"in d&&s(5,f=d.placeholder),"disabled"in d&&s(6,r=d.disabled),"unroundRight"in d&&s(7,m=d.unroundRight),"keepOpen"in d&&s(8,w=d.keepOpen),"displayValue"in d&&s(9,C=d.displayValue),"onChange"in d&&s(11,_=d.onChange),"$$scope"in d&&s(14,n=d.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&(a&&L.update(d=>({...d,selectValue:a})),ke("select-value",L))},e=Q(e),[a,c,u,o,i,f,r,m,w,C,e,_,l,fe,n]}class fl extends U{constructor(e){super(),X(this,e,Ze,Ke,Y,{show:1,label:2,id:3,value:0,dark:4,placeholder:5,disabled:6,unroundRight:7,keepOpen:8,displayValue:9,onChange:11})}}const rl=t=>{var e;return(e=t==null?void 0:t.runtimeEnvironment)!=null&&e.isCloud||t.disableWriteActions?!1:!t.workflowCancelDisabled},ul=t=>t.disableWriteActions?!1:!t.workflowTerminateDisabled;export{ol as O,fl as S,il as a,rl as b,ul as c,al as d,G as e,Te as f,Ne as l,Se as r,Oe as s,ze as u,nl as w};
