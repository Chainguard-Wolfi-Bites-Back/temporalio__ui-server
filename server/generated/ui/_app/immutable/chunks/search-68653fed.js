import{S as oe,i as re,s as se,J as fe,l as W,m as I,n as C,h as u,p as v,b as g,W as V,K as ie,L as ue,M as ce,f as S,t as H,T as Ce,D as be,x as R,y as z,z as O,A as ot,B as rt,C as Q,j as mt,R as He,a0 as De,a8 as Ae,a9 as Ne,e as le,g as Z,d as $,O as ve,P as _t,r as L,a as N,u as B,c as P,N as E,F as te,v as Y,X as Pe,as as Ee,I as dt,Q as bt,w as Xe,H as ft}from"./index-0a89fd56.js";import{p as it}from"./stores-cc75c44f.js";import{T as ut,a as ct,b as Ue}from"./table-45509be0.js";import{c as ht,W as kt}from"./core-user-bf063500.js";import{f as ee}from"./format-date-c1755997.js";import{q as wt,s as pt,u as gt,v as Ge}from"./format-time-d031c2bc.js";import{g as Tt}from"./route-for-369a155d.js";import{u as vt}from"./pagination-eff766cc.js";import{t as Ye}from"./workflow-service-97d19ce2.js";import{c as Et,d as Be,e as St,f as yt,g as Wt}from"./is-44021919.js";import{I as qe}from"./icon-547f7300.js";import{c as It}from"./copy-to-clipboard-c13b766f.js";import{e as Ct}from"./event-view-393ad965.js";import{B as Ht}from"./button-68ea4e9d.js";function Dt(n){let e,s,t,l;const f=n[3].default,a=fe(f,n,n[2],null);return{c(){e=W("button"),a&&a.c(),this.h()},l(r){e=I(r,"BUTTON",{"data-cy":!0,class:!0});var o=C(e);a&&a.l(o),o.forEach(u),this.h()},h(){v(e,"data-cy",n[0]),e.disabled=n[1],v(e,"class","bulk-action-button svelte-1u0at90")},m(r,o){g(r,e,o),a&&a.m(e,null),s=!0,t||(l=V(e,"click",n[4]),t=!0)},p(r,[o]){a&&a.p&&(!s||o&4)&&ie(a,f,r,r[2],s?ce(f,r[2],o,null):ue(r[2]),null),(!s||o&1)&&v(e,"data-cy",r[0]),(!s||o&2)&&(e.disabled=r[1])},i(r){s||(S(a,r),s=!0)},o(r){H(a,r),s=!1},d(r){r&&u(e),a&&a.d(r),t=!1,l()}}}function At(n,e,s){let{$$slots:t={},$$scope:l}=e,{dataCy:f=null}=e,{disabled:a=!0}=e;function r(o){Ce.call(this,n,o)}return n.$$set=o=>{"dataCy"in o&&s(0,f=o.dataCy),"disabled"in o&&s(1,a=o.disabled),"$$scope"in o&&s(2,l=o.$$scope)},[f,a,l,t,r]}class Nt extends oe{constructor(e){super(),re(this,e,At,Dt,se,{dataCy:0,disabled:1})}}const Pt=n=>({}),Ze=n=>({}),Ft=n=>({}),$e=n=>({});function Lt(n){let e;const s=n[8].default,t=fe(s,n,n[10],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&1024)&&ie(t,s,l,l[10],e?ce(s,l[10],f,null):ue(l[10]),null)},i(l){e||(S(t,l),e=!0)},o(l){H(t,l),e=!1},d(l){t&&t.d(l)}}}function Bt(n){let e;const s=n[8]["default-headers"],t=fe(s,n,n[10],Ze);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&1024)&&ie(t,s,l,l[10],e?ce(s,l[10],f,Pt):ue(l[10]),Ze)},i(l){e||(S(t,l),e=!0)},o(l){H(t,l),e=!1},d(l){t&&t.d(l)}}}function Ut(n){let e;const s=n[8]["bulk-action-headers"],t=fe(s,n,n[10],$e);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&1024)&&ie(t,s,l,l[10],e?ce(s,l[10],f,Ft):ue(l[10]),$e)},i(l){e||(S(t,l),e=!0)},o(l){H(t,l),e=!1},d(l){t&&t.d(l)}}}function qt(n){let e,s,t,l;const f=[Ut,Bt],a=[];function r(o,i){return o[0].length>0?0:1}return e=r(n),s=a[e]=f[e](n),{c(){s.c(),t=le()},l(o){s.l(o),t=le()},m(o,i){a[e].m(o,i),g(o,t,i),l=!0},p(o,i){let d=e;e=r(o),e===d?a[e].p(o,i):(Z(),H(a[d],1,1,()=>{a[d]=null}),$(),s=a[e],s?s.p(o,i):(s=a[e]=f[e](o),s.c()),S(s,1),s.m(t.parentNode,t))},i(o){l||(S(s),l=!0)},o(o){H(s),l=!1},d(o){a[e].d(o),o&&u(t)}}}function Rt(n){let e,s,t;function l(a){n[9](a)}let f={slot:"headers",selectable:!0,checkboxLabel:n[0].length>0?null:n[2],indeterminate:n[4],$$slots:{default:[qt]},$$scope:{ctx:n}};return n[1]!==void 0&&(f.selected=n[1]),e=new ct({props:f}),De.push(()=>Ae(e,"selected",l)),e.$on("change",n[5]),{c(){R(e.$$.fragment)},l(a){z(e.$$.fragment,a)},m(a,r){O(e,a,r),t=!0},p(a,r){const o={};r&5&&(o.checkboxLabel=a[0].length>0?null:a[2]),r&16&&(o.indeterminate=a[4]),r&1025&&(o.$$scope={dirty:r,ctx:a}),!s&&r&2&&(s=!0,o.selected=a[1],Ne(()=>s=!1)),e.$set(o)},i(a){t||(S(e.$$.fragment,a),t=!0)},o(a){H(e.$$.fragment,a),t=!1},d(a){Q(e,a)}}}function Ot(n){let e,s;const t=[{variant:"fancy"},{id:n[3]},{class:n[6].class},n[6]];let l={$$slots:{headers:[Rt],default:[Lt]},$$scope:{ctx:n}};for(let f=0;f<t.length;f+=1)l=be(l,t[f]);return e=new ut({props:l}),{c(){R(e.$$.fragment)},l(f){z(e.$$.fragment,f)},m(f,a){O(e,f,a),s=!0},p(f,[a]){const r=a&72?ot(t,[t[0],a&8&&{id:f[3]},a&64&&{class:f[6].class},a&64&&rt(f[6])]):{};a&1047&&(r.$$scope={dirty:a,ctx:f}),e.$set(r)},i(f){s||(S(e.$$.fragment,f),s=!0)},o(f){H(e.$$.fragment,f),s=!1},d(f){Q(e,f)}}}function Qt(n,e,s){let t,{$$slots:l={},$$scope:f}=e,{items:a}=e,{checkboxLabel:r=null}=e,{allSelected:o=!1}=e,{selectedItems:i=[]}=e,{id:d=null}=e;const m=h=>{s(1,o=!o),s(0,i=h.detail.checked?a:[])};mt("selectable-table-context",{handleSelectRow:(h,k)=>{const{checked:y}=h.detail;y?(i.push(k),s(0,i)):s(0,i=i.filter(A=>A.id!==k.id)),s(1,o=i.length===a.length)}});function _(h){o=h,s(1,o)}return n.$$set=h=>{s(6,e=be(be({},e),He(h))),"items"in h&&s(7,a=h.items),"checkboxLabel"in h&&s(2,r=h.checkboxLabel),"allSelected"in h&&s(1,o=h.allSelected),"selectedItems"in h&&s(0,i=h.selectedItems),"id"in h&&s(3,d=h.id),"$$scope"in h&&s(10,f=h.$$scope)},n.$$.update=()=>{n.$$.dirty&129&&s(4,t=i.length!==0&&i.length!==a.length)},e=He(e),[i,o,r,d,t,m,e,a,l,_,f]}class jt extends oe{constructor(e){super(),re(this,e,Qt,Ot,se,{items:7,checkboxLabel:2,allSelected:1,selectedItems:0,id:3})}}function Vt(n){let e,s;return e=new ut({props:{class:"w-full md:table-fixed",updating:n[3],$$slots:{headers:[Jt],default:[Mt]},$$scope:{ctx:n}}}),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},p(t,l){const f={};l&8&&(f.updating=t[3]),l&16384&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){s||(S(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function zt(n){let e,s,t,l;function f(o){n[12](o)}function a(o){n[13](o)}let r={id:"workflows-table-with-bulk-actions",class:"w-full md:table-fixed",items:n[4],updating:n[3],$$slots:{"bulk-action-headers":[xt],"default-headers":[Gt],default:[Xt]},$$scope:{ctx:n}};return n[1]!==void 0&&(r.allSelected=n[1]),n[0]!==void 0&&(r.selectedItems=n[0]),e=new jt({props:r}),De.push(()=>Ae(e,"allSelected",f)),De.push(()=>Ae(e,"selectedItems",a)),{c(){R(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,i){O(e,o,i),l=!0},p(o,i){const d={};i&16&&(d.items=o[4]),i&8&&(d.updating=o[3]),i&16481&&(d.$$scope={dirty:i,ctx:o}),!s&&i&2&&(s=!0,d.allSelected=o[1],Ne(()=>s=!1)),!t&&i&1&&(t=!0,d.selectedItems=o[0],Ne(()=>t=!1)),e.$set(d)},i(o){l||(S(e.$$.fragment,o),l=!0)},o(o){H(e.$$.fragment,o),l=!1},d(o){Q(e,o)}}}function Mt(n){let e;const s=n[11].default,t=fe(s,n,n[14],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&16384)&&ie(t,s,l,l[14],e?ce(s,l[14],f,null):ue(l[14]),null)},i(l){e||(S(t,l),e=!0)},o(l){H(t,l),e=!1},d(l){t&&t.d(l)}}}function Kt(n){let e,s,t,l,f,a,r,o,i,d,m,D,_,h,k,y,A;return{c(){e=W("th"),s=L("Status"),t=N(),l=W("th"),f=L("Workflow ID"),a=N(),r=W("th"),o=L("Type"),i=N(),d=W("th"),m=L("Start"),D=N(),_=W("th"),h=L("End"),k=N(),y=W("th"),A=L("Summary"),this.h()},l(c){e=I(c,"TH",{class:!0});var b=C(e);s=B(b,"Status"),b.forEach(u),t=P(c),l=I(c,"TH",{class:!0});var U=C(l);f=B(U,"Workflow ID"),U.forEach(u),a=P(c),r=I(c,"TH",{class:!0});var j=C(r);o=B(j,"Type"),j.forEach(u),i=P(c),d=I(c,"TH",{class:!0});var w=C(d);m=B(w,"Start"),w.forEach(u),D=P(c),_=I(c,"TH",{class:!0});var T=C(_);h=B(T,"End"),T.forEach(u),k=P(c),y=I(c,"TH",{class:!0,colspan:!0});var q=C(y);A=B(q,"Summary"),q.forEach(u),this.h()},h(){v(e,"class","hidden w-32 md:table-cell"),v(l,"class","hidden md:table-cell md:w-60 xl:w-auto"),v(r,"class","hidden md:table-cell md:w-60 xl:w-80"),v(d,"class","hidden xl:table-cell xl:w-60"),v(_,"class","hidden xl:table-cell xl:w-60"),v(y,"class","table-cell md:hidden"),v(y,"colspan","3")},m(c,b){g(c,e,b),E(e,s),g(c,t,b),g(c,l,b),E(l,f),g(c,a,b),g(c,r,b),E(r,o),g(c,i,b),g(c,d,b),E(d,m),g(c,D,b),g(c,_,b),E(_,h),g(c,k,b),g(c,y,b),E(y,A)},p:te,d(c){c&&u(e),c&&u(t),c&&u(l),c&&u(a),c&&u(r),c&&u(i),c&&u(d),c&&u(D),c&&u(_),c&&u(k),c&&u(y)}}}function Jt(n){let e,s;return e=new ct({props:{slot:"headers",$$slots:{default:[Kt]},$$scope:{ctx:n}}}),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},p(t,l){const f={};l&16384&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){s||(S(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function Xt(n){let e;const s=n[11].default,t=fe(s,n,n[14],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&16384)&&ie(t,s,l,l[14],e?ce(s,l[14],f,null):ue(l[14]),null)},i(l){e||(S(t,l),e=!0)},o(l){H(t,l),e=!1},d(l){t&&t.d(l)}}}function Gt(n){let e,s,t,l,f,a,r,o,i,d,m,D,_,h,k,y,A;return{c(){e=W("th"),s=L("Status"),t=N(),l=W("th"),f=L("Workflow ID"),a=N(),r=W("th"),o=L("Type"),i=N(),d=W("th"),m=L("Start"),D=N(),_=W("th"),h=L("End"),k=N(),y=W("th"),A=L("Summary"),this.h()},l(c){e=I(c,"TH",{class:!0});var b=C(e);s=B(b,"Status"),b.forEach(u),t=P(c),l=I(c,"TH",{class:!0});var U=C(l);f=B(U,"Workflow ID"),U.forEach(u),a=P(c),r=I(c,"TH",{class:!0});var j=C(r);o=B(j,"Type"),j.forEach(u),i=P(c),d=I(c,"TH",{class:!0});var w=C(d);m=B(w,"Start"),w.forEach(u),D=P(c),_=I(c,"TH",{class:!0});var T=C(_);h=B(T,"End"),T.forEach(u),k=P(c),y=I(c,"TH",{class:!0,colspan:!0});var q=C(y);A=B(q,"Summary"),q.forEach(u),this.h()},h(){v(e,"class","hidden w-32 md:table-cell"),v(l,"class","hidden h-10 md:table-cell md:w-60 xl:w-auto"),v(r,"class","hidden md:table-cell md:w-60 xl:w-80"),v(d,"class","hidden xl:table-cell xl:w-60"),v(_,"class","hidden xl:table-cell xl:w-60"),v(y,"class","table-cell md:hidden"),v(y,"colspan","3")},m(c,b){g(c,e,b),E(e,s),g(c,t,b),g(c,l,b),E(l,f),g(c,a,b),g(c,r,b),E(r,o),g(c,i,b),g(c,d,b),E(d,m),g(c,D,b),g(c,_,b),E(_,h),g(c,k,b),g(c,y,b),E(y,A)},p:te,d(c){c&&u(e),c&&u(t),c&&u(l),c&&u(a),c&&u(r),c&&u(i),c&&u(d),c&&u(D),c&&u(_),c&&u(k),c&&u(y)}}}function Yt(n){let e,s;return{c(){e=W("span"),s=L("No bulk actions available for selected workflows."),this.h()},l(t){e=I(t,"SPAN",{class:!0});var l=C(e);s=B(l,"No bulk actions available for selected workflows."),l.forEach(u),this.h()},h(){v(e,"class","whitespace-nowrap italic")},m(t,l){g(t,e,l),E(e,s)},p:te,i:te,o:te,d(t){t&&u(e)}}}function Zt(n){let e,s;return e=new Nt({props:{dataCy:"bulk-terminate-button",disabled:n[6],$$slots:{default:[$t]},$$scope:{ctx:n}}}),e.$on("click",n[7]),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},p(t,l){const f={};l&64&&(f.disabled=t[6]),l&16384&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){s||(S(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function $t(n){let e;return{c(){e=L("Terminate")},l(s){e=B(s,"Terminate")},m(s,t){g(s,e,t)},d(s){s&&u(e)}}}function xt(n){let e,s,t=n[0].length+"",l,f,a,r,o,i,d,m,D,_,h,k,y,A,c;const b=[Zt,Yt],U=[];function j(w,T){return w[5]>0?0:1}return o=j(n),i=U[o]=b[o](n),{c(){e=W("th"),s=W("span"),l=L(t),f=L(" selected"),a=N(),r=W("th"),i.c(),d=N(),m=W("th"),D=N(),_=W("th"),h=N(),k=W("th"),y=N(),A=W("th"),this.h()},l(w){e=I(w,"TH",{class:!0});var T=C(e);s=I(T,"SPAN",{class:!0});var q=C(s);l=B(q,t),f=B(q," selected"),q.forEach(u),T.forEach(u),a=P(w),r=I(w,"TH",{class:!0});var M=C(r);i.l(M),M.forEach(u),d=P(w),m=I(w,"TH",{class:!0}),C(m).forEach(u),D=P(w),_=I(w,"TH",{class:!0}),C(_).forEach(u),h=P(w),k=I(w,"TH",{class:!0}),C(k).forEach(u),y=P(w),A=I(w,"TH",{class:!0,colspan:!0}),C(A).forEach(u),this.h()},h(){v(s,"class","font-semibold"),v(e,"class","inline-block w-32 md:table-cell"),v(r,"class","h-10 md:w-60 xl:w-auto"),v(m,"class","hidden md:table-cell md:w-60 xl:w-80"),v(_,"class","hidden xl:table-cell xl:w-60"),v(k,"class","hidden xl:table-cell xl:w-60"),v(A,"class","table-cell md:hidden"),v(A,"colspan","3")},m(w,T){g(w,e,T),E(e,s),E(s,l),E(s,f),g(w,a,T),g(w,r,T),U[o].m(r,null),g(w,d,T),g(w,m,T),g(w,D,T),g(w,_,T),g(w,h,T),g(w,k,T),g(w,y,T),g(w,A,T),c=!0},p(w,T){(!c||T&1)&&t!==(t=w[0].length+"")&&Y(l,t);let q=o;o=j(w),o===q?U[o].p(w,T):(Z(),H(U[q],1,1,()=>{U[q]=null}),$(),i=U[o],i?i.p(w,T):(i=U[o]=b[o](w),i.c()),S(i,1),i.m(r,null))},i(w){c||(S(i),c=!0)},o(w){H(i),c=!1},d(w){w&&u(e),w&&u(a),w&&u(r),U[o].d(),w&&u(d),w&&u(m),w&&u(D),w&&u(_),w&&u(h),w&&u(k),w&&u(y),w&&u(A)}}}function el(n){let e,s,t,l;const f=[zt,Vt],a=[];function r(o,i){return o[2]?0:1}return e=r(n),s=a[e]=f[e](n),{c(){s.c(),t=le()},l(o){s.l(o),t=le()},m(o,i){a[e].m(o,i),g(o,t,i),l=!0},p(o,[i]){let d=e;e=r(o),e===d?a[e].p(o,i):(Z(),H(a[d],1,1,()=>{a[d]=null}),$(),s=a[e],s?s.p(o,i):(s=a[e]=f[e](o),s.c()),S(s,1),s.m(t.parentNode,t))},i(o){l||(S(s),l=!0)},o(o){H(s),l=!1},d(o){a[e].d(o),o&&u(t)}}}function tl(n,e,s){let t,l,f;ve(n,it,b=>s(9,l=b));let{$$slots:a={},$$scope:r}=e;const o=_t();let{bulkActionsEnabled:i=!1}=e,{updating:d=!1}=e,{visibleWorkflows:m=[]}=e,{selectedWorkflows:D=[]}=e,{terminableWorkflowCount:_=0}=e,{allSelected:h=!1}=e;const k=()=>{o("terminateWorkflows")};let y=ht();ve(n,y,b=>s(10,f=b));function A(b){h=b,s(1,h)}function c(b){D=b,s(0,D)}return n.$$set=b=>{"bulkActionsEnabled"in b&&s(2,i=b.bulkActionsEnabled),"updating"in b&&s(3,d=b.updating),"visibleWorkflows"in b&&s(4,m=b.visibleWorkflows),"selectedWorkflows"in b&&s(0,D=b.selectedWorkflows),"terminableWorkflowCount"in b&&s(5,_=b.terminableWorkflowCount),"allSelected"in b&&s(1,h=b.allSelected),"$$scope"in b&&s(14,r=b.$$scope)},n.$$.update=()=>{n.$$.dirty&1536&&s(6,t=f.namespaceWriteDisabled(l.params.namespace))},[D,h,i,d,m,_,t,k,y,l,f,a,A,c,r]}class Ll extends oe{constructor(e){super(),re(this,e,tl,el,se,{bulkActionsEnabled:2,updating:3,visibleWorkflows:4,selectedWorkflows:0,terminableWorkflowCount:5,allSelected:1})}}const ll=n=>{const e=[],s=()=>{t&&(e.push(t),t="")};let t="",l=0;for(;l<n.length;){const f=n[l];if(Et(f)){t+=f,s(),l++;continue}if(Be(f)){const a=`${n[l]}${n[l+1]}`,r=`${n[l]}${n[l+1]}${n[l+2]}`;if(Be(r)){s(),t+=r,l+=3;continue}else if(Be(a)){s(),t+=a,l+=2;continue}else{s(),t+=f,l++;continue}}if(St(f)||yt(f)){s(),l++;continue}t+=f,l++}return s(),e},Fe=n=>e=>e.toLowerCase()===n.toLowerCase(),Ie=(n,e)=>n[e+2],sl=n=>{if(!!n){for(const e of gt)if(n[e])return{[e]:n[e]}}},nl=Fe("WorkflowType"),al=Fe("WorkflowId"),ol=Fe("StartTime"),rl=Fe("ExecutionStatus"),fl=n=>{const e=ll(n),s={workflowId:"",workflowType:"",executionStatus:null,timeRange:null};return e.forEach((t,l)=>{if(al(t)&&(s.workflowId=Ie(e,l)),nl(t)&&(s.workflowType=Ie(e,l)),rl(t)){const f=Ie(e,l);Wt(f)&&(s.executionStatus=f)}if(ol(t)){const f=Ie(e,l);try{const a=wt(f),r=sl(a);s.timeRange=pt(r)}catch(a){console.error("Error parsing StartTime from query",a)}}}),s};function xe(n){let e,s,t,l,f,a=n[1]&&et(n),r=n[2]&&lt(n);return{c(){e=W("div"),a&&a.c(),s=N(),r&&r.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var i=C(e);a&&a.l(i),s=P(i),r&&r.l(i),i.forEach(u),this.h()},h(){v(e,"class","copy-or-filter svelte-uzo6ow")},m(o,i){g(o,e,i),a&&a.m(e,null),E(e,s),r&&r.m(e,null),t=!0,l||(f=V(e,"click",Pe(Ee(te))),l=!0)},p(o,i){o[1]?a?(a.p(o,i),i&2&&S(a,1)):(a=et(o),a.c(),S(a,1),a.m(e,s)):a&&(Z(),H(a,1,1,()=>{a=null}),$()),o[2]?r?(r.p(o,i),i&4&&S(r,1)):(r=lt(o),r.c(),S(r,1),r.m(e,null)):r&&(Z(),H(r,1,1,()=>{r=null}),$())},i(o){t||(S(a),S(r),t=!0)},o(o){H(a),H(r),t=!1},d(o){o&&u(e),a&&a.d(),r&&r.d(),l=!1,f()}}}function et(n){let e,s=n[5],t,l,f,a=tt(n);return{c(){e=W("button"),a.c()},l(r){e=I(r,"BUTTON",{});var o=C(e);a.l(o),o.forEach(u)},m(r,o){g(r,e,o),a.m(e,null),t=!0,l||(f=V(e,"click",Pe(Ee(function(){dt(n[4])&&n[4].apply(this,arguments)}))),l=!0)},p(r,o){n=r,o&32&&se(s,s=n[5])?(Z(),H(a,1,1,te),$(),a=tt(n),a.c(),S(a,1),a.m(e,null)):a.p(n,o)},i(r){t||(S(a),t=!0)},o(r){H(a),t=!1},d(r){r&&u(e),a.d(r),l=!1,f()}}}function tt(n){let e,s;return e=new qe({props:{name:"filter",class:"h-4 w-4 rounded-sm "+(n[5]?"bg-gray-900 text-white":"")}}),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},p(t,l){const f={};l&32&&(f.class="h-4 w-4 rounded-sm "+(t[5]?"bg-gray-900 text-white":"")),e.$set(f)},i(t){s||(S(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function lt(n){let e,s,t,l,f;return s=new qe({props:{name:n[6]?"checkmark":"copy",stroke:"#000"}}),{c(){e=W("button"),R(s.$$.fragment)},l(a){e=I(a,"BUTTON",{});var r=C(e);z(s.$$.fragment,r),r.forEach(u)},m(a,r){g(a,e,r),O(s,e,null),t=!0,l||(f=V(e,"click",Pe(Ee(n[9]))),l=!0)},p(a,r){const o={};r&64&&(o.name=a[6]?"checkmark":"copy"),s.$set(o)},i(a){t||(S(s.$$.fragment,a),t=!0)},o(a){H(s.$$.fragment,a),t=!1},d(a){a&&u(e),Q(s),l=!1,f()}}}function il(n){let e,s,t=n[0]&&xe(n);return{c(){t&&t.c(),e=le()},l(l){t&&t.l(l),e=le()},m(l,f){t&&t.m(l,f),g(l,e,f),s=!0},p(l,[f]){l[0]?t?(t.p(l,f),f&1&&S(t,1)):(t=xe(l),t.c(),S(t,1),t.m(e.parentNode,e)):t&&(Z(),H(t,1,1,()=>{t=null}),$())},i(l){s||(S(t),s=!0)},o(l){H(t),s=!1},d(l){t&&t.d(l),l&&u(e)}}}function ul(n,e,s){let t,{show:l=!1}=e,{filterable:f=!0}=e,{copyable:a=!0}=e,{content:r}=e,{onFilter:o=te}=e,{filtered:i=!1}=e;const{copy:d,copied:m}=It(700);ve(n,m,_=>s(6,t=_));const D=_=>d(_,r);return n.$$set=_=>{"show"in _&&s(0,l=_.show),"filterable"in _&&s(1,f=_.filterable),"copyable"in _&&s(2,a=_.copyable),"content"in _&&s(3,r=_.content),"onFilter"in _&&s(4,o=_.onFilter),"filtered"in _&&s(5,i=_.filtered)},[l,f,a,r,o,i,t,d,m,D]}class st extends oe{constructor(e){super(),re(this,e,ul,il,se,{show:0,filterable:1,copyable:2,content:3,onFilter:4,filtered:5})}}function cl(n){let e;const s=n[4].default,t=fe(s,n,n[7],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&128)&&ie(t,s,l,l[7],e?ce(s,l[7],f,null):ue(l[7]),null)},i(l){e||(S(t,l),e=!0)},o(l){H(t,l),e=!1},d(l){t&&t.d(l)}}}function ml(n){let e,s,t;const l=[{selectable:!0},n[2]];function f(r){n[5](r)}let a={$$slots:{default:[cl]},$$scope:{ctx:n}};for(let r=0;r<l.length;r+=1)a=be(a,l[r]);return n[0]!==void 0&&(a.selected=n[0]),e=new Ue({props:a}),De.push(()=>Ae(e,"selected",f)),e.$on("change",n[1]),e.$on("click",n[6]),{c(){R(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,o){O(e,r,o),t=!0},p(r,[o]){const i=o&4?ot(l,[l[0],rt(r[2])]):{};o&128&&(i.$$scope={dirty:o,ctx:r}),!s&&o&1&&(s=!0,i.selected=r[0],Ne(()=>s=!1)),e.$set(i)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){H(e.$$.fragment,r),t=!1},d(r){Q(e,r)}}}function _l(n,e,s){let{$$slots:t={},$$scope:l}=e,{item:f}=e,{selected:a}=e;const{handleSelectRow:r}=bt("selectable-table-context"),o=m=>{r(m,f)};function i(m){a=m,s(0,a)}function d(m){Ce.call(this,n,m)}return n.$$set=m=>{s(2,e=be(be({},e),He(m))),"item"in m&&s(3,f=m.item),"selected"in m&&s(0,a=m.selected),"$$scope"in m&&s(7,l=m.$$scope)},e=He(e),[a,o,e,f,t,i,d,l]}class nt extends oe{constructor(e){super(),re(this,e,_l,ml,se,{item:3,selected:0})}}function dl(n){var Oe,Qe,je;let e,s,t,l,f,a=n[2].id+"",r,o,i,d,m,D=ee(n[2].startTime,n[3])+"",_,h,k,y,A,c,b,U=n[2].name+"",j,w,T,q,M,J=ee(n[2].endTime,n[3])+"",me,_e,ne,he,ke=ee(n[2].startTime,n[3])+"",Se,ye,ae,we,pe=ee(n[2].endTime,n[3])+"",We,X,Le,Re;return s=new kt({props:{status:n[2].status,delay:Ge(n[2].startTime)}}),i=new st({props:{show:n[4],content:n[2].id,filterable:!1}}),T=new st({props:{show:n[4],content:n[2].name,onFilter:n[15],filtered:(je=(Qe=(Oe=n[6].url)==null?void 0:Oe.searchParams)==null?void 0:Qe.get("query"))==null?void 0:je.includes(n[2].name)}}),{c(){e=W("td"),R(s.$$.fragment),t=N(),l=W("td"),f=W("span"),r=L(a),o=N(),R(i.$$.fragment),d=N(),m=W("p"),_=L(D),h=N(),k=W("td"),y=W("h3"),A=L("Workflow Name:"),c=N(),b=W("span"),j=L(U),w=N(),R(T.$$.fragment),q=N(),M=W("p"),me=L(J),_e=N(),ne=W("td"),he=W("p"),Se=L(ke),ye=N(),ae=W("td"),we=W("p"),We=L(pe),this.h()},l(p){e=I(p,"TD",{});var F=C(e);z(s.$$.fragment,F),F.forEach(u),t=P(p),l=I(p,"TD",{class:!0});var G=C(l);f=I(G,"SPAN",{class:!0});var de=C(f);r=B(de,a),de.forEach(u),o=P(G),z(i.$$.fragment,G),d=P(G),m=I(G,"P",{class:!0});var x=C(m);_=B(x,D),x.forEach(u),G.forEach(u),h=P(p),k=I(p,"TD",{class:!0});var K=C(k);y=I(K,"H3",{class:!0});var ge=C(y);A=B(ge,"Workflow Name:"),ge.forEach(u),c=P(K),b=I(K,"SPAN",{class:!0});var Te=C(b);j=B(Te,U),Te.forEach(u),w=P(K),z(T.$$.fragment,K),q=P(K),M=I(K,"P",{class:!0});var Ve=C(M);me=B(Ve,J),Ve.forEach(u),K.forEach(u),_e=P(p),ne=I(p,"TD",{class:!0});var ze=C(ne);he=I(ze,"P",{});var Me=C(he);Se=B(Me,ke),Me.forEach(u),ze.forEach(u),ye=P(p),ae=I(p,"TD",{class:!0});var Ke=C(ae);we=I(Ke,"P",{});var Je=C(we);We=B(Je,pe),Je.forEach(u),Ke.forEach(u),this.h()},h(){v(f,"class","table-link svelte-si1lto"),v(m,"class","inline-time-cell svelte-si1lto"),v(l,"class","relative truncate"),v(y,"class","md:hidden"),v(b,"class","table-link svelte-si1lto"),v(M,"class","inline-time-cell svelte-si1lto"),v(k,"class","relative truncate"),v(ne,"class","time-cell svelte-si1lto"),v(ae,"class","time-cell svelte-si1lto")},m(p,F){g(p,e,F),O(s,e,null),g(p,t,F),g(p,l,F),E(l,f),E(f,r),E(l,o),O(i,l,null),E(l,d),E(l,m),E(m,_),g(p,h,F),g(p,k,F),E(k,y),E(y,A),E(k,c),E(k,b),E(b,j),E(k,w),O(T,k,null),E(k,q),E(k,M),E(M,me),g(p,_e,F),g(p,ne,F),E(ne,he),E(he,Se),g(p,ye,F),g(p,ae,F),E(ae,we),E(we,We),X=!0,Le||(Re=[V(l,"mouseover",n[10]),V(l,"focus",n[11]),V(l,"mouseleave",n[12]),V(l,"blur",n[13]),V(b,"click",Pe(Ee(n[14]))),V(k,"mouseover",n[16]),V(k,"focus",n[17]),V(k,"mouseleave",n[18]),V(k,"blur",n[19])],Le=!0)},p(p,F){var K,ge,Te;const G={};F&4&&(G.status=p[2].status),F&4&&(G.delay=Ge(p[2].startTime)),s.$set(G),(!X||F&4)&&a!==(a=p[2].id+"")&&Y(r,a);const de={};F&16&&(de.show=p[4]),F&4&&(de.content=p[2].id),i.$set(de),(!X||F&12)&&D!==(D=ee(p[2].startTime,p[3])+"")&&Y(_,D),(!X||F&4)&&U!==(U=p[2].name+"")&&Y(j,U);const x={};F&16&&(x.show=p[4]),F&4&&(x.content=p[2].name),F&4&&(x.onFilter=p[15]),F&68&&(x.filtered=(Te=(ge=(K=p[6].url)==null?void 0:K.searchParams)==null?void 0:ge.get("query"))==null?void 0:Te.includes(p[2].name)),T.$set(x),(!X||F&12)&&J!==(J=ee(p[2].endTime,p[3])+"")&&Y(me,J),(!X||F&12)&&ke!==(ke=ee(p[2].startTime,p[3])+"")&&Y(Se,ke),(!X||F&12)&&pe!==(pe=ee(p[2].endTime,p[3])+"")&&Y(We,pe)},i(p){X||(S(s.$$.fragment,p),S(i.$$.fragment,p),S(T.$$.fragment,p),X=!0)},o(p){H(s.$$.fragment,p),H(i.$$.fragment,p),H(T.$$.fragment,p),X=!1},d(p){p&&u(e),Q(s),p&&u(t),p&&u(l),Q(i),p&&u(h),p&&u(k),Q(T),p&&u(_e),p&&u(ne),p&&u(ye),p&&u(ae),Le=!1,ft(Re)}}}function bl(n){let e,s,t;var l=n[0]?nt:Ue;function f(a){return{props:{item:a[2],selected:a[1],href:a[5],class:"workflow-summary-row",$$slots:{default:[dl]},$$scope:{ctx:a}}}}return l&&(e=Xe(l,f(n))),{c(){e&&R(e.$$.fragment),s=le()},l(a){e&&z(e.$$.fragment,a),s=le()},m(a,r){e&&O(e,a,r),g(a,s,r),t=!0},p(a,[r]){const o={};if(r&4&&(o.item=a[2]),r&2&&(o.selected=a[1]),r&32&&(o.href=a[5]),r&1048668&&(o.$$scope={dirty:r,ctx:a}),l!==(l=a[0]?nt:Ue)){if(e){Z();const i=e;H(i.$$.fragment,1,0,()=>{Q(i,1)}),$()}l?(e=Xe(l,f(a)),R(e.$$.fragment),S(e.$$.fragment,1),O(e,s.parentNode,s)):e=null}else l&&e.$set(o)},i(a){t||(e&&S(e.$$.fragment,a),t=!0)},o(a){e&&H(e.$$.fragment,a),t=!1},d(a){a&&u(s),e&&Q(e,a)}}}function hl(n,e,s){let t,l,f;ve(n,it,T=>s(6,l=T)),ve(n,Ct,T=>s(9,f=T));let{bulkActionsEnabled:a=!1}=e,{selected:r=!1}=e,{namespace:o}=e,{workflow:i}=e,{timeFormat:d}=e,m=!1;const D=T=>{const q=Ye({timeRange:"All"}),M=l.url.searchParams.get("query"),J=fl(M!=null?M:q),me=(J==null?void 0:J.workflowType)===T?"":T,_e=Ye({...J,workflowType:me});vt({url:l.url,parameter:"query",value:_e,allowEmpty:!0})},_=()=>s(4,m=!0),h=()=>s(4,m=!0),k=()=>s(4,m=!1),y=()=>s(4,m=!1),A=()=>D(i.name),c=()=>D(i.name),b=()=>s(4,m=!0),U=()=>s(4,m=!0),j=()=>s(4,m=!1),w=()=>s(4,m=!1);return n.$$set=T=>{"bulkActionsEnabled"in T&&s(0,a=T.bulkActionsEnabled),"selected"in T&&s(1,r=T.selected),"namespace"in T&&s(8,o=T.namespace),"workflow"in T&&s(2,i=T.workflow),"timeFormat"in T&&s(3,d=T.timeFormat)},n.$$.update=()=>{n.$$.dirty&772&&s(5,t=Tt({view:f,namespace:o,workflow:i.id,run:i.runId}))},[a,r,i,d,m,t,l,D,o,f,_,h,k,y,A,c,b,U,j,w]}class Bl extends oe{constructor(e){super(),re(this,e,hl,bl,se,{bulkActionsEnabled:0,selected:1,namespace:8,workflow:2,timeFormat:3})}}var Ul=kl;function kl(n,e,s,t){var l,f,a;return function(){if(a=this,f=Array.prototype.slice.call(arguments),l&&(s||t))return;if(!s)return i(),l=setTimeout(o,e),l;l=setTimeout(i,e),n.apply(a,f);function o(){i(),n.apply(a,f)}function i(){clearTimeout(l),l=null}}}function at(n){let e,s;return e=new qe({props:{name:"search",class:"ml-4 flex items-center text-gray-700"}}),{c(){R(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},i(t){s||(S(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function wl(n){let e;return{c(){e=L(n[2])},l(s){e=B(s,n[2])},m(s,t){g(s,e,t)},p(s,t){t&4&&Y(e,s[2])},d(s){s&&u(e)}}}function pl(n){let e,s,t,l,f,a,r,o,i,d,m,D,_=n[4]&&at();return i=new Ht({props:{class:"m-2",type:"submit",$$slots:{default:[wl]},$$scope:{ctx:n}}}),{c(){e=W("form"),_&&_.c(),s=N(),t=W("label"),l=L(n[2]),f=N(),a=W("input"),r=N(),o=W("div"),R(i.$$.fragment),this.h()},l(h){e=I(h,"FORM",{class:!0});var k=C(e);_&&_.l(k),s=P(k),t=I(k,"LABEL",{for:!0,class:!0});var y=C(t);l=B(y,n[2]),y.forEach(u),f=P(k),a=I(k,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0,autocomplete:!0}),r=P(k),o=I(k,"DIV",{});var A=C(o);z(i.$$.fragment,A),A.forEach(u),k.forEach(u),this.h()},h(){v(t,"for",n[5]),v(t,"class","hidden"),v(a,"id",n[5]),v(a,"type","text"),v(a,"class","w-full rounded-l-lg px-4 focus:outline-none"),v(a,"name",n[3]),a.value=n[1],v(a,"placeholder",n[0]),v(a,"autocomplete","off"),v(e,"class","relative flex items-center rounded-lg border-2 transition-colors focus-within:border-blue-700")},m(h,k){g(h,e,k),_&&_.m(e,null),E(e,s),E(e,t),E(t,l),E(e,f),E(e,a),E(e,r),E(e,o),O(i,o,null),d=!0,m||(D=[V(a,"input",n[7]),V(e,"submit",Ee(n[6]))],m=!0)},p(h,[k]){h[4]?_?k&16&&S(_,1):(_=at(),_.c(),S(_,1),_.m(e,s)):_&&(Z(),H(_,1,1,()=>{_=null}),$()),(!d||k&4)&&Y(l,h[2]),(!d||k&32)&&v(t,"for",h[5]),(!d||k&32)&&v(a,"id",h[5]),(!d||k&8)&&v(a,"name",h[3]),(!d||k&2&&a.value!==h[1])&&(a.value=h[1]),(!d||k&1)&&v(a,"placeholder",h[0]);const y={};k&260&&(y.$$scope={dirty:k,ctx:h}),i.$set(y)},i(h){d||(S(_),S(i.$$.fragment,h),d=!0)},o(h){H(_),H(i.$$.fragment,h),d=!1},d(h){h&&u(e),_&&_.d(),Q(i),m=!1,ft(D)}}}function gl(n,e,s){let{placeholder:t=""}=e,{value:l=""}=e,{label:f="Search"}=e,{name:a="query"}=e,{icon:r=!1}=e,{id:o=`${f.toLocaleUpperCase()}-input`}=e;function i(m){Ce.call(this,n,m)}function d(m){Ce.call(this,n,m)}return n.$$set=m=>{"placeholder"in m&&s(0,t=m.placeholder),"value"in m&&s(1,l=m.value),"label"in m&&s(2,f=m.label),"name"in m&&s(3,a=m.name),"icon"in m&&s(4,r=m.icon),"id"in m&&s(5,o=m.id)},[t,l,f,a,r,o,i,d]}class ql extends oe{constructor(e){super(),re(this,e,gl,pl,se,{placeholder:0,value:1,label:2,name:3,icon:4,id:5})}}export{ql as S,Ll as W,Bl as a,Ul as j,fl as t};
