import{d as a,r as m,w as e}from"./index-c915c910.js";import{p as i}from"./stores-de421f88.js";import{c as d,d as h}from"./workflow-service-bd55764e.js";import{p as k}from"./route-for-a6a4e2f3.js";import{i as y}from"./version-check-d006b302.js";import{c as p}from"./cluster-cca105a5.js";import{t as b}from"./versions-96a1b703.js";const g=300,v=async(s,o,t)=>{o.set(!0);try{await t()}catch(r){console.error(r)}s.set(!1),setTimeout(()=>{o.set(!1)},g)},f=s=>{var o;return(o=s==null?void 0:s.visibilityStore)==null?void 0:o.includes("elasticsearch")},C=a([i],([s])=>{var o,t,r;return(r=(t=(o=s.data)==null?void 0:o.settings)==null?void 0:t.runtimeEnvironment)==null?void 0:r.isCloud}),H=a([b,p],([s,o])=>y(s,"1.18.0")&&f(o)),V=a([p,C],([s,o])=>f(s)??o),A=e(0),W=a([i],([s])=>s.params.namespace),q=a([i],([s])=>s.url.searchParams.get("query")),P=a([i],([s])=>s.url.pathname),E=a([W,q,P,A,V],([s,o,t,r,n])=>({namespace:s,query:o,path:t,refresh:r,supportsAdvancedVisibility:n})),S=s=>{B.set(s)},T=s=>E.subscribe(({namespace:o,query:t,path:r,supportsAdvancedVisibility:n})=>{r==`${k}/namespaces/${o}/workflows`&&v(x,$,async()=>{const{workflows:w,error:c}=await d(o,{query:t});if(s(w),n){const u=await h(o,t);S(u)}c?l.set(c):l.set("")})}),I=e({parameters:{},searchType:"basic"}),$=e(!0),x=e(!0),B=e({count:0,totalCount:0}),l=e(""),J=m([],T),K=e("");export{J as a,l as b,B as c,K as d,H as e,v as f,g,x as l,A as r,V as s,$ as u,I as w};
