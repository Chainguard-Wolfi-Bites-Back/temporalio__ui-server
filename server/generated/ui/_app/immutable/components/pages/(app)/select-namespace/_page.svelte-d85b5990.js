import{S as _e,i as fe,s as he,k as N,l as S,m as z,h as y,p as D,av as te,aa as de,b as C,K as I,ap as ge,R as Q,g as se,ac as ve,ad as ke,d as re,f as V,t as H,o as be,F as we,a as F,c as M,G as ye,H as Ee,I as Te,A as $,Z as le,q as X,r as x,w as B,x as j,n as P,y as G,W as ne,U as Ie,z as J,D as Le,J as ee,a2 as Ne,O as Se,B as me,e as ae,u as Ve}from"../../../../chunks/index-9c2f34db.js";import{g as He}from"../../../../chunks/navigation-1cc047a6.js";import{p as Ue}from"../../../../chunks/stores-ae349ac7.js";import{l as oe,n as We}from"../../../../chunks/namespaces-00b1314a.js";import{r as ze}from"../../../../chunks/route-for-9e2a964e.js";import{E as pe}from"../../../../chunks/empty-state-84b6ab67.js";import{I as Pe}from"../../../../chunks/icon-8db9aa9d.js";import{P as Re}from"../../../../chunks/page-title-d37abd4e.js";import{d as Ae}from"../../../../chunks/workflow-service-cc18b928.js";import{t as Ce}from"../../../../chunks/toaster-6798b4b4.js";function ie(r,e,t){const l=r.slice();return l[23]=e[t],l}const De=r=>({item:r&16}),ce=r=>({item:r[23].data});function Fe(r){let e;return{c(){e=X("Missing template")},l(t){e=x(t,"Missing template")},m(t,l){C(t,e,l)},d(t){t&&y(e)}}}function ue(r,e){let t,l,a;const f=e[14].default,_=we(f,e,e[13],ce),o=_||Fe();return{key:r,first:null,c(){t=N("svelte-virtual-list-row"),o&&o.c(),l=F(),this.h()},l(s){t=S(s,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var u=z(t);o&&o.l(u),l=M(u),u.forEach(y),this.h()},h(){te(t,"class","svelte-1kdxoed"),this.first=t},m(s,u){C(s,t,u),o&&o.m(t,null),I(t,l),a=!0},p(s,u){e=s,_&&_.p&&(!a||u&8208)&&ye(_,f,e,e[13],a?Te(f,e[13],u,De):Ee(e[13]),ce)},i(s){a||(V(o,s),a=!0)},o(s){H(o,s),a=!1},d(s){s&&y(t),o&&o.d(s)}}}function Me(r){let e,t,l=[],a=new Map,f,_,o,s,u=r[4];const m=c=>c[23].index;for(let c=0;c<u.length;c+=1){let i=ie(r,u,c),v=m(i);a.set(v,l[c]=ue(v,i))}return{c(){e=N("svelte-virtual-list-viewport"),t=N("svelte-virtual-list-contents");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=S(c,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var i=z(e);t=S(i,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var v=z(t);for(let d=0;d<l.length;d+=1)l[d].l(v);v.forEach(y),i.forEach(y),this.h()},h(){D(t,"padding-top",r[5]+"px"),D(t,"padding-bottom",r[6]+"px"),te(t,"class","svelte-1kdxoed"),D(e,"height",r[0]),te(e,"class","svelte-1kdxoed"),de(()=>r[17].call(e))},m(c,i){C(c,e,i),I(e,t);for(let v=0;v<l.length;v+=1)l[v].m(t,null);r[15](t),r[16](e),f=ge(e,r[17].bind(e)),_=!0,o||(s=Q(e,"scroll",r[7]),o=!0)},p(c,[i]){i&8208&&(u=c[4],se(),l=ve(l,i,m,1,c,u,a,t,ke,ue,null,ie),re()),(!_||i&32)&&D(t,"padding-top",c[5]+"px"),(!_||i&64)&&D(t,"padding-bottom",c[6]+"px"),(!_||i&1)&&D(e,"height",c[0])},i(c){if(!_){for(let i=0;i<u.length;i+=1)V(l[i]);_=!0}},o(c){for(let i=0;i<l.length;i+=1)H(l[i]);_=!1},d(c){c&&y(e);for(let i=0;i<l.length;i+=1)l[i].d();r[15](null),r[16](null),f(),o=!1,s()}}}function Oe(r,e,t){let{$$slots:l={},$$scope:a}=e,{items:f}=e,{height:_="100%"}=e,{itemHeight:o=void 0}=e,{start:s=0}=e,{end:u=0}=e,m=[],c,i,v,d=0,h,k,b=0,E=0,L;async function O(n,p,w){const{scrollTop:T}=i;await $();let W=b-T,g=s;for(;W<p&&g<n.length;){let q=c[g-s];q||(t(9,u=g+1),await $(),q=c[g-s]);const A=m[g]=w||q.offsetHeight;W+=A,g+=1}t(9,u=g);const R=n.length-u;L=(b+W)/u,t(6,E=R*L),m.length=n.length}async function K(){const{scrollTop:n}=i,p=s;for(let g=0;g<c.length;g+=1)m[s+g]=o||c[g].offsetHeight;let w=0,T=0;for(;w<f.length;){const g=m[w]||L;if(T+g>n){t(8,s=w),t(5,b=T);break}T+=g,w+=1}for(;w<f.length&&(T+=m[w]||L,w+=1,!(T>n+d)););t(9,u=w);const W=f.length-u;for(L=T/u;w<f.length;)m[w++]=L;if(t(6,E=W*L),s<p){await $();let g=0,R=0;for(let A=s;A<p;A+=1)c[A-s]&&(g+=m[A],R+=o||c[A-s].offsetHeight);const q=R-g;i.scrollTo(0,n+q)}}be(()=>{c=v.getElementsByTagName("svelte-virtual-list-row"),t(12,k=!0)});function Y(n){le[n?"unshift":"push"](()=>{v=n,t(3,v)})}function U(n){le[n?"unshift":"push"](()=>{i=n,t(2,i)})}function Z(){d=this.offsetHeight,t(1,d)}return r.$$set=n=>{"items"in n&&t(10,f=n.items),"height"in n&&t(0,_=n.height),"itemHeight"in n&&t(11,o=n.itemHeight),"start"in n&&t(8,s=n.start),"end"in n&&t(9,u=n.end),"$$scope"in n&&t(13,a=n.$$scope)},r.$$.update=()=>{r.$$.dirty&1792&&t(4,h=f.slice(s,u).map((n,p)=>({index:p+s,data:n}))),r.$$.dirty&7170&&k&&O(f,d,o)},[_,d,i,v,h,b,E,K,s,u,f,o,k,a,l,Y,U,Z]}class qe extends _e{constructor(e){super(),fe(this,e,Oe,Me,he,{items:10,height:0,itemHeight:11,start:8,end:9})}}function Be(r){let e,t;return e=new pe({props:{title:"No Namespaces. Contact your admin to create one."}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p:me,i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function je(r){let e,t,l,a;const f=[Je,Ge],_=[];function o(s,u){return s[3].length?0:1}return e=o(r),t=_[e]=f[e](r),{c(){t.c(),l=ae()},l(s){t.l(s),l=ae()},m(s,u){_[e].m(s,u),C(s,l,u),a=!0},p(s,u){let m=e;e=o(s),e===m?_[e].p(s,u):(se(),H(_[m],1,1,()=>{_[m]=null}),re(),t=_[e],t?t.p(s,u):(t=_[e]=f[e](s),t.c()),V(t,1),t.m(l.parentNode,l))},i(s){a||(V(t),a=!0)},o(s){H(t),a=!1},d(s){_[e].d(s),s&&y(l)}}}function Ge(r){let e,t;return e=new pe({props:{title:"No results."}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p:me,i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Je(r){let e,t;return e=new qe({props:{items:r[3],itemHeight:50,$$slots:{default:[Ke,({item:l})=>({12:l}),({item:l})=>l?4096:0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const f={};a&8&&(f.items=l[3]),a&12288&&(f.$$scope={dirty:a,ctx:l}),e.$set(f)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Ke(r){let e,t=r[12].namespace+"",l,a,f;function _(){return r[10](r[12])}return{c(){e=N("li"),l=X(t),this.h()},l(o){e=S(o,"LI",{class:!0});var s=z(e);l=x(s,t),s.forEach(y),this.h()},h(){P(e,"class","link-item svelte-1eqf4j7")},m(o,s){C(o,e,s),I(e,l),a||(f=Q(e,"click",_),a=!0)},p(o,s){r=o,s&4096&&t!==(t=r[12].namespace+"")&&Ve(l,t)},d(o){o&&y(e),a=!1,f()}}}function Ye(r){let e,t,l,a,f,_,o,s,u,m,c,i,v,d,h,k,b,E,L,O,K;e=new Re({props:{title:"Select Namespace",url:r[4].url.href}}),i=new Pe({props:{name:"search"}});const Y=[je,Be],U=[];function Z(n,p){return n[1].length?0:1}return b=Z(r),E=U[b]=Y[b](r),{c(){B(e.$$.fragment),t=F(),l=N("div"),a=N("h1"),f=X("Welcome to Temporal"),_=F(),o=N("p"),s=X("Select a Namespace to get started."),u=F(),m=N("div"),c=N("div"),B(i.$$.fragment),v=F(),d=N("input"),h=F(),k=N("ul"),E.c(),this.h()},l(n){j(e.$$.fragment,n),t=M(n),l=S(n,"DIV",{class:!0});var p=z(l);a=S(p,"H1",{class:!0});var w=z(a);f=x(w,"Welcome to Temporal"),w.forEach(y),_=M(p),o=S(p,"P",{class:!0});var T=z(o);s=x(T,"Select a Namespace to get started."),T.forEach(y),u=M(p),m=S(p,"DIV",{class:!0});var W=z(m);c=S(W,"DIV",{class:!0});var g=z(c);j(i.$$.fragment,g),g.forEach(y),v=M(W),d=S(W,"INPUT",{class:!0,placeholder:!0}),W.forEach(y),h=M(p),k=S(p,"UL",{class:!0});var R=z(k);E.l(R),R.forEach(y),p.forEach(y),this.h()},h(){P(a,"class","my-4 text-3xl"),P(o,"class","mb-8"),P(c,"class","ml-4 mr-2"),P(d,"class","w-full"),P(d,"placeholder","Search"),P(m,"class","mb-5 flex rounded-full border p-1 pr-4"),P(k,"class","h-screen w-full"),P(l,"class","w-full p-8 xl:w-1/2")},m(n,p){G(e,n,p),C(n,t,p),C(n,l,p),I(l,a),I(a,f),I(l,_),I(l,o),I(o,s),I(l,u),I(l,m),I(m,c),G(i,c,null),I(m,v),I(m,d),ne(d,r[0]),r[9](d),I(l,h),I(l,k),U[b].m(k,null),L=!0,O||(K=[Q(d,"keydown",Ie(r[7])),Q(d,"input",r[8])],O=!0)},p(n,[p]){const w={};p&16&&(w.url=n[4].url.href),e.$set(w),p&1&&d.value!==n[0]&&ne(d,n[0]);let T=b;b=Z(n),b===T?U[b].p(n,p):(se(),H(U[T],1,1,()=>{U[T]=null}),re(),E=U[b],E?E.p(n,p):(E=U[b]=Y[b](n),E.c()),V(E,1),E.m(k,null))},i(n){L||(V(e.$$.fragment,n),V(i.$$.fragment,n),V(E),L=!0)},o(n){H(e.$$.fragment,n),H(i.$$.fragment,n),H(E),L=!1},d(n){J(e,n),n&&y(t),n&&y(l),J(i),r[9](null),U[b].d(),O=!1,Le(K)}}}function Ze(r,e,t){let l,a,f,_,o,s;ee(r,oe,h=>t(11,_=h)),ee(r,We,h=>t(6,o=h)),ee(r,Ue,h=>t(4,s=h));let u=null,m="";function c(h){Se.call(this,r,h)}function i(){m=this.value,t(0,m)}function v(h){le[h?"unshift":"push"](()=>{u=h,t(2,u)})}const d=h=>h==null?void 0:h.onClick(h.namespace);return r.$$.update=()=>{r.$$.dirty&64&&t(5,l=o.map(h=>{var k;return(k=h==null?void 0:h.namespaceInfo)===null||k===void 0?void 0:k.name})),r.$$.dirty&32&&t(1,a=l.map(h=>({namespace:h,onClick:async k=>{const{authorized:b}=await Ae(k);b?(Ne(oe,_=k,_),He(ze({namespace:k}))):Ce.push({variant:"error",message:"You do not have access to this namespace."})}}))),r.$$.dirty&3&&t(3,f=a.filter(({namespace:h})=>h.includes(m)))},[m,a,u,f,s,l,o,c,i,v,d]}class at extends _e{constructor(e){super(),fe(this,e,Ze,Ye,he,{})}}export{at as default};
