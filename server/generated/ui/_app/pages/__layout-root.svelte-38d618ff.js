var G=Object.defineProperty,Q=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var J=(n,e,t)=>e in n?G(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||(e={}))X.call(e,t)&&J(n,t,e[t]);if(z)for(var t of z(e))Y.call(e,t)&&J(n,t,e[t]);return n},R=(n,e)=>Q(n,W(e));import{S as Z,i as x,s as ee,e as h,k,w as B,a7 as te,c as $,d as u,m as M,a as P,x as q,b as l,P as f,g as V,y as C,q as N,o as A,B as S,I as re,J as ne,K as ae,L as se}from"../chunks/index-2d5c3a3e.js";import{g as oe}from"../chunks/get-namespace-d08f200a.js";import{n as ie}from"../chunks/notifications-4a537727.js";import{r as le,a as me}from"../chunks/route-for-api-16e00b60.js";import{f as ce,N as ue,B as fe,E as pe}from"../chunks/error-boundary-4c106455.js";import{f as de}from"../chunks/error-fb10b511.js";import{f as he}from"../chunks/navigation-header-3167ca74.js";/* empty css                    */import{H as $e,a as ge}from"../chunks/_header-responsive-9a1bfca4.js";import"../chunks/index-4613cb79.js";import"../chunks/route-for-f75b1f87.js";import"../chunks/index-57c8acfa.js";import"../chunks/persist-store-e8b9fdb1.js";import"../chunks/stores-045372f2.js";import"../chunks/navigation-3f1ea447.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/index.es-e20b954f.js";import"../chunks/data-converter-config-6fbd3134.js";import"../chunks/tooltip-424cee48.js";import"../chunks/copyable-4b4f3059.js";import"../chunks/select-535b59d2.js";const _e=(n,e)=>!n.auth.enabled||Boolean(e==null?void 0:e.email),j={namespaces:[]};async function ye(n,e=fetch){if(n.runtimeEnvironment.isCloud)return j;const t=await le(me("namespaces"),{request:e,onError:()=>ie.add("error","Unable to fetch namespaces")});return t!=null?t:j}function ve(n){let e;const t=n[2].default,a=re(t,n,n[3],null);return{c(){a&&a.c()},l(r){a&&a.l(r)},m(r,o){a&&a.m(r,o),e=!0},p(r,o){a&&a.p&&(!e||o&8)&&ne(a,t,r,r[3],e?se(t,r[3],o,null):ae(r[3]),null)},i(r){e||(N(a,r),e=!0)},o(r){A(a,r),e=!1},d(r){a&&a.d(r)}}}function Ee(n){let e,t,a,r,o,p,d,m,E,K,g,L,_,D,y,F,w,b,v,H;return E=new ue({}),g=new fe({props:{cluster:n[1]}}),_=new $e({props:{user:n[0]}}),y=new ge({props:{user:n[0]}}),v=new pe({props:{onError:we,$$slots:{default:[ve]},$$scope:{ctx:n}}}),{c(){e=h("link"),t=h("link"),a=h("meta"),r=h("meta"),o=h("meta"),p=h("meta"),d=k(),m=h("main"),B(E.$$.fragment),K=k(),B(g.$$.fragment),L=k(),B(_.$$.fragment),D=k(),B(y.$$.fragment),F=k(),w=h("section"),b=h("div"),B(v.$$.fragment),this.h()},l(s){const i=te('[data-svelte="svelte-15ltrtv"]',document.head);e=$(i,"LINK",{rel:!0,href:!0}),t=$(i,"LINK",{rel:!0,href:!0}),a=$(i,"META",{property:!0,content:!0}),r=$(i,"META",{property:!0,content:!0}),o=$(i,"META",{property:!0,content:!0}),p=$(i,"META",{property:!0,content:!0}),i.forEach(u),d=M(s),m=$(s,"MAIN",{class:!0});var c=P(m);q(E.$$.fragment,c),K=M(c),q(g.$$.fragment,c),L=M(c),q(_.$$.fragment,c),D=M(c),q(y.$$.fragment,c),F=M(c),w=$(c,"SECTION",{id:!0,class:!0});var I=P(w);b=$(I,"DIV",{class:!0});var T=P(b);q(v.$$.fragment,T),T.forEach(u),I.forEach(u),c.forEach(u),this.h()},h(){document.title="Temporal",l(e,"rel","manifest"),l(e,"href","/site.webmanifest"),l(t,"rel","apple-touch-icon"),l(t,"href","/apple-touch-icon.png"),l(a,"property","og:title"),l(a,"content","Temporal"),l(r,"property","og:type"),l(r,"content","website"),l(o,"property","og:url"),l(o,"content","https://temporal.io"),l(p,"property","og:image"),l(p,"content","/banner.png"),l(b,"class","flex flex-col h-full gap-4 mt-12 xl:mt-0"),l(w,"id","content"),l(w,"class","h-full mx-10 mb-10 mt-8"),l(m,"class","flex flex-col h-screen")},m(s,i){f(document.head,e),f(document.head,t),f(document.head,a),f(document.head,r),f(document.head,o),f(document.head,p),V(s,d,i),V(s,m,i),C(E,m,null),f(m,K),C(g,m,null),f(m,L),C(_,m,null),f(m,D),C(y,m,null),f(m,F),f(m,w),f(w,b),C(v,b,null),H=!0},p(s,[i]){const c={};i&2&&(c.cluster=s[1]),g.$set(c);const I={};i&1&&(I.user=s[0]),_.$set(I);const T={};i&1&&(T.user=s[0]),y.$set(T);const U={};i&8&&(U.$$scope={dirty:i,ctx:s}),v.$set(U)},i(s){H||(N(E.$$.fragment,s),N(g.$$.fragment,s),N(_.$$.fragment,s),N(y.$$.fragment,s),N(v.$$.fragment,s),H=!0)},o(s){A(E.$$.fragment,s),A(g.$$.fragment,s),A(_.$$.fragment,s),A(y.$$.fragment,s),A(v.$$.fragment,s),H=!1},d(s){u(e),u(t),u(a),u(r),u(o),u(p),s&&u(d),s&&u(m),S(E),S(g),S(_),S(y),S(v)}}}const je=async function({url:n,fetch:e}){const t=await he({url:n},e),a=await de(e);if(!_e(t,a))return{status:302,redirect:"/login"};const r=await ye(t,e),o=oe({namespaces:r==null?void 0:r.namespaces,settings:t}),p=await ce(t,e);return{props:{user:a,cluster:p},stuff:{namespaces:r==null?void 0:r.namespaces,settings:R(O({},t),{defaultNamespace:o})}}},we=()=>{};function be(n,e,t){let{$$slots:a={},$$scope:r}=e,{user:o}=e,{cluster:p}=e;return n.$$set=d=>{"user"in d&&t(0,o=d.user),"cluster"in d&&t(1,p=d.cluster),"$$scope"in d&&t(3,r=d.$$scope)},[o,p,a,r]}class Ge extends Z{constructor(e){super(),x(this,e,be,Ee,ee,{user:0,cluster:1})}}export{Ge as default,je as load};
