var Ee=Object.defineProperty,Ne=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var ie=(n,e,s)=>e in n?Ee(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,ue=(n,e)=>{for(var s in e||(e={}))Ie.call(e,s)&&ie(n,s,e[s]);if(ce)for(var s of ce(e))Ae.call(e,s)&&ie(n,s,e[s]);return n},fe=(n,e)=>Ne(n,ye(e));import{S as z,i as X,s as Y,I as Te,J as De,e as h,w as S,c as v,a as M,x as V,d as m,b as u,g as F,y as B,K as Me,q as g,o as b,B as C,L as x,l as j,n as he,p as ve,M as Se,t as H,h as P,j as Ve,E as Be,N as ee,O as te,P as se,Q as ae,R as Z,T as p,U as Ce,k as O,m as U,V as Fe}from"../chunks/index-4f955b1f.js";import{g as Le}from"../chunks/get-namespace-d08f200a.js";import{n as qe}from"../chunks/notifications-2d1c3827.js";import{r as Oe,a as Ue}from"../chunks/route-for-api-2f3acaa0.js";import{N as be,D as Ge,f as We,a as Ke,b as Re,B as je,E as He}from"../chunks/error-boundary-5b026c09.js";import{f as Pe}from"../chunks/settings-service-d388e5c2.js";import{g as ke}from"../chunks/navigation-3f1ea447.js";import{p as re}from"../chunks/stores-8f54f2cb.js";import{r as Q,a as me}from"../chunks/route-for-d606e623.js";import{S as Je,O as we}from"../chunks/select-7cfdb92d.js";import"../chunks/index-eae5a65e.js";import"../chunks/is-network-error-ac7c8caf.js";import"../chunks/index.es-3f7bba01.js";import"../chunks/data-converter-config-728a6f58.js";import"../chunks/index-825e9062.js";import"../chunks/error-22a906b7.js";import"../chunks/singletons-d1fb5791.js";const pe={namespaces:[]};async function Qe(n,e=fetch){if(n.runtimeEnvironment.isCloud)return pe;const s=await Oe(Ue("namespaces"),{request:e,onError:()=>qe.add("error","Unable to fetch namespaces")});return s!=null?s:pe}function _e(n,e,s){const t=n.slice();return t[9]=e[s],t}function ze(n){let e,s,t=n[2],a=[];for(let l=0;l<t.length;l+=1)a[l]=de(_e(n,t,l));const o=l=>b(a[l],1,1,()=>{a[l]=null});return{c(){for(let l=0;l<a.length;l+=1)a[l].c();e=j()},l(l){for(let c=0;c<a.length;c+=1)a[c].l(l);e=j()},m(l,c){for(let r=0;r<a.length;r+=1)a[r].m(l,c);F(l,e,c),s=!0},p(l,c){if(c&4){t=l[2];let r;for(r=0;r<t.length;r+=1){const i=_e(l,t,r);a[r]?(a[r].p(i,c),g(a[r],1)):(a[r]=de(i),a[r].c(),g(a[r],1),a[r].m(e.parentNode,e))}for(he(),r=t.length;r<a.length;r+=1)o(r);ve()}},i(l){if(!s){for(let c=0;c<t.length;c+=1)g(a[c]);s=!0}},o(l){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)b(a[c]);s=!1},d(l){Se(a,l),l&&m(e)}}}function Xe(n){let e,s;return e=new we({props:{value:n[0],$$slots:{default:[Ze]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,a){B(e,t,a),s=!0},p(t,a){const o={};a&1&&(o.value=t[0]),a&4097&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(g(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Ye(n){let e=n[9]+"",s;return{c(){s=H(e)},l(t){s=P(t,e)},m(t,a){F(t,s,a)},p:Be,d(t){t&&m(s)}}}function de(n){let e,s;return e=new we({props:{value:n[9],$$slots:{default:[Ye]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,a){B(e,t,a),s=!0},p(t,a){const o={};a&4096&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(g(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Ze(n){let e;return{c(){e=H(n[0])},l(s){e=P(s,n[0])},m(s,t){F(s,e,t)},p(s,t){t&1&&Ve(e,s[0])},d(s){s&&m(e)}}}function xe(n){let e,s,t,a;const o=[Xe,ze],l=[];function c(r,i){return r[1]?0:1}return e=c(n),s=l[e]=o[e](n),{c(){s.c(),t=j()},l(r){s.l(r),t=j()},m(r,i){l[e].m(r,i),F(r,t,i),a=!0},p(r,i){s.p(r,i)},i(r){a||(g(s),a=!0)},o(r){b(s),a=!1},d(r){l[e].d(r),r&&m(t)}}}function et(n){let e,s,t,a;function o(c){n[4](c)}let l={dark:!0,id:"namespace-select",$$slots:{default:[xe]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.value=n[0]),s=new Je({props:l}),Te.push(()=>De(s,"value",o)),s.$on("change",n[3]),{c(){e=h("div"),S(s.$$.fragment),this.h()},l(c){e=v(c,"DIV",{class:!0});var r=M(e);V(s.$$.fragment,r),r.forEach(m),this.h()},h(){u(e,"class","w-full")},m(c,r){F(c,e,r),B(s,e,null),a=!0},p(c,[r]){const i={};r&4097&&(i.$$scope={dirty:r,ctx:c}),!t&&r&1&&(t=!0,i.value=c[0],Me(()=>t=!1)),s.$set(i)},i(c){a||(g(s.$$.fragment,c),a=!0)},o(c){b(s.$$.fragment,c),a=!1},d(c){c&&m(e),C(s)}}}function tt(n,e,s){let t;x(n,re,w=>s(7,t=w));var a,o;const{showTemporalSystemNamespace:l}=t.stuff.settings,{isCloud:c}=t.stuff.settings.runtimeEnvironment;let r=t.params.namespace||((o=(a=t.stuff)===null||a===void 0?void 0:a.settings)===null||o===void 0?void 0:o.defaultNamespace),i=(t.stuff.namespaces||[]).map(w=>{var d;return(d=w==null?void 0:w.namespaceInfo)===null||d===void 0?void 0:d.name}).filter(w=>l||w!=="temporal-system");const y=w=>{const q=w.target.value;q&&ke(Q({namespace:q}))};function k(w){r=w,s(0,r)}return[r,c,i,y,k]}class st extends z{constructor(e){super(),X(this,e,tt,et,Y,{})}}const at=n=>({}),$e=n=>({});function rt(n){let e;const s=n[2].default,t=ee(s,n,n[1],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){t&&t.p&&(!e||o&2)&&te(t,s,a,a[1],e?ae(s,a[1],o,null):se(a[1]),null)},i(a){e||(g(t,a),e=!0)},o(a){b(t,a),e=!1},d(a){t&&t.d(a)}}}function nt(n){let e;const s=n[2].fallback,t=ee(s,n,n[1],$e);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){t&&t.p&&(!e||o&2)&&te(t,s,a,a[1],e?ae(s,a[1],o,at):se(a[1]),$e)},i(a){e||(g(t,a),e=!0)},o(a){b(t,a),e=!1},d(a){t&&t.d(a)}}}function lt(n){let e,s,t,a;const o=[nt,rt],l=[];function c(r,i){return r[0].stuff.settings.runtimeEnvironment.isCloud?0:1}return e=c(n),s=l[e]=o[e](n),{c(){s.c(),t=j()},l(r){s.l(r),t=j()},m(r,i){l[e].m(r,i),F(r,t,i),a=!0},p(r,[i]){let y=e;e=c(r),e===y?l[e].p(r,i):(he(),b(l[y],1,1,()=>{l[y]=null}),ve(),s=l[e],s?s.p(r,i):(s=l[e]=o[e](r),s.c()),g(s,1),s.m(t.parentNode,t))},i(r){a||(g(s),a=!0)},o(r){b(s),a=!1},d(r){l[e].d(r),r&&m(t)}}}function ot(n,e,s){let t;x(n,re,l=>s(0,t=l));let{$$slots:a={},$$scope:o}=e;return n.$$set=l=>{"$$scope"in l&&s(1,o=l.$$scope)},[t,o,a]}class ct extends z{constructor(e){super(),X(this,e,ot,lt,Y,{})}}function it(n){let e;return{c(){e=H("Workflows")},l(s){e=P(s,"Workflows")},m(s,t){F(s,e,t)},d(s){s&&m(e)}}}function ut(n){let e;return{c(){e=H("Archival")},l(s){e=P(s,"Archival")},m(s,t){F(s,e,t)},d(s){s&&m(e)}}}function ft(n){let e,s;return e=new be({props:{href:me({namespace:n[1]}),$$slots:{default:[ut]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,a){B(e,t,a),s=!0},p(t,a){const o={};a&2&&(o.href=me({namespace:t[1]})),a&64&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(g(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function ge(n){let e,s,t,a,o,l;return{c(){e=h("button"),s=H(`Logout
        `),t=h("img"),this.h()},l(c){e=v(c,"BUTTON",{class:!0});var r=M(e);s=P(r,`Logout
        `),t=v(r,"IMG",{src:!0,alt:!0,class:!0}),r.forEach(m),this.h()},h(){Z(t.src,a=n[0].picture)||u(t,"src",a),u(t,"alt","User Avatar"),u(t,"class","rounded-full h-6 w-6 ml-2.5"),u(e,"class","header-button min-w-min svelte-da4c40")},m(c,r){F(c,e,r),p(e,s),p(e,t),o||(l=Ce(e,"click",n[5]),o=!0)},p(c,r){r&1&&!Z(t.src,a=c[0].picture)&&u(t,"src",a)},d(c){c&&m(e),o=!1,l()}}}function mt(n){var ne;let e,s,t,a,o,l,c,r,i,y,k,w,d,q,E,D,I,G,f,N,T,L;r=new st({}),k=new be({props:{href:Q({namespace:n[1]}),$$slots:{default:[it]},$$scope:{ctx:n}}}),d=new ct({props:{$$slots:{default:[ft]},$$scope:{ctx:n}}}),I=new Ge({});let $=((ne=n[0])==null?void 0:ne.email)&&ge(n);return{c(){e=h("header"),s=h("div"),t=h("a"),a=h("img"),c=O(),S(r.$$.fragment),i=O(),y=h("div"),S(k.$$.fragment),w=O(),S(d.$$.fragment),q=O(),E=h("div"),D=h("div"),S(I.$$.fragment),G=O(),f=h("a"),N=H("Give Feedback"),T=O(),$&&$.c(),this.h()},l(_){e=v(_,"HEADER",{class:!0});var A=M(e);s=v(A,"DIV",{class:!0});var W=M(s);t=v(W,"A",{href:!0,class:!0});var J=M(t);a=v(J,"IMG",{src:!0,alt:!0,class:!0}),J.forEach(m),c=U(W),V(r.$$.fragment,W),W.forEach(m),i=U(A),y=v(A,"DIV",{class:!0});var K=M(y);V(k.$$.fragment,K),w=U(K),V(d.$$.fragment,K),K.forEach(m),q=U(A),E=v(A,"DIV",{class:!0});var R=M(E);D=v(R,"DIV",{class:!0});var le=M(D);V(I.$$.fragment,le),le.forEach(m),G=U(R),f=v(R,"A",{class:!0,href:!0,target:!0});var oe=M(f);N=P(oe,"Give Feedback"),oe.forEach(m),T=U(R),$&&$.l(R),R.forEach(m),A.forEach(m),this.h()},h(){Z(a.src,o="/logo.svg")||u(a,"src",o),u(a,"alt","Temporal Logo"),u(a,"class","max-h-10"),u(t,"href",l=Q({namespace:n[1]})),u(t,"class","block"),u(s,"class","flex gap-4 col-span-3"),u(y,"class","flex gap-4 col-span-4"),u(D,"class","text-right"),u(f,"class","header-button svelte-da4c40"),u(f,"href","https://github.com/temporalio/ui/issues/new/choose"),u(f,"target","_blank"),u(E,"class","flex justify-end gap-4 col-span-5 col-end-13 items-center"),u(e,"class","grid grid-rows-1 grid-cols-12 px-10 items-center bg-gray-900 shadow-lg gap-6")},m(_,A){F(_,e,A),p(e,s),p(s,t),p(t,a),p(s,c),B(r,s,null),p(e,i),p(e,y),B(k,y,null),p(y,w),B(d,y,null),p(e,q),p(e,E),p(E,D),B(I,D,null),p(E,G),p(E,f),p(f,N),p(E,T),$&&$.m(E,null),L=!0},p(_,[A]){var K;(!L||A&2&&l!==(l=Q({namespace:_[1]})))&&u(t,"href",l);const W={};A&2&&(W.href=Q({namespace:_[1]})),A&64&&(W.$$scope={dirty:A,ctx:_}),k.$set(W);const J={};A&66&&(J.$$scope={dirty:A,ctx:_}),d.$set(J),(K=_[0])!=null&&K.email?$?$.p(_,A):($=ge(_),$.c(),$.m(E,null)):$&&($.d(1),$=null)},i(_){L||(g(r.$$.fragment,_),g(k.$$.fragment,_),g(d.$$.fragment,_),g(I.$$.fragment,_),L=!0)},o(_){b(r.$$.fragment,_),b(k.$$.fragment,_),b(d.$$.fragment,_),b(I.$$.fragment,_),L=!1},d(_){_&&m(e),C(r),C(k),C(d),C(I),$&&$.d()}}}function pt(n,e,s){let t,a;x(n,re,i=>s(4,a=i));var o,l;let{user:c}=e;const r=()=>ke("/auth/logout");return n.$$set=i=>{"user"in i&&s(0,c=i.user)},n.$$.update=()=>{n.$$.dirty&28&&s(1,t=a.params.namespace||(s(3,l=s(2,o=a.stuff)===null||o===void 0?void 0:o.settings)===null||l===void 0?void 0:l.defaultNamespace))},[c,t,o,l,a,r]}class _t extends z{constructor(e){super(),X(this,e,pt,mt,Y,{user:0})}}function dt(n){let e;const s=n[2].default,t=ee(s,n,n[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){t&&t.p&&(!e||o&8)&&te(t,s,a,a[3],e?ae(s,a[3],o,null):se(a[3]),null)},i(a){e||(g(t,a),e=!0)},o(a){b(t,a),e=!1},d(a){t&&t.d(a)}}}function $t(n){let e,s,t,a,o,l,c,r,i,y,k,w,d,q,E,D,I,G;return i=new Re({}),k=new je({props:{cluster:n[1]}}),d=new _t({props:{user:n[0]}}),I=new He({props:{onError:gt,$$slots:{default:[dt]},$$scope:{ctx:n}}}),{c(){e=h("link"),s=h("link"),t=h("meta"),a=h("meta"),o=h("meta"),l=h("meta"),c=O(),r=h("main"),S(i.$$.fragment),y=O(),S(k.$$.fragment),w=O(),S(d.$$.fragment),q=O(),E=h("section"),D=h("div"),S(I.$$.fragment),this.h()},l(f){const N=Fe('[data-svelte="svelte-15ltrtv"]',document.head);e=v(N,"LINK",{rel:!0,href:!0}),s=v(N,"LINK",{rel:!0,href:!0}),t=v(N,"META",{property:!0,content:!0}),a=v(N,"META",{property:!0,content:!0}),o=v(N,"META",{property:!0,content:!0}),l=v(N,"META",{property:!0,content:!0}),N.forEach(m),c=U(f),r=v(f,"MAIN",{class:!0});var T=M(r);V(i.$$.fragment,T),y=U(T),V(k.$$.fragment,T),w=U(T),V(d.$$.fragment,T),q=U(T),E=v(T,"SECTION",{id:!0,class:!0});var L=M(E);D=v(L,"DIV",{class:!0});var $=M(D);V(I.$$.fragment,$),$.forEach(m),L.forEach(m),T.forEach(m),this.h()},h(){document.title="Temporal",u(e,"rel","manifest"),u(e,"href","/site.webmanifest"),u(s,"rel","apple-touch-icon"),u(s,"href","/apple-touch-icon.png"),u(t,"property","og:title"),u(t,"content","Temporal"),u(a,"property","og:type"),u(a,"content","website"),u(o,"property","og:url"),u(o,"content","https://temporal.io"),u(l,"property","og:image"),u(l,"content","/banner.png"),u(D,"class","flex flex-col h-full gap-4"),u(E,"id","content"),u(E,"class","h-full mx-10 mb-10 mt-8"),u(r,"class","flex flex-col h-screen")},m(f,N){p(document.head,e),p(document.head,s),p(document.head,t),p(document.head,a),p(document.head,o),p(document.head,l),F(f,c,N),F(f,r,N),B(i,r,null),p(r,y),B(k,r,null),p(r,w),B(d,r,null),p(r,q),p(r,E),p(E,D),B(I,D,null),G=!0},p(f,[N]){const T={};N&2&&(T.cluster=f[1]),k.$set(T);const L={};N&1&&(L.user=f[0]),d.$set(L);const $={};N&8&&($.$$scope={dirty:N,ctx:f}),I.$set($)},i(f){G||(g(i.$$.fragment,f),g(k.$$.fragment,f),g(d.$$.fragment,f),g(I.$$.fragment,f),G=!0)},o(f){b(i.$$.fragment,f),b(k.$$.fragment,f),b(d.$$.fragment,f),b(I.$$.fragment,f),G=!1},d(f){m(e),m(s),m(t),m(a),m(o),m(l),f&&m(c),f&&m(r),C(i),C(k),C(d),C(I)}}}const qt=async function({url:n,fetch:e}){const s=await Pe({url:n},e),t=await We(e);let a,o,l;return(!s.auth.enabled||(t==null?void 0:t.email))&&(l=await Qe(s,e),a=Le({namespaces:l==null?void 0:l.namespaces,settings:s}),o=await Ke(s,e)),{props:{user:t,cluster:o},stuff:{namespaces:l==null?void 0:l.namespaces,settings:fe(ue({},s),{defaultNamespace:a})}}},gt=()=>{};function ht(n,e,s){let{$$slots:t={},$$scope:a}=e,{user:o}=e,{cluster:l}=e;return n.$$set=c=>{"user"in c&&s(0,o=c.user),"cluster"in c&&s(1,l=c.cluster),"$$scope"in c&&s(3,a=c.$$scope)},[o,l,t,a]}class Ot extends z{constructor(e){super(),X(this,e,ht,$t,Y,{user:0,cluster:1})}}export{Ot as default,qt as load};
