import{S,i as A,s as E,I as V,e as B,c as I,a as N,d as k,b as q,a4 as C,f as w,K as z,L as G,M as O,x as _,u as p,D as X,E as Y,ag as P,t as D,j as $,k as H,l as v,g as M,m as g,n as T,J as Z,o as b,F as x,ah as ee,v as y,Q as d,r as J,w as K,H as te}from"../../../../chunks/vendor-07bbbbe5.js";import{f as re}from"../../../../chunks/workflow-status-7943976a.js";import{W as se,a as oe,b as ne,c as le}from"../../../../chunks/_workflows-loading-050df7e2.js";import{E as ae}from"../../../../chunks/empty-state-5ac4aeb0.js";import{P as fe}from"../../../../chunks/pagination-585be89c.js";import"../../../../chunks/route-for-api-b4766198.js";import"../../../../chunks/notifications-ff4076d0.js";import"../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../chunks/format-date-460c9f8a.js";import"../../../../chunks/namespace-f1eae88a.js";import"../../../../chunks/stores-053bb508.js";import"../../../../chunks/route-for-11851a4f.js";import"../../../../chunks/navigation-51f4a605.js";import"../../../../chunks/singletons-12a22614.js";import"../../../../chunks/select-d9240e98.js";import"../../../../chunks/filter-select-e376d0a2.js";import"../../../../chunks/append-query-parameters-b8619cc0.js";function ce(n){let t,r,e;const s=n[2].default,a=V(s,n,n[1],null);return{c(){t=B("div"),a&&a.c(),this.h()},l(o){t=I(o,"DIV",{class:!0});var f=N(t);a&&a.l(f),f.forEach(k),this.h()},h(){q(t,"class",r=""+(C(`${n[0]}     
        rounded-sm
        text-center 
        inline-block
        px-1
        ml-1
        text-sm
        align-middle`)+" svelte-1agj3i6"))},m(o,f){w(o,t,f),a&&a.m(t,null),e=!0},p(o,[f]){a&&a.p&&(!e||f&2)&&z(a,s,o,o[1],e?O(s,o[1],f,null):G(o[1]),null),(!e||f&1&&r!==(r=""+(C(`${o[0]}     
        rounded-sm
        text-center 
        inline-block
        px-1
        ml-1
        text-sm
        align-middle`)+" svelte-1agj3i6")))&&q(t,"class",r)},i(o){e||(_(a,o),e=!0)},o(o){p(a,o),e=!1},d(o){o&&k(t),a&&a.d(o)}}}function ie(n,t,r){let{$$slots:e={},$$scope:s}=t,{type:a}=t;return n.$$set=o=>{"type"in o&&r(0,a=o.type),"$$scope"in o&&r(1,s=o.$$scope)},[a,s,e]}class ue extends S{constructor(t){super();A(this,t,ie,ce,E,{type:0})}}function L(n){n[0]=n[5].workflows}function Q(n,t,r){const e=n.slice();return e[7]=t[r],e}function me(n){let t;return{c(){t=D("Beta")},l(r){t=M(r,"Beta")},m(r,e){w(r,t,e)},d(r){r&&k(t)}}}function _e(n){return{c:d,l:d,m:d,p:d,i:d,o:d,d}}function pe(n){L(n);let t,r,e,s;const a=[he,ke],o=[];function f(l,u){return l[0].length?0:1}return t=f(n),r=o[t]=a[t](n),{c(){r.c(),e=v()},l(l){r.l(l),e=v()},m(l,u){o[t].m(l,u),w(l,e,u),s=!0},p(l,u){L(l);let h=t;t=f(l),t===h?o[t].p(l,u):(J(),p(o[h],1,1,()=>{o[h]=null}),K(),r=o[t],r?r.p(l,u):(r=o[t]=a[t](l),r.c()),_(r,1),r.m(e.parentNode,e))},i(l){s||(_(r),s=!0)},o(l){p(r),s=!1},d(l){o[t].d(l),l&&k(e)}}}function ke(n){let t,r;return t=new ae({props:{title:"No Workflows Found",content:n[2]}}),{c(){$(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,s){b(t,e,s),r=!0},p:d,i(e){r||(_(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function he(n){let t,r;return t=new fe({props:{items:n[0],$$slots:{default:[we,({visibleItems:e})=>({6:e}),({visibleItems:e})=>e?64:0]},$$scope:{ctx:n}}}),{c(){$(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,s){b(t,e,s),r=!0},p(e,s){const a={};s&1&&(a.items=e[0]),s&1090&&(a.$$scope={dirty:s,ctx:e}),t.$set(a)},i(e){r||(_(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function R(n){let t,r;return t=new le({props:{workflow:n[7],timeFormat:n[1]}}),{c(){$(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,s){b(t,e,s),r=!0},p(e,s){const a={};s&64&&(a.workflow=e[7]),s&2&&(a.timeFormat=e[1]),t.$set(a)},i(e){r||(_(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function de(n){let t,r,e=n[6],s=[];for(let o=0;o<e.length;o+=1)s[o]=R(Q(n,e,o));const a=o=>p(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=v()},l(o){for(let f=0;f<s.length;f+=1)s[f].l(o);t=v()},m(o,f){for(let l=0;l<s.length;l+=1)s[l].m(o,f);w(o,t,f),r=!0},p(o,f){if(f&66){e=o[6];let l;for(l=0;l<e.length;l+=1){const u=Q(o,e,l);s[l]?(s[l].p(u,f),_(s[l],1)):(s[l]=R(u),s[l].c(),_(s[l],1),s[l].m(t.parentNode,t))}for(J(),l=e.length;l<s.length;l+=1)a(l);K()}},i(o){if(!r){for(let f=0;f<e.length;f+=1)_(s[f]);r=!0}},o(o){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)p(s[f]);r=!1},d(o){te(s,o),o&&k(t)}}}function we(n){let t,r;return t=new ne({props:{$$slots:{default:[de]},$$scope:{ctx:n}}}),{c(){$(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,s){b(t,e,s),r=!0},p(e,s){const a={};s&1090&&(a.$$scope={dirty:s,ctx:e}),t.$set(a)},i(e){r||(_(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function $e(n){let t,r;return t=new oe({}),{c(){$(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,s){b(t,e,s),r=!0},p:d,i(e){r||(_(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function ge(n){let t,r,e,s,a,o,f,l,u,h;e=new ue({props:{type:"beta",$$slots:{default:[me]},$$scope:{ctx:n}}});function U(c){n[4](c)}let F={};n[1]!==void 0&&(F.timeFormat=n[1]),a=new se({props:F}),X.push(()=>Y(a,"timeFormat",U));let m={ctx:n,current:null,token:null,hasCatch:!1,pending:$e,then:pe,catch:_e,value:5,blocks:[,,,]};return P(u=n[0],m),{c(){t=B("h2"),r=D("Workflows "),$(e.$$.fragment),s=H(),$(a.$$.fragment),f=H(),l=v(),m.block.c(),this.h()},l(c){t=I(c,"H2",{class:!0});var i=N(t);r=M(i,"Workflows "),g(e.$$.fragment,i),i.forEach(k),s=T(c),g(a.$$.fragment,c),f=T(c),l=v(),m.block.l(c),this.h()},h(){q(t,"class","text-2xl")},m(c,i){w(c,t,i),Z(t,r),b(e,t,null),w(c,s,i),b(a,c,i),w(c,f,i),w(c,l,i),m.block.m(c,m.anchor=i),m.mount=()=>l.parentNode,m.anchor=l,h=!0},p(c,[i]){n=c;const j={};i&1024&&(j.$$scope={dirty:i,ctx:n}),e.$set(j);const W={};!o&&i&2&&(o=!0,W.timeFormat=n[1],x(()=>o=!1)),a.$set(W),m.ctx=n,i&1&&u!==(u=n[0])&&P(u,m)||ee(m,n,i)},i(c){h||(_(e.$$.fragment,c),_(a.$$.fragment,c),_(m.block),h=!0)},o(c){p(e.$$.fragment,c),p(a.$$.fragment,c);for(let i=0;i<3;i+=1){const j=m.blocks[i];p(j)}h=!1},d(c){c&&k(t),y(e),c&&k(s),y(a,c),c&&k(f),c&&k(l),m.block.d(c),m.token=null,m=null}}}async function Te({page:n,fetch:t}){const r=n.query.has("query");!n.query.has("time-range")&&!r&&n.query.set("time-range","24 hours");const e=n.params.namespace,s=n.query.get("workflow-id"),a=n.query.get("workflow-type"),o=n.query.get("time-range"),f=n.query.get("status"),l=n.query.get("query");return{props:{workflows:await re(e,{workflowId:s,workflowType:a,timeRange:o,executionStatus:f,query:l},t),isAdvancedSearch:r}}}function be(n,t,r){let{workflows:e}=t,{isAdvancedSearch:s}=t,a="UTC";const o=s?"Please check your syntax and try again.":"If you have filters applied, try adjusting them.";function f(l){a=l,r(1,a)}return n.$$set=l=>{"workflows"in l&&r(0,e=l.workflows),"isAdvancedSearch"in l&&r(3,s=l.isAdvancedSearch)},[e,a,o,s,f]}class Je extends S{constructor(t){super();A(this,t,be,ge,E,{workflows:0,isAdvancedSearch:3})}}export{Je as default,Te as load};
