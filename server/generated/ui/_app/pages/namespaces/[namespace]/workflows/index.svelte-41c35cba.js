import{S,i as A,s as E,I as K,e as I,c as B,a as C,d as w,b as q,a4 as N,f as $,K as P,L as Q,M as R,x as _,u as k,D as U,E as z,ag as D,t as L,j as h,k as M,l as j,g as T,m as g,n as V,J as G,o as b,F as O,ah as X,v as y,Q as d,r as Y,w as Z,ai as x}from"../../../../chunks/vendor-7695a512.js";import{f as ee}from"../../../../chunks/workflow-status-487fd9de.js";import{W as te,a as se,b as re,c as oe}from"../../../../chunks/_workflows-loading-73067777.js";import{E as ne}from"../../../../chunks/empty-state-a21eaeee.js";import"../../../../chunks/route-for-api-5db90934.js";import"../../../../chunks/notifications-e48f3a87.js";import"../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../chunks/format-date-ced8063a.js";import"../../../../chunks/namespace-56dad3ef.js";import"../../../../chunks/stores-4910e5d2.js";import"../../../../chunks/route-for-c019a53c.js";import"../../../../chunks/navigation-51f4a605.js";import"../../../../chunks/singletons-12a22614.js";import"../../../../chunks/select-24218981.js";import"../../../../chunks/filter-select-40c407c9.js";import"../../../../chunks/append-query-parameters-b8619cc0.js";function ae(r){let t,s,e;const n=r[2].default,o=K(n,r,r[1],null);return{c(){t=I("div"),o&&o.c(),this.h()},l(a){t=B(a,"DIV",{class:!0});var f=C(t);o&&o.l(f),f.forEach(w),this.h()},h(){q(t,"class",s=""+(N(`${r[0]}     
        rounded-sm
        text-center 
        inline-block
        px-1
        ml-1
        text-sm
        align-middle`)+" svelte-1agj3i6"))},m(a,f){$(a,t,f),o&&o.m(t,null),e=!0},p(a,[f]){o&&o.p&&(!e||f&2)&&P(o,n,a,a[1],e?R(n,a[1],f,null):Q(a[1]),null),(!e||f&1&&s!==(s=""+(N(`${a[0]}     
        rounded-sm
        text-center 
        inline-block
        px-1
        ml-1
        text-sm
        align-middle`)+" svelte-1agj3i6")))&&q(t,"class",s)},i(a){e||(_(o,a),e=!0)},o(a){k(o,a),e=!1},d(a){a&&w(t),o&&o.d(a)}}}function le(r,t,s){let{$$slots:e={},$$scope:n}=t,{type:o}=t;return r.$$set=a=>{"type"in a&&s(0,o=a.type),"$$scope"in a&&s(1,n=a.$$scope)},[o,n,e]}class ie extends S{constructor(t){super();A(this,t,le,ae,E,{type:0})}}function H(r){r[0]=r[6].workflows}function ce(r){let t;return{c(){t=L("Beta")},l(s){t=T(s,"Beta")},m(s,e){$(s,t,e)},d(s){s&&w(t)}}}function fe(r){return{c:d,l:d,m:d,p:d,i:d,o:d,d}}function ue(r){H(r);let t,s,e,n;const o=[_e,me],a=[];function f(i,c){return i[0].length?0:1}return t=f(r),s=a[t]=o[t](r),{c(){s.c(),e=j()},l(i){s.l(i),e=j()},m(i,c){a[t].m(i,c),$(i,e,c),n=!0},p(i,c){H(i);let p=t;t=f(i),t===p?a[t].p(i,c):(Y(),k(a[p],1,1,()=>{a[p]=null}),Z(),s=a[t],s?s.p(i,c):(s=a[t]=o[t](i),s.c()),_(s,1),s.m(e.parentNode,e))},i(i){n||(_(s),n=!0)},o(i){k(s),n=!1},d(i){a[t].d(i),i&&w(e)}}}function me(r){let t,s;return t=new ne({props:{title:"No Workflows Found",content:r[2]}}),{c(){h(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p:d,i(e){s||(_(t.$$.fragment,e),s=!0)},o(e){k(t.$$.fragment,e),s=!1},d(e){y(t,e)}}}function _e(r){let t,s;return t=new re({props:{$$slots:{default:[pe]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p(e,n){const o={};n&259&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){s||(_(t.$$.fragment,e),s=!0)},o(e){k(t.$$.fragment,e),s=!1},d(e){y(t,e)}}}function ke(r){let t,s;return t=new oe({props:{workflow:r[7],timeFormat:r[1]}}),{c(){h(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p(e,n){const o={};n&128&&(o.workflow=e[7]),n&2&&(o.timeFormat=e[1]),t.$set(o)},i(e){s||(_(t.$$.fragment,e),s=!0)},o(e){k(t.$$.fragment,e),s=!1},d(e){y(t,e)}}}function pe(r){let t,s;return t=new x({props:{items:r[0],$$slots:{default:[ke,({item:e})=>({7:e}),({item:e})=>e?128:0]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p(e,n){const o={};n&1&&(o.items=e[0]),n&386&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){s||(_(t.$$.fragment,e),s=!0)},o(e){k(t.$$.fragment,e),s=!1},d(e){y(t,e)}}}function we(r){let t,s;return t=new se({}),{c(){h(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p:d,i(e){s||(_(t.$$.fragment,e),s=!0)},o(e){k(t.$$.fragment,e),s=!1},d(e){y(t,e)}}}function de(r){let t,s,e,n,o,a,f,i,c,p;e=new ie({props:{type:"beta",$$slots:{default:[ce]},$$scope:{ctx:r}}});function J(l){r[5](l)}let F={};r[1]!==void 0&&(F.timeFormat=r[1]),o=new te({props:F}),U.push(()=>z(o,"timeFormat",J));let m={ctx:r,current:null,token:null,hasCatch:!1,pending:we,then:ue,catch:fe,value:6,blocks:[,,,]};return D(c=r[0],m),{c(){t=I("h2"),s=L("Workflows "),h(e.$$.fragment),n=M(),h(o.$$.fragment),f=M(),i=j(),m.block.c(),this.h()},l(l){t=B(l,"H2",{class:!0});var u=C(t);s=T(u,"Workflows "),g(e.$$.fragment,u),u.forEach(w),n=V(l),g(o.$$.fragment,l),f=V(l),i=j(),m.block.l(l),this.h()},h(){q(t,"class","text-2xl")},m(l,u){$(l,t,u),G(t,s),b(e,t,null),$(l,n,u),b(o,l,u),$(l,f,u),$(l,i,u),m.block.m(l,m.anchor=u),m.mount=()=>i.parentNode,m.anchor=i,p=!0},p(l,[u]){r=l;const v={};u&256&&(v.$$scope={dirty:u,ctx:r}),e.$set(v);const W={};!a&&u&2&&(a=!0,W.timeFormat=r[1],O(()=>a=!1)),o.$set(W),m.ctx=r,u&1&&c!==(c=r[0])&&D(c,m)||X(m,r,u)},i(l){p||(_(e.$$.fragment,l),_(o.$$.fragment,l),_(m.block),p=!0)},o(l){k(e.$$.fragment,l),k(o.$$.fragment,l);for(let u=0;u<3;u+=1){const v=m.blocks[u];k(v)}p=!1},d(l){l&&w(t),y(e),l&&w(n),y(o,l),l&&w(f),l&&w(i),m.block.d(l),m.token=null,m=null}}}async function De({page:r,fetch:t}){const s=r.query.has("query");!r.query.has("time-range")&&!s&&r.query.set("time-range","24 hours");const e=r.params.namespace,n=r.query.get("workflow-id"),o=r.query.get("workflow-type"),a=r.query.get("time-range"),f=r.query.get("status"),i=r.query.get("query"),c={workflowId:n,workflowType:o,timeRange:a,executionStatus:f,query:i};return{props:{workflows:await ee(e,c,t),namespace:e,parameters:c,isAdvancedSearch:s}}}function $e(r,t,s){let{namespace:e}=t,{workflows:n}=t,{isAdvancedSearch:o}=t,a="UTC";const f=o?"Please check your syntax and try again.":"If you have filters applied, try adjusting them.";function i(c){a=c,s(1,a)}return r.$$set=c=>{"namespace"in c&&s(3,e=c.namespace),"workflows"in c&&s(0,n=c.workflows),"isAdvancedSearch"in c&&s(4,o=c.isAdvancedSearch)},[n,a,f,e,o,i]}class Le extends S{constructor(t){super();A(this,t,$e,de,E,{namespace:3,workflows:0,isAdvancedSearch:4})}}export{Le as default,De as load};
