import{S,i as A,s as E,I as K,e as I,c as B,a as C,d,b as q,a4 as N,f as $,K as P,L as Q,M as R,x as _,u as p,D as U,E as z,ag as D,t as L,j as h,k as M,l as j,g as T,m as g,n as V,J as G,o as b,F as O,ah as X,v as y,Q as w,r as Y,w as Z,ai as x}from"../../../../chunks/vendor-7695a512.js";import{f as ee}from"../../../../chunks/workflow-status-487fd9de.js";import{W as te,a as se,b as re,c as oe}from"../../../../chunks/_workflows-loading-52e814fb.js";import{E as ne}from"../../../../chunks/empty-state-a21eaeee.js";import"../../../../chunks/route-for-api-5db90934.js";import"../../../../chunks/notifications-e48f3a87.js";import"../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../chunks/format-date-ced8063a.js";import"../../../../chunks/namespace-56dad3ef.js";import"../../../../chunks/stores-4910e5d2.js";import"../../../../chunks/route-for-11851a4f.js";import"../../../../chunks/navigation-51f4a605.js";import"../../../../chunks/singletons-12a22614.js";import"../../../../chunks/select-24218981.js";import"../../../../chunks/filter-select-14435650.js";import"../../../../chunks/append-query-parameters-b8619cc0.js";function ae(r){let t,s,e;const n=r[2].default,o=K(n,r,r[1],null);return{c(){t=I("div"),o&&o.c(),this.h()},l(a){t=B(a,"DIV",{class:!0});var i=C(t);o&&o.l(i),i.forEach(d),this.h()},h(){q(t,"class",s=""+(N(`${r[0]}     
        rounded-sm
        text-center 
        inline-block
        px-1
        ml-1
        text-sm
        align-middle`)+" svelte-1agj3i6"))},m(a,i){$(a,t,i),o&&o.m(t,null),e=!0},p(a,[i]){o&&o.p&&(!e||i&2)&&P(o,n,a,a[1],e?R(n,a[1],i,null):Q(a[1]),null),(!e||i&1&&s!==(s=""+(N(`${a[0]}     
        rounded-sm
        text-center 
        inline-block
        px-1
        ml-1
        text-sm
        align-middle`)+" svelte-1agj3i6")))&&q(t,"class",s)},i(a){e||(_(o,a),e=!0)},o(a){p(o,a),e=!1},d(a){a&&d(t),o&&o.d(a)}}}function le(r,t,s){let{$$slots:e={},$$scope:n}=t,{type:o}=t;return r.$$set=a=>{"type"in a&&s(0,o=a.type),"$$scope"in a&&s(1,n=a.$$scope)},[o,n,e]}class fe extends S{constructor(t){super();A(this,t,le,ae,E,{type:0})}}function H(r){r[0]=r[5].workflows}function ie(r){let t;return{c(){t=L("Beta")},l(s){t=T(s,"Beta")},m(s,e){$(s,t,e)},d(s){s&&d(t)}}}function ce(r){return{c:w,l:w,m:w,p:w,i:w,o:w,d:w}}function ue(r){H(r);let t,s,e,n;const o=[_e,me],a=[];function i(l,m){return l[0].length?0:1}return t=i(r),s=a[t]=o[t](r),{c(){s.c(),e=j()},l(l){s.l(l),e=j()},m(l,m){a[t].m(l,m),$(l,e,m),n=!0},p(l,m){H(l);let k=t;t=i(l),t===k?a[t].p(l,m):(Y(),p(a[k],1,1,()=>{a[k]=null}),Z(),s=a[t],s?s.p(l,m):(s=a[t]=o[t](l),s.c()),_(s,1),s.m(e.parentNode,e))},i(l){n||(_(s),n=!0)},o(l){p(s),n=!1},d(l){a[t].d(l),l&&d(e)}}}function me(r){let t,s;return t=new ne({props:{title:"No Workflows Found",content:r[2]}}),{c(){h(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p:w,i(e){s||(_(t.$$.fragment,e),s=!0)},o(e){p(t.$$.fragment,e),s=!1},d(e){y(t,e)}}}function _e(r){let t,s;return t=new re({props:{$$slots:{default:[ke]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p(e,n){const o={};n&131&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){s||(_(t.$$.fragment,e),s=!0)},o(e){p(t.$$.fragment,e),s=!1},d(e){y(t,e)}}}function pe(r){let t,s;return t=new oe({props:{workflow:r[6],timeFormat:r[1]}}),{c(){h(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p(e,n){const o={};n&64&&(o.workflow=e[6]),n&2&&(o.timeFormat=e[1]),t.$set(o)},i(e){s||(_(t.$$.fragment,e),s=!0)},o(e){p(t.$$.fragment,e),s=!1},d(e){y(t,e)}}}function ke(r){let t,s;return t=new x({props:{items:r[0],$$slots:{default:[pe,({item:e})=>({6:e}),({item:e})=>e?64:0]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p(e,n){const o={};n&1&&(o.items=e[0]),n&194&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){s||(_(t.$$.fragment,e),s=!0)},o(e){p(t.$$.fragment,e),s=!1},d(e){y(t,e)}}}function de(r){let t,s;return t=new se({}),{c(){h(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p:w,i(e){s||(_(t.$$.fragment,e),s=!0)},o(e){p(t.$$.fragment,e),s=!1},d(e){y(t,e)}}}function we(r){let t,s,e,n,o,a,i,l,m,k;e=new fe({props:{type:"beta",$$slots:{default:[ie]},$$scope:{ctx:r}}});function J(f){r[4](f)}let F={};r[1]!==void 0&&(F.timeFormat=r[1]),o=new te({props:F}),U.push(()=>z(o,"timeFormat",J));let u={ctx:r,current:null,token:null,hasCatch:!1,pending:de,then:ue,catch:ce,value:5,blocks:[,,,]};return D(m=r[0],u),{c(){t=I("h2"),s=L("Workflows "),h(e.$$.fragment),n=M(),h(o.$$.fragment),i=M(),l=j(),u.block.c(),this.h()},l(f){t=B(f,"H2",{class:!0});var c=C(t);s=T(c,"Workflows "),g(e.$$.fragment,c),c.forEach(d),n=V(f),g(o.$$.fragment,f),i=V(f),l=j(),u.block.l(f),this.h()},h(){q(t,"class","text-2xl")},m(f,c){$(f,t,c),G(t,s),b(e,t,null),$(f,n,c),b(o,f,c),$(f,i,c),$(f,l,c),u.block.m(f,u.anchor=c),u.mount=()=>l.parentNode,u.anchor=l,k=!0},p(f,[c]){r=f;const v={};c&128&&(v.$$scope={dirty:c,ctx:r}),e.$set(v);const W={};!a&&c&2&&(a=!0,W.timeFormat=r[1],O(()=>a=!1)),o.$set(W),u.ctx=r,c&1&&m!==(m=r[0])&&D(m,u)||X(u,r,c)},i(f){k||(_(e.$$.fragment,f),_(o.$$.fragment,f),_(u.block),k=!0)},o(f){p(e.$$.fragment,f),p(o.$$.fragment,f);for(let c=0;c<3;c+=1){const v=u.blocks[c];p(v)}k=!1},d(f){f&&d(t),y(e),f&&d(n),y(o,f),f&&d(i),f&&d(l),u.block.d(f),u.token=null,u=null}}}async function De({page:r,fetch:t}){const s=r.query.has("query");!r.query.has("time-range")&&!s&&r.query.set("time-range","24 hours");const e=r.params.namespace,n=r.query.get("workflow-id"),o=r.query.get("workflow-type"),a=r.query.get("time-range"),i=r.query.get("status"),l=r.query.get("query");return{props:{workflows:await ee(e,{workflowId:n,workflowType:o,timeRange:a,executionStatus:i,query:l},t),isAdvancedSearch:s}}}function $e(r,t,s){let{workflows:e}=t,{isAdvancedSearch:n}=t,o="UTC";const a=n?"Please check your syntax and try again.":"If you have filters applied, try adjusting them.";function i(l){o=l,s(1,o)}return r.$$set=l=>{"workflows"in l&&s(0,e=l.workflows),"isAdvancedSearch"in l&&s(3,n=l.isAdvancedSearch)},[e,o,a,n,i]}class Le extends S{constructor(t){super();A(this,t,$e,we,E,{workflows:0,isAdvancedSearch:3})}}export{Le as default,De as load};
