import{S as _,i as b,s as T,j as y,m as S,o as A,x as p,u as k,v as $,I,e as C,c as j,a as w,d as h,b as v,f as W,K as G,L as x,M as F}from"../../../../../../../../chunks/vendor-7695a512.js";import{i as u,a as c,b as l,c as d,d as f,e as q,g as M,h as R,j as N,k as O,l as D,m as K,n as L,o as V,p as z}from"../../../../../../../../chunks/is-event-type-6f6767d3.js";import{E as B}from"../../../../../../../../chunks/event-table-3ee5bd1d.js";import"../../../../../../../../chunks/stores-4910e5d2.js";import"../../../../../../../../chunks/filter-select-14435650.js";import"../../../../../../../../chunks/navigation-51f4a605.js";import"../../../../../../../../chunks/singletons-12a22614.js";import"../../../../../../../../chunks/append-query-parameters-b8619cc0.js";import"../../../../../../../../chunks/select-24218981.js";import"../../../../../../../../chunks/format-camel-case-8b7e013d.js";import"../../../../../../../../chunks/route-for-11851a4f.js";import"../../../../../../../../chunks/format-date-ced8063a.js";const H=t=>{var e,n,i,r,s,a,m,E;if(!!t){if(u(t))return(n=(e=t.activityTaskScheduledEventAttributes)==null?void 0:e.activityType)==null?void 0:n.name;if(c(t))return`Timer ${(i=t.timerStartedEventAttributes)==null?void 0:i.timerId} (${(r=t.timerStartedEventAttributes)==null?void 0:r.startToFireTimeout})`;if(l(t))return`Signal: ${(s=t.signalExternalWorkflowExecutionInitiatedEventAttributes)==null?void 0:s.signalName}`;if(d(t))return`Marker: ${(a=t.markerRecordedEventAttributes)==null?void 0:a.markerName}`;if(f(t))return`Child Workflow: ${(E=(m=t.startChildWorkflowExecutionInitiatedEventAttributes)==null?void 0:m.workflowType)==null?void 0:E.name}`}},g=t=>{if(u(t)||f(t)||c(t)||l(t)||d(t))return t.id;if(q(t))return String(t.activityTaskStartedEventAttributes.scheduledEventId);if(M(t))return String(t.activityTaskCanceledEventAttributes.scheduledEventId);if(R(t))return String(t.activityTaskCancelRequestedEventAttributes.scheduledEventId);if(N(t))return String(t.activityTaskFailedEventAttributes.scheduledEventId);if(O(t))return String(t.activityTaskTimedOutEventAttributes.scheduledEventId);if(D(t))return String(t.activityTaskCompletedEventAttributes.scheduledEventId);if(K(t))return String(t.childWorkflowExecutionStartedEventAttributes.initiatedEventId);if(L(t))return String(t.childWorkflowExecutionCompletedEventAttributes.initiatedEventId);if(V(t))return String(t.timerFiredEventAttributes.startedEventId);if(z(t))return String(t.timerCanceledEventAttributes.startedEventId)},o=t=>{const e=g(t),n=H(t),i=new Map;return i.set(t.eventType,t),{id:e,name:n,events:i}},J=t=>{if(u(t)||f(t)||c(t)||l(t)||d(t))return o(t)},P=t=>{var n;const e={};for(const i of t){const r=g(i),s=J(i);s?e[s.id]=s:(n=e[r])==null||n.events.set(i.eventType,i)}return Object.values(e)};function Q(t){let e,n;const i=t[1].default,r=I(i,t,t[2],null);return{c(){e=C("div"),r&&r.c(),this.h()},l(s){e=j(s,"DIV",{slot:!0,class:!0});var a=w(e);r&&r.l(a),a.forEach(h),this.h()},h(){v(e,"slot","details"),v(e,"class","w-full h-full py-4")},m(s,a){W(s,e,a),r&&r.m(e,null),n=!0},p(s,a){r&&r.p&&(!n||a&4)&&G(r,i,s,s[2],n?F(i,s[2],a,null):x(s[2]),null)},i(s){n||(p(r,s),n=!0)},o(s){k(r,s),n=!1},d(s){s&&h(e),r&&r.d(s)}}}function U(t){let e,n;return e=new B({props:{events:t[0],$$slots:{details:[Q]},$$scope:{ctx:t}}}),{c(){y(e.$$.fragment)},l(i){S(e.$$.fragment,i)},m(i,r){A(e,i,r),n=!0},p(i,[r]){const s={};r&1&&(s.events=i[0]),r&4&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){k(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}const lt=async({stuff:t})=>{const{events:e}=t,n=P(e);return{props:{eventGroups:n},stuff:{eventGroups:n}}};function X(t,e,n){let{$$slots:i={},$$scope:r}=e,{eventGroups:s}=e;return t.$$set=a=>{"eventGroups"in a&&n(0,s=a.eventGroups),"$$scope"in a&&n(2,r=a.$$scope)},[s,i,r]}class dt extends _{constructor(e){super();b(this,e,X,U,T,{eventGroups:0})}}export{dt as default,lt as load};
