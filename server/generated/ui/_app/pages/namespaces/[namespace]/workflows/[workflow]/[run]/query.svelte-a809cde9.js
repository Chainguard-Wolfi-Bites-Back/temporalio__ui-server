import{S as C,i as E,s as I,e as y,j as _,k as Q,c as d,a as g,m as q,d as f,n as O,b as T,f as k,J as $,o as b,x as m,u as h,v,l as j,r as S,w as x,H as D,t as F,g as N,h as V}from"../../../../../../chunks/vendor-07bbbbe5.js";import{a as B,b as H}from"../../../../../../chunks/query-service-d3df686c.js";import{C as J}from"../../../../../../chunks/code-block-1e64b406.js";import{F as P}from"../../../../../../chunks/filter-select-e376d0a2.js";import{O as z}from"../../../../../../chunks/select-d9240e98.js";import"../../../../../../chunks/route-for-api-b4766198.js";import"../../../../../../chunks/notifications-ff4076d0.js";import"../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../chunks/navigation-51f4a605.js";import"../../../../../../chunks/singletons-12a22614.js";import"../../../../../../chunks/stores-053bb508.js";import"../../../../../../chunks/append-query-parameters-b8619cc0.js";function w(c,r,a){const e=c.slice();return e[3]=r[a],e}function A(c){let r=c[3]+"",a;return{c(){a=F(r)},l(e){a=N(e,r)},m(e,s){k(e,a,s)},p(e,s){s&1&&r!==(r=e[3]+"")&&V(a,r)},d(e){e&&f(a)}}}function R(c){let r,a;return r=new z({props:{value:c[3],$$slots:{default:[A]},$$scope:{ctx:c}}}),{c(){_(r.$$.fragment)},l(e){q(r.$$.fragment,e)},m(e,s){b(r,e,s),a=!0},p(e,s){const l={};s&1&&(l.value=e[3]),s&65&&(l.$$scope={dirty:s,ctx:e}),r.$set(l)},i(e){a||(m(r.$$.fragment,e),a=!0)},o(e){h(r.$$.fragment,e),a=!1},d(e){v(r,e)}}}function G(c){let r,a,e=c[0],s=[];for(let t=0;t<e.length;t+=1)s[t]=R(w(c,e,t));const l=t=>h(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();r=j()},l(t){for(let o=0;o<s.length;o+=1)s[o].l(t);r=j()},m(t,o){for(let n=0;n<s.length;n+=1)s[n].m(t,o);k(t,r,o),a=!0},p(t,o){if(o&1){e=t[0];let n;for(n=0;n<e.length;n+=1){const u=w(t,e,n);s[n]?(s[n].p(u,o),m(s[n],1)):(s[n]=R(u),s[n].c(),m(s[n],1),s[n].m(r.parentNode,r))}for(S(),n=e.length;n<s.length;n+=1)l(n);x()}},i(t){if(!a){for(let o=0;o<e.length;o+=1)m(s[o]);a=!0}},o(t){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)h(s[o]);a=!1},d(t){D(s,t),t&&f(r)}}}function K(c){let r,a,e,s,l,t,o;return e=new P({props:{label:"Query Type",value:c[1],parameter:"query-type",$$slots:{default:[G]},$$scope:{ctx:c}}}),t=new J({props:{content:c[2]}}),{c(){r=y("section"),a=y("div"),_(e.$$.fragment),s=Q(),l=y("div"),_(t.$$.fragment),this.h()},l(n){r=d(n,"SECTION",{});var u=g(r);a=d(u,"DIV",{class:!0});var i=g(a);q(e.$$.fragment,i),i.forEach(f),s=O(u),l=d(u,"DIV",{class:!0});var p=g(l);q(t.$$.fragment,p),p.forEach(f),u.forEach(f),this.h()},h(){T(a,"class","flex items-center gap-4"),T(l,"class","flex items-start h-full")},m(n,u){k(n,r,u),$(r,a),b(e,a,null),$(r,s),$(r,l),b(t,l,null),o=!0},p(n,[u]){const i={};u&2&&(i.value=n[1]),u&65&&(i.$$scope={dirty:u,ctx:n}),e.$set(i);const p={};u&4&&(p.content=n[2]),t.$set(p)},i(n){o||(m(e.$$.fragment,n),m(t.$$.fragment,n),o=!0)},o(n){h(e.$$.fragment,n),h(t.$$.fragment,n),o=!1},d(n){n&&f(r),v(e),v(t)}}}async function oe({page:c,fetch:r}){const{namespace:a,workflow:e,run:s}=c.params,l={id:e,runId:s},t=await B({namespace:a,workflow:l}),o=c.query.get("query-type"),n=t.includes(o)?o:t[0];c.query.set("query-type",n);const u=await H({namespace:a,workflow:l,queryType:n},r);return{props:{queryType:n,queryTypes:t,queryResult:u}}}function L(c,r,a){let{queryTypes:e}=r,{queryType:s}=r,{queryResult:l}=r;return c.$$set=t=>{"queryTypes"in t&&a(0,e=t.queryTypes),"queryType"in t&&a(1,s=t.queryType),"queryResult"in t&&a(2,l=t.queryResult)},[e,s,l]}class ce extends C{constructor(r){super();E(this,r,L,K,I,{queryTypes:0,queryType:1,queryResult:2})}}export{ce as default,oe as load};
