import{S as z,i as F,s as J,e as T,c as S,a as v,d as k,f as d,u as g,w as O,x as w,r as P,j as $,m as E,o as y,Q as m,v as C,az as Q,ag as I,k as L,t as D,l as N,n as q,g as R,b as B,J as j,h as W,ah as A}from"../../../../../../chunks/vendor-07bbbbe5.js";import{g as V}from"../../../../../../chunks/query-service-d3df686c.js";import{C as G}from"../../../../../../chunks/code-block-1e64b406.js";import{B as H}from"../../../../../../chunks/button-ae7eabbe.js";import{E as K}from"../../../../../../chunks/empty-state-5ac4aeb0.js";import"../../../../../../chunks/route-for-api-b4766198.js";import"../../../../../../chunks/notifications-ff4076d0.js";import"../../../../../../chunks/is-network-error-ac7c8caf.js";function M(c){let e,t;return e=new K({props:{title:"No Stack Traces Found"}}),{c(){$(e.$$.fragment)},l(a){E(e.$$.fragment,a)},m(a,n){y(e,a,n),t=!0},p:m,i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){g(e.$$.fragment,a),t=!1},d(a){C(e,a)}}}function U(c){let e,t,a,n,r,_=c[2].toLocaleTimeString()+"",i,p,o,f,h;t=new H({props:{icon:Q,loading:c[3],$$slots:{default:[X]},$$scope:{ctx:c}}}),t.$on("click",c[4]);let u={ctx:c,current:null,token:null,hasCatch:!1,pending:x,then:Z,catch:Y,value:6,blocks:[,,,]};return I(f=c[0],u),{c(){e=T("div"),$(t.$$.fragment),a=L(),n=T("p"),r=D("Stack Trace at "),i=D(_),p=L(),o=N(),u.block.c(),this.h()},l(l){e=S(l,"DIV",{class:!0});var s=v(e);E(t.$$.fragment,s),a=q(s),n=S(s,"P",{});var b=v(n);r=R(b,"Stack Trace at "),i=R(b,_),b.forEach(k),s.forEach(k),p=q(l),o=N(),u.block.l(l),this.h()},h(){B(e,"class","flex items-center gap-4")},m(l,s){d(l,e,s),y(t,e,null),j(e,a),j(e,n),j(n,r),j(n,i),d(l,p,s),d(l,o,s),u.block.m(l,u.anchor=s),u.mount=()=>o.parentNode,u.anchor=o,h=!0},p(l,s){c=l;const b={};s&8&&(b.loading=c[3]),s&128&&(b.$$scope={dirty:s,ctx:c}),t.$set(b),(!h||s&4)&&_!==(_=c[2].toLocaleTimeString()+"")&&W(i,_),u.ctx=c,s&1&&f!==(f=c[0])&&I(f,u)||A(u,c,s)},i(l){h||(w(t.$$.fragment,l),w(u.block),h=!0)},o(l){g(t.$$.fragment,l);for(let s=0;s<3;s+=1){const b=u.blocks[s];g(b)}h=!1},d(l){l&&k(e),C(t),l&&k(p),l&&k(o),u.block.d(l),u.token=null,u=null}}}function X(c){let e;return{c(){e=D("Refresh")},l(t){e=R(t,"Refresh")},m(t,a){d(t,e,a)},d(t){t&&k(e)}}}function Y(c){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Z(c){let e,t,a;return t=new G({props:{content:c[6],language:"text"}}),{c(){e=T("div"),$(t.$$.fragment),this.h()},l(n){e=S(n,"DIV",{class:!0});var r=v(e);E(t.$$.fragment,r),r.forEach(k),this.h()},h(){B(e,"class","flex items-start h-full")},m(n,r){d(n,e,r),y(t,e,null),a=!0},p(n,r){const _={};r&1&&(_.content=n[6]),t.$set(_)},i(n){a||(w(t.$$.fragment,n),a=!0)},o(n){g(t.$$.fragment,n),a=!1},d(n){n&&k(e),C(t)}}}function x(c){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function ee(c){let e,t,a,n,r;const _=[U,M],i=[];function p(o,f){return(t==null||f&2)&&(t=String(o[1].status)==="Running"),t?0:1}return a=p(c,-1),n=i[a]=_[a](c),{c(){e=T("section"),n.c()},l(o){e=S(o,"SECTION",{});var f=v(e);n.l(f),f.forEach(k)},m(o,f){d(o,e,f),i[a].m(e,null),r=!0},p(o,[f]){let h=a;a=p(o,f),a===h?i[a].p(o,f):(P(),g(i[h],1,1,()=>{i[h]=null}),O(),n=i[a],n?n.p(o,f):(n=i[a]=_[a](o),n.c()),w(n,1),n.m(e,null))},i(o){r||(w(n),r=!0)},o(o){g(n),r=!1},d(o){o&&k(e),i[a].d()}}}async function fe({page:c,stuff:e}){const{namespace:t}=c.params,{workflow:a}=e,n=await V({workflow:a,namespace:t});return{props:{workflow:a,namespace:t,stackTrace:n}}}function te(c,e,t){let{namespace:a}=e,{stackTrace:n}=e,{workflow:r}=e,_=new Date,i=!1;const p=async()=>{t(3,i=!0),t(0,n=await V({workflow:r,namespace:a})),t(3,i=!1),t(2,_=new Date)};return c.$$set=o=>{"namespace"in o&&t(5,a=o.namespace),"stackTrace"in o&&t(0,n=o.stackTrace),"workflow"in o&&t(1,r=o.workflow)},[n,r,_,i,p,a]}class ue extends z{constructor(e){super();F(this,e,te,ee,J,{namespace:5,stackTrace:0,workflow:1})}}export{ue as default,fe as load};
