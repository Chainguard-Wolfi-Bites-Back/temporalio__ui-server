import{S as he,i as we,s as ke,e as g,t as V,k as T,w as y,c as h,a as w,h as O,d as m,m as I,x as N,b as v,g as P,M as c,y as A,n as ve,a3 as je,ai as Je,p as be,q as k,o as b,B as D,l as de,O as ze,v as Fe,aj as Ue,E as oe,ak as ye,al as qe,j as Ie,I as Be,J as Me,K as Qe,L as Ge}from"../../../../../../../chunks/index-d2b3db4f.js";import{a as Ke}from"../../../../../../../chunks/events-service-9ac32b4c.js";import{f as Xe,e as Ye,i as Ne,d as pe}from"../../../../../../../chunks/route-for-d606e623.js";import{h as Ze,a as xe,i as et,j as tt}from"../../../../../../../chunks/index.es-01509df0.js";import{i as nt}from"../../../../../../../chunks/index-a8ee0a5c.js";import{f as ge}from"../../../../../../../chunks/format-date-a3b7d511.js";import{T as lt,a as Te}from"../../../../../../../chunks/toggle-buttons-49d0d7ea.js";import{p as rt}from"../../../../../../../chunks/stores-5a0dd742.js";import{L as He}from"../../../../../../../chunks/link-ee4d1e12.js";import{C as Le}from"../../../../../../../chunks/copyable-343038b4.js";import{g as ot}from"../../../../../../../chunks/query-service-57d3d5ff.js";import{E as st}from"../../../../../../../chunks/empty-state-91cb9651.js";import{C as Re}from"../../../../../../../chunks/code-block-c17ba8e0.js";import"../../../../../../../chunks/route-for-api-78770911.js";import"../../../../../../../chunks/navigation-3f1ea447.js";import"../../../../../../../chunks/singletons-d1fb5791.js";import"../../../../../../../chunks/index-d4748d68.js";import"../../../../../../../chunks/notifications-f9b8f35d.js";import"../../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../../chunks/index-d502e5ce.js";import"../../../../../../../chunks/data-converter-config-d67cb4b5.js";import"../../../../../../../chunks/persist-store-81450cad.js";import"../../../../../../../chunks/atob-5f9d7101.js";import"../../../../../../../chunks/get-event-categorization-b2bce139.js";import"../../../../../../../chunks/simplify-attributes-42eef498.js";const at=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],ft=o=>{for(const e of at)if(o.eventType===e)return!0;return!1},it=o=>{for(const e of o)if(ft(e))return e},ct=o=>nt(o)?o.attributes.result===null?null:o.attributes.result.payloads:o.attributes,ut=o=>{var r,s;let e,t;const n=o==null?void 0:o.find(a=>!!a.workflowExecutionStartedEventAttributes),l=it(o);return n&&(e=JSON.stringify((s=(r=n==null?void 0:n.workflowExecutionStartedEventAttributes)==null?void 0:r.input)==null?void 0:s.payloads)),l&&(t=JSON.stringify(ct(l))),{input:e,result:t}};function Ae(o,e,t){const n=o.slice();return n[6]=e[t].id,n[7]=Ue(e[t],["id"]),n}function mt(o){let e,t,n,l,r,s=[],a=new Map,i,f,d,C,p=o[0];const F=_=>_[6];for(let _=0;_<p.length;_+=1){let $=Ae(o,p,_),S=F($);a.set(S,s[_]=De(S,$))}return d=new He({props:{href:o[1],$$slots:{default:[pt]},$$scope:{ctx:o}}}),{c(){e=g("section"),t=g("h3"),n=V("Pending Activities"),l=T(),r=g("section");for(let _=0;_<s.length;_+=1)s[_].c();i=T(),f=g("div"),y(d.$$.fragment),this.h()},l(_){e=h(_,"SECTION",{class:!0});var $=w(e);t=h($,"H3",{class:!0});var S=w(t);n=O(S,"Pending Activities"),S.forEach(m),l=I($),r=h($,"SECTION",{class:!0});var H=w(r);for(let z=0;z<s.length;z+=1)s[z].l(H);H.forEach(m),i=I($),f=h($,"DIV",{class:!0});var L=w(f);N(d.$$.fragment,L),L.forEach(m),$.forEach(m),this.h()},h(){v(t,"class","text-lg font-medium mb-4"),v(r,"class","w-full table-auto space-x-4"),v(f,"class","text-right"),v(e,"class","border-2 border-gray-300 rounded-lg p-4")},m(_,$){P(_,e,$),c(e,t),c(t,n),c(e,l),c(e,r);for(let S=0;S<s.length;S+=1)s[S].m(r,null);c(e,i),c(e,f),A(d,f,null),C=!0},p(_,$){$&3&&(p=_[0],ve(),s=je(s,$,F,1,_,p,a,r,Je,De,null,Ae),be());const S={};$&1024&&(S.$$scope={dirty:$,ctx:_}),d.$set(S)},i(_){if(!C){for(let $=0;$<p.length;$+=1)k(s[$]);k(d.$$.fragment,_),C=!0}},o(_){for(let $=0;$<s.length;$+=1)b(s[$]);b(d.$$.fragment,_),C=!1},d(_){_&&m(e);for(let $=0;$<s.length;$+=1)s[$].d();D(d)}}}function dt(o){let e,t;return{c(){e=g("span"),t=V("(Empty)"),this.h()},l(n){e=h(n,"SPAN",{class:!0});var l=w(e);t=O(l,"(Empty)"),l.forEach(m),this.h()},h(){v(e,"class","bg-gray-300 text-gray-700 px-2 text-sm")},m(n,l){P(n,e,l),c(e,t)},p:oe,i:oe,o:oe,d(n){n&&m(e)}}}function $t(o){var n;let e,t;return e=new Le({props:{content:(n=o[7].lastFailure)==null?void 0:n.message,"container-class":"overflow-y-scroll",$$slots:{default:[_t]},$$scope:{ctx:o}}}),{c(){y(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,r){A(e,l,r),t=!0},p(l,r){const s={};r&1024&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function _t(o){var r;let e,t,n=((r=o[7].lastFailure)==null?void 0:r.message)+"",l;return{c(){e=g("pre"),t=g("code"),l=V(n),this.h()},l(s){e=h(s,"PRE",{class:!0});var a=w(e);t=h(a,"CODE",{class:!0});var i=w(t);l=O(i,n),i.forEach(m),a.forEach(m),this.h()},h(){v(t,"class","language-json"),v(e,"class","rounded-lg max-w-fit")},m(s,a){P(s,e,a),c(e,t),c(t,l)},p:oe,d(s){s&&m(e)}}}function De(o,e){let t,n,l=e[7].activityId+"",r,s,a,i,f,d,C,p,F,_=e[7].activityType+"",$,S,H,L,z,G,fe,U,Z,K,x,j,q,ee,ie,se,te=ge(e[7].lastHeartbeatTime)+"",M,ce,X;const W=[$t,dt],ue=[];function J(B,u){return B[7].lastFailure?0:1}return U=J(e),Z=ue[U]=W[U](e),{key:o,first:null,c(){t=g("a"),n=g("div"),r=V(l),s=T(),a=g("div"),i=g("div"),f=g("h4"),d=V("Activity Name"),C=T(),p=g("p"),F=g("span"),$=V(_),S=T(),H=g("div"),L=g("div"),z=g("h3"),G=V("Last Failure"),fe=T(),Z.c(),K=T(),x=g("div"),j=g("div"),q=g("h4"),ee=V("Last Heartbeat Time"),ie=T(),se=g("p"),M=V(te),ce=T(),this.h()},l(B){t=h(B,"A",{class:!0,href:!0});var u=w(t);n=h(u,"DIV",{class:!0});var E=w(n);r=O(E,l),E.forEach(m),s=I(u),a=h(u,"DIV",{class:!0});var R=w(a);i=h(R,"DIV",{class:!0});var Q=w(i);f=h(Q,"H4",{});var ne=w(f);d=O(ne,"Activity Name"),ne.forEach(m),C=I(Q),p=h(Q,"P",{});var le=w(p);F=h(le,"SPAN",{class:!0});var re=w(F);$=O(re,_),re.forEach(m),le.forEach(m),Q.forEach(m),R.forEach(m),S=I(u),H=h(u,"DIV",{class:!0});var ae=w(H);L=h(ae,"DIV",{class:!0});var Y=w(L);z=h(Y,"H3",{class:!0});var $e=w(z);G=O($e,"Last Failure"),$e.forEach(m),fe=I(Y),Z.l(Y),Y.forEach(m),ae.forEach(m),K=I(u),x=h(u,"DIV",{class:!0});var _e=w(x);j=h(_e,"DIV",{class:!0});var Ee=w(j);q=h(Ee,"H4",{});var Se=w(q);ee=O(Se,"Last Heartbeat Time"),Se.forEach(m),ie=I(Ee),se=h(Ee,"P",{});var Ce=w(se);M=O(Ce,te),Ce.forEach(m),Ee.forEach(m),_e.forEach(m),ce=I(u),u.forEach(m),this.h()},h(){v(n,"class","md:w-1/12 text-left font-normal text-gray-500 w-40"),v(F,"class","bg-gray-300 text-gray-700 px-2 text-sm"),v(i,"class","flex gap-2 items-center"),v(a,"class","w-full md:w-1/4"),v(z,"class","whitespace-nowrap"),v(L,"class","flex gap-2 items-center"),v(H,"class","w-full md:w-5/12"),v(j,"class","flex gap-2"),v(x,"class","w-full md:w-1/4"),v(t,"class","block md:flex content-between w-full border-b-2 border-gray-300 p-2 last-of-type:border-b-0 hover:bg-gray-50 gap-4 items-center"),v(t,"href",e[1]),this.first=t},m(B,u){P(B,t,u),c(t,n),c(n,r),c(t,s),c(t,a),c(a,i),c(i,f),c(f,d),c(i,C),c(i,p),c(p,F),c(F,$),c(t,S),c(t,H),c(H,L),c(L,z),c(z,G),c(L,fe),ue[U].m(L,null),c(t,K),c(t,x),c(x,j),c(j,q),c(q,ee),c(j,ie),c(j,se),c(se,M),c(t,ce),X=!0},p(B,u){e=B,Z.p(e,u)},i(B){X||(k(Z),X=!0)},o(B){b(Z),X=!1},d(B){B&&m(t),ue[U].d()}}}function pt(o){let e;return{c(){e=V("Show all")},l(t){e=O(t,"Show all")},m(t,n){P(t,e,n)},d(t){t&&m(e)}}}function gt(o){let e,t,n=o[0].length&&mt(o);return{c(){n&&n.c(),e=de()},l(l){n&&n.l(l),e=de()},m(l,r){n&&n.m(l,r),P(l,e,r),t=!0},p(l,[r]){l[0].length&&n.p(l,r)},i(l){t||(k(n),t=!0)},o(l){b(n),t=!1},d(l){n&&n.d(l),l&&m(e)}}}function ht(o,e,t){let n;ze(o,rt,f=>t(2,n=f));const{pendingActivities:l}=n.stuff.workflow,{namespace:r,workflow:s,run:a}=n.params,i=Xe({namespace:r,workflow:s,run:a});return Fe(()=>{window.Prism.highlightAll()}),[l,i]}class wt extends he{constructor(e){super(),we(this,e,ht,gt,ke,{})}}function Ve(o){let e,t,n,l,r,s,a={ctx:o,current:null,token:null,hasCatch:!0,pending:bt,then:vt,catch:kt,value:3,error:4,blocks:[,,,]};return ye(r=o[1],a),{c(){e=g("section"),t=g("h3"),n=V("Stack Trace"),l=T(),a.block.c(),this.h()},l(i){e=h(i,"SECTION",{class:!0});var f=w(e);t=h(f,"H3",{class:!0});var d=w(t);n=O(d,"Stack Trace"),d.forEach(m),l=I(f),a.block.l(f),f.forEach(m),this.h()},h(){v(t,"class","text-lg mb-2 w-full"),v(e,"class","stack-trace svelte-18yyc2q")},m(i,f){P(i,e,f),c(e,t),c(t,n),c(e,l),a.block.m(e,a.anchor=null),a.mount=()=>e,a.anchor=null,s=!0},p(i,f){o=i,a.ctx=o,f&2&&r!==(r=o[1])&&ye(r,a)||qe(a,o,f)},i(i){s||(k(a.block),s=!0)},o(i){for(let f=0;f<3;f+=1){const d=a.blocks[f];b(d)}s=!1},d(i){i&&m(e),a.block.d(),a.token=null,a=null}}}function kt(o){let e,t;return e=new st({props:{title:"An Error Occured",content:"Please make sure you have at least one worker running."}}),{c(){y(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,l){A(e,n,l),t=!0},p:oe,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function vt(o){let e,t,n;return t=new Re({props:{content:o[3],language:"text"}}),{c(){e=g("div"),y(t.$$.fragment),this.h()},l(l){e=h(l,"DIV",{class:!0});var r=w(e);N(t.$$.fragment,r),r.forEach(m),this.h()},h(){v(e,"class","flex items-start h-full")},m(l,r){P(l,e,r),A(t,e,null),n=!0},p(l,r){const s={};r&2&&(s.content=l[3]),t.$set(s)},i(l){n||(k(t.$$.fragment,l),n=!0)},o(l){b(t.$$.fragment,l),n=!1},d(l){l&&m(e),D(t)}}}function bt(o){let e,t,n,l,r,s;return{c(){e=g("div"),t=g("h2"),n=V("Loading\u2026"),l=T(),r=g("p"),s=V("(This will fail if you have no workers running.)"),this.h()},l(a){e=h(a,"DIV",{class:!0});var i=w(e);t=h(i,"H2",{class:!0});var f=w(t);n=O(f,"Loading\u2026"),f.forEach(m),l=I(i),r=h(i,"P",{});var d=w(r);s=O(d,"(This will fail if you have no workers running.)"),d.forEach(m),i.forEach(m),this.h()},h(){v(t,"class","font-bold text-2xl mb-4"),v(e,"class","text-center")},m(a,i){P(a,e,i),c(e,t),c(t,n),c(e,l),c(e,r),c(r,s)},p:oe,i:oe,o:oe,d(a){a&&m(e)}}}function Et(o){let e=String(o[0].status)==="Running",t,n,l=e&&Ve(o);return{c(){l&&l.c(),t=de()},l(r){l&&l.l(r),t=de()},m(r,s){l&&l.m(r,s),P(r,t,s),n=!0},p(r,[s]){s&1&&(e=String(r[0].status)==="Running"),e?l?(l.p(r,s),s&1&&k(l,1)):(l=Ve(r),l.c(),k(l,1),l.m(t.parentNode,t)):l&&(ve(),b(l,1,1,()=>{l=null}),be())},i(r){n||(k(l),n=!0)},o(r){b(l),n=!1},d(r){l&&l.d(r),r&&m(t)}}}function Tt(o,e,t){let{namespace:n}=e,{workflow:l}=e,r;return Fe(()=>{t(1,r=(()=>ot({workflow:l,namespace:n}))())}),o.$$set=s=>{"namespace"in s&&t(2,n=s.namespace),"workflow"in s&&t(0,l=s.workflow)},[l,r,n]}class It extends he{constructor(e){super(),we(this,e,Tt,Et,ke,{namespace:2,workflow:0})}}function Oe(o){let e,t,n,l,r,s;return r=new Re({props:{content:o[1],class:"mb-2"}}),{c(){e=g("article"),t=g("h3"),n=V(o[0]),l=T(),y(r.$$.fragment),this.h()},l(a){e=h(a,"ARTICLE",{class:!0});var i=w(e);t=h(i,"H3",{class:!0});var f=w(t);n=O(f,o[0]),f.forEach(m),l=I(i),N(r.$$.fragment,i),i.forEach(m),this.h()},h(){v(t,"class","text-lg"),v(e,"class","flex flex-col border-2 border-gray-300 p-4 rounded-lg w-full lg:w-1/2")},m(a,i){P(a,e,i),c(e,t),c(t,n),c(e,l),A(r,e,null),s=!0},p(a,i){(!s||i&1)&&Ie(n,a[0]);const f={};i&2&&(f.content=a[1]),r.$set(f)},i(a){s||(k(r.$$.fragment,a),s=!0)},o(a){b(r.$$.fragment,a),s=!1},d(a){a&&m(e),D(r)}}}function St(o){let e,t,n=o[1]&&Oe(o);return{c(){n&&n.c(),e=de()},l(l){n&&n.l(l),e=de()},m(l,r){n&&n.m(l,r),P(l,e,r),t=!0},p(l,[r]){l[1]?n?(n.p(l,r),r&2&&k(n,1)):(n=Oe(l),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(ve(),b(n,1,1,()=>{n=null}),be())},i(l){t||(k(n),t=!0)},o(l){b(n),t=!1},d(l){n&&n.d(l),l&&m(e)}}}function Ct(o,e,t){let{title:n}=e,{content:l}=e;return o.$$set=r=>{"title"in r&&t(0,n=r.title),"content"in r&&t(1,l=r.content)},[n,l]}class Pe extends he{constructor(e){super(),we(this,e,Ct,St,ke,{title:0,content:1})}}function yt(o){let e,t;return{c(){e=g("div"),t=V(o[1]),this.h()},l(n){e=h(n,"DIV",{class:!0});var l=w(e);t=O(l,o[1]),l.forEach(m),this.h()},h(){v(e,"class","select-all")},m(n,l){P(n,e,l),c(e,t)},p(n,l){l&2&&Ie(t,n[1])},i:oe,o:oe,d(n){n&&m(e)}}}function Nt(o){let e,t;return e=new Le({props:{content:o[1],$$slots:{default:[Dt]},$$scope:{ctx:o}}}),{c(){y(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,l){A(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.content=n[1]),l&22&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function At(o){let e;return{c(){e=V(o[1])},l(t){e=O(t,o[1])},m(t,n){P(t,e,n)},p(t,n){n&2&&Ie(e,t[1])},d(t){t&&m(e)}}}function Dt(o){let e,t;return e=new He({props:{href:o[2],$$slots:{default:[At]},$$scope:{ctx:o}}}),{c(){y(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,l){A(e,n,l),t=!0},p(n,l){const r={};l&4&&(r.href=n[2]),l&18&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Vt(o){let e,t,n,l,r,s,a,i,f,d;const C=[Nt,yt],p=[];function F(_,$){return _[2]?0:1}return a=F(o),i=p[a]=C[a](o),{c(){e=g("article"),t=g("div"),n=V(o[0]),l=V(":"),r=T(),s=g("div"),i.c(),this.h()},l(_){e=h(_,"ARTICLE",{class:!0});var $=w(e);t=h($,"DIV",{class:!0});var S=w(t);n=O(S,o[0]),l=O(S,":"),S.forEach(m),r=I($),s=h($,"DIV",{});var H=w(s);i.l(H),H.forEach(m),$.forEach(m),this.h()},h(){v(t,"class","font-medium"),v(e,"class",f="flex gap-2 text-"+o[3])},m(_,$){P(_,e,$),c(e,t),c(t,n),c(t,l),c(e,r),c(e,s),p[a].m(s,null),d=!0},p(_,[$]){(!d||$&1)&&Ie(n,_[0]);let S=a;a=F(_),a===S?p[a].p(_,$):(ve(),b(p[S],1,1,()=>{p[S]=null}),be(),i=p[a],i?i.p(_,$):(i=p[a]=C[a](_),i.c()),k(i,1),i.m(s,null)),(!d||$&8&&f!==(f="flex gap-2 text-"+_[3]))&&v(e,"class",f)},i(_){d||(k(i),d=!0)},o(_){b(i),d=!1},d(_){_&&m(e),p[a].d()}}}function Ot(o,e,t){let{title:n}=e,{content:l}=e,{href:r=null}=e,{textSize:s="md"}=e;return o.$$set=a=>{"title"in a&&t(0,n=a.title),"content"in a&&t(1,l=a.content),"href"in a&&t(2,r=a.href),"textSize"in a&&t(3,s=a.textSize)},[n,l,r,s]}class me extends he{constructor(e){super(),we(this,e,Ot,Vt,ke,{title:0,content:1,href:2,textSize:3})}}function We(o){var n,l,r;let e,t;return e=new me({props:{title:"Parent",content:(n=o[1].parent)==null?void 0:n.workflowId,href:Ne({namespace:o[0],workflow:(l=o[1].parent)==null?void 0:l.workflowId,run:(r=o[1].parent)==null?void 0:r.runId})}}),{c(){y(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,a){A(e,s,a),t=!0},p(s,a){var f,d,C;const i={};a&2&&(i.content=(f=s[1].parent)==null?void 0:f.workflowId),a&3&&(i.href=Ne({namespace:s[0],workflow:(d=s[1].parent)==null?void 0:d.workflowId,run:(C=s[1].parent)==null?void 0:C.runId})),e.$set(i)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Pt(o){let e;return{c(){e=V("Summary")},l(t){e=O(t,"Summary")},m(t,n){P(t,e,n)},d(t){t&&m(e)}}}function Wt(o){let e;return{c(){e=V("Full")},l(t){e=O(t,"Full")},m(t,n){P(t,e,n)},d(t){t&&m(e)}}}function Ft(o){let e;return{c(){e=V("Compact")},l(t){e=O(t,"Compact")},m(t,n){P(t,e,n)},d(t){t&&m(e)}}}function Ht(o){let e;return{c(){e=V("JSON")},l(t){e=O(t,"JSON")},m(t,n){P(t,e,n)},d(t){t&&m(e)}}}function Lt(o){let e,t,n,l,r,s,a,i;return e=new Te({props:{icon:Ze,base:pe(o[4]("summary")),href:pe(o[4]("summary")),$$slots:{default:[Pt]},$$scope:{ctx:o}}}),n=new Te({props:{icon:xe,href:pe(o[4]("full")),$$slots:{default:[Wt]},$$scope:{ctx:o}}}),r=new Te({props:{icon:et,href:pe(o[4]("compact")),$$slots:{default:[Ft]},$$scope:{ctx:o}}}),a=new Te({props:{icon:tt,href:pe(o[4]("json")),$$slots:{default:[Ht]},$$scope:{ctx:o}}}),{c(){y(e.$$.fragment),t=T(),y(n.$$.fragment),l=T(),y(r.$$.fragment),s=T(),y(a.$$.fragment)},l(f){N(e.$$.fragment,f),t=I(f),N(n.$$.fragment,f),l=I(f),N(r.$$.fragment,f),s=I(f),N(a.$$.fragment,f)},m(f,d){A(e,f,d),P(f,t,d),A(n,f,d),P(f,l,d),A(r,f,d),P(f,s,d),A(a,f,d),i=!0},p(f,d){const C={};d&256&&(C.$$scope={dirty:d,ctx:f}),e.$set(C);const p={};d&256&&(p.$$scope={dirty:d,ctx:f}),n.$set(p);const F={};d&256&&(F.$$scope={dirty:d,ctx:f}),r.$set(F);const _={};d&256&&(_.$$scope={dirty:d,ctx:f}),a.$set(_)},i(f){i||(k(e.$$.fragment,f),k(n.$$.fragment,f),k(r.$$.fragment,f),k(a.$$.fragment,f),i=!0)},o(f){b(e.$$.fragment,f),b(n.$$.fragment,f),b(r.$$.fragment,f),b(a.$$.fragment,f),i=!1},d(f){D(e,f),f&&m(t),D(n,f),f&&m(l),D(r,f),f&&m(s),D(a,f)}}}function Rt(o){var B;let e,t,n,l,r,s,a,i,f,d,C,p,F,_,$,S,H,L,z,G,fe,U,Z,K,x,j,q,ee,ie,se,te,M,ce,X;n=new me({props:{title:"Workflow Type",content:o[1].name}}),r=new me({props:{title:"Run ID",content:o[1].runId}}),i=new me({props:{title:"Start Time",content:ge(o[1].startTime,"UTC")}}),d=new me({props:{title:"Close Time",content:ge(o[1].endTime,"UTC")}}),p=new me({props:{title:"Task Queue",content:o[1].taskQueue,href:Ye(o[5])}});let W=((B=o[1])==null?void 0:B.parent)&&We(o);$=new me({props:{title:"State Transitions",content:o[1].stateTransitionCount}}),L=new Pe({props:{title:"Input",content:o[2]}}),G=new Pe({props:{title:"Results",content:o[3]}}),U=new It({props:{namespace:o[0],workflow:o[1]}}),K=new wt({}),M=new lt({props:{$$slots:{default:[Lt]},$$scope:{ctx:o}}});const ue=o[7].default,J=Be(ue,o,o[8],null);return{c(){e=g("section"),t=g("section"),y(n.$$.fragment),l=T(),y(r.$$.fragment),s=T(),a=g("div"),y(i.$$.fragment),f=T(),y(d.$$.fragment),C=T(),y(p.$$.fragment),F=T(),W&&W.c(),_=T(),y($.$$.fragment),S=T(),H=g("section"),y(L.$$.fragment),z=T(),y(G.$$.fragment),fe=T(),y(U.$$.fragment),Z=T(),y(K.$$.fragment),x=T(),j=g("section"),q=g("nav"),ee=g("h3"),ie=V("Recent Events"),se=T(),te=g("div"),y(M.$$.fragment),ce=T(),J&&J.c(),this.h()},l(u){e=h(u,"SECTION",{class:!0});var E=w(e);t=h(E,"SECTION",{class:!0});var R=w(t);N(n.$$.fragment,R),l=I(R),N(r.$$.fragment,R),s=I(R),a=h(R,"DIV",{class:!0});var Q=w(a);N(i.$$.fragment,Q),f=I(Q),N(d.$$.fragment,Q),Q.forEach(m),C=I(R),N(p.$$.fragment,R),F=I(R),W&&W.l(R),_=I(R),N($.$$.fragment,R),R.forEach(m),S=I(E),H=h(E,"SECTION",{class:!0});var ne=w(H);N(L.$$.fragment,ne),z=I(ne),N(G.$$.fragment,ne),ne.forEach(m),fe=I(E),N(U.$$.fragment,E),Z=I(E),N(K.$$.fragment,E),x=I(E),j=h(E,"SECTION",{id:!0});var le=w(j);q=h(le,"NAV",{class:!0});var re=w(q);ee=h(re,"H3",{class:!0});var ae=w(ee);ie=O(ae,"Recent Events"),ae.forEach(m),se=I(re),te=h(re,"DIV",{id:!0,class:!0});var Y=w(te);N(M.$$.fragment,Y),Y.forEach(m),re.forEach(m),ce=I(le),J&&J.l(le),le.forEach(m),E.forEach(m),this.h()},h(){v(a,"class","flex gap-1 flex-col md:flex-row md:gap-6"),v(t,"class","flex flex-col gap-1"),v(H,"class","flex gap-4 w-full flex-col lg:flex-row"),v(ee,"class","text-lg font-medium"),v(te,"id","event-view-toggle"),v(te,"class","flex gap-4"),v(q,"class","flex gap-4 justify-between items-end pb-4"),v(j,"id","event-history"),v(e,"class","flex flex-col gap-4")},m(u,E){P(u,e,E),c(e,t),A(n,t,null),c(t,l),A(r,t,null),c(t,s),c(t,a),A(i,a,null),c(a,f),A(d,a,null),c(t,C),A(p,t,null),c(t,F),W&&W.m(t,null),c(t,_),A($,t,null),c(e,S),c(e,H),A(L,H,null),c(H,z),A(G,H,null),c(e,fe),A(U,e,null),c(e,Z),A(K,e,null),c(e,x),c(e,j),c(j,q),c(q,ee),c(ee,ie),c(q,se),c(q,te),A(M,te,null),c(j,ce),J&&J.m(j,null),X=!0},p(u,[E]){var _e;const R={};E&2&&(R.content=u[1].name),n.$set(R);const Q={};E&2&&(Q.content=u[1].runId),r.$set(Q);const ne={};E&2&&(ne.content=ge(u[1].startTime,"UTC")),i.$set(ne);const le={};E&2&&(le.content=ge(u[1].endTime,"UTC")),d.$set(le);const re={};E&2&&(re.content=u[1].taskQueue),p.$set(re),(_e=u[1])!=null&&_e.parent?W?(W.p(u,E),E&2&&k(W,1)):(W=We(u),W.c(),k(W,1),W.m(t,_)):W&&(ve(),b(W,1,1,()=>{W=null}),be());const ae={};E&2&&(ae.content=u[1].stateTransitionCount),$.$set(ae);const Y={};E&1&&(Y.namespace=u[0]),E&2&&(Y.workflow=u[1]),U.$set(Y);const $e={};E&256&&($e.$$scope={dirty:E,ctx:u}),M.$set($e),J&&J.p&&(!X||E&256)&&Me(J,ue,u,u[8],X?Ge(ue,u[8],E,null):Qe(u[8]),null)},i(u){X||(k(n.$$.fragment,u),k(r.$$.fragment,u),k(i.$$.fragment,u),k(d.$$.fragment,u),k(p.$$.fragment,u),k(W),k($.$$.fragment,u),k(L.$$.fragment,u),k(G.$$.fragment,u),k(U.$$.fragment,u),k(K.$$.fragment,u),k(M.$$.fragment,u),k(J,u),X=!0)},o(u){b(n.$$.fragment,u),b(r.$$.fragment,u),b(i.$$.fragment,u),b(d.$$.fragment,u),b(p.$$.fragment,u),b(W),b($.$$.fragment,u),b(L.$$.fragment,u),b(G.$$.fragment,u),b(U.$$.fragment,u),b(K.$$.fragment,u),b(M.$$.fragment,u),b(J,u),X=!1},d(u){u&&m(e),D(n),D(r),D(i),D(d),D(p),W&&W.d(),D($),D(L),D(G),D(U),D(K),D(M),J&&J.d(u)}}}const dn=async function({params:o,url:e,stuff:t,fetch:n}){var l;const{workflow:r}=t,{namespace:s}=o,a={namespace:s,workflowId:r.id,runId:r.runId,reverse:Boolean((l=e==null?void 0:e.searchParams)===null||l===void 0?void 0:l.get("sort"))},{events:i,eventGroups:f}=await Ke(a,n);return{props:{namespace:s,workflow:r,events:i,eventGroups:f},stuff:{events:i,eventGroups:f}}};function jt(o,e,t){let{$$slots:n={},$$scope:l}=e,{namespace:r}=e,{workflow:s}=e,{events:a}=e;const{input:i,result:f}=ut(a),d=(p,F)=>({namespace:r,workflow:s.id,run:s.runId,view:p,eventId:F}),C={namespace:r,workflow:s.id,run:s.runId};return o.$$set=p=>{"namespace"in p&&t(0,r=p.namespace),"workflow"in p&&t(1,s=p.workflow),"events"in p&&t(6,a=p.events),"$$scope"in p&&t(8,l=p.$$scope)},[r,s,i,f,d,C,a,n,l]}class $n extends he{constructor(e){super(),we(this,e,jt,Rt,ke,{namespace:0,workflow:1,events:6})}}export{$n as default,dn as load};
