import{S as we,i as ke,s as ve,e as g,t as j,k as C,w as D,c as h,a as w,h as F,d as m,m as S,x as N,b as k,g as O,M as f,y as V,n as _e,ah as ze,ak as Je,p as pe,q as v,o as b,B as A,l as de,N as Ie,v as Ue,al as Me,E as ae,j as Te,I as Qe,J as qe,K as Be,L as Ge,am as Ke,aa as Ce}from"../../../../../../../chunks/index-ebdc94c9.js";import{g as Xe,f as Ye,k as Ve,e as Ee}from"../../../../../../../chunks/route-for-789b7fae.js";import{F as Fe,c as He,d as Ze,e as xe,g as et}from"../../../../../../../chunks/index.es-ac68ae6c.js";import{f as he}from"../../../../../../../chunks/format-date-188b28af.js";import{e as ye}from"../../../../../../../chunks/event-view-33ea0974.js";import{e as tt,u as rt,c as lt}from"../../../../../../../chunks/events-fbfc366b.js";import{T as nt,a as Se}from"../../../../../../../chunks/toggle-buttons-419c2228.js";import{p as ot}from"../../../../../../../chunks/stores-9a131089.js";import{L as Le}from"../../../../../../../chunks/link-966502e1.js";import{C as Re}from"../../../../../../../chunks/copyable-22fcbf9e.js";import{E as st}from"../../../../../../../chunks/empty-state-a0c627da.js";import{i as at}from"../../../../../../../chunks/index-8821dfb5.js";import{c as it}from"../../../../../../../chunks/format-camel-case-abb2903d.js";import{C as ft}from"../../../../../../../chunks/code-block-29dd6417.js";import"../../../../../../../chunks/index-e43b6509.js";import"../../../../../../../chunks/persist-store-59618da6.js";import"../../../../../../../chunks/events-service-d98bf789.js";import"../../../../../../../chunks/route-for-api-9bef242f.js";import"../../../../../../../chunks/notifications-754d1504.js";import"../../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../../chunks/index-408208a0.js";import"../../../../../../../chunks/is-http-f9355de8.js";import"../../../../../../../chunks/data-converter-config-bb88d584.js";import"../../../../../../../chunks/atob-eb4fc9a1.js";import"../../../../../../../chunks/get-event-categorization-20095c1b.js";import"../../../../../../../chunks/simplify-attributes-f7b4503d.js";import"../../../../../../../chunks/with-loading-22689bcc.js";function Ae(n,e,t){const r=n.slice();return r[6]=e[t].id,r[7]=Me(e[t],["id"]),r}function ct(n){let e,t,r,l,o,a=[],s=new Map,i,p,_,y,$=n[0];const E=c=>c[6];for(let c=0;c<$.length;c+=1){let d=Ae(n,$,c),T=E(d);s.set(T,a[c]=We(T,d))}return _=new Le({props:{href:n[1],$$slots:{default:[_t]},$$scope:{ctx:n}}}),{c(){e=g("section"),t=g("h3"),r=j("Pending Activities"),l=C(),o=g("section");for(let c=0;c<a.length;c+=1)a[c].c();i=C(),p=g("div"),D(_.$$.fragment),this.h()},l(c){e=h(c,"SECTION",{class:!0});var d=w(e);t=h(d,"H3",{class:!0});var T=w(t);r=F(T,"Pending Activities"),T.forEach(m),l=S(d),o=h(d,"SECTION",{class:!0});var P=w(o);for(let H=0;H<a.length;H+=1)a[H].l(P);P.forEach(m),i=S(d),p=h(d,"DIV",{class:!0});var z=w(p);N(_.$$.fragment,z),z.forEach(m),d.forEach(m),this.h()},h(){k(t,"class","mb-4 text-lg font-medium"),k(o,"class","w-full table-auto space-x-4"),k(p,"class","text-right"),k(e,"class","rounded-lg border-2 border-gray-300 p-4")},m(c,d){O(c,e,d),f(e,t),f(t,r),f(e,l),f(e,o);for(let T=0;T<a.length;T+=1)a[T].m(o,null);f(e,i),f(e,p),V(_,p,null),y=!0},p(c,d){d&3&&($=c[0],_e(),a=ze(a,d,E,1,c,$,s,o,Je,We,null,Ae),pe());const T={};d&1024&&(T.$$scope={dirty:d,ctx:c}),_.$set(T)},i(c){if(!y){for(let d=0;d<$.length;d+=1)v(a[d]);v(_.$$.fragment,c),y=!0}},o(c){for(let d=0;d<a.length;d+=1)b(a[d]);b(_.$$.fragment,c),y=!1},d(c){c&&m(e);for(let d=0;d<a.length;d+=1)a[d].d();A(_)}}}function ut(n){let e,t;return{c(){e=g("span"),t=j("(Empty)"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var l=w(e);t=F(l,"(Empty)"),l.forEach(m),this.h()},h(){k(e,"class","bg-gray-300 px-2 text-sm text-gray-700")},m(r,l){O(r,e,l),f(e,t)},p:ae,i:ae,o:ae,d(r){r&&m(e)}}}function mt(n){var r;let e,t;return e=new Re({props:{content:(r=n[7].lastFailure)==null?void 0:r.message,"container-class":"overflow-y-scroll",$$slots:{default:[dt]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,o){V(e,l,o),t=!0},p(l,o){const a={};o&1024&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){A(e,l)}}}function dt(n){var o;let e,t,r=((o=n[7].lastFailure)==null?void 0:o.message)+"",l;return{c(){e=g("pre"),t=g("code"),l=j(r),this.h()},l(a){e=h(a,"PRE",{class:!0});var s=w(e);t=h(s,"CODE",{class:!0});var i=w(t);l=F(i,r),i.forEach(m),s.forEach(m),this.h()},h(){k(t,"class","language-json"),k(e,"class","max-w-fit rounded-lg")},m(a,s){O(a,e,s),f(e,t),f(t,l)},p:ae,d(a){a&&m(e)}}}function We(n,e){let t,r,l=e[7].activityId+"",o,a,s,i,p,_,y,$,E,c=e[7].activityType+"",d,T,P,z,H,G,ie,Q,Z,K,x,R,U,ee,fe,oe,te=he(e[7].lastHeartbeatTime)+"",q,ce,X;const W=[mt,ut],ue=[];function J(M,u){return M[7].lastFailure?0:1}return Q=J(e),Z=ue[Q]=W[Q](e),{key:n,first:null,c(){t=g("a"),r=g("div"),o=j(l),a=C(),s=g("div"),i=g("div"),p=g("h4"),_=j("Activity Name"),y=C(),$=g("p"),E=g("span"),d=j(c),T=C(),P=g("div"),z=g("div"),H=g("h3"),G=j("Last Failure"),ie=C(),Z.c(),K=C(),x=g("div"),R=g("div"),U=g("h4"),ee=j("Last Heartbeat Time"),fe=C(),oe=g("p"),q=j(te),ce=C(),this.h()},l(M){t=h(M,"A",{class:!0,href:!0});var u=w(t);r=h(u,"DIV",{class:!0});var I=w(r);o=F(I,l),I.forEach(m),a=S(u),s=h(u,"DIV",{class:!0});var L=w(s);i=h(L,"DIV",{class:!0});var B=w(i);p=h(B,"H4",{});var re=w(p);_=F(re,"Activity Name"),re.forEach(m),y=S(B),$=h(B,"P",{});var le=w($);E=h(le,"SPAN",{class:!0});var ne=w(E);d=F(ne,c),ne.forEach(m),le.forEach(m),B.forEach(m),L.forEach(m),T=S(u),P=h(u,"DIV",{class:!0});var se=w(P);z=h(se,"DIV",{class:!0});var Y=w(z);H=h(Y,"H3",{class:!0});var $e=w(H);G=F($e,"Last Failure"),$e.forEach(m),ie=S(Y),Z.l(Y),Y.forEach(m),se.forEach(m),K=S(u),x=h(u,"DIV",{class:!0});var ge=w(x);R=h(ge,"DIV",{class:!0});var be=w(R);U=h(be,"H4",{});var De=w(U);ee=F(De,"Last Heartbeat Time"),De.forEach(m),fe=S(be),oe=h(be,"P",{});var Ne=w(oe);q=F(Ne,te),Ne.forEach(m),be.forEach(m),ge.forEach(m),ce=S(u),u.forEach(m),this.h()},h(){k(r,"class","w-40 text-left font-normal text-gray-500 md:w-1/12"),k(E,"class","bg-gray-300 px-2 text-sm text-gray-700"),k(i,"class","flex items-center gap-2"),k(s,"class","w-full md:w-1/4"),k(H,"class","whitespace-nowrap"),k(z,"class","flex items-center gap-2"),k(P,"class","w-full md:w-5/12"),k(R,"class","flex gap-2"),k(x,"class","w-full md:w-1/4"),k(t,"class","block w-full content-between items-center gap-4 border-b-2 border-gray-300 p-2 last-of-type:border-b-0 hover:bg-gray-50 md:flex"),k(t,"href",e[1]),this.first=t},m(M,u){O(M,t,u),f(t,r),f(r,o),f(t,a),f(t,s),f(s,i),f(i,p),f(p,_),f(i,y),f(i,$),f($,E),f(E,d),f(t,T),f(t,P),f(P,z),f(z,H),f(H,G),f(z,ie),ue[Q].m(z,null),f(t,K),f(t,x),f(x,R),f(R,U),f(U,ee),f(R,fe),f(R,oe),f(oe,q),f(t,ce),X=!0},p(M,u){e=M,Z.p(e,u)},i(M){X||(v(Z),X=!0)},o(M){b(Z),X=!1},d(M){M&&m(t),ue[Q].d()}}}function _t(n){let e;return{c(){e=j("Show all")},l(t){e=F(t,"Show all")},m(t,r){O(t,e,r)},d(t){t&&m(e)}}}function pt(n){let e,t,r=n[0].length&&ct(n);return{c(){r&&r.c(),e=de()},l(l){r&&r.l(l),e=de()},m(l,o){r&&r.m(l,o),O(l,e,o),t=!0},p(l,[o]){l[0].length&&r.p(l,o)},i(l){t||(v(r),t=!0)},o(l){b(r),t=!1},d(l){r&&r.d(l),l&&m(e)}}}function $t(n,e,t){let r;Ie(n,ot,p=>t(2,r=p));const{pendingActivities:l}=r.stuff.workflow,{namespace:o,workflow:a,run:s}=r.params,i=Xe({namespace:o,workflow:a,run:s});return Ue(()=>{window.Prism.highlightAll()}),[l,i]}class gt extends we{constructor(e){super(),ke(this,e,$t,pt,ve,{})}}function Pe(n){let e,t,r;return t=new st({props:{title:"An Error Occured",content:"Please make sure you have at least one worker running.",class:"my-0"}}),{c(){e=g("section"),D(t.$$.fragment),this.h()},l(l){e=h(l,"SECTION",{class:!0});var o=w(e);N(t.$$.fragment,o),o.forEach(m),this.h()},h(){k(e,"class","stack-trace svelte-wcmxvi")},m(l,o){O(l,e,o),V(t,e,null),r=!0},i(l){r||(v(t.$$.fragment,l),r=!0)},o(l){b(t.$$.fragment,l),r=!1},d(l){l&&m(e),A(t)}}}function ht(n){let e,t,r=n[0]&&Pe();return{c(){r&&r.c(),e=de()},l(l){r&&r.l(l),e=de()},m(l,o){r&&r.m(l,o),O(l,e,o),t=!0},p(l,[o]){l[0]?r?o&1&&v(r,1):(r=Pe(),r.c(),v(r,1),r.m(e.parentNode,e)):r&&(_e(),b(r,1,1,()=>{r=null}),pe())},i(l){t||(v(r),t=!0)},o(l){b(r),t=!1},d(l){r&&r.d(l),l&&m(e)}}}function wt(n,e,t){let r;var l;let{workflow:o}=e,{workers:a}=e;return n.$$set=s=>{"workflow"in s&&t(1,o=s.workflow),"workers"in s&&t(2,a=s.workers)},n.$$.update=()=>{n.$$.dirty&14&&t(0,r=o.isRunning&&!(!(t(3,l=a==null?void 0:a.pollers)===null||l===void 0)&&l.length))},[r,o,a,l]}class kt extends we{constructor(e){super(),ke(this,e,wt,ht,ve,{workflow:1,workers:2})}}const vt=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],bt=n=>{for(const e of vt)if(n.eventType===e)return!0;return!1},Et=n=>{for(const e of n)if(bt(e))return e},yt=n=>at(n)?n.attributes.result===null?null:n.attributes.result.payloads:n.attributes,It=n=>{var o,a,s;let e,t;const r=n==null?void 0:n.find(i=>!!i.workflowExecutionStartedEventAttributes),l=Et(n);return r&&(e=JSON.stringify((s=(a=(o=r==null?void 0:r.workflowExecutionStartedEventAttributes)==null?void 0:o.input)==null?void 0:a.payloads)!=null?s:null)),l&&(t=JSON.stringify(yt(l))),{input:e,results:t}};function Tt(n){let e,t,r,l,o,a,s;return r=new Fe({props:{icon:He,scale:1.2,class:"block h-full w-full animate-spin"}}),{c(){e=g("div"),t=g("div"),D(r.$$.fragment),l=C(),o=g("h2"),a=j("In progress\u2026"),this.h()},l(i){e=h(i,"DIV",{class:!0});var p=w(e);t=h(p,"DIV",{class:!0});var _=w(t);N(r.$$.fragment,_),_.forEach(m),l=S(p),o=h(p,"H2",{class:!0});var y=w(o);a=F(y,"In progress\u2026"),y.forEach(m),p.forEach(m),this.h()},h(){k(t,"class","flex h-16 w-16 items-center justify-center rounded-full bg-gray-200"),k(o,"class","text-xl font-medium"),k(e,"class","my-12 flex flex-col items-center justify-start gap-2")},m(i,p){O(i,e,p),f(e,t),V(r,t,null),f(e,l),f(e,o),f(o,a),s=!0},p:ae,i(i){s||(v(r.$$.fragment,i),s=!0)},o(i){b(r.$$.fragment,i),s=!1},d(i){i&&m(e),A(r)}}}function Ct(n){let e,t,r,l;const o=[Dt,St],a=[];function s(i,p){return i[3]?0:1}return e=s(n),t=a[e]=o[e](n),{c(){t.c(),r=de()},l(i){t.l(i),r=de()},m(i,p){a[e].m(i,p),O(i,r,p),l=!0},p(i,p){let _=e;e=s(i),e===_?a[e].p(i,p):(_e(),b(a[_],1,1,()=>{a[_]=null}),pe(),t=a[e],t?t.p(i,p):(t=a[e]=o[e](i),t.c()),v(t,1),t.m(r.parentNode,r))},i(i){l||(v(t),l=!0)},o(i){b(t),l=!1},d(i){a[e].d(i),i&&m(r)}}}function St(n){let e,t;return e=new ft({props:{content:n[1],class:"mb-2 max-h-96"}}),{c(){D(e.$$.fragment)},l(r){N(e.$$.fragment,r)},m(r,l){V(e,r,l),t=!0},p(r,l){const o={};l&2&&(o.content=r[1]),e.$set(o)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){A(e,r)}}}function Dt(n){let e,t,r,l;return r=new Fe({props:{icon:He,scale:1.2,class:"block h-full w-full animate-spin"}}),{c(){e=g("div"),t=g("div"),D(r.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var a=w(e);t=h(a,"DIV",{class:!0});var s=w(t);N(r.$$.fragment,s),s.forEach(m),a.forEach(m),this.h()},h(){k(t,"class","flex h-16 w-16 items-center justify-center rounded-full bg-gray-200"),k(e,"class","my-12 flex flex-col items-center justify-start gap-2")},m(o,a){O(o,e,a),f(e,t),V(r,t,null),l=!0},p:ae,i(o){l||(v(r.$$.fragment,o),l=!0)},o(o){b(r.$$.fragment,o),l=!1},d(o){o&&m(e),A(r)}}}function Nt(n){let e,t,r,l,o,a,s,i;const p=[Ct,Tt],_=[];function y($,E){return $[1]?0:1}return o=y(n),a=_[o]=p[o](n),{c(){e=g("article"),t=g("h3"),r=j(n[2]),l=C(),a.c(),this.h()},l($){e=h($,"ARTICLE",{class:!0,"data-cy":!0});var E=w(e);t=h(E,"H3",{class:!0});var c=w(t);r=F(c,n[2]),c.forEach(m),l=S(E),a.l(E),E.forEach(m),this.h()},h(){k(t,"class","text-lg"),k(e,"class","flex w-full flex-col rounded-lg border-2 border-gray-300 p-4 lg:w-1/2"),k(e,"data-cy",s="workflow-"+n[0])},m($,E){O($,e,E),f(e,t),f(t,r),f(e,l),_[o].m(e,null),i=!0},p($,[E]){(!i||E&4)&&Te(r,$[2]);let c=o;o=y($),o===c?_[o].p($,E):(_e(),b(_[c],1,1,()=>{_[c]=null}),pe(),a=_[o],a?a.p($,E):(a=_[o]=p[o]($),a.c()),v(a,1),a.m(e,null)),(!i||E&1&&s!==(s="workflow-"+$[0]))&&k(e,"data-cy",s)},i($){i||(v(a),i=!0)},o($){b(a),i=!1},d($){$&&m(e),_[o].d()}}}function Vt(n,e,t){let r,l,o,a;Ie(n,tt,i=>t(4,o=i)),Ie(n,rt,i=>t(3,a=i));let{type:s}=e;return n.$$set=i=>{"type"in i&&t(0,s=i.type)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=it(s)),n.$$.dirty&17&&t(1,l=It(o)[s])},[s,l,r,a,o]}class Oe extends we{constructor(e){super(),ke(this,e,Vt,Nt,ve,{type:0})}}function At(n){let e,t;return{c(){e=g("div"),t=j(n[1]),this.h()},l(r){e=h(r,"DIV",{class:!0});var l=w(e);t=F(l,n[1]),l.forEach(m),this.h()},h(){k(e,"class","select-all")},m(r,l){O(r,e,l),f(e,t)},p(r,l){l&2&&Te(t,r[1])},i:ae,o:ae,d(r){r&&m(e)}}}function Wt(n){let e,t;return e=new Re({props:{content:n[1],$$slots:{default:[Ot]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},l(r){N(e.$$.fragment,r)},m(r,l){V(e,r,l),t=!0},p(r,l){const o={};l&2&&(o.content=r[1]),l&22&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){A(e,r)}}}function Pt(n){let e;return{c(){e=j(n[1])},l(t){e=F(t,n[1])},m(t,r){O(t,e,r)},p(t,r){r&2&&Te(e,t[1])},d(t){t&&m(e)}}}function Ot(n){let e,t;return e=new Le({props:{href:n[2],$$slots:{default:[Pt]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},l(r){N(e.$$.fragment,r)},m(r,l){V(e,r,l),t=!0},p(r,l){const o={};l&4&&(o.href=r[2]),l&18&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){A(e,r)}}}function jt(n){let e,t,r,l,o,a,s,i,p,_;const y=[Wt,At],$=[];function E(c,d){return c[2]?0:1}return s=E(n),i=$[s]=y[s](n),{c(){e=g("article"),t=g("div"),r=j(n[0]),l=j(":"),o=C(),a=g("div"),i.c(),this.h()},l(c){e=h(c,"ARTICLE",{class:!0});var d=w(e);t=h(d,"DIV",{class:!0});var T=w(t);r=F(T,n[0]),l=F(T,":"),T.forEach(m),o=S(d),a=h(d,"DIV",{});var P=w(a);i.l(P),P.forEach(m),d.forEach(m),this.h()},h(){k(t,"class","font-medium"),k(e,"class",p="flex gap-2 text-"+n[3])},m(c,d){O(c,e,d),f(e,t),f(t,r),f(t,l),f(e,o),f(e,a),$[s].m(a,null),_=!0},p(c,[d]){(!_||d&1)&&Te(r,c[0]);let T=s;s=E(c),s===T?$[s].p(c,d):(_e(),b($[T],1,1,()=>{$[T]=null}),pe(),i=$[s],i?i.p(c,d):(i=$[s]=y[s](c),i.c()),v(i,1),i.m(a,null)),(!_||d&8&&p!==(p="flex gap-2 text-"+c[3]))&&k(e,"class",p)},i(c){_||(v(i),_=!0)},o(c){b(i),_=!1},d(c){c&&m(e),$[s].d()}}}function Ft(n,e,t){let{title:r}=e,{content:l}=e,{href:o=null}=e,{textSize:a="md"}=e;return n.$$set=s=>{"title"in s&&t(0,r=s.title),"content"in s&&t(1,l=s.content),"href"in s&&t(2,o=s.href),"textSize"in s&&t(3,a=s.textSize)},[r,l,o,a]}class me extends we{constructor(e){super(),ke(this,e,Ft,jt,ve,{title:0,content:1,href:2,textSize:3})}}function je(n){var r,l,o;let e,t;return e=new me({props:{title:"Parent",content:(r=n[1].parent)==null?void 0:r.workflowId,href:Ve({namespace:n[0],workflow:(l=n[1].parent)==null?void 0:l.workflowId,run:(o=n[1].parent)==null?void 0:o.runId})}}),{c(){D(e.$$.fragment)},l(a){N(e.$$.fragment,a)},m(a,s){V(e,a,s),t=!0},p(a,s){var p,_,y;const i={};s&2&&(i.content=(p=a[1].parent)==null?void 0:p.workflowId),s&3&&(i.href=Ve({namespace:a[0],workflow:(_=a[1].parent)==null?void 0:_.workflowId,run:(y=a[1].parent)==null?void 0:y.runId})),e.$set(i)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){A(e,a)}}}function Ht(n){let e;return{c(){e=j("Timeline")},l(t){e=F(t,"Timeline")},m(t,r){O(t,e,r)},d(t){t&&m(e)}}}function Lt(n){let e;return{c(){e=j("Compact")},l(t){e=F(t,"Compact")},m(t,r){O(t,e,r)},d(t){t&&m(e)}}}function Rt(n){let e;return{c(){e=j("JSON")},l(t){e=F(t,"JSON")},m(t,r){O(t,e,r)},d(t){t&&m(e)}}}function zt(n){let e,t,r,l,o,a;return e=new Se({props:{icon:Ze,base:Ee(n[4]("feed")),href:Ee(n[4]("feed")),active:n[3]==="feed","data-cy":"feed",$$slots:{default:[Ht]},$$scope:{ctx:n}}}),e.$on("click",n[7]),r=new Se({props:{icon:xe,href:Ee(n[4]("compact")),active:n[3]==="compact","data-cy":"compact",$$slots:{default:[Lt]},$$scope:{ctx:n}}}),r.$on("click",n[8]),o=new Se({props:{icon:et,href:Ee(n[4]("json")),active:n[3]==="json","data-cy":"json",$$slots:{default:[Rt]},$$scope:{ctx:n}}}),o.$on("click",n[9]),{c(){D(e.$$.fragment),t=C(),D(r.$$.fragment),l=C(),D(o.$$.fragment)},l(s){N(e.$$.fragment,s),t=S(s),N(r.$$.fragment,s),l=S(s),N(o.$$.fragment,s)},m(s,i){V(e,s,i),O(s,t,i),V(r,s,i),O(s,l,i),V(o,s,i),a=!0},p(s,i){const p={};i&8&&(p.active=s[3]==="feed"),i&1024&&(p.$$scope={dirty:i,ctx:s}),e.$set(p);const _={};i&8&&(_.active=s[3]==="compact"),i&1024&&(_.$$scope={dirty:i,ctx:s}),r.$set(_);const y={};i&8&&(y.active=s[3]==="json"),i&1024&&(y.$$scope={dirty:i,ctx:s}),o.$set(y)},i(s){a||(v(e.$$.fragment,s),v(r.$$.fragment,s),v(o.$$.fragment,s),a=!0)},o(s){b(e.$$.fragment,s),b(r.$$.fragment,s),b(o.$$.fragment,s),a=!1},d(s){A(e,s),s&&m(t),A(r,s),s&&m(l),A(o,s)}}}function Jt(n){var M;let e,t,r,l,o,a,s,i,p,_,y,$,E,c,d,T,P,z,H,G,ie,Q,Z,K,x,R,U,ee,fe,oe,te,q,ce,X;r=new me({props:{title:"Workflow Type",content:n[1].name}}),o=new me({props:{title:"Run ID",content:n[1].runId}}),i=new me({props:{title:"Start Time",content:he(n[1].startTime,"UTC")}}),_=new me({props:{title:"Close Time",content:he(n[1].endTime,"UTC")}}),$=new me({props:{title:"Task Queue",content:n[1].taskQueue,href:Ye(n[5])}});let W=((M=n[1])==null?void 0:M.parent)&&je(n);d=new me({props:{title:"State Transitions",content:n[1].stateTransitionCount}}),P=new kt({props:{workflow:n[1],workers:n[2]}}),G=new Oe({props:{type:"input"}}),Q=new Oe({props:{type:"results"}}),K=new gt({}),q=new nt({props:{$$slots:{default:[zt]},$$scope:{ctx:n}}});const ue=n[6].default,J=Qe(ue,n,n[10],null);return{c(){e=g("section"),t=g("section"),D(r.$$.fragment),l=C(),D(o.$$.fragment),a=C(),s=g("div"),D(i.$$.fragment),p=C(),D(_.$$.fragment),y=C(),D($.$$.fragment),E=C(),W&&W.c(),c=C(),D(d.$$.fragment),T=C(),D(P.$$.fragment),z=C(),H=g("section"),D(G.$$.fragment),ie=C(),D(Q.$$.fragment),Z=C(),D(K.$$.fragment),x=C(),R=g("section"),U=g("nav"),ee=g("h3"),fe=j("Recent Events"),oe=C(),te=g("div"),D(q.$$.fragment),ce=C(),J&&J.c(),this.h()},l(u){e=h(u,"SECTION",{class:!0});var I=w(e);t=h(I,"SECTION",{class:!0});var L=w(t);N(r.$$.fragment,L),l=S(L),N(o.$$.fragment,L),a=S(L),s=h(L,"DIV",{class:!0});var B=w(s);N(i.$$.fragment,B),p=S(B),N(_.$$.fragment,B),B.forEach(m),y=S(L),N($.$$.fragment,L),E=S(L),W&&W.l(L),c=S(L),N(d.$$.fragment,L),L.forEach(m),T=S(I),N(P.$$.fragment,I),z=S(I),H=h(I,"SECTION",{class:!0});var re=w(H);N(G.$$.fragment,re),ie=S(re),N(Q.$$.fragment,re),re.forEach(m),Z=S(I),N(K.$$.fragment,I),x=S(I),R=h(I,"SECTION",{id:!0});var le=w(R);U=h(le,"NAV",{class:!0});var ne=w(U);ee=h(ne,"H3",{class:!0});var se=w(ee);fe=F(se,"Recent Events"),se.forEach(m),oe=S(ne),te=h(ne,"DIV",{id:!0,class:!0});var Y=w(te);N(q.$$.fragment,Y),Y.forEach(m),ne.forEach(m),ce=S(le),J&&J.l(le),le.forEach(m),I.forEach(m),this.h()},h(){k(s,"class","flex flex-col gap-1 md:flex-row md:gap-6"),k(t,"class","flex flex-col gap-1"),k(H,"class","flex w-full flex-col gap-4 lg:flex-row"),k(ee,"class","text-lg font-medium"),k(te,"id","event-view-toggle"),k(te,"class","flex gap-4"),k(U,"class","flex items-end justify-between gap-4 pb-4"),k(R,"id","event-history"),k(e,"class","flex flex-col gap-4")},m(u,I){O(u,e,I),f(e,t),V(r,t,null),f(t,l),V(o,t,null),f(t,a),f(t,s),V(i,s,null),f(s,p),V(_,s,null),f(t,y),V($,t,null),f(t,E),W&&W.m(t,null),f(t,c),V(d,t,null),f(e,T),V(P,e,null),f(e,z),f(e,H),V(G,H,null),f(H,ie),V(Q,H,null),f(e,Z),V(K,e,null),f(e,x),f(e,R),f(R,U),f(U,ee),f(ee,fe),f(U,oe),f(U,te),V(q,te,null),f(R,ce),J&&J.m(R,null),X=!0},p(u,[I]){var ge;const L={};I&2&&(L.content=u[1].name),r.$set(L);const B={};I&2&&(B.content=u[1].runId),o.$set(B);const re={};I&2&&(re.content=he(u[1].startTime,"UTC")),i.$set(re);const le={};I&2&&(le.content=he(u[1].endTime,"UTC")),_.$set(le);const ne={};I&2&&(ne.content=u[1].taskQueue),$.$set(ne),(ge=u[1])!=null&&ge.parent?W?(W.p(u,I),I&2&&v(W,1)):(W=je(u),W.c(),v(W,1),W.m(t,c)):W&&(_e(),b(W,1,1,()=>{W=null}),pe());const se={};I&2&&(se.content=u[1].stateTransitionCount),d.$set(se);const Y={};I&2&&(Y.workflow=u[1]),I&4&&(Y.workers=u[2]),P.$set(Y);const $e={};I&1032&&($e.$$scope={dirty:I,ctx:u}),q.$set($e),J&&J.p&&(!X||I&1024)&&qe(J,ue,u,u[10],X?Ge(ue,u[10],I,null):Be(u[10]),null)},i(u){X||(v(r.$$.fragment,u),v(o.$$.fragment,u),v(i.$$.fragment,u),v(_.$$.fragment,u),v($.$$.fragment,u),v(W),v(d.$$.fragment,u),v(P.$$.fragment,u),v(G.$$.fragment,u),v(Q.$$.fragment,u),v(K.$$.fragment,u),v(q.$$.fragment,u),v(J,u),X=!0)},o(u){b(r.$$.fragment,u),b(o.$$.fragment,u),b(i.$$.fragment,u),b(_.$$.fragment,u),b($.$$.fragment,u),b(W),b(d.$$.fragment,u),b(P.$$.fragment,u),b(G.$$.fragment,u),b(Q.$$.fragment,u),b(K.$$.fragment,u),b(q.$$.fragment,u),b(J,u),X=!1},d(u){u&&m(e),A(r),A(o),A(i),A(_),A($),W&&W.d(),A(d),A(P),A(G),A(Q),A(K),A(q),J&&J.d(u)}}}const gr=async function({params:n,stuff:e}){const{workflow:t,workers:r}=e,{namespace:l}=n;return{props:{namespace:l,workflow:t,workers:r}}};function Ut(n,e,t){let r;Ie(n,ye,c=>t(3,r=c));let{$$slots:l={},$$scope:o}=e,{namespace:a}=e,{workflow:s}=e,{workers:i}=e;const p=(c,d)=>({namespace:a,workflow:s.id,run:s.runId,view:c,eventId:d}),_={namespace:a,workflow:s.id,run:s.runId};Ke(()=>{lt()});const y=()=>Ce(ye,r="feed",r),$=()=>Ce(ye,r="compact",r),E=()=>Ce(ye,r="json",r);return n.$$set=c=>{"namespace"in c&&t(0,a=c.namespace),"workflow"in c&&t(1,s=c.workflow),"workers"in c&&t(2,i=c.workers),"$$scope"in c&&t(10,o=c.$$scope)},[a,s,i,r,p,_,l,y,$,E,o]}class hr extends we{constructor(e){super(),ke(this,e,Ut,Jt,ve,{namespace:0,workflow:1,workers:2})}}export{hr as default,gr as load};
