import{S as we,i as ke,s as ve,e as g,t as O,k as C,w as D,c as h,a as w,h as H,d as m,m as S,x as N,b as k,g as j,M as f,y as V,n as _e,ah as Re,al as ze,p as pe,q as v,o as b,B as A,l as de,N as Ie,v as Je,am as Ue,E as ae,j as Te,I as Me,J as Qe,K as qe,L as Be,an as Ke,aa as Ce}from"../../../../../../../chunks/index-0ac56778.js";import{g as Ge,f as Xe,l as Ve,e as Ee}from"../../../../../../../chunks/route-for-1f2060cd.js";import{f as he}from"../../../../../../../chunks/format-date-308f6b51.js";import{e as ye}from"../../../../../../../chunks/event-view-8bcb1434.js";import{e as Ye,u as Ze,c as xe}from"../../../../../../../chunks/events-93bbbf83.js";import{T as et,a as Se}from"../../../../../../../chunks/toggle-buttons-bf4bc917.js";import{p as tt}from"../../../../../../../chunks/stores-b68b1c9c.js";import{L as He}from"../../../../../../../chunks/link-e8f9f0f1.js";import{C as Fe}from"../../../../../../../chunks/copyable-09696270.js";import{E as rt}from"../../../../../../../chunks/empty-state-09e0eb6d.js";import{I as Le}from"../../../../../../../chunks/index-8aa3dbe1.js";import{i as nt}from"../../../../../../../chunks/index-8821dfb5.js";import{c as lt}from"../../../../../../../chunks/format-camel-case-abb2903d.js";import{C as ot}from"../../../../../../../chunks/code-block-7bf5d194.js";import"../../../../../../../chunks/index-d79bdd4d.js";import"../../../../../../../chunks/persist-store-c143c99b.js";import"../../../../../../../chunks/events-service-d6c6a5cd.js";import"../../../../../../../chunks/route-for-api-a61aba31.js";import"../../../../../../../chunks/notifications-c89d12d3.js";import"../../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../../chunks/index-0ec5e969.js";import"../../../../../../../chunks/is-http-66ff83d1.js";import"../../../../../../../chunks/data-converter-config-3aa7207a.js";import"../../../../../../../chunks/atob-eb4fc9a1.js";import"../../../../../../../chunks/get-event-categorization-20095c1b.js";import"../../../../../../../chunks/simplify-attributes-5634c671.js";import"../../../../../../../chunks/with-loading-22689bcc.js";function Ae(l,e,t){const r=l.slice();return r[6]=e[t].id,r[7]=Ue(e[t],["id"]),r}function st(l){let e,t,r,n,o,a=[],s=new Map,i,p,_,y,$=l[0];const E=c=>c[6];for(let c=0;c<$.length;c+=1){let d=Ae(l,$,c),T=E(d);s.set(T,a[c]=We(T,d))}return _=new He({props:{href:l[1],$$slots:{default:[ct]},$$scope:{ctx:l}}}),{c(){e=g("section"),t=g("h3"),r=O("Pending Activities"),n=C(),o=g("section");for(let c=0;c<a.length;c+=1)a[c].c();i=C(),p=g("div"),D(_.$$.fragment),this.h()},l(c){e=h(c,"SECTION",{class:!0});var d=w(e);t=h(d,"H3",{class:!0});var T=w(t);r=H(T,"Pending Activities"),T.forEach(m),n=S(d),o=h(d,"SECTION",{class:!0});var P=w(o);for(let F=0;F<a.length;F+=1)a[F].l(P);P.forEach(m),i=S(d),p=h(d,"DIV",{class:!0});var z=w(p);N(_.$$.fragment,z),z.forEach(m),d.forEach(m),this.h()},h(){k(t,"class","mb-4 text-lg font-medium"),k(o,"class","w-full table-auto space-x-4"),k(p,"class","text-right"),k(e,"class","rounded-lg border-2 border-gray-300 p-4")},m(c,d){j(c,e,d),f(e,t),f(t,r),f(e,n),f(e,o);for(let T=0;T<a.length;T+=1)a[T].m(o,null);f(e,i),f(e,p),V(_,p,null),y=!0},p(c,d){d&3&&($=c[0],_e(),a=Re(a,d,E,1,c,$,s,o,ze,We,null,Ae),pe());const T={};d&1024&&(T.$$scope={dirty:d,ctx:c}),_.$set(T)},i(c){if(!y){for(let d=0;d<$.length;d+=1)v(a[d]);v(_.$$.fragment,c),y=!0}},o(c){for(let d=0;d<a.length;d+=1)b(a[d]);b(_.$$.fragment,c),y=!1},d(c){c&&m(e);for(let d=0;d<a.length;d+=1)a[d].d();A(_)}}}function at(l){let e,t;return{c(){e=g("span"),t=O("(Empty)"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=w(e);t=H(n,"(Empty)"),n.forEach(m),this.h()},h(){k(e,"class","bg-gray-300 px-2 text-sm text-gray-700")},m(r,n){j(r,e,n),f(e,t)},p:ae,i:ae,o:ae,d(r){r&&m(e)}}}function it(l){var r;let e,t;return e=new Fe({props:{content:(r=l[7].lastFailure)==null?void 0:r.message,"container-class":"overflow-y-scroll",$$slots:{default:[ft]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,o){V(e,n,o),t=!0},p(n,o){const a={};o&1024&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ft(l){var o;let e,t,r=((o=l[7].lastFailure)==null?void 0:o.message)+"",n;return{c(){e=g("pre"),t=g("code"),n=O(r),this.h()},l(a){e=h(a,"PRE",{class:!0});var s=w(e);t=h(s,"CODE",{class:!0});var i=w(t);n=H(i,r),i.forEach(m),s.forEach(m),this.h()},h(){k(t,"class","language-json"),k(e,"class","max-w-fit rounded-lg")},m(a,s){j(a,e,s),f(e,t),f(t,n)},p:ae,d(a){a&&m(e)}}}function We(l,e){let t,r,n=e[7].activityId+"",o,a,s,i,p,_,y,$,E,c=e[7].activityType+"",d,T,P,z,F,K,ie,Q,Z,G,x,R,U,ee,fe,oe,te=he(e[7].lastHeartbeatTime)+"",q,ce,X;const W=[it,at],ue=[];function J(M,u){return M[7].lastFailure?0:1}return Q=J(e),Z=ue[Q]=W[Q](e),{key:l,first:null,c(){t=g("a"),r=g("div"),o=O(n),a=C(),s=g("div"),i=g("div"),p=g("h4"),_=O("Activity Name"),y=C(),$=g("p"),E=g("span"),d=O(c),T=C(),P=g("div"),z=g("div"),F=g("h3"),K=O("Last Failure"),ie=C(),Z.c(),G=C(),x=g("div"),R=g("div"),U=g("h4"),ee=O("Last Heartbeat Time"),fe=C(),oe=g("p"),q=O(te),ce=C(),this.h()},l(M){t=h(M,"A",{class:!0,href:!0});var u=w(t);r=h(u,"DIV",{class:!0});var I=w(r);o=H(I,n),I.forEach(m),a=S(u),s=h(u,"DIV",{class:!0});var L=w(s);i=h(L,"DIV",{class:!0});var B=w(i);p=h(B,"H4",{});var re=w(p);_=H(re,"Activity Name"),re.forEach(m),y=S(B),$=h(B,"P",{});var ne=w($);E=h(ne,"SPAN",{class:!0});var le=w(E);d=H(le,c),le.forEach(m),ne.forEach(m),B.forEach(m),L.forEach(m),T=S(u),P=h(u,"DIV",{class:!0});var se=w(P);z=h(se,"DIV",{class:!0});var Y=w(z);F=h(Y,"H3",{class:!0});var $e=w(F);K=H($e,"Last Failure"),$e.forEach(m),ie=S(Y),Z.l(Y),Y.forEach(m),se.forEach(m),G=S(u),x=h(u,"DIV",{class:!0});var ge=w(x);R=h(ge,"DIV",{class:!0});var be=w(R);U=h(be,"H4",{});var De=w(U);ee=H(De,"Last Heartbeat Time"),De.forEach(m),fe=S(be),oe=h(be,"P",{});var Ne=w(oe);q=H(Ne,te),Ne.forEach(m),be.forEach(m),ge.forEach(m),ce=S(u),u.forEach(m),this.h()},h(){k(r,"class","w-40 text-left font-normal text-gray-500 md:w-1/12"),k(E,"class","bg-gray-300 px-2 text-sm text-gray-700"),k(i,"class","flex items-center gap-2"),k(s,"class","w-full md:w-1/4"),k(F,"class","whitespace-nowrap"),k(z,"class","flex items-center gap-2"),k(P,"class","w-full md:w-5/12"),k(R,"class","flex gap-2"),k(x,"class","w-full md:w-1/4"),k(t,"class","block w-full content-between items-center gap-4 border-b-2 border-gray-300 p-2 last-of-type:border-b-0 hover:bg-gray-50 md:flex"),k(t,"href",e[1]),this.first=t},m(M,u){j(M,t,u),f(t,r),f(r,o),f(t,a),f(t,s),f(s,i),f(i,p),f(p,_),f(i,y),f(i,$),f($,E),f(E,d),f(t,T),f(t,P),f(P,z),f(z,F),f(F,K),f(z,ie),ue[Q].m(z,null),f(t,G),f(t,x),f(x,R),f(R,U),f(U,ee),f(R,fe),f(R,oe),f(oe,q),f(t,ce),X=!0},p(M,u){e=M,Z.p(e,u)},i(M){X||(v(Z),X=!0)},o(M){b(Z),X=!1},d(M){M&&m(t),ue[Q].d()}}}function ct(l){let e;return{c(){e=O("Show all")},l(t){e=H(t,"Show all")},m(t,r){j(t,e,r)},d(t){t&&m(e)}}}function ut(l){let e,t,r=l[0].length&&st(l);return{c(){r&&r.c(),e=de()},l(n){r&&r.l(n),e=de()},m(n,o){r&&r.m(n,o),j(n,e,o),t=!0},p(n,[o]){n[0].length&&r.p(n,o)},i(n){t||(v(r),t=!0)},o(n){b(r),t=!1},d(n){r&&r.d(n),n&&m(e)}}}function mt(l,e,t){let r;Ie(l,tt,p=>t(2,r=p));const{pendingActivities:n}=r.stuff.workflow,{namespace:o,workflow:a,run:s}=r.params,i=Ge({namespace:o,workflow:a,run:s});return Je(()=>{window.Prism.highlightAll()}),[n,i]}class dt extends we{constructor(e){super(),ke(this,e,mt,ut,ve,{})}}function Pe(l){let e,t,r;return t=new rt({props:{title:"An Error Occured",content:"Please make sure you have at least one worker running.",class:"my-0"}}),{c(){e=g("section"),D(t.$$.fragment),this.h()},l(n){e=h(n,"SECTION",{class:!0});var o=w(e);N(t.$$.fragment,o),o.forEach(m),this.h()},h(){k(e,"class","stack-trace svelte-wcmxvi")},m(n,o){j(n,e,o),V(t,e,null),r=!0},i(n){r||(v(t.$$.fragment,n),r=!0)},o(n){b(t.$$.fragment,n),r=!1},d(n){n&&m(e),A(t)}}}function _t(l){let e,t,r=l[0]&&Pe();return{c(){r&&r.c(),e=de()},l(n){r&&r.l(n),e=de()},m(n,o){r&&r.m(n,o),j(n,e,o),t=!0},p(n,[o]){n[0]?r?o&1&&v(r,1):(r=Pe(),r.c(),v(r,1),r.m(e.parentNode,e)):r&&(_e(),b(r,1,1,()=>{r=null}),pe())},i(n){t||(v(r),t=!0)},o(n){b(r),t=!1},d(n){r&&r.d(n),n&&m(e)}}}function pt(l,e,t){let r;var n;let{workflow:o}=e,{workers:a}=e;return l.$$set=s=>{"workflow"in s&&t(1,o=s.workflow),"workers"in s&&t(2,a=s.workers)},l.$$.update=()=>{l.$$.dirty&14&&t(0,r=o.isRunning&&!(!(t(3,n=a==null?void 0:a.pollers)===null||n===void 0)&&n.length))},[r,o,a,n]}class $t extends we{constructor(e){super(),ke(this,e,pt,_t,ve,{workflow:1,workers:2})}}const gt=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],ht=l=>{for(const e of gt)if(l.eventType===e)return!0;return!1},wt=l=>{for(const e of l)if(ht(e))return e},kt=l=>nt(l)?l.attributes.result===null?null:l.attributes.result.payloads:l.attributes,vt=l=>{var o,a,s;let e,t;const r=l==null?void 0:l.find(i=>!!i.workflowExecutionStartedEventAttributes),n=wt(l);return r&&(e=JSON.stringify((s=(a=(o=r==null?void 0:r.workflowExecutionStartedEventAttributes)==null?void 0:o.input)==null?void 0:a.payloads)!=null?s:null)),n&&(t=JSON.stringify(kt(n))),{input:e,results:t}};function bt(l){let e,t,r,n,o,a,s;return r=new Le({props:{name:"spinner",scale:.5,class:"block h-full w-full animate-spin"}}),{c(){e=g("div"),t=g("div"),D(r.$$.fragment),n=C(),o=g("h2"),a=O("In progress\u2026"),this.h()},l(i){e=h(i,"DIV",{class:!0});var p=w(e);t=h(p,"DIV",{class:!0});var _=w(t);N(r.$$.fragment,_),_.forEach(m),n=S(p),o=h(p,"H2",{class:!0});var y=w(o);a=H(y,"In progress\u2026"),y.forEach(m),p.forEach(m),this.h()},h(){k(t,"class","flex h-16 w-16 items-center justify-center rounded-full bg-gray-200"),k(o,"class","text-xl font-medium"),k(e,"class","my-12 flex flex-col items-center justify-start gap-2")},m(i,p){j(i,e,p),f(e,t),V(r,t,null),f(e,n),f(e,o),f(o,a),s=!0},p:ae,i(i){s||(v(r.$$.fragment,i),s=!0)},o(i){b(r.$$.fragment,i),s=!1},d(i){i&&m(e),A(r)}}}function Et(l){let e,t,r,n;const o=[It,yt],a=[];function s(i,p){return i[3]?0:1}return e=s(l),t=a[e]=o[e](l),{c(){t.c(),r=de()},l(i){t.l(i),r=de()},m(i,p){a[e].m(i,p),j(i,r,p),n=!0},p(i,p){let _=e;e=s(i),e===_?a[e].p(i,p):(_e(),b(a[_],1,1,()=>{a[_]=null}),pe(),t=a[e],t?t.p(i,p):(t=a[e]=o[e](i),t.c()),v(t,1),t.m(r.parentNode,r))},i(i){n||(v(t),n=!0)},o(i){b(t),n=!1},d(i){a[e].d(i),i&&m(r)}}}function yt(l){let e,t;return e=new ot({props:{content:l[1],class:"mb-2 max-h-96"}}),{c(){D(e.$$.fragment)},l(r){N(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const o={};n&2&&(o.content=r[1]),e.$set(o)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){A(e,r)}}}function It(l){let e,t,r,n;return r=new Le({props:{name:"spinner",scale:.5,class:"block h-full w-full animate-spin"}}),{c(){e=g("div"),t=g("div"),D(r.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var a=w(e);t=h(a,"DIV",{class:!0});var s=w(t);N(r.$$.fragment,s),s.forEach(m),a.forEach(m),this.h()},h(){k(t,"class","flex h-16 w-16 items-center justify-center rounded-full bg-gray-200"),k(e,"class","my-12 flex flex-col items-center justify-start gap-2")},m(o,a){j(o,e,a),f(e,t),V(r,t,null),n=!0},p:ae,i(o){n||(v(r.$$.fragment,o),n=!0)},o(o){b(r.$$.fragment,o),n=!1},d(o){o&&m(e),A(r)}}}function Tt(l){let e,t,r,n,o,a,s,i;const p=[Et,bt],_=[];function y($,E){return $[1]?0:1}return o=y(l),a=_[o]=p[o](l),{c(){e=g("article"),t=g("h3"),r=O(l[2]),n=C(),a.c(),this.h()},l($){e=h($,"ARTICLE",{class:!0,"data-cy":!0});var E=w(e);t=h(E,"H3",{class:!0});var c=w(t);r=H(c,l[2]),c.forEach(m),n=S(E),a.l(E),E.forEach(m),this.h()},h(){k(t,"class","text-lg"),k(e,"class","flex w-full flex-col rounded-lg border-2 border-gray-300 p-4 lg:w-1/2"),k(e,"data-cy",s="workflow-"+l[0])},m($,E){j($,e,E),f(e,t),f(t,r),f(e,n),_[o].m(e,null),i=!0},p($,[E]){(!i||E&4)&&Te(r,$[2]);let c=o;o=y($),o===c?_[o].p($,E):(_e(),b(_[c],1,1,()=>{_[c]=null}),pe(),a=_[o],a?a.p($,E):(a=_[o]=p[o]($),a.c()),v(a,1),a.m(e,null)),(!i||E&1&&s!==(s="workflow-"+$[0]))&&k(e,"data-cy",s)},i($){i||(v(a),i=!0)},o($){b(a),i=!1},d($){$&&m(e),_[o].d()}}}function Ct(l,e,t){let r,n,o,a;Ie(l,Ye,i=>t(4,o=i)),Ie(l,Ze,i=>t(3,a=i));let{type:s}=e;return l.$$set=i=>{"type"in i&&t(0,s=i.type)},l.$$.update=()=>{l.$$.dirty&1&&t(2,r=lt(s)),l.$$.dirty&17&&t(1,n=vt(o)[s])},[s,n,r,a,o]}class je extends we{constructor(e){super(),ke(this,e,Ct,Tt,ve,{type:0})}}function St(l){let e,t;return{c(){e=g("div"),t=O(l[1]),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=w(e);t=H(n,l[1]),n.forEach(m),this.h()},h(){k(e,"class","select-all")},m(r,n){j(r,e,n),f(e,t)},p(r,n){n&2&&Te(t,r[1])},i:ae,o:ae,d(r){r&&m(e)}}}function Dt(l){let e,t;return e=new Fe({props:{content:l[1],$$slots:{default:[Vt]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(r){N(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const o={};n&2&&(o.content=r[1]),n&22&&(o.$$scope={dirty:n,ctx:r}),e.$set(o)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){A(e,r)}}}function Nt(l){let e;return{c(){e=O(l[1])},l(t){e=H(t,l[1])},m(t,r){j(t,e,r)},p(t,r){r&2&&Te(e,t[1])},d(t){t&&m(e)}}}function Vt(l){let e,t;return e=new He({props:{href:l[2],$$slots:{default:[Nt]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(r){N(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const o={};n&4&&(o.href=r[2]),n&18&&(o.$$scope={dirty:n,ctx:r}),e.$set(o)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){A(e,r)}}}function At(l){let e,t,r,n,o,a,s,i,p,_;const y=[Dt,St],$=[];function E(c,d){return c[2]?0:1}return s=E(l),i=$[s]=y[s](l),{c(){e=g("article"),t=g("div"),r=O(l[0]),n=O(":"),o=C(),a=g("div"),i.c(),this.h()},l(c){e=h(c,"ARTICLE",{class:!0});var d=w(e);t=h(d,"DIV",{class:!0});var T=w(t);r=H(T,l[0]),n=H(T,":"),T.forEach(m),o=S(d),a=h(d,"DIV",{});var P=w(a);i.l(P),P.forEach(m),d.forEach(m),this.h()},h(){k(t,"class","font-medium"),k(e,"class",p="flex gap-2 text-"+l[3])},m(c,d){j(c,e,d),f(e,t),f(t,r),f(t,n),f(e,o),f(e,a),$[s].m(a,null),_=!0},p(c,[d]){(!_||d&1)&&Te(r,c[0]);let T=s;s=E(c),s===T?$[s].p(c,d):(_e(),b($[T],1,1,()=>{$[T]=null}),pe(),i=$[s],i?i.p(c,d):(i=$[s]=y[s](c),i.c()),v(i,1),i.m(a,null)),(!_||d&8&&p!==(p="flex gap-2 text-"+c[3]))&&k(e,"class",p)},i(c){_||(v(i),_=!0)},o(c){b(i),_=!1},d(c){c&&m(e),$[s].d()}}}function Wt(l,e,t){let{title:r}=e,{content:n}=e,{href:o=null}=e,{textSize:a="md"}=e;return l.$$set=s=>{"title"in s&&t(0,r=s.title),"content"in s&&t(1,n=s.content),"href"in s&&t(2,o=s.href),"textSize"in s&&t(3,a=s.textSize)},[r,n,o,a]}class me extends we{constructor(e){super(),ke(this,e,Wt,At,ve,{title:0,content:1,href:2,textSize:3})}}function Oe(l){var r,n,o;let e,t;return e=new me({props:{title:"Parent",content:(r=l[1].parent)==null?void 0:r.workflowId,href:Ve({namespace:l[0],workflow:(n=l[1].parent)==null?void 0:n.workflowId,run:(o=l[1].parent)==null?void 0:o.runId})}}),{c(){D(e.$$.fragment)},l(a){N(e.$$.fragment,a)},m(a,s){V(e,a,s),t=!0},p(a,s){var p,_,y;const i={};s&2&&(i.content=(p=a[1].parent)==null?void 0:p.workflowId),s&3&&(i.href=Ve({namespace:a[0],workflow:(_=a[1].parent)==null?void 0:_.workflowId,run:(y=a[1].parent)==null?void 0:y.runId})),e.$set(i)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){A(e,a)}}}function Pt(l){let e;return{c(){e=O("Timeline")},l(t){e=H(t,"Timeline")},m(t,r){j(t,e,r)},d(t){t&&m(e)}}}function jt(l){let e;return{c(){e=O("Compact")},l(t){e=H(t,"Compact")},m(t,r){j(t,e,r)},d(t){t&&m(e)}}}function Ot(l){let e;return{c(){e=O("JSON")},l(t){e=H(t,"JSON")},m(t,r){j(t,e,r)},d(t){t&&m(e)}}}function Ht(l){let e,t,r,n,o,a;return e=new Se({props:{icon:"feed",base:Ee(l[4]("feed")),href:Ee(l[4]("feed")),active:l[3]==="feed","data-cy":"feed",$$slots:{default:[Pt]},$$scope:{ctx:l}}}),e.$on("click",l[7]),r=new Se({props:{icon:"compact",href:Ee(l[4]("compact")),active:l[3]==="compact","data-cy":"compact",$$slots:{default:[jt]},$$scope:{ctx:l}}}),r.$on("click",l[8]),o=new Se({props:{icon:"json",href:Ee(l[4]("json")),active:l[3]==="json","data-cy":"json",$$slots:{default:[Ot]},$$scope:{ctx:l}}}),o.$on("click",l[9]),{c(){D(e.$$.fragment),t=C(),D(r.$$.fragment),n=C(),D(o.$$.fragment)},l(s){N(e.$$.fragment,s),t=S(s),N(r.$$.fragment,s),n=S(s),N(o.$$.fragment,s)},m(s,i){V(e,s,i),j(s,t,i),V(r,s,i),j(s,n,i),V(o,s,i),a=!0},p(s,i){const p={};i&8&&(p.active=s[3]==="feed"),i&1024&&(p.$$scope={dirty:i,ctx:s}),e.$set(p);const _={};i&8&&(_.active=s[3]==="compact"),i&1024&&(_.$$scope={dirty:i,ctx:s}),r.$set(_);const y={};i&8&&(y.active=s[3]==="json"),i&1024&&(y.$$scope={dirty:i,ctx:s}),o.$set(y)},i(s){a||(v(e.$$.fragment,s),v(r.$$.fragment,s),v(o.$$.fragment,s),a=!0)},o(s){b(e.$$.fragment,s),b(r.$$.fragment,s),b(o.$$.fragment,s),a=!1},d(s){A(e,s),s&&m(t),A(r,s),s&&m(n),A(o,s)}}}function Ft(l){var M;let e,t,r,n,o,a,s,i,p,_,y,$,E,c,d,T,P,z,F,K,ie,Q,Z,G,x,R,U,ee,fe,oe,te,q,ce,X;r=new me({props:{title:"Workflow Type",content:l[1].name}}),o=new me({props:{title:"Run ID",content:l[1].runId}}),i=new me({props:{title:"Start Time",content:he(l[1].startTime,"UTC")}}),_=new me({props:{title:"Close Time",content:he(l[1].endTime,"UTC")}}),$=new me({props:{title:"Task Queue",content:l[1].taskQueue,href:Xe(l[5])}});let W=((M=l[1])==null?void 0:M.parent)&&Oe(l);d=new me({props:{title:"State Transitions",content:l[1].stateTransitionCount}}),P=new $t({props:{workflow:l[1],workers:l[2]}}),K=new je({props:{type:"input"}}),Q=new je({props:{type:"results"}}),G=new dt({}),q=new et({props:{$$slots:{default:[Ht]},$$scope:{ctx:l}}});const ue=l[6].default,J=Me(ue,l,l[10],null);return{c(){e=g("section"),t=g("section"),D(r.$$.fragment),n=C(),D(o.$$.fragment),a=C(),s=g("div"),D(i.$$.fragment),p=C(),D(_.$$.fragment),y=C(),D($.$$.fragment),E=C(),W&&W.c(),c=C(),D(d.$$.fragment),T=C(),D(P.$$.fragment),z=C(),F=g("section"),D(K.$$.fragment),ie=C(),D(Q.$$.fragment),Z=C(),D(G.$$.fragment),x=C(),R=g("section"),U=g("nav"),ee=g("h3"),fe=O("Recent Events"),oe=C(),te=g("div"),D(q.$$.fragment),ce=C(),J&&J.c(),this.h()},l(u){e=h(u,"SECTION",{class:!0});var I=w(e);t=h(I,"SECTION",{class:!0});var L=w(t);N(r.$$.fragment,L),n=S(L),N(o.$$.fragment,L),a=S(L),s=h(L,"DIV",{class:!0});var B=w(s);N(i.$$.fragment,B),p=S(B),N(_.$$.fragment,B),B.forEach(m),y=S(L),N($.$$.fragment,L),E=S(L),W&&W.l(L),c=S(L),N(d.$$.fragment,L),L.forEach(m),T=S(I),N(P.$$.fragment,I),z=S(I),F=h(I,"SECTION",{class:!0});var re=w(F);N(K.$$.fragment,re),ie=S(re),N(Q.$$.fragment,re),re.forEach(m),Z=S(I),N(G.$$.fragment,I),x=S(I),R=h(I,"SECTION",{id:!0});var ne=w(R);U=h(ne,"NAV",{class:!0});var le=w(U);ee=h(le,"H3",{class:!0});var se=w(ee);fe=H(se,"Recent Events"),se.forEach(m),oe=S(le),te=h(le,"DIV",{id:!0,class:!0});var Y=w(te);N(q.$$.fragment,Y),Y.forEach(m),le.forEach(m),ce=S(ne),J&&J.l(ne),ne.forEach(m),I.forEach(m),this.h()},h(){k(s,"class","flex flex-col gap-1 md:flex-row md:gap-6"),k(t,"class","flex flex-col gap-1"),k(F,"class","flex w-full flex-col gap-4 lg:flex-row"),k(ee,"class","text-lg font-medium"),k(te,"id","event-view-toggle"),k(te,"class","flex gap-4"),k(U,"class","flex items-end justify-between gap-4 pb-4"),k(R,"id","event-history"),k(e,"class","flex flex-col gap-4")},m(u,I){j(u,e,I),f(e,t),V(r,t,null),f(t,n),V(o,t,null),f(t,a),f(t,s),V(i,s,null),f(s,p),V(_,s,null),f(t,y),V($,t,null),f(t,E),W&&W.m(t,null),f(t,c),V(d,t,null),f(e,T),V(P,e,null),f(e,z),f(e,F),V(K,F,null),f(F,ie),V(Q,F,null),f(e,Z),V(G,e,null),f(e,x),f(e,R),f(R,U),f(U,ee),f(ee,fe),f(U,oe),f(U,te),V(q,te,null),f(R,ce),J&&J.m(R,null),X=!0},p(u,[I]){var ge;const L={};I&2&&(L.content=u[1].name),r.$set(L);const B={};I&2&&(B.content=u[1].runId),o.$set(B);const re={};I&2&&(re.content=he(u[1].startTime,"UTC")),i.$set(re);const ne={};I&2&&(ne.content=he(u[1].endTime,"UTC")),_.$set(ne);const le={};I&2&&(le.content=u[1].taskQueue),$.$set(le),(ge=u[1])!=null&&ge.parent?W?(W.p(u,I),I&2&&v(W,1)):(W=Oe(u),W.c(),v(W,1),W.m(t,c)):W&&(_e(),b(W,1,1,()=>{W=null}),pe());const se={};I&2&&(se.content=u[1].stateTransitionCount),d.$set(se);const Y={};I&2&&(Y.workflow=u[1]),I&4&&(Y.workers=u[2]),P.$set(Y);const $e={};I&1032&&($e.$$scope={dirty:I,ctx:u}),q.$set($e),J&&J.p&&(!X||I&1024)&&Qe(J,ue,u,u[10],X?Be(ue,u[10],I,null):qe(u[10]),null)},i(u){X||(v(r.$$.fragment,u),v(o.$$.fragment,u),v(i.$$.fragment,u),v(_.$$.fragment,u),v($.$$.fragment,u),v(W),v(d.$$.fragment,u),v(P.$$.fragment,u),v(K.$$.fragment,u),v(Q.$$.fragment,u),v(G.$$.fragment,u),v(q.$$.fragment,u),v(J,u),X=!0)},o(u){b(r.$$.fragment,u),b(o.$$.fragment,u),b(i.$$.fragment,u),b(_.$$.fragment,u),b($.$$.fragment,u),b(W),b(d.$$.fragment,u),b(P.$$.fragment,u),b(K.$$.fragment,u),b(Q.$$.fragment,u),b(G.$$.fragment,u),b(q.$$.fragment,u),b(J,u),X=!1},d(u){u&&m(e),A(r),A(o),A(i),A(_),A($),W&&W.d(),A(d),A(P),A(K),A(Q),A(G),A(q),J&&J.d(u)}}}const dr=async function({params:l,stuff:e}){const{workflow:t,workers:r}=e,{namespace:n}=l;return{props:{namespace:n,workflow:t,workers:r}}};function Lt(l,e,t){let r;Ie(l,ye,c=>t(3,r=c));let{$$slots:n={},$$scope:o}=e,{namespace:a}=e,{workflow:s}=e,{workers:i}=e;const p=(c,d)=>({namespace:a,workflow:s.id,run:s.runId,view:c,eventId:d}),_={namespace:a,workflow:s.id,run:s.runId};Ke(()=>{xe()});const y=()=>Ce(ye,r="feed",r),$=()=>Ce(ye,r="compact",r),E=()=>Ce(ye,r="json",r);return l.$$set=c=>{"namespace"in c&&t(0,a=c.namespace),"workflow"in c&&t(1,s=c.workflow),"workers"in c&&t(2,i=c.workers),"$$scope"in c&&t(10,o=c.$$scope)},[a,s,i,r,p,_,n,y,$,E,o]}class _r extends we{constructor(e){super(),ke(this,e,Lt,Ft,ve,{namespace:0,workflow:1,workers:2})}}export{_r as default,dr as load};
