import{S as O,i as j,s as A,e as h,c as d,a as g,d as m,g as b,o as $,p as F,q as w,n as H,w as L,x as C,y as D,T,B as I,am as N,l as P,an as W,aI as z,k as R,t as E,m as B,h as y,b as x,L as k,j as G}from"../../../../../../chunks/vendor-426d11b3.js";import{g as V}from"../../../../../../chunks/query-service-182ac082.js";import{C as J}from"../../../../../../chunks/code-block-ea1430db.js";import{B as K}from"../../../../../../chunks/button-50f9bc60.js";import{E as q}from"../../../../../../chunks/empty-state-c9e6aea7.js";import"../../../../../../chunks/route-for-api-0aa15468.js";import"../../../../../../chunks/navigation-093db9e2.js";import"../../../../../../chunks/singletons-a6a7384f.js";import"../../../../../../chunks/notifications-c40a89ef.js";import"../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../chunks/atob-5f9d7101.js";function M(c){let e,n;return e=new q({props:{title:"No Stack Traces Found"}}),{c(){L(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,a){D(e,t,a),n=!0},p:T,i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Q(c){let e,n,t,a={ctx:c,current:null,token:null,hasCatch:!0,pending:Z,then:X,catch:U,value:6,error:7,blocks:[,,,]};return N(n=c[2],a),{c(){e=P(),a.block.c()},l(r){e=P(),a.block.l(r)},m(r,s){b(r,e,s),a.block.m(r,a.anchor=s),a.mount=()=>e.parentNode,a.anchor=e,t=!0},p(r,s){c=r,a.ctx=c,s&4&&n!==(n=c[2])&&N(n,a)||W(a,c,s)},i(r){t||(w(a.block),t=!0)},o(r){for(let s=0;s<3;s+=1){const l=a.blocks[s];$(l)}t=!1},d(r){r&&m(e),a.block.d(r),a.token=null,a=null}}}function U(c){let e,n;return e=new q({props:{title:"An Error Occured",content:"Please make sure you have at least one worker running."}}),{c(){L(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,a){D(e,t,a),n=!0},p:T,i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function X(c){let e,n,t,a,r,s=c[1].toLocaleTimeString()+"",l,u,o,i,_;return n=new K({props:{icon:z,loading:te,$$slots:{default:[Y]},$$scope:{ctx:c}}}),n.$on("click",c[3]),i=new J({props:{content:c[6],language:"text"}}),{c(){e=h("div"),L(n.$$.fragment),t=R(),a=h("p"),r=E("Stack Trace at "),l=E(s),u=R(),o=h("div"),L(i.$$.fragment),this.h()},l(f){e=d(f,"DIV",{class:!0});var p=g(e);C(n.$$.fragment,p),t=B(p),a=d(p,"P",{});var v=g(a);r=y(v,"Stack Trace at "),l=y(v,s),v.forEach(m),p.forEach(m),u=B(f),o=d(f,"DIV",{class:!0});var S=g(o);C(i.$$.fragment,S),S.forEach(m),this.h()},h(){x(e,"class","flex items-center gap-4"),x(o,"class","flex items-start h-full")},m(f,p){b(f,e,p),D(n,e,null),k(e,t),k(e,a),k(a,r),k(a,l),b(f,u,p),b(f,o,p),D(i,o,null),_=!0},p(f,p){const v={};p&256&&(v.$$scope={dirty:p,ctx:f}),n.$set(v),(!_||p&2)&&s!==(s=f[1].toLocaleTimeString()+"")&&G(l,s);const S={};p&4&&(S.content=f[6]),i.$set(S)},i(f){_||(w(n.$$.fragment,f),w(i.$$.fragment,f),_=!0)},o(f){$(n.$$.fragment,f),$(i.$$.fragment,f),_=!1},d(f){f&&m(e),I(n),f&&m(u),f&&m(o),I(i)}}}function Y(c){let e;return{c(){e=E("Refresh")},l(n){e=y(n,"Refresh")},m(n,t){b(n,e,t)},d(n){n&&m(e)}}}function Z(c){let e,n,t,a,r,s;return{c(){e=h("div"),n=h("h2"),t=E("Loading\u2026"),a=R(),r=h("p"),s=E("(This will fail if you have no workers running.)"),this.h()},l(l){e=d(l,"DIV",{class:!0});var u=g(e);n=d(u,"H2",{class:!0});var o=g(n);t=y(o,"Loading\u2026"),o.forEach(m),a=B(u),r=d(u,"P",{});var i=g(r);s=y(i,"(This will fail if you have no workers running.)"),i.forEach(m),u.forEach(m),this.h()},h(){x(n,"class","font-bold text-2xl mb-4"),x(e,"class","text-center")},m(l,u){b(l,e,u),k(e,n),k(n,t),k(e,a),k(e,r),k(r,s)},p:T,i:T,o:T,d(l){l&&m(e)}}}function ee(c){let e,n,t,a,r;const s=[Q,M],l=[];function u(o,i){return i&1&&(n=null),n==null&&(n=String(o[0].status)==="Running"),n?0:1}return t=u(c,-1),a=l[t]=s[t](c),{c(){e=h("section"),a.c()},l(o){e=d(o,"SECTION",{});var i=g(e);a.l(i),i.forEach(m)},m(o,i){b(o,e,i),l[t].m(e,null),r=!0},p(o,[i]){let _=t;t=u(o,i),t===_?l[t].p(o,i):(H(),$(l[_],1,1,()=>{l[_]=null}),F(),a=l[t],a?a.p(o,i):(a=l[t]=s[t](o),a.c()),w(a,1),a.m(e,null))},i(o){r||(w(a),r=!0)},o(o){$(a),r=!1},d(o){o&&m(e),l[t].d()}}}const _e=async function({params:c,stuff:e}){const{namespace:n}=c,{workflow:t}=e;return{props:{workflow:t,namespace:n}}};let te=!1;function ne(c,e,n){let{namespace:t}=e,{workflow:a}=e,r=new Date,l=(()=>V({workflow:a,namespace:t}))();const u=()=>{n(2,l=V({workflow:a,namespace:t})),l.then(()=>{n(1,r=new Date)})};return c.$$set=o=>{"namespace"in o&&n(4,t=o.namespace),"workflow"in o&&n(0,a=o.workflow)},[a,r,l,u,t]}class ke extends O{constructor(e){super();j(this,e,ne,ee,A,{namespace:4,workflow:0})}}export{ke as default,_e as load};
