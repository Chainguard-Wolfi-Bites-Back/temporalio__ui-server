import{S as l,i as f,s as _,w as p,x as g,y,q as c,o as u,B as v,L as d,M as $,N as h,O as w}from"../../../../../../../../chunks/vendor-35e673e5.js";import{g as m}from"../../../../../../../../chunks/index-df0df581.js";import{E}from"../../../../../../../../chunks/event-summary-112b0657.js";import"../../../../../../../../chunks/data-converter-config-1bd2d6d2.js";import"../../../../../../../../chunks/atob-5f9d7101.js";import"../../../../../../../../chunks/format-date-7efcccd1.js";import"../../../../../../../../chunks/stores-668aa160.js";import"../../../../../../../../chunks/navigation-2df0726c.js";import"../../../../../../../../chunks/singletons-a6a7384f.js";import"../../../../../../../../chunks/empty-state-fe87e478.js";import"../../../../../../../../chunks/pagination-2bd25758.js";import"../../../../../../../../chunks/filter-select-309f4e59.js";import"../../../../../../../../chunks/select-2caf8f32.js";function G(a){let s;const o=a[2].default,t=d(o,a,a[3],null);return{c(){t&&t.c()},l(e){t&&t.l(e)},m(e,n){t&&t.m(e,n),s=!0},p(e,n){t&&t.p&&(!s||n&8)&&$(t,o,e,e[3],s?w(o,e[3],n,null):h(e[3]),null)},i(e){s||(c(t,e),s=!0)},o(e){u(t,e),s=!1},d(e){t&&t.d(e)}}}function q(a){let s,o;return s=new E({props:{items:a[0],category:a[1],$$slots:{default:[G]},$$scope:{ctx:a}}}),{c(){p(s.$$.fragment)},l(t){g(s.$$.fragment,t)},m(t,e){y(s,t,e),o=!0},p(t,[e]){const n={};e&1&&(n.items=t[0]),e&2&&(n.category=t[1]),e&8&&(n.$$scope={dirty:e,ctx:t}),s.$set(n)},i(t){o||(c(s.$$.fragment,t),o=!0)},o(t){u(s.$$.fragment,t),o=!1},d(t){v(s,t)}}}const A=async function({stuff:a,url:s,params:o}){const t=s.searchParams.get("category"),e=["summary","compact","json"],n=m(a.events,t),i=m(a.eventGroups,t);let r;return o.view==="summary"&&(r=n),o.view==="compact"&&(r=i),e.includes(o.view)?{props:{items:r,category:t},stuff:{matchingEvents:n,matchingEventGroups:i}}:{status:404}};function C(a,s,o){let{$$slots:t={},$$scope:e}=s,{items:n}=s,{category:i}=s;return a.$$set=r=>{"items"in r&&o(0,n=r.items),"category"in r&&o(1,i=r.category),"$$scope"in r&&o(3,e=r.$$scope)},[n,i,t,e]}class D extends l{constructor(s){super();f(this,s,C,q,_,{items:0,category:1})}}export{D as default,A as load};
