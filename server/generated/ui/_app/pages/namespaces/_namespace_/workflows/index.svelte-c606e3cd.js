import{S as I,i as L,s as H,L as R,e as M,c as T,a as D,d as h,b as P,a7 as A,g as $,M as U,N as V,O as z,q as _,o as p,F as X,G as Y,ai as q,t as G,w as d,k as B,l as v,h as J,x as k,m as N,Q as Z,y as b,H as x,aj as ee,B as y,K as w,n as K,p as O,J as te}from"../../../../chunks/vendor-f1345faf.js";import{f as ae}from"../../../../chunks/workflow-status-d0cfd498.js";import{W as re,a as oe,b as ne}from"../../../../chunks/_workflow-filters-4dc6b4b4.js";import{E as se}from"../../../../chunks/empty-state-17839c9c.js";import{L as le,P as ie}from"../../../../chunks/loading-row-4b9e4153.js";import"../../../../chunks/route-for-api-6f15ed76.js";import"../../../../chunks/navigation-093db9e2.js";import"../../../../chunks/singletons-a6a7384f.js";import"../../../../chunks/notifications-c541b06b.js";import"../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../chunks/route-for-c9edcdb4.js";import"../../../../chunks/simplify-attributes-7213a079.js";import"../../../../chunks/format-date-4fd39826.js";import"../../../../chunks/filter-select-9a044303.js";import"../../../../chunks/stores-e17ef8a9.js";import"../../../../chunks/select-3337efbd.js";function fe(n){let e,a,t;const r=n[2].default,s=R(r,n,n[1],null);return{c(){e=M("div"),s&&s.c(),this.h()},l(o){e=T(o,"DIV",{class:!0});var i=D(e);s&&s.l(i),i.forEach(h),this.h()},h(){P(e,"class",a=A(`${n[0]}     
        rounded-sm
        text-center 
        inline-block
        px-1
        ml-1
        text-sm
        align-middle`)+" svelte-1agj3i6")},m(o,i){$(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&2)&&U(s,r,o,o[1],t?z(r,o[1],i,null):V(o[1]),null),(!t||i&1&&a!==(a=A(`${o[0]}     
        rounded-sm
        text-center 
        inline-block
        px-1
        ml-1
        text-sm
        align-middle`)+" svelte-1agj3i6"))&&P(e,"class",a)},i(o){t||(_(s,o),t=!0)},o(o){p(s,o),t=!1},d(o){o&&h(e),s&&s.d(o)}}}function ce(n,e,a){let{$$slots:t={},$$scope:r}=e,{type:s}=e;return n.$$set=o=>{"type"in o&&a(0,s=o.type),"$$scope"in o&&a(1,r=o.$$scope)},[s,r,t]}class me extends I{constructor(e){super();L(this,e,ce,fe,H,{type:0})}}function j(n){n[1]=n[6].workflows}function E(n,e,a){const t=n.slice();return t[8]=e[a],t}function ue(n){let e;return{c(){e=G("Beta")},l(a){e=J(a,"Beta")},m(a,t){$(a,e,t)},d(a){a&&h(e)}}}function _e(n){return{c:w,l:w,m:w,p:w,i:w,o:w,d:w}}function pe(n){j(n);let e,a,t,r;const s=[he,ge],o=[];function i(l,c){return l[1].length?0:1}return e=i(n),a=o[e]=s[e](n),{c(){a.c(),t=v()},l(l){a.l(l),t=v()},m(l,c){o[e].m(l,c),$(l,t,c),r=!0},p(l,c){j(l);let g=e;e=i(l),e===g?o[e].p(l,c):(K(),p(o[g],1,1,()=>{o[g]=null}),O(),a=o[e],a?a.p(l,c):(a=o[e]=s[e](l),a.c()),_(a,1),a.m(t.parentNode,t))},i(l){r||(_(a),r=!0)},o(l){p(a),r=!1},d(l){o[e].d(l),l&&h(t)}}}function ge(n){let e,a;return e=new se({props:{title:"No Workflows Found",content:n[3]}}),{c(){d(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p:w,i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){p(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function he(n){let e,a;return e=new ie({props:{items:n[1],$$slots:{default:[$e,({visibleItems:t})=>({7:t}),({visibleItems:t})=>t?128:0]},$$scope:{ctx:n}}}),{c(){d(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p(t,r){const s={};r&2&&(s.items=t[1]),r&2181&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){p(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function C(n){let e,a;return e=new ne({props:{workflow:n[8],namespace:n[0],timeFormat:n[2]}}),{c(){d(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p(t,r){const s={};r&128&&(s.workflow=t[8]),r&1&&(s.namespace=t[0]),r&4&&(s.timeFormat=t[2]),e.$set(s)},i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){p(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function we(n){let e,a,t=n[7],r=[];for(let o=0;o<t.length;o+=1)r[o]=C(E(n,t,o));const s=o=>p(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=v()},l(o){for(let i=0;i<r.length;i+=1)r[i].l(o);e=v()},m(o,i){for(let l=0;l<r.length;l+=1)r[l].m(o,i);$(o,e,i),a=!0},p(o,i){if(i&133){t=o[7];let l;for(l=0;l<t.length;l+=1){const c=E(o,t,l);r[l]?(r[l].p(c,i),_(r[l],1)):(r[l]=C(c),r[l].c(),_(r[l],1),r[l].m(e.parentNode,e))}for(K(),l=t.length;l<r.length;l+=1)s(l);O()}},i(o){if(!a){for(let i=0;i<t.length;i+=1)_(r[i]);a=!0}},o(o){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)p(r[i]);a=!1},d(o){te(r,o),o&&h(e)}}}function $e(n){let e,a;return e=new oe({props:{$$slots:{default:[we]},$$scope:{ctx:n}}}),{c(){d(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p(t,r){const s={};r&2181&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){p(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function de(n){let e,a;return e=new le({}),{c(){d(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p:w,i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){p(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function ke(n){let e,a,t,r,s,o,i,l,c,g;t=new me({props:{type:"beta",$$slots:{default:[ue]},$$scope:{ctx:n}}});function Q(f){n[5](f)}let W={};n[2]!==void 0&&(W.timeFormat=n[2]),s=new re({props:W}),X.push(()=>Y(s,"timeFormat",Q));let u={ctx:n,current:null,token:null,hasCatch:!1,pending:de,then:pe,catch:_e,value:6,blocks:[,,,]};return q(c=n[1],u),{c(){e=M("h2"),a=G("Workflows "),d(t.$$.fragment),r=B(),d(s.$$.fragment),i=B(),l=v(),u.block.c(),this.h()},l(f){e=T(f,"H2",{class:!0});var m=D(e);a=J(m,"Workflows "),k(t.$$.fragment,m),m.forEach(h),r=N(f),k(s.$$.fragment,f),i=N(f),l=v(),u.block.l(f),this.h()},h(){P(e,"class","text-2xl")},m(f,m){$(f,e,m),Z(e,a),b(t,e,null),$(f,r,m),b(s,f,m),$(f,i,m),$(f,l,m),u.block.m(f,u.anchor=m),u.mount=()=>l.parentNode,u.anchor=l,g=!0},p(f,[m]){n=f;const F={};m&2048&&(F.$$scope={dirty:m,ctx:n}),t.$set(F);const S={};!o&&m&4&&(o=!0,S.timeFormat=n[2],x(()=>o=!1)),s.$set(S),u.ctx=n,m&2&&c!==(c=n[1])&&q(c,u)||ee(u,n,m)},i(f){g||(_(t.$$.fragment,f),_(s.$$.fragment,f),_(u.block),g=!0)},o(f){p(t.$$.fragment,f),p(s.$$.fragment,f);for(let m=0;m<3;m+=1){const F=u.blocks[m];p(F)}g=!1},d(f){f&&h(e),y(t),f&&h(r),y(s,f),f&&h(i),f&&h(l),u.block.d(f),u.token=null,u=null}}}const Me=async function({params:n,url:e}){const a=e.searchParams.has("query");!e.searchParams.has("time-range")&&!a&&e.searchParams.set("time-range","24 hours");const{namespace:t}=n,r=e.searchParams.get("workflow-id"),s=e.searchParams.get("workflow-type"),o=e.searchParams.get("time-range"),i=e.searchParams.get("status"),l=e.searchParams.get("query"),g=await ae(t,{workflowId:r,workflowType:s,timeRange:o,executionStatus:i,query:l},fetch);return{props:{namespace:t,workflows:g,isAdvancedSearch:a}}};function be(n,e,a){let{namespace:t}=e,{workflows:r}=e,{isAdvancedSearch:s}=e,o="UTC";const i=s?"Please check your syntax and try again.":"If you have filters applied, try adjusting them.";function l(c){o=c,a(2,o)}return n.$$set=c=>{"namespace"in c&&a(0,t=c.namespace),"workflows"in c&&a(1,r=c.workflows),"isAdvancedSearch"in c&&a(4,s=c.isAdvancedSearch)},[t,r,o,i,s,l]}class Te extends I{constructor(e){super();L(this,e,be,ke,H,{namespace:0,workflows:1,isAdvancedSearch:4})}}export{Te as default,Me as load};
