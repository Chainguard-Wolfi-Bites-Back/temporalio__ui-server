import{S as I,i as H,s as M,L as R,e as T,c as D,a as G,d as h,b as P,a7 as A,g as $,M as U,N as V,O as z,q as _,o as p,F as X,G as Y,ai as q,t as J,w as d,k as B,l as v,h as K,x as k,m as N,Q as Z,y as b,H as x,aj as ee,B as y,K as w,n as L,p as O,J as te}from"../../../../chunks/vendor-35e673e5.js";import{f as ae}from"../../../../chunks/workflow-status-3e9552a4.js";import{W as re,a as oe,b as se,c as ne}from"../../../../chunks/_workflows-loading-5ed09322.js";import{E as le}from"../../../../chunks/empty-state-fe87e478.js";import{P as ie}from"../../../../chunks/pagination-2bd25758.js";import"../../../../chunks/route-for-api-645fd02b.js";import"../../../../chunks/navigation-2df0726c.js";import"../../../../chunks/singletons-a6a7384f.js";import"../../../../chunks/notifications-bbeaa14f.js";import"../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../chunks/route-for-a0c2e129.js";import"../../../../chunks/format-date-7efcccd1.js";import"../../../../chunks/link-f7dd30b0.js";import"../../../../chunks/stores-668aa160.js";import"../../../../chunks/select-2caf8f32.js";import"../../../../chunks/filter-select-309f4e59.js";function fe(s){let e,a,t;const r=s[2].default,n=R(r,s,s[1],null);return{c(){e=T("div"),n&&n.c(),this.h()},l(o){e=D(o,"DIV",{class:!0});var i=G(e);n&&n.l(i),i.forEach(h),this.h()},h(){P(e,"class",a=A(`${s[0]}     
        rounded-sm
        text-center 
        inline-block
        px-1
        ml-1
        text-sm
        align-middle`)+" svelte-1agj3i6")},m(o,i){$(o,e,i),n&&n.m(e,null),t=!0},p(o,[i]){n&&n.p&&(!t||i&2)&&U(n,r,o,o[1],t?z(r,o[1],i,null):V(o[1]),null),(!t||i&1&&a!==(a=A(`${o[0]}     
        rounded-sm
        text-center 
        inline-block
        px-1
        ml-1
        text-sm
        align-middle`)+" svelte-1agj3i6"))&&P(e,"class",a)},i(o){t||(_(n,o),t=!0)},o(o){p(n,o),t=!1},d(o){o&&h(e),n&&n.d(o)}}}function ce(s,e,a){let{$$slots:t={},$$scope:r}=e,{type:n}=e;return s.$$set=o=>{"type"in o&&a(0,n=o.type),"$$scope"in o&&a(1,r=o.$$scope)},[n,r,t]}class me extends I{constructor(e){super();H(this,e,ce,fe,M,{type:0})}}function j(s){s[1]=s[6].workflows}function E(s,e,a){const t=s.slice();return t[8]=e[a],t}function ue(s){let e;return{c(){e=J("Beta")},l(a){e=K(a,"Beta")},m(a,t){$(a,e,t)},d(a){a&&h(e)}}}function _e(s){return{c:w,l:w,m:w,p:w,i:w,o:w,d:w}}function pe(s){j(s);let e,a,t,r;const n=[he,ge],o=[];function i(l,c){return l[1].length?0:1}return e=i(s),a=o[e]=n[e](s),{c(){a.c(),t=v()},l(l){a.l(l),t=v()},m(l,c){o[e].m(l,c),$(l,t,c),r=!0},p(l,c){j(l);let g=e;e=i(l),e===g?o[e].p(l,c):(L(),p(o[g],1,1,()=>{o[g]=null}),O(),a=o[e],a?a.p(l,c):(a=o[e]=n[e](l),a.c()),_(a,1),a.m(t.parentNode,t))},i(l){r||(_(a),r=!0)},o(l){p(a),r=!1},d(l){o[e].d(l),l&&h(t)}}}function ge(s){let e,a;return e=new le({props:{title:"No Workflows Found",content:s[3]}}),{c(){d(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p:w,i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){p(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function he(s){let e,a;return e=new ie({props:{items:s[1],$$slots:{default:[$e,({visibleItems:t})=>({7:t}),({visibleItems:t})=>t?128:0]},$$scope:{ctx:s}}}),{c(){d(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p(t,r){const n={};r&2&&(n.items=t[1]),r&2181&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){p(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function C(s){let e,a;return e=new ne({props:{workflow:s[8],namespace:s[0],timeFormat:s[2]}}),{c(){d(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p(t,r){const n={};r&128&&(n.workflow=t[8]),r&1&&(n.namespace=t[0]),r&4&&(n.timeFormat=t[2]),e.$set(n)},i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){p(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function we(s){let e,a,t=s[7],r=[];for(let o=0;o<t.length;o+=1)r[o]=C(E(s,t,o));const n=o=>p(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=v()},l(o){for(let i=0;i<r.length;i+=1)r[i].l(o);e=v()},m(o,i){for(let l=0;l<r.length;l+=1)r[l].m(o,i);$(o,e,i),a=!0},p(o,i){if(i&133){t=o[7];let l;for(l=0;l<t.length;l+=1){const c=E(o,t,l);r[l]?(r[l].p(c,i),_(r[l],1)):(r[l]=C(c),r[l].c(),_(r[l],1),r[l].m(e.parentNode,e))}for(L(),l=t.length;l<r.length;l+=1)n(l);O()}},i(o){if(!a){for(let i=0;i<t.length;i+=1)_(r[i]);a=!0}},o(o){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)p(r[i]);a=!1},d(o){te(r,o),o&&h(e)}}}function $e(s){let e,a;return e=new se({props:{$$slots:{default:[we]},$$scope:{ctx:s}}}),{c(){d(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p(t,r){const n={};r&2181&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){p(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function de(s){let e,a;return e=new oe({}),{c(){d(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p:w,i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){p(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function ke(s){let e,a,t,r,n,o,i,l,c,g;t=new me({props:{type:"beta",$$slots:{default:[ue]},$$scope:{ctx:s}}});function Q(f){s[5](f)}let W={};s[2]!==void 0&&(W.timeFormat=s[2]),n=new re({props:W}),X.push(()=>Y(n,"timeFormat",Q));let u={ctx:s,current:null,token:null,hasCatch:!1,pending:de,then:pe,catch:_e,value:6,blocks:[,,,]};return q(c=s[1],u),{c(){e=T("h2"),a=J("Workflows "),d(t.$$.fragment),r=B(),d(n.$$.fragment),i=B(),l=v(),u.block.c(),this.h()},l(f){e=D(f,"H2",{class:!0});var m=G(e);a=K(m,"Workflows "),k(t.$$.fragment,m),m.forEach(h),r=N(f),k(n.$$.fragment,f),i=N(f),l=v(),u.block.l(f),this.h()},h(){P(e,"class","text-2xl")},m(f,m){$(f,e,m),Z(e,a),b(t,e,null),$(f,r,m),b(n,f,m),$(f,i,m),$(f,l,m),u.block.m(f,u.anchor=m),u.mount=()=>l.parentNode,u.anchor=l,g=!0},p(f,[m]){s=f;const F={};m&2048&&(F.$$scope={dirty:m,ctx:s}),t.$set(F);const S={};!o&&m&4&&(o=!0,S.timeFormat=s[2],x(()=>o=!1)),n.$set(S),u.ctx=s,m&2&&c!==(c=s[1])&&q(c,u)||ee(u,s,m)},i(f){g||(_(t.$$.fragment,f),_(n.$$.fragment,f),_(u.block),g=!0)},o(f){p(t.$$.fragment,f),p(n.$$.fragment,f);for(let m=0;m<3;m+=1){const F=u.blocks[m];p(F)}g=!1},d(f){f&&h(e),y(t),f&&h(r),y(n,f),f&&h(i),f&&h(l),u.block.d(f),u.token=null,u=null}}}const Te=async function({params:s,url:e}){const a=e.searchParams.has("query");!e.searchParams.has("time-range")&&!a&&e.searchParams.set("time-range","24 hours");const{namespace:t}=s,r=e.searchParams.get("workflow-id"),n=e.searchParams.get("workflow-type"),o=e.searchParams.get("time-range"),i=e.searchParams.get("status"),l=e.searchParams.get("query"),g=await ae(t,{workflowId:r,workflowType:n,timeRange:o,executionStatus:i,query:l},fetch);return{props:{namespace:t,workflows:g,isAdvancedSearch:a}}};function be(s,e,a){let{namespace:t}=e,{workflows:r}=e,{isAdvancedSearch:n}=e,o="UTC";const i=n?"Please check your syntax and try again.":"If you have filters applied, try adjusting them.";function l(c){o=c,a(2,o)}return s.$$set=c=>{"namespace"in c&&a(0,t=c.namespace),"workflows"in c&&a(1,r=c.workflows),"isAdvancedSearch"in c&&a(4,n=c.isAdvancedSearch)},[t,r,o,i,n,l]}class De extends I{constructor(e){super();H(this,e,be,ke,M,{namespace:0,workflows:1,isAdvancedSearch:4})}}export{De as default,Te as load};
