import{S as pe,i as $e,s as we,e as p,t as P,k as C,w as D,c as $,a as w,h as W,d as u,m as S,x as N,b as k,g as H,M as f,y as R,n as ke,a8 as ze,ah as qe,p as ve,q as b,o as E,B as A,l as Ee,N as je,v as Fe,ai as Me,E as Y,aj as Ne,ak as Qe,C as Te,U as Ie,j as ye,I as Be,J as Ge,K as Ke,L as Xe}from"../../../../../../../chunks/index-34daf98d.js";import{a as Ye}from"../../../../../../../chunks/events-service-e2cb9e36.js";import{g as Ze,f as xe,l as Re,e as be}from"../../../../../../../chunks/route-for-37155b93.js";import{F as et,l as tt,h as nt,i as lt,j as rt}from"../../../../../../../chunks/index.es-49464d57.js";import{i as st}from"../../../../../../../chunks/index-4ded5477.js";import{f as he}from"../../../../../../../chunks/format-date-4b1bc9ef.js";import{e as at,s as Ce}from"../../../../../../../chunks/event-view-type-3b06f57c.js";import{T as ot,a as Se}from"../../../../../../../chunks/toggle-buttons-0ae480e1.js";import{p as it}from"../../../../../../../chunks/stores-9033f039.js";import{L as Le}from"../../../../../../../chunks/link-d5b613cc.js";import{C as Je}from"../../../../../../../chunks/copyable-2a3ad536.js";import{g as ft}from"../../../../../../../chunks/query-service-094cc678.js";import{E as ct}from"../../../../../../../chunks/empty-state-0baed776.js";import{C as Ue}from"../../../../../../../chunks/code-block-869207a8.js";import"../../../../../../../chunks/route-for-api-4e981c7d.js";import"../../../../../../../chunks/index-3352ea09.js";import"../../../../../../../chunks/notifications-f4eb312e.js";import"../../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../../chunks/index-6a66fa5d.js";import"../../../../../../../chunks/data-converter-config-2bb6d3b7.js";import"../../../../../../../chunks/persist-store-afcd96b3.js";import"../../../../../../../chunks/atob-5f9d7101.js";import"../../../../../../../chunks/get-event-categorization-b2bce139.js";import"../../../../../../../chunks/simplify-attributes-6710d3ed.js";const ut=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],mt=r=>{for(const e of ut)if(r.eventType===e)return!0;return!1},dt=r=>{for(const e of r)if(mt(e))return e},gt=r=>st(r)?r.attributes.result===null?null:r.attributes.result.payloads:r.attributes,_t=r=>{var a,o;let e,t;const n=r==null?void 0:r.find(s=>!!s.workflowExecutionStartedEventAttributes),l=dt(r);return n&&(e=JSON.stringify((o=(a=n==null?void 0:n.workflowExecutionStartedEventAttributes)==null?void 0:a.input)==null?void 0:o.payloads)),l&&(t=JSON.stringify(gt(l))),{input:e,result:t}};function Ae(r,e,t){const n=r.slice();return n[6]=e[t].id,n[7]=Me(e[t],["id"]),n}function ht(r){let e,t,n,l,a,o=[],s=new Map,i,m,g,y,h=r[0];const T=d=>d[6];for(let d=0;d<h.length;d+=1){let _=Ae(r,h,d),v=T(_);s.set(v,o[d]=Pe(v,_))}return g=new Le({props:{href:r[1],$$slots:{default:[kt]},$$scope:{ctx:r}}}),{c(){e=p("section"),t=p("h3"),n=P("Pending Activities"),l=C(),a=p("section");for(let d=0;d<o.length;d+=1)o[d].c();i=C(),m=p("div"),D(g.$$.fragment),this.h()},l(d){e=$(d,"SECTION",{class:!0});var _=w(e);t=$(_,"H3",{class:!0});var v=w(t);n=W(v,"Pending Activities"),v.forEach(u),l=S(_),a=$(_,"SECTION",{class:!0});var V=w(a);for(let U=0;U<o.length;U+=1)o[U].l(V);V.forEach(u),i=S(_),m=$(_,"DIV",{class:!0});var j=w(m);N(g.$$.fragment,j),j.forEach(u),_.forEach(u),this.h()},h(){k(t,"class","text-lg font-medium mb-4"),k(a,"class","w-full table-auto space-x-4"),k(m,"class","text-right"),k(e,"class","border-2 border-gray-300 rounded-lg p-4")},m(d,_){H(d,e,_),f(e,t),f(t,n),f(e,l),f(e,a);for(let v=0;v<o.length;v+=1)o[v].m(a,null);f(e,i),f(e,m),R(g,m,null),y=!0},p(d,_){_&3&&(h=d[0],ke(),o=ze(o,_,T,1,d,h,s,a,qe,Pe,null,Ae),ve());const v={};_&1024&&(v.$$scope={dirty:_,ctx:d}),g.$set(v)},i(d){if(!y){for(let _=0;_<h.length;_+=1)b(o[_]);b(g.$$.fragment,d),y=!0}},o(d){for(let _=0;_<o.length;_+=1)E(o[_]);E(g.$$.fragment,d),y=!1},d(d){d&&u(e);for(let _=0;_<o.length;_+=1)o[_].d();A(g)}}}function pt(r){let e,t;return{c(){e=p("span"),t=P("(Empty)"),this.h()},l(n){e=$(n,"SPAN",{class:!0});var l=w(e);t=W(l,"(Empty)"),l.forEach(u),this.h()},h(){k(e,"class","bg-gray-300 text-gray-700 px-2 text-sm")},m(n,l){H(n,e,l),f(e,t)},p:Y,i:Y,o:Y,d(n){n&&u(e)}}}function $t(r){var n;let e,t;return e=new Je({props:{content:(n=r[7].lastFailure)==null?void 0:n.message,"container-class":"overflow-y-scroll",$$slots:{default:[wt]},$$scope:{ctx:r}}}),{c(){D(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,a){R(e,l,a),t=!0},p(l,a){const o={};a&1024&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){A(e,l)}}}function wt(r){var a;let e,t,n=((a=r[7].lastFailure)==null?void 0:a.message)+"",l;return{c(){e=p("pre"),t=p("code"),l=P(n),this.h()},l(o){e=$(o,"PRE",{class:!0});var s=w(e);t=$(s,"CODE",{class:!0});var i=w(t);l=W(i,n),i.forEach(u),s.forEach(u),this.h()},h(){k(t,"class","language-json"),k(e,"class","rounded-lg max-w-fit")},m(o,s){H(o,e,s),f(e,t),f(t,l)},p:Y,d(o){o&&u(e)}}}function Pe(r,e){let t,n,l=e[7].activityId+"",a,o,s,i,m,g,y,h,T,d=e[7].activityType+"",_,v,V,j,U,Q,ie,z,Z,K,x,L,q,ee,fe,ae,te=he(e[7].lastHeartbeatTime)+"",B,ce,X;const O=[$t,pt],ue=[];function J(M,c){return M[7].lastFailure?0:1}return z=J(e),Z=ue[z]=O[z](e),{key:r,first:null,c(){t=p("a"),n=p("div"),a=P(l),o=C(),s=p("div"),i=p("div"),m=p("h4"),g=P("Activity Name"),y=C(),h=p("p"),T=p("span"),_=P(d),v=C(),V=p("div"),j=p("div"),U=p("h3"),Q=P("Last Failure"),ie=C(),Z.c(),K=C(),x=p("div"),L=p("div"),q=p("h4"),ee=P("Last Heartbeat Time"),fe=C(),ae=p("p"),B=P(te),ce=C(),this.h()},l(M){t=$(M,"A",{class:!0,href:!0});var c=w(t);n=$(c,"DIV",{class:!0});var I=w(n);a=W(I,l),I.forEach(u),o=S(c),s=$(c,"DIV",{class:!0});var F=w(s);i=$(F,"DIV",{class:!0});var G=w(i);m=$(G,"H4",{});var ne=w(m);g=W(ne,"Activity Name"),ne.forEach(u),y=S(G),h=$(G,"P",{});var le=w(h);T=$(le,"SPAN",{class:!0});var re=w(T);_=W(re,d),re.forEach(u),le.forEach(u),G.forEach(u),F.forEach(u),v=S(c),V=$(c,"DIV",{class:!0});var oe=w(V);j=$(oe,"DIV",{class:!0});var se=w(j);U=$(se,"H3",{class:!0});var ge=w(U);Q=W(ge,"Last Failure"),ge.forEach(u),ie=S(se),Z.l(se),se.forEach(u),oe.forEach(u),K=S(c),x=$(c,"DIV",{class:!0});var _e=w(x);L=$(_e,"DIV",{class:!0});var me=w(L);q=$(me,"H4",{});var Ve=w(q);ee=W(Ve,"Last Heartbeat Time"),Ve.forEach(u),fe=S(me),ae=$(me,"P",{});var De=w(ae);B=W(De,te),De.forEach(u),me.forEach(u),_e.forEach(u),ce=S(c),c.forEach(u),this.h()},h(){k(n,"class","md:w-1/12 text-left font-normal text-gray-500 w-40"),k(T,"class","bg-gray-300 text-gray-700 px-2 text-sm"),k(i,"class","flex gap-2 items-center"),k(s,"class","w-full md:w-1/4"),k(U,"class","whitespace-nowrap"),k(j,"class","flex gap-2 items-center"),k(V,"class","w-full md:w-5/12"),k(L,"class","flex gap-2"),k(x,"class","w-full md:w-1/4"),k(t,"class","block md:flex content-between w-full border-b-2 border-gray-300 p-2 last-of-type:border-b-0 hover:bg-gray-50 gap-4 items-center"),k(t,"href",e[1]),this.first=t},m(M,c){H(M,t,c),f(t,n),f(n,a),f(t,o),f(t,s),f(s,i),f(i,m),f(m,g),f(i,y),f(i,h),f(h,T),f(T,_),f(t,v),f(t,V),f(V,j),f(j,U),f(U,Q),f(j,ie),ue[z].m(j,null),f(t,K),f(t,x),f(x,L),f(L,q),f(q,ee),f(L,fe),f(L,ae),f(ae,B),f(t,ce),X=!0},p(M,c){e=M,Z.p(e,c)},i(M){X||(b(Z),X=!0)},o(M){E(Z),X=!1},d(M){M&&u(t),ue[z].d()}}}function kt(r){let e;return{c(){e=P("Show all")},l(t){e=W(t,"Show all")},m(t,n){H(t,e,n)},d(t){t&&u(e)}}}function vt(r){let e,t,n=r[0].length&&ht(r);return{c(){n&&n.c(),e=Ee()},l(l){n&&n.l(l),e=Ee()},m(l,a){n&&n.m(l,a),H(l,e,a),t=!0},p(l,[a]){l[0].length&&n.p(l,a)},i(l){t||(b(n),t=!0)},o(l){E(n),t=!1},d(l){n&&n.d(l),l&&u(e)}}}function bt(r,e,t){let n;je(r,it,m=>t(2,n=m));const{pendingActivities:l}=n.stuff.workflow,{namespace:a,workflow:o,run:s}=n.params,i=Ze({namespace:a,workflow:o,run:s});return Fe(()=>{window.Prism.highlightAll()}),[l,i]}class Et extends pe{constructor(e){super(),$e(this,e,bt,vt,we,{})}}function We(r){let e,t,n,l,a,o,s={ctx:r,current:null,token:null,hasCatch:!0,pending:yt,then:It,catch:Tt,value:4,error:5,blocks:[,,,]};return Ne(a=r[1],s),{c(){e=p("section"),t=p("h3"),n=P("Stack Trace"),l=C(),s.block.c(),this.h()},l(i){e=$(i,"SECTION",{class:!0});var m=w(e);t=$(m,"H3",{class:!0});var g=w(t);n=W(g,"Stack Trace"),g.forEach(u),l=S(m),s.block.l(m),m.forEach(u),this.h()},h(){k(t,"class","text-lg mb-2 w-full"),k(e,"class","stack-trace svelte-18yyc2q")},m(i,m){H(i,e,m),f(e,t),f(t,n),f(e,l),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,o=!0},p(i,m){r=i,s.ctx=r,m&2&&a!==(a=r[1])&&Ne(a,s)||Qe(s,r,m)},i(i){o||(b(s.block),o=!0)},o(i){for(let m=0;m<3;m+=1){const g=s.blocks[m];E(g)}o=!1},d(i){i&&u(e),s.block.d(),s.token=null,s=null}}}function Tt(r){let e,t;return e=new ct({props:{title:"An Error Occured",content:"Please make sure you have at least one worker running."}}),{c(){D(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p:Y,i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function It(r){let e,t,n;return t=new Ue({props:{content:r[4],language:"text",class:r[2].class}}),{c(){e=p("div"),D(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var a=w(e);N(t.$$.fragment,a),a.forEach(u),this.h()},h(){k(e,"class","flex items-start h-full")},m(l,a){H(l,e,a),R(t,e,null),n=!0},p(l,a){const o={};a&2&&(o.content=l[4]),a&4&&(o.class=l[2].class),t.$set(o)},i(l){n||(b(t.$$.fragment,l),n=!0)},o(l){E(t.$$.fragment,l),n=!1},d(l){l&&u(e),A(t)}}}function yt(r){let e,t,n,l,a,o;return{c(){e=p("div"),t=p("h2"),n=P("Loading\u2026"),l=C(),a=p("p"),o=P("(This will fail if you have no workers running.)"),this.h()},l(s){e=$(s,"DIV",{class:!0});var i=w(e);t=$(i,"H2",{class:!0});var m=w(t);n=W(m,"Loading\u2026"),m.forEach(u),l=S(i),a=$(i,"P",{});var g=w(a);o=W(g,"(This will fail if you have no workers running.)"),g.forEach(u),i.forEach(u),this.h()},h(){k(t,"class","font-bold text-2xl mb-4"),k(e,"class","text-center")},m(s,i){H(s,e,i),f(e,t),f(t,n),f(e,l),f(e,a),f(a,o)},p:Y,i:Y,o:Y,d(s){s&&u(e)}}}function Ct(r){let e,t,n=r[0].isRunning&&We(r);return{c(){n&&n.c(),e=Ee()},l(l){n&&n.l(l),e=Ee()},m(l,a){n&&n.m(l,a),H(l,e,a),t=!0},p(l,[a]){l[0].isRunning?n?(n.p(l,a),a&1&&b(n,1)):(n=We(l),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(ke(),E(n,1,1,()=>{n=null}),ve())},i(l){t||(b(n),t=!0)},o(l){E(n),t=!1},d(l){n&&n.d(l),l&&u(e)}}}function St(r,e,t){let{namespace:n}=e,{workflow:l}=e,a;return Fe(()=>{t(1,a=(()=>ft({workflow:l,namespace:n}))())}),r.$$set=o=>{t(2,e=Te(Te({},e),Ie(o))),"namespace"in o&&t(3,n=o.namespace),"workflow"in o&&t(0,l=o.workflow)},e=Ie(e),[l,a,e,n]}class Vt extends pe{constructor(e){super(),$e(this,e,St,Ct,we,{namespace:3,workflow:0})}}function Dt(r){let e,t;return e=new Ue({props:{content:r[1],class:"mb-2 max-h-96"}}),{c(){D(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,l){const a={};l&2&&(a.content=n[1]),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Nt(r){let e,t,n,l,a,o,s;return n=new et({props:{icon:tt,scale:1.2,class:"block w-full h-full animate-spin"}}),{c(){e=p("div"),t=p("div"),D(n.$$.fragment),l=C(),a=p("h2"),o=P("In progress\u2026"),this.h()},l(i){e=$(i,"DIV",{class:!0});var m=w(e);t=$(m,"DIV",{class:!0});var g=w(t);N(n.$$.fragment,g),g.forEach(u),l=S(m),a=$(m,"H2",{class:!0});var y=w(a);o=W(y,"In progress\u2026"),y.forEach(u),m.forEach(u),this.h()},h(){k(t,"class","flex rounded-full items-center justify-center w-16 h-16 bg-gray-200"),k(a,"class","text-xl font-medium"),k(e,"class","my-12 flex flex-col justify-start items-center gap-2")},m(i,m){H(i,e,m),f(e,t),R(n,t,null),f(e,l),f(e,a),f(a,o),s=!0},p:Y,i(i){s||(b(n.$$.fragment,i),s=!0)},o(i){E(n.$$.fragment,i),s=!1},d(i){i&&u(e),A(n)}}}function Rt(r){let e,t,n,l,a,o,s,i;const m=[Nt,Dt],g=[];function y(h,T){return h[2]?0:1}return a=y(r),o=g[a]=m[a](r),{c(){e=p("article"),t=p("h3"),n=P(r[0]),l=C(),o.c(),this.h()},l(h){e=$(h,"ARTICLE",{class:!0,"data-cy":!0});var T=w(e);t=$(T,"H3",{class:!0});var d=w(t);n=W(d,r[0]),d.forEach(u),l=S(T),o.l(T),T.forEach(u),this.h()},h(){k(t,"class","text-lg"),k(e,"class","flex flex-col border-2 border-gray-300 p-4 rounded-lg w-full lg:w-1/2"),k(e,"data-cy",s=r[3].dataCy)},m(h,T){H(h,e,T),f(e,t),f(t,n),f(e,l),g[a].m(e,null),i=!0},p(h,[T]){(!i||T&1)&&ye(n,h[0]);let d=a;a=y(h),a===d?g[a].p(h,T):(ke(),E(g[d],1,1,()=>{g[d]=null}),ve(),o=g[a],o?o.p(h,T):(o=g[a]=m[a](h),o.c()),b(o,1),o.m(e,null)),(!i||T&8&&s!==(s=h[3].dataCy))&&k(e,"data-cy",s)},i(h){i||(b(o),i=!0)},o(h){E(o),i=!1},d(h){h&&u(e),g[a].d()}}}function At(r,e,t){let{title:n}=e,{content:l}=e,{isRunning:a=!1}=e;return r.$$set=o=>{t(3,e=Te(Te({},e),Ie(o))),"title"in o&&t(0,n=o.title),"content"in o&&t(1,l=o.content),"isRunning"in o&&t(2,a=o.isRunning)},e=Ie(e),[n,l,a,e]}class Oe extends pe{constructor(e){super(),$e(this,e,At,Rt,we,{title:0,content:1,isRunning:2})}}function Pt(r){let e,t;return{c(){e=p("div"),t=P(r[1]),this.h()},l(n){e=$(n,"DIV",{class:!0});var l=w(e);t=W(l,r[1]),l.forEach(u),this.h()},h(){k(e,"class","select-all")},m(n,l){H(n,e,l),f(e,t)},p(n,l){l&2&&ye(t,n[1])},i:Y,o:Y,d(n){n&&u(e)}}}function Wt(r){let e,t;return e=new Je({props:{content:r[1],$$slots:{default:[Ht]},$$scope:{ctx:r}}}),{c(){D(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,l){const a={};l&2&&(a.content=n[1]),l&22&&(a.$$scope={dirty:l,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Ot(r){let e;return{c(){e=P(r[1])},l(t){e=W(t,r[1])},m(t,n){H(t,e,n)},p(t,n){n&2&&ye(e,t[1])},d(t){t&&u(e)}}}function Ht(r){let e,t;return e=new Le({props:{href:r[2],$$slots:{default:[Ot]},$$scope:{ctx:r}}}),{c(){D(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,l){const a={};l&4&&(a.href=n[2]),l&18&&(a.$$scope={dirty:l,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function jt(r){let e,t,n,l,a,o,s,i,m,g;const y=[Wt,Pt],h=[];function T(d,_){return d[2]?0:1}return s=T(r),i=h[s]=y[s](r),{c(){e=p("article"),t=p("div"),n=P(r[0]),l=P(":"),a=C(),o=p("div"),i.c(),this.h()},l(d){e=$(d,"ARTICLE",{class:!0});var _=w(e);t=$(_,"DIV",{class:!0});var v=w(t);n=W(v,r[0]),l=W(v,":"),v.forEach(u),a=S(_),o=$(_,"DIV",{});var V=w(o);i.l(V),V.forEach(u),_.forEach(u),this.h()},h(){k(t,"class","font-medium"),k(e,"class",m="flex gap-2 text-"+r[3])},m(d,_){H(d,e,_),f(e,t),f(t,n),f(t,l),f(e,a),f(e,o),h[s].m(o,null),g=!0},p(d,[_]){(!g||_&1)&&ye(n,d[0]);let v=s;s=T(d),s===v?h[s].p(d,_):(ke(),E(h[v],1,1,()=>{h[v]=null}),ve(),i=h[s],i?i.p(d,_):(i=h[s]=y[s](d),i.c()),b(i,1),i.m(o,null)),(!g||_&8&&m!==(m="flex gap-2 text-"+d[3]))&&k(e,"class",m)},i(d){g||(b(i),g=!0)},o(d){E(i),g=!1},d(d){d&&u(e),h[s].d()}}}function Ft(r,e,t){let{title:n}=e,{content:l}=e,{href:a=null}=e,{textSize:o="md"}=e;return r.$$set=s=>{"title"in s&&t(0,n=s.title),"content"in s&&t(1,l=s.content),"href"in s&&t(2,a=s.href),"textSize"in s&&t(3,o=s.textSize)},[n,l,a,o]}class de extends pe{constructor(e){super(),$e(this,e,Ft,jt,we,{title:0,content:1,href:2,textSize:3})}}function He(r){var n,l,a;let e,t;return e=new de({props:{title:"Parent",content:(n=r[1].parent)==null?void 0:n.workflowId,href:Re({namespace:r[0],workflow:(l=r[1].parent)==null?void 0:l.workflowId,run:(a=r[1].parent)==null?void 0:a.runId})}}),{c(){D(e.$$.fragment)},l(o){N(e.$$.fragment,o)},m(o,s){R(e,o,s),t=!0},p(o,s){var m,g,y;const i={};s&2&&(i.content=(m=o[1].parent)==null?void 0:m.workflowId),s&3&&(i.href=Re({namespace:o[0],workflow:(g=o[1].parent)==null?void 0:g.workflowId,run:(y=o[1].parent)==null?void 0:y.runId})),e.$set(i)},i(o){t||(b(e.$$.fragment,o),t=!0)},o(o){E(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function Lt(r){let e;return{c(){e=P("Timeline")},l(t){e=W(t,"Timeline")},m(t,n){H(t,e,n)},d(t){t&&u(e)}}}function Jt(r){let e;return{c(){e=P("Compact")},l(t){e=W(t,"Compact")},m(t,n){H(t,e,n)},d(t){t&&u(e)}}}function Ut(r){let e;return{c(){e=P("JSON")},l(t){e=W(t,"JSON")},m(t,n){H(t,e,n)},d(t){t&&u(e)}}}function zt(r){let e,t,n,l,a,o;return e=new Se({props:{icon:nt,base:be(r[5]("feed")),href:be(r[5]("feed")),active:r[2]==="feed",$$slots:{default:[Lt]},$$scope:{ctx:r}}}),e.$on("click",r[9]),n=new Se({props:{icon:lt,href:be(r[5]("compact")),active:r[2]==="compact",$$slots:{default:[Jt]},$$scope:{ctx:r}}}),n.$on("click",r[10]),a=new Se({props:{icon:rt,href:be(r[5]("json")),active:r[2]==="json",$$slots:{default:[Ut]},$$scope:{ctx:r}}}),a.$on("click",r[11]),{c(){D(e.$$.fragment),t=C(),D(n.$$.fragment),l=C(),D(a.$$.fragment)},l(s){N(e.$$.fragment,s),t=S(s),N(n.$$.fragment,s),l=S(s),N(a.$$.fragment,s)},m(s,i){R(e,s,i),H(s,t,i),R(n,s,i),H(s,l,i),R(a,s,i),o=!0},p(s,i){const m={};i&4&&(m.active=s[2]==="feed"),i&4096&&(m.$$scope={dirty:i,ctx:s}),e.$set(m);const g={};i&4&&(g.active=s[2]==="compact"),i&4096&&(g.$$scope={dirty:i,ctx:s}),n.$set(g);const y={};i&4&&(y.active=s[2]==="json"),i&4096&&(y.$$scope={dirty:i,ctx:s}),a.$set(y)},i(s){o||(b(e.$$.fragment,s),b(n.$$.fragment,s),b(a.$$.fragment,s),o=!0)},o(s){E(e.$$.fragment,s),E(n.$$.fragment,s),E(a.$$.fragment,s),o=!1},d(s){A(e,s),s&&u(t),A(n,s),s&&u(l),A(a,s)}}}function qt(r){var M;let e,t,n,l,a,o,s,i,m,g,y,h,T,d,_,v,V,j,U,Q,ie,z,Z,K,x,L,q,ee,fe,ae,te,B,ce,X;n=new de({props:{title:"Workflow Type",content:r[1].name}}),a=new de({props:{title:"Run ID",content:r[1].runId}}),i=new de({props:{title:"Start Time",content:he(r[1].startTime,"UTC")}}),g=new de({props:{title:"Close Time",content:he(r[1].endTime,"UTC")}}),h=new de({props:{title:"Task Queue",content:r[1].taskQueue,href:xe(r[6])}});let O=((M=r[1])==null?void 0:M.parent)&&He(r);_=new de({props:{title:"State Transitions",content:r[1].stateTransitionCount}}),j=new Oe({props:{title:"Input",content:r[3],dataCy:"workflow-input"}}),Q=new Oe({props:{title:"Results",content:r[4],isRunning:r[1].isRunning,dataCy:"workflow-results"}}),z=new Vt({props:{namespace:r[0],workflow:r[1],class:"mb-2 max-h-96"}}),K=new Et({}),B=new ot({props:{$$slots:{default:[zt]},$$scope:{ctx:r}}});const ue=r[8].default,J=Be(ue,r,r[12],null);return{c(){e=p("section"),t=p("section"),D(n.$$.fragment),l=C(),D(a.$$.fragment),o=C(),s=p("div"),D(i.$$.fragment),m=C(),D(g.$$.fragment),y=C(),D(h.$$.fragment),T=C(),O&&O.c(),d=C(),D(_.$$.fragment),v=C(),V=p("section"),D(j.$$.fragment),U=C(),D(Q.$$.fragment),ie=C(),D(z.$$.fragment),Z=C(),D(K.$$.fragment),x=C(),L=p("section"),q=p("nav"),ee=p("h3"),fe=P("Recent Events"),ae=C(),te=p("div"),D(B.$$.fragment),ce=C(),J&&J.c(),this.h()},l(c){e=$(c,"SECTION",{class:!0});var I=w(e);t=$(I,"SECTION",{class:!0});var F=w(t);N(n.$$.fragment,F),l=S(F),N(a.$$.fragment,F),o=S(F),s=$(F,"DIV",{class:!0});var G=w(s);N(i.$$.fragment,G),m=S(G),N(g.$$.fragment,G),G.forEach(u),y=S(F),N(h.$$.fragment,F),T=S(F),O&&O.l(F),d=S(F),N(_.$$.fragment,F),F.forEach(u),v=S(I),V=$(I,"SECTION",{class:!0});var ne=w(V);N(j.$$.fragment,ne),U=S(ne),N(Q.$$.fragment,ne),ne.forEach(u),ie=S(I),N(z.$$.fragment,I),Z=S(I),N(K.$$.fragment,I),x=S(I),L=$(I,"SECTION",{id:!0});var le=w(L);q=$(le,"NAV",{class:!0});var re=w(q);ee=$(re,"H3",{class:!0});var oe=w(ee);fe=W(oe,"Recent Events"),oe.forEach(u),ae=S(re),te=$(re,"DIV",{id:!0,class:!0});var se=w(te);N(B.$$.fragment,se),se.forEach(u),re.forEach(u),ce=S(le),J&&J.l(le),le.forEach(u),I.forEach(u),this.h()},h(){k(s,"class","flex gap-1 flex-col md:flex-row md:gap-6"),k(t,"class","flex flex-col gap-1"),k(V,"class","flex gap-4 w-full flex-col lg:flex-row"),k(ee,"class","text-lg font-medium"),k(te,"id","event-view-toggle"),k(te,"class","flex gap-4"),k(q,"class","flex gap-4 justify-between items-end pb-4"),k(L,"id","event-history"),k(e,"class","flex flex-col gap-4")},m(c,I){H(c,e,I),f(e,t),R(n,t,null),f(t,l),R(a,t,null),f(t,o),f(t,s),R(i,s,null),f(s,m),R(g,s,null),f(t,y),R(h,t,null),f(t,T),O&&O.m(t,null),f(t,d),R(_,t,null),f(e,v),f(e,V),R(j,V,null),f(V,U),R(Q,V,null),f(e,ie),R(z,e,null),f(e,Z),R(K,e,null),f(e,x),f(e,L),f(L,q),f(q,ee),f(ee,fe),f(q,ae),f(q,te),R(B,te,null),f(L,ce),J&&J.m(L,null),X=!0},p(c,[I]){var me;const F={};I&2&&(F.content=c[1].name),n.$set(F);const G={};I&2&&(G.content=c[1].runId),a.$set(G);const ne={};I&2&&(ne.content=he(c[1].startTime,"UTC")),i.$set(ne);const le={};I&2&&(le.content=he(c[1].endTime,"UTC")),g.$set(le);const re={};I&2&&(re.content=c[1].taskQueue),h.$set(re),(me=c[1])!=null&&me.parent?O?(O.p(c,I),I&2&&b(O,1)):(O=He(c),O.c(),b(O,1),O.m(t,d)):O&&(ke(),E(O,1,1,()=>{O=null}),ve());const oe={};I&2&&(oe.content=c[1].stateTransitionCount),_.$set(oe);const se={};I&2&&(se.isRunning=c[1].isRunning),Q.$set(se);const ge={};I&1&&(ge.namespace=c[0]),I&2&&(ge.workflow=c[1]),z.$set(ge);const _e={};I&4100&&(_e.$$scope={dirty:I,ctx:c}),B.$set(_e),J&&J.p&&(!X||I&4096)&&Ge(J,ue,c,c[12],X?Xe(ue,c[12],I,null):Ke(c[12]),null)},i(c){X||(b(n.$$.fragment,c),b(a.$$.fragment,c),b(i.$$.fragment,c),b(g.$$.fragment,c),b(h.$$.fragment,c),b(O),b(_.$$.fragment,c),b(j.$$.fragment,c),b(Q.$$.fragment,c),b(z.$$.fragment,c),b(K.$$.fragment,c),b(B.$$.fragment,c),b(J,c),X=!0)},o(c){E(n.$$.fragment,c),E(a.$$.fragment,c),E(i.$$.fragment,c),E(g.$$.fragment,c),E(h.$$.fragment,c),E(O),E(_.$$.fragment,c),E(j.$$.fragment,c),E(Q.$$.fragment,c),E(z.$$.fragment,c),E(K.$$.fragment,c),E(B.$$.fragment,c),E(J,c),X=!1},d(c){c&&u(e),A(n),A(a),A(i),A(g),A(h),O&&O.d(),A(_),A(j),A(Q),A(z),A(K),A(B),J&&J.d(c)}}}const pn=async function({params:r,url:e,stuff:t,fetch:n}){var l;const{workflow:a}=t,{namespace:o}=r,s={namespace:o,workflowId:a.id,runId:a.runId,reverse:Boolean((l=e==null?void 0:e.searchParams)===null||l===void 0?void 0:l.get("sort"))},{events:i,eventGroups:m}=await Ye(s,n);return{props:{namespace:o,workflow:a,events:i,eventGroups:m},stuff:{events:i,eventGroups:m}}};function Mt(r,e,t){let n;je(r,at,v=>t(2,n=v));let{$$slots:l={},$$scope:a}=e,{namespace:o}=e,{workflow:s}=e,{events:i}=e;const{input:m,result:g}=_t(i),y=(v,V)=>({namespace:o,workflow:s.id,run:s.runId,view:v,eventId:V}),h={namespace:o,workflow:s.id,run:s.runId},T=()=>Ce("feed"),d=()=>Ce("compact"),_=()=>Ce("json");return r.$$set=v=>{"namespace"in v&&t(0,o=v.namespace),"workflow"in v&&t(1,s=v.workflow),"events"in v&&t(7,i=v.events),"$$scope"in v&&t(12,a=v.$$scope)},[o,s,n,m,g,y,h,i,l,T,d,_,a]}class $n extends pe{constructor(e){super(),$e(this,e,Mt,qt,we,{namespace:0,workflow:1,events:7})}}export{$n as default,pn as load};
