import{S as ge,i as we,s as Ee,P as be,aQ as ye,e as b,t as W,k as F,w as R,c as y,a as k,h as L,d as i,m as N,x as q,b as h,U as ce,g as A,L as $,y as Q,j as se,q as T,o as G,B,I as ke,F as Ie,G as De,l as ue,T as Ae,K as Ce,H as Ve,a1 as Pe,p as me,M as Se,N as je,O as He,n as _e,aC as Te}from"../../../../../../../../chunks/vendor-426d11b3.js";import{i as Ge,a as Fe,g as $e}from"../../../../../../../../chunks/index-98db01bc.js";import{E as Ne}from"../../../../../../../../chunks/empty-state-c9e6aea7.js";import{F as Oe}from"../../../../../../../../chunks/filter-select-de7fe7ec.js";import{O as z}from"../../../../../../../../chunks/select-d9bfa88a.js";import{p as We}from"../../../../../../../../chunks/stores-d09229ea.js";import{a as pe}from"../../../../../../../../chunks/append-query-parameters-b8619cc0.js";import"../../../../../../../../chunks/data-converter-config-e0242919.js";import"../../../../../../../../chunks/atob-5f9d7101.js";import"../../../../../../../../chunks/format-date-2b9fdbbd.js";import"../../../../../../../../chunks/navigation-093db9e2.js";import"../../../../../../../../chunks/singletons-a6a7384f.js";function Le(r){let e,t,l,f=r[0].id+"",a,u,n,m,w,j=r[0].name+"",E,P,C,D,s,o,I=r[0].timestamp+"",d,K,V;return s=new be({props:{icon:ye,class:"inline"}}),{c(){e=b("a"),t=b("article"),l=b("p"),a=W(f),u=F(),n=b("div"),m=b("h2"),w=b("span"),E=W(j),C=F(),D=b("p"),R(s.$$.fragment),o=F(),d=W(I),this.h()},l(p){e=y(p,"A",{href:!0,"sveltekit:noscroll":!0,class:!0});var g=k(e);t=y(g,"ARTICLE",{class:!0});var H=k(t);l=y(H,"P",{class:!0});var X=k(l);a=L(X,f),X.forEach(i),u=N(H),n=y(H,"DIV",{class:!0});var U=k(n);m=y(U,"H2",{class:!0});var M=k(m);w=y(M,"SPAN",{class:!0});var J=k(w);E=L(J,j),J.forEach(i),M.forEach(i),C=N(U),D=y(U,"P",{class:!0});var v=k(D);q(s.$$.fragment,v),o=N(v),d=L(v,I),v.forEach(i),U.forEach(i),H.forEach(i),g.forEach(i),this.h()},h(){h(l,"class","w-5 text-center text-gray-500"),h(w,"class",P="label "+r[0].classification+" font-semibold svelte-74j1yw"),h(m,"class","mb-2"),h(D,"class","text-sm"),h(n,"class","w-full"),h(t,"class","flex gap-4 items-center p-4 w-full"),h(e,"href",K=pe(r[2],r[1].url.searchParams)),h(e,"sveltekit:noscroll",""),h(e,"class","flex border-b-2 border-gray-300 w-full items-center hover:bg-gray-50 svelte-74j1yw"),ce(e,"active",r[3](r[1].params.eventId))},m(p,g){A(p,e,g),$(e,t),$(t,l),$(l,a),$(t,u),$(t,n),$(n,m),$(m,w),$(w,E),$(n,C),$(n,D),Q(s,D,null),$(D,o),$(D,d),V=!0},p(p,[g]){(!V||g&1)&&f!==(f=p[0].id+"")&&se(a,f),(!V||g&1)&&j!==(j=p[0].name+"")&&se(E,j),(!V||g&1&&P!==(P="label "+p[0].classification+" font-semibold svelte-74j1yw"))&&h(w,"class",P),(!V||g&1)&&I!==(I=p[0].timestamp+"")&&se(d,I),(!V||g&6&&K!==(K=pe(p[2],p[1].url.searchParams)))&&h(e,"href",K),g&10&&ce(e,"active",p[3](p[1].params.eventId))},i(p){V||(T(s.$$.fragment,p),V=!0)},o(p){G(s.$$.fragment,p),V=!1},d(p){p&&i(e),B(s)}}}function Me(r,e,t){let l,f;ke(r,We,n=>t(1,f=n));let{event:a}=e;const u=n=>{if(Ge(a))return a.id===n;if(Fe(a))return a.eventIds.has(n)};return r.$$set=n=>{"event"in n&&t(0,a=n.event)},r.$$.update=()=>{r.$$.dirty&3&&t(2,l=f.params.eventId?a.id:`${f.url.pathname}/${a.id}`)},[a,f,l,u]}class Re extends ge{constructor(e){super();we(this,e,Me,Le,Ee,{event:0})}}function ve(r,e,t){const l=r.slice();return l[5]=e[t],l}function qe(r){let e;return{c(){e=W("All")},l(t){e=L(t,"All")},m(t,l){A(t,e,l)},d(t){t&&i(e)}}}function Qe(r){let e;return{c(){e=W("Activity")},l(t){e=L(t,"Activity")},m(t,l){A(t,e,l)},d(t){t&&i(e)}}}function Be(r){let e;return{c(){e=W("Command")},l(t){e=L(t,"Command")},m(t,l){A(t,e,l)},d(t){t&&i(e)}}}function Ke(r){let e;return{c(){e=W("Signal")},l(t){e=L(t,"Signal")},m(t,l){A(t,e,l)},d(t){t&&i(e)}}}function Ue(r){let e;return{c(){e=W("Timer")},l(t){e=L(t,"Timer")},m(t,l){A(t,e,l)},d(t){t&&i(e)}}}function ze(r){let e;return{c(){e=W("Child Workflow")},l(t){e=L(t,"Child Workflow")},m(t,l){A(t,e,l)},d(t){t&&i(e)}}}function Je(r){let e;return{c(){e=W("Workflow")},l(t){e=L(t,"Workflow")},m(t,l){A(t,e,l)},d(t){t&&i(e)}}}function Xe(r){let e,t,l,f,a,u,n,m,w,j,E,P,C,D;return e=new z({props:{value:void 0,$$slots:{default:[qe]},$$scope:{ctx:r}}}),l=new z({props:{value:"activity",$$slots:{default:[Qe]},$$scope:{ctx:r}}}),a=new z({props:{value:"command",$$slots:{default:[Be]},$$scope:{ctx:r}}}),n=new z({props:{value:"signal",$$slots:{default:[Ke]},$$scope:{ctx:r}}}),w=new z({props:{value:"timer",$$slots:{default:[Ue]},$$scope:{ctx:r}}}),E=new z({props:{value:"child-workflow",$$slots:{default:[ze]},$$scope:{ctx:r}}}),C=new z({props:{value:"workflow",$$slots:{default:[Je]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=F(),R(l.$$.fragment),f=F(),R(a.$$.fragment),u=F(),R(n.$$.fragment),m=F(),R(w.$$.fragment),j=F(),R(E.$$.fragment),P=F(),R(C.$$.fragment)},l(s){q(e.$$.fragment,s),t=N(s),q(l.$$.fragment,s),f=N(s),q(a.$$.fragment,s),u=N(s),q(n.$$.fragment,s),m=N(s),q(w.$$.fragment,s),j=N(s),q(E.$$.fragment,s),P=N(s),q(C.$$.fragment,s)},m(s,o){Q(e,s,o),A(s,t,o),Q(l,s,o),A(s,f,o),Q(a,s,o),A(s,u,o),Q(n,s,o),A(s,m,o),Q(w,s,o),A(s,j,o),Q(E,s,o),A(s,P,o),Q(C,s,o),D=!0},p(s,o){const I={};o&16&&(I.$$scope={dirty:o,ctx:s}),e.$set(I);const d={};o&16&&(d.$$scope={dirty:o,ctx:s}),l.$set(d);const K={};o&16&&(K.$$scope={dirty:o,ctx:s}),a.$set(K);const V={};o&16&&(V.$$scope={dirty:o,ctx:s}),n.$set(V);const p={};o&16&&(p.$$scope={dirty:o,ctx:s}),w.$set(p);const g={};o&16&&(g.$$scope={dirty:o,ctx:s}),E.$set(g);const H={};o&16&&(H.$$scope={dirty:o,ctx:s}),C.$set(H)},i(s){D||(T(e.$$.fragment,s),T(l.$$.fragment,s),T(a.$$.fragment,s),T(n.$$.fragment,s),T(w.$$.fragment,s),T(E.$$.fragment,s),T(C.$$.fragment,s),D=!0)},o(s){G(e.$$.fragment,s),G(l.$$.fragment,s),G(a.$$.fragment,s),G(n.$$.fragment,s),G(w.$$.fragment,s),G(E.$$.fragment,s),G(C.$$.fragment,s),D=!1},d(s){B(e,s),s&&i(t),B(l,s),s&&i(f),B(a,s),s&&i(u),B(n,s),s&&i(m),B(w,s),s&&i(j),B(E,s),s&&i(P),B(C,s)}}}function de(r){let e,t,l,f;return t=new Ne({props:{title:"No Events Match",content:"There are no events that match your filters. Adjust your filters to see your events."}}),{c(){e=b("div"),R(t.$$.fragment),l=F(),this.h()},l(a){e=y(a,"DIV",{class:!0});var u=k(e);q(t.$$.fragment,u),l=N(u),u.forEach(i),this.h()},h(){h(e,"class","p-2")},m(a,u){A(a,e,u),Q(t,e,null),$(e,l),f=!0},p:Ae,i(a){f||(T(t.$$.fragment,a),f=!0)},o(a){G(t.$$.fragment,a),f=!1},d(a){a&&i(e),B(t)}}}function he(r,e){let t,l,f;return l=new Re({props:{event:e[5]}}),{key:r,first:null,c(){t=ue(),R(l.$$.fragment),this.h()},l(a){t=ue(),q(l.$$.fragment,a),this.h()},h(){this.first=t},m(a,u){A(a,t,u),Q(l,a,u),f=!0},p(a,u){e=a;const n={};u&2&&(n.event=e[5]),l.$set(n)},i(a){f||(T(l.$$.fragment,a),f=!0)},o(a){G(l.$$.fragment,a),f=!1},d(a){a&&i(t),B(l,a)}}}function Ye(r){let e,t,l,f,a,u,n,m,w,j,E,P,C,D,s,o,I,d=[],K=new Map,V,p,g,H;function X(c){r[3](c)}let U={parameter:"category",$$slots:{default:[Xe]},$$scope:{ctx:r}};r[0]!==void 0&&(U.value=r[0]),m=new Oe({props:U}),Ie.push(()=>De(m,"value",X));let M=r[1];const J=c=>c[5].id;for(let c=0;c<M.length;c+=1){let _=ve(r,M,c),S=J(_);K.set(S,d[c]=he(S,_))}let v=null;M.length||(v=de());const x=r[2].default,O=Ce(x,r,r[4],null);return{c(){e=b("section"),t=b("div"),l=b("header"),f=b("h3"),a=W("Summary"),u=F(),n=b("div"),R(m.$$.fragment),j=F(),E=b("header"),P=b("h3"),C=W("Details"),D=F(),s=b("div"),o=b("div"),I=b("div");for(let c=0;c<d.length;c+=1)d[c].c();v&&v.c(),V=F(),p=b("div"),g=b("div"),O&&O.c(),this.h()},l(c){e=y(c,"SECTION",{class:!0});var _=k(e);t=y(_,"DIV",{class:!0});var S=k(t);l=y(S,"HEADER",{class:!0});var Y=k(l);f=y(Y,"H3",{});var le=k(f);a=L(le,"Summary"),le.forEach(i),u=N(Y),n=y(Y,"DIV",{class:!0});var ae=k(n);q(m.$$.fragment,ae),ae.forEach(i),Y.forEach(i),j=N(S),E=y(S,"HEADER",{class:!0});var re=k(E);P=y(re,"H3",{});var ne=k(P);C=L(ne,"Details"),ne.forEach(i),re.forEach(i),S.forEach(i),D=N(_),s=y(_,"DIV",{class:!0});var Z=k(s);o=y(Z,"DIV",{class:!0});var oe=k(o);I=y(oe,"DIV",{class:!0});var ee=k(I);for(let te=0;te<d.length;te+=1)d[te].l(ee);v&&v.l(ee),ee.forEach(i),oe.forEach(i),V=N(Z),p=y(Z,"DIV",{class:!0});var ie=k(p);g=y(ie,"DIV",{class:!0});var fe=k(g);O&&O.l(fe),fe.forEach(i),ie.forEach(i),Z.forEach(i),_.forEach(i),this.h()},h(){h(n,"class","flex items-center gap-4"),h(l,"class","table-header border-r-2 rounded-tl-lg w-1/3 svelte-8ovwki"),h(E,"class","table-header rounded-tr-lg w-2/3 svelte-8ovwki"),h(t,"class","flex w-full"),h(I,"class","rounded-bl-lg overflow-y-scroll h-full"),h(o,"class","flex flex-col w-1/3 border-r-2 border-gray-300 rounded-bl-lg"),h(g,"class","overflow-y-scroll overflow-x-hidden rounded-br-lg px-4 w-full py-4"),h(p,"class","flex flex-col w-2/3"),h(s,"class","flex"),h(e,"class","flex flex-col border-2 border-gray-300 rounded-lg w-full mb-6")},m(c,_){A(c,e,_),$(e,t),$(t,l),$(l,f),$(f,a),$(l,u),$(l,n),Q(m,n,null),$(t,j),$(t,E),$(E,P),$(P,C),$(e,D),$(e,s),$(s,o),$(o,I);for(let S=0;S<d.length;S+=1)d[S].m(I,null);v&&v.m(I,null),$(s,V),$(s,p),$(p,g),O&&O.m(g,null),H=!0},p(c,[_]){const S={};_&16&&(S.$$scope={dirty:_,ctx:c}),!w&&_&1&&(w=!0,S.value=c[0],Ve(()=>w=!1)),m.$set(S),_&2&&(M=c[1],_e(),d=Pe(d,_,J,1,c,M,K,I,Te,he,null,ve),me(),!M.length&&v?v.p(c,_):M.length?v&&(_e(),G(v,1,1,()=>{v=null}),me()):(v=de(),v.c(),T(v,1),v.m(I,null))),O&&O.p&&(!H||_&16)&&Se(O,x,c,c[4],H?He(x,c[4],_,null):je(c[4]),null)},i(c){if(!H){T(m.$$.fragment,c);for(let _=0;_<M.length;_+=1)T(d[_]);T(O,c),H=!0}},o(c){G(m.$$.fragment,c);for(let _=0;_<d.length;_+=1)G(d[_]);G(O,c),H=!1},d(c){c&&i(e),B(m);for(let _=0;_<d.length;_+=1)d[_].d();v&&v.d(),O&&O.d(c)}}}const ut=async function({stuff:r,url:e,params:t}){const l=e.searchParams.get("category"),f=["summary","compact","json"],a=$e(r.events,l),u=$e(r.eventGroups,l);let n;return t.view==="summary"&&(n=a),t.view==="compact"&&(n=u),f.includes(t.view)?{props:{items:n,category:l},stuff:{matchingEvents:a,matchingEventGroups:u}}:{status:404}};function Ze(r,e,t){let{$$slots:l={},$$scope:f}=e,{items:a}=e,{category:u}=e;function n(m){u=m,t(0,u)}return r.$$set=m=>{"items"in m&&t(1,a=m.items),"category"in m&&t(0,u=m.category),"$$scope"in m&&t(4,f=m.$$scope)},[u,a,l,n,f]}class mt extends ge{constructor(e){super();we(this,e,Ze,Ye,Ee,{items:1,category:0})}}export{mt as default,ut as load};
