import{S as ve,i as ge,s as be,e as p,k as T,w as Y,c as _,a as d,d as f,m as E,x as G,b as h,g as A,G as u,y as z,W as ft,H as We,I as De,J as Fe,q as I,o as N,B as X,l as ye,n as Ce,p as Qe,ah as ht,L as it,aC as dt,F as Ve,t as Q,h as W,j as oe,ao as Ze,U as xe,O as et,K as ut,aD as wt,f as kt}from"../../../../../../chunks/vendor-c58cc9e7.js";import{r as He,a as Me,h as $t}from"../../../../../../chunks/route-for-api-ef7de72f.js";import{W as vt,a as gt}from"../../../../../../chunks/workflow-status-e3fa4c8f.js";import{p as ct}from"../../../../../../chunks/stores-810f7c97.js";import{d as mt,e as pt,f as bt,g as Tt,h as Et,c as tt}from"../../../../../../chunks/route-for-b549ed02.js";import{f as Ne}from"../../../../../../chunks/format-date-e714f323.js";import{n as It}from"../../../../../../chunks/notifications-ac094b56.js";import{B as Oe}from"../../../../../../chunks/button-0d1aab5a.js";import{L as _t}from"../../../../../../chunks/link-eb740480.js";import"../../../../../../chunks/navigation-2df0726c.js";import"../../../../../../chunks/singletons-a6a7384f.js";import"../../../../../../chunks/is-network-error-ac7c8caf.js";async function At(l,e=fetch){const t=await He(Me("task-queue",l),{request:e,params:{taskQueueType:"1"}}),n=await He(Me("task-queue",l),{request:e,params:{taskQueueType:"2"}});n.pollers.forEach(s=>{s.taskQueueTypes=["ACTIVITY"]}),t.pollers.forEach(s=>{s.taskQueueTypes=["WORKFLOW"]});const a=s=>(r,i)=>{const o=r[i.identity]||{lastAccessTime:void 0,taskQueueTypes:[]};return r[i.identity]={lastAccessTime:!o.lastAccessTime||o.lastAccessTime<i.lastAccessTime?i.lastAccessTime:o.lastAccessTime,taskQueueTypes:o.taskQueueTypes.concat([s])},r};return n.pollers.filter(s=>t.pollers.some(r=>{if(s.identity===r.identity)return s.taskQueueTypes=[...r.taskQueueTypes,...s.taskQueueTypes],s})),n.pollers.reduce(a("ACTIVITY"),t.pollers.reduce(a("WORKFLOW"),{})),{pollers:n.pollers,taskQueueStatus:n.taskQueueStatus}}async function Pt({workflow:l,namespace:e,reason:t}){return await He(Me("workflow.terminate",{namespace:e,executionId:l.id,runId:l.runId}),{options:{method:"POST",body:JSON.stringify({reason:t})},shouldRetry:!1})}const St=l=>({}),st=l=>({}),Nt=l=>({}),at=l=>({});function nt(l){let e,t,n,a,s,r,i,o,c,k,g,C,$,B,D,j,P,O;r=new it({props:{icon:dt}});const x=l[3].title,q=Ve(x,l,l[7],at),U=q||yt(),R=l[3].content,ee=Ve(R,l,l[7],st),F=ee||Ct();return $=new Oe({props:{secondary:!0,$$slots:{default:[Qt]},$$scope:{ctx:l}}}),$.$on("click",l[5]),D=new Oe({props:{destroy:!0,$$slots:{default:[Wt]},$$scope:{ctx:l}}}),D.$on("click",l[6]),{c(){e=p("div"),t=p("div"),n=T(),a=p("div"),s=p("div"),Y(r.$$.fragment),i=T(),o=p("div"),U&&U.c(),c=T(),k=p("div"),F&&F.c(),g=T(),C=p("div"),Y($.$$.fragment),B=T(),Y(D.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var b=d(e);t=_(b,"DIV",{class:!0}),d(t).forEach(f),n=E(b),a=_(b,"DIV",{class:!0});var H=d(a);s=_(H,"DIV",{class:!0});var K=d(s);G(r.$$.fragment,K),K.forEach(f),i=E(H),o=_(H,"DIV",{class:!0});var S=d(o);U&&U.l(S),S.forEach(f),c=E(H),k=_(H,"DIV",{class:!0});var ae=d(k);F&&F.l(ae),ae.forEach(f),g=E(H),C=_(H,"DIV",{class:!0});var te=d(C);G($.$$.fragment,te),B=E(te),G(D.$$.fragment,te),te.forEach(f),H.forEach(f),b.forEach(f),this.h()},h(){h(t,"class","overlay svelte-p12tlm"),h(s,"class","float-right cursor-pointer p-6"),h(o,"class","title svelte-p12tlm"),h(k,"class","content svelte-p12tlm"),h(C,"class","flex justify-end items-center p-6 space-x-2"),h(a,"class","body svelte-p12tlm"),h(e,"class","modal svelte-p12tlm")},m(v,b){A(v,e,b),u(e,t),u(e,n),u(e,a),u(a,s),z(r,s,null),u(a,i),u(a,o),U&&U.m(o,null),u(a,c),u(a,k),F&&F.m(k,null),u(a,g),u(a,C),z($,C,null),u(C,B),z(D,C,null),j=!0,P||(O=ft(s,"click",l[4]),P=!0)},p(v,b){q&&q.p&&(!j||b&128)&&We(q,x,v,v[7],j?Fe(x,v[7],b,Nt):De(v[7]),at),ee&&ee.p&&(!j||b&128)&&We(ee,R,v,v[7],j?Fe(R,v[7],b,St):De(v[7]),st);const H={};b&128&&(H.$$scope={dirty:b,ctx:v}),$.$set(H);const K={};b&130&&(K.$$scope={dirty:b,ctx:v}),D.$set(K)},i(v){j||(I(r.$$.fragment,v),I(U,v),I(F,v),I($.$$.fragment,v),I(D.$$.fragment,v),j=!0)},o(v){N(r.$$.fragment,v),N(U,v),N(F,v),N($.$$.fragment,v),N(D.$$.fragment,v),j=!1},d(v){v&&f(e),X(r),U&&U.d(v),F&&F.d(v),X($),X(D),P=!1,O()}}}function yt(l){let e,t;return{c(){e=p("h3"),t=Q("Title")},l(n){e=_(n,"H3",{});var a=d(e);t=W(a,"Title"),a.forEach(f)},m(n,a){A(n,e,a),u(e,t)},d(n){n&&f(e)}}}function Ct(l){let e,t;return{c(){e=p("span"),t=Q("Content")},l(n){e=_(n,"SPAN",{});var a=d(e);t=W(a,"Content"),a.forEach(f)},m(n,a){A(n,e,a),u(e,t)},d(n){n&&f(e)}}}function Qt(l){let e;return{c(){e=Q("Cancel")},l(t){e=W(t,"Cancel")},m(t,n){A(t,e,n)},d(t){t&&f(e)}}}function Wt(l){let e;return{c(){e=Q(l[1])},l(t){e=W(t,l[1])},m(t,n){A(t,e,n)},p(t,n){n&2&&oe(e,t[1])},d(t){t&&f(e)}}}function Dt(l){let e,t,n=l[0]&&nt(l);return{c(){n&&n.c(),e=ye()},l(a){n&&n.l(a),e=ye()},m(a,s){n&&n.m(a,s),A(a,e,s),t=!0},p(a,[s]){a[0]?n?(n.p(a,s),s&1&&I(n,1)):(n=nt(a),n.c(),I(n,1),n.m(e.parentNode,e)):n&&(Ce(),N(n,1,1,()=>{n=null}),Qe())},i(a){t||(I(n),t=!0)},o(a){N(n),t=!1},d(a){n&&n.d(a),a&&f(e)}}}function Ft(l,e,t){let{$$slots:n={},$$scope:a}=e,{open:s=!1}=e,{confirmText:r="Confirm"}=e;const i=ht(),o=()=>i("cancelModal",{}),c=()=>i("cancelModal",{}),k=()=>i("confirmModal",{});return l.$$set=g=>{"open"in g&&t(0,s=g.open),"confirmText"in g&&t(1,r=g.confirmText),"$$scope"in g&&t(7,a=g.$$scope)},[s,r,i,n,o,c,k,a]}class Vt extends ve{constructor(e){super();ge(this,e,Ft,Dt,be,{open:0,confirmText:1})}}function lt(l){let e,t,n,a;return e=new Oe({props:{destroy:!0,thin:!0,$$slots:{default:[Ht]},$$scope:{ctx:l}}}),e.$on("click",l[3]),n=new Vt({props:{open:l[2],confirmText:"Terminate",$$slots:{content:[Ot],title:[Mt]},$$scope:{ctx:l}}}),n.$on("cancelModal",l[4]),n.$on("confirmModal",l[6]),{c(){Y(e.$$.fragment),t=T(),Y(n.$$.fragment)},l(s){G(e.$$.fragment,s),t=E(s),G(n.$$.fragment,s)},m(s,r){z(e,s,r),A(s,t,r),z(n,s,r),a=!0},p(s,r){const i={};r&1024&&(i.$$scope={dirty:r,ctx:s}),e.$set(i);const o={};r&4&&(o.open=s[2]),r&1026&&(o.$$scope={dirty:r,ctx:s}),n.$set(o)},i(s){a||(I(e.$$.fragment,s),I(n.$$.fragment,s),a=!0)},o(s){N(e.$$.fragment,s),N(n.$$.fragment,s),a=!1},d(s){X(e,s),s&&f(t),X(n,s)}}}function Ht(l){let e;return{c(){e=Q("Terminate")},l(t){e=W(t,"Terminate")},m(t,n){A(t,e,n)},d(t){t&&f(e)}}}function Mt(l){let e,t;return{c(){e=p("h3"),t=Q("Terminate Workflow"),this.h()},l(n){e=_(n,"H3",{slot:!0});var a=d(e);t=W(a,"Terminate Workflow"),a.forEach(f),this.h()},h(){h(e,"slot","title")},m(n,a){A(n,e,a),u(e,t)},d(n){n&&f(e)}}}function Ot(l){let e,t,n,a,s,r,i;return{c(){e=p("div"),t=p("p"),n=Q(`Are you sure you want to terminate this workflow? This action cannot be
        undone.`),a=T(),s=p("input"),this.h()},l(o){e=_(o,"DIV",{slot:!0});var c=d(e);t=_(c,"P",{});var k=d(t);n=W(k,`Are you sure you want to terminate this workflow? This action cannot be
        undone.`),k.forEach(f),a=E(c),s=_(c,"INPUT",{class:!0,placeholder:!0}),c.forEach(f),this.h()},h(){h(s,"class","block w-full border border-gray-200 rounded-md p-2 mt-4"),h(s,"placeholder","Enter a reason"),h(e,"slot","content")},m(o,c){A(o,e,c),u(e,t),u(t,n),u(e,a),u(e,s),Ze(s,l[1]),r||(i=ft(s,"input",l[8]),r=!0)},p(o,c){c&2&&s.value!==o[1]&&Ze(s,o[1])},d(o){o&&f(e),r=!1,i()}}}function Rt(l){let e=l[5](l[0]),t,n,a=e&&lt(l);return{c(){a&&a.c(),t=ye()},l(s){a&&a.l(s),t=ye()},m(s,r){a&&a.m(s,r),A(s,t,r),n=!0},p(s,[r]){r&1&&(e=s[5](s[0])),e?a?(a.p(s,r),r&1&&I(a,1)):(a=lt(s),a.c(),I(a,1),a.m(t.parentNode,t)):a&&(Ce(),N(a,1,1,()=>{a=null}),Qe())},i(s){n||(I(a),n=!0)},o(s){N(a),n=!1},d(s){a&&a.d(s),s&&f(t)}}}function Lt(l,e,t){let{workflow:n}=e,{namespace:a}=e,s="",r=!1;const i=()=>t(2,r=!0),o=()=>t(2,r=!1),c=$=>String($.status)==="Running",k=()=>{t(2,r=!1),t(1,s=""),It.add("success","Workflow Terminated"),window.location.reload()},g=()=>{Pt({workflow:n,namespace:a,reason:s}).then(k).catch($t)};function C(){s=this.value,t(1,s)}return l.$$set=$=>{"workflow"in $&&t(0,n=$.workflow),"namespace"in $&&t(7,a=$.namespace)},[n,s,r,i,o,c,g,a,C]}class Ut extends ve{constructor(e){super();ge(this,e,Lt,Rt,be,{workflow:0,namespace:7})}}function jt(l){let e;return{c(){e=Q(l[1])},l(t){e=W(t,l[1])},m(t,n){A(t,e,n)},p(t,n){n&2&&oe(e,t[1])},d(t){t&&f(e)}}}function qt(l){let e,t,n,a;return{c(){e=Q(l[1]),t=T(),n=p("span"),a=Q(l[2]),this.h()},l(s){e=W(s,l[1]),t=E(s),n=_(s,"SPAN",{class:!0});var r=d(n);a=W(r,l[2]),r.forEach(f),this.h()},h(){h(n,"class","px-2 text-blue-700 bg-blue-100 rounded-sm")},m(s,r){A(s,e,r),A(s,t,r),A(s,n,r),u(n,a)},p(s,r){r&2&&oe(e,s[1]),r&4&&oe(a,s[2])},d(s){s&&f(e),s&&f(t),s&&f(n)}}}function Bt(l){let e;function t(s,r){return s[2]||s[2]===0?qt:jt}let n=t(l),a=n(l);return{c(){e=p("a"),a.c(),this.h()},l(s){e=_(s,"A",{class:!0,href:!0});var r=d(e);a.l(r),r.forEach(f),this.h()},h(){h(e,"class","block svelte-sf1jtj"),h(e,"href",l[0]),xe(e,"active",l[3])},m(s,r){A(s,e,r),a.m(e,null)},p(s,[r]){n===(n=t(s))&&a?a.p(s,r):(a.d(1),a=n(s),a&&(a.c(),a.m(e,null))),r&1&&h(e,"href",s[0]),r&8&&xe(e,"active",s[3])},i:et,o:et,d(s){s&&f(e),a.d()}}}function Kt(l,e,t){let n,a;ut(l,ct,o=>t(4,a=o));let{href:s}=e,{label:r}=e,{amount:i=null}=e;return l.$$set=o=>{"href"in o&&t(0,s=o.href),"label"in o&&t(1,r=o.label),"amount"in o&&t(2,i=o.amount)},l.$$.update=()=>{l.$$.dirty&17&&t(3,n=a.url.pathname.includes(s))},[s,r,i,n,a]}class $e extends ve{constructor(e){super();ge(this,e,Kt,Bt,be,{href:0,label:1,amount:2})}}function rt(l){var Re,Le;let e,t,n,a,s,r=l[1].name+"",i,o,c,k,g,C,$,B=l[1].runId+"",D,j,P,O,x,q,U,R,ee=Ne(l[1].startTime,"UTC")+"",F,v,b,H,K,S,ae,te=Ne(l[1].endTime,"UTC")+"",ce,me,ne,w,L,Z,se,J,le,re,V,fe,_e,he,ie,de=l[1].stateTransitionCount+"",Te,ue;J=new _t({props:{href:pt(l[4]),$$slots:{default:[Jt]},$$scope:{ctx:l}}});let M=((Re=l[1])==null?void 0:Re.parentNamespaceId)&&((Le=l[1])==null?void 0:Le.parent)&&ot(l);return{c(){e=p("p"),t=p("span"),n=Q("Workflow Type:"),a=T(),s=p("span"),i=Q(r),o=T(),c=p("p"),k=p("span"),g=Q("Run ID:"),C=T(),$=p("span"),D=Q(B),j=T(),P=p("div"),O=p("p"),x=p("span"),q=Q("Start Time:"),U=T(),R=p("span"),F=Q(ee),v=T(),b=p("p"),H=p("span"),K=Q("Closed Time:"),S=T(),ae=p("span"),ce=Q(te),me=T(),ne=p("p"),w=p("span"),L=Q("Task Queue:"),Z=T(),se=p("span"),Y(J.$$.fragment),le=T(),M&&M.c(),re=T(),V=p("p"),fe=p("span"),_e=Q("State Transitions:"),he=T(),ie=p("span"),Te=Q(de),this.h()},l(m){e=_(m,"P",{class:!0});var y=d(e);t=_(y,"SPAN",{class:!0});var we=d(t);n=W(we,"Workflow Type:"),we.forEach(f),a=E(y),s=_(y,"SPAN",{class:!0});var ke=d(s);i=W(ke,r),ke.forEach(f),y.forEach(f),o=E(m),c=_(m,"P",{class:!0});var pe=d(c);k=_(pe,"SPAN",{class:!0});var Ue=d(k);g=W(Ue,"Run ID:"),Ue.forEach(f),C=E(pe),$=_(pe,"SPAN",{class:!0});var je=d($);D=W(je,B),je.forEach(f),pe.forEach(f),j=E(m),P=_(m,"DIV",{class:!0});var Ee=d(P);O=_(Ee,"P",{});var Ie=d(O);x=_(Ie,"SPAN",{class:!0});var qe=d(x);q=W(qe,"Start Time:"),qe.forEach(f),U=E(Ie),R=_(Ie,"SPAN",{class:!0});var Be=d(R);F=W(Be,ee),Be.forEach(f),Ie.forEach(f),v=E(Ee),b=_(Ee,"P",{});var Ae=d(b);H=_(Ae,"SPAN",{class:!0});var Ke=d(H);K=W(Ke,"Closed Time:"),Ke.forEach(f),S=E(Ae),ae=_(Ae,"SPAN",{class:!0});var Je=d(ae);ce=W(Je,te),Je.forEach(f),Ae.forEach(f),Ee.forEach(f),me=E(m),ne=_(m,"P",{class:!0});var Pe=d(ne);w=_(Pe,"SPAN",{class:!0});var Ye=d(w);L=W(Ye,"Task Queue:"),Ye.forEach(f),Z=E(Pe),se=_(Pe,"SPAN",{class:!0});var Ge=d(se);G(J.$$.fragment,Ge),Ge.forEach(f),Pe.forEach(f),le=E(m),M&&M.l(m),re=E(m),V=_(m,"P",{class:!0});var Se=d(V);fe=_(Se,"SPAN",{class:!0});var ze=d(fe);_e=W(ze,"State Transitions:"),ze.forEach(f),he=E(Se),ie=_(Se,"SPAN",{class:!0});var Xe=d(ie);Te=W(Xe,de),Xe.forEach(f),Se.forEach(f),this.h()},h(){h(t,"class","font-medium"),h(s,"class","ml-1"),h(e,"class","text-md"),h(k,"class","font-medium"),h($,"class","ml-1"),h(c,"class","text-md"),h(x,"class","font-medium"),h(R,"class","ml-1"),h(H,"class","font-medium"),h(ae,"class","ml-1"),h(P,"class","text-md flex gap-6"),h(w,"class","font-medium"),h(se,"class","ml-1"),h(ne,"class","text-md"),h(fe,"class","font-medium"),h(ie,"class","ml-1"),h(V,"class","text-md")},m(m,y){A(m,e,y),u(e,t),u(t,n),u(e,a),u(e,s),u(s,i),A(m,o,y),A(m,c,y),u(c,k),u(k,g),u(c,C),u(c,$),u($,D),A(m,j,y),A(m,P,y),u(P,O),u(O,x),u(x,q),u(O,U),u(O,R),u(R,F),u(P,v),u(P,b),u(b,H),u(H,K),u(b,S),u(b,ae),u(ae,ce),A(m,me,y),A(m,ne,y),u(ne,w),u(w,L),u(ne,Z),u(ne,se),z(J,se,null),A(m,le,y),M&&M.m(m,y),A(m,re,y),A(m,V,y),u(V,fe),u(fe,_e),u(V,he),u(V,ie),u(ie,Te),ue=!0},p(m,y){var ke,pe;(!ue||y&2)&&r!==(r=m[1].name+"")&&oe(i,r),(!ue||y&2)&&B!==(B=m[1].runId+"")&&oe(D,B),(!ue||y&2)&&ee!==(ee=Ne(m[1].startTime,"UTC")+"")&&oe(F,ee),(!ue||y&2)&&te!==(te=Ne(m[1].endTime,"UTC")+"")&&oe(ce,te);const we={};y&66&&(we.$$scope={dirty:y,ctx:m}),J.$set(we),((ke=m[1])==null?void 0:ke.parentNamespaceId)&&((pe=m[1])==null?void 0:pe.parent)?M?(M.p(m,y),y&2&&I(M,1)):(M=ot(m),M.c(),I(M,1),M.m(re.parentNode,re)):M&&(Ce(),N(M,1,1,()=>{M=null}),Qe()),(!ue||y&2)&&de!==(de=m[1].stateTransitionCount+"")&&oe(Te,de)},i(m){ue||(I(J.$$.fragment,m),I(M),ue=!0)},o(m){N(J.$$.fragment,m),N(M),ue=!1},d(m){m&&f(e),m&&f(o),m&&f(c),m&&f(j),m&&f(P),m&&f(me),m&&f(ne),X(J),m&&f(le),M&&M.d(m),m&&f(re),m&&f(V)}}}function Jt(l){let e=l[1].taskQueue+"",t;return{c(){t=Q(e)},l(n){t=W(n,e)},m(n,a){A(n,t,a)},p(n,a){a&2&&e!==(e=n[1].taskQueue+"")&&oe(t,e)},d(n){n&&f(t)}}}function ot(l){var o,c;let e,t,n,a,s,r,i;return r=new _t({props:{href:tt({namespace:l[1].parentNamespaceId,workflow:(o=l[1].parent)==null?void 0:o.workflowId,run:(c=l[1].parent)==null?void 0:c.runId}),$$slots:{default:[Yt]},$$scope:{ctx:l}}}),{c(){e=p("p"),t=p("span"),n=Q("Parent:"),a=T(),s=p("span"),Y(r.$$.fragment),this.h()},l(k){e=_(k,"P",{class:!0});var g=d(e);t=_(g,"SPAN",{class:!0});var C=d(t);n=W(C,"Parent:"),C.forEach(f),a=E(g),s=_(g,"SPAN",{class:!0});var $=d(s);G(r.$$.fragment,$),$.forEach(f),g.forEach(f),this.h()},h(){h(t,"class","font-medium"),h(s,"class","ml-1"),h(e,"class","text-md")},m(k,g){A(k,e,g),u(e,t),u(t,n),u(e,a),u(e,s),z(r,s,null),i=!0},p(k,g){var $,B;const C={};g&2&&(C.href=tt({namespace:k[1].parentNamespaceId,workflow:($=k[1].parent)==null?void 0:$.workflowId,run:(B=k[1].parent)==null?void 0:B.runId})),g&66&&(C.$$scope={dirty:g,ctx:k}),r.$set(C)},i(k){i||(I(r.$$.fragment,k),i=!0)},o(k){N(r.$$.fragment,k),i=!1},d(k){k&&f(e),X(r)}}}function Yt(l){var n;let e=((n=l[1].parent)==null?void 0:n.workflowId)+"",t;return{c(){t=Q(e)},l(a){t=W(a,e)},m(a,s){A(a,t,s)},p(a,s){var r;s&2&&e!==(e=((r=a[1].parent)==null?void 0:r.workflowId)+"")&&oe(t,e)},d(a){a&&f(t)}}}function Gt(l){var ae,te,ce,me,ne;let e,t,n,a,s,r,i,o,c,k=l[1].id+"",g,C,$,B,D,j,P,O,x,q,U,R,ee,F,v,b,H,K;a=new it({props:{icon:wt}}),$=new vt({props:{status:(ae=l[1])==null?void 0:ae.status}}),D=new Ut({props:{workflow:l[1],namespace:l[0]}}),O=new $e({props:{label:"History",href:mt(l[4]),amount:(te=l[1])==null?void 0:te.historyEvents}}),q=new $e({props:{label:"Workers",href:pt(l[4]),amount:(me=(ce=l[2])==null?void 0:ce.pollers)==null?void 0:me.length}}),R=new $e({props:{label:"Pending Activities",href:bt(l[4]),amount:(ne=l[1].pendingActivities)==null?void 0:ne.length}}),F=new $e({props:{label:"Stack Trace",href:Tt(l[4])}}),b=new $e({props:{label:"Queries",href:Et(l[4])}});let S=l[3]&&rt(l);return{c(){e=p("header"),t=p("main"),n=p("a"),Y(a.$$.fragment),r=T(),i=p("div"),o=p("h1"),c=p("span"),g=Q(k),C=T(),Y($.$$.fragment),B=T(),Y(D.$$.fragment),j=T(),P=p("nav"),Y(O.$$.fragment),x=T(),Y(q.$$.fragment),U=T(),Y(R.$$.fragment),ee=T(),Y(F.$$.fragment),v=T(),Y(b.$$.fragment),H=T(),S&&S.c(),this.h()},l(w){e=_(w,"HEADER",{class:!0});var L=d(e);t=_(L,"MAIN",{class:!0});var Z=d(t);n=_(Z,"A",{href:!0,class:!0,style:!0});var se=d(n);G(a.$$.fragment,se),se.forEach(f),r=E(Z),i=_(Z,"DIV",{class:!0});var J=d(i);o=_(J,"H1",{class:!0});var le=d(o);c=_(le,"SPAN",{class:!0});var re=d(c);g=W(re,k),re.forEach(f),C=E(le),G($.$$.fragment,le),le.forEach(f),B=E(J),G(D.$$.fragment,J),J.forEach(f),j=E(Z),P=_(Z,"NAV",{class:!0});var V=d(P);G(O.$$.fragment,V),x=E(V),G(q.$$.fragment,V),U=E(V),G(R.$$.fragment,V),ee=E(V),G(F.$$.fragment,V),v=E(V),G(b.$$.fragment,V),V.forEach(f),H=E(Z),S&&S.l(Z),Z.forEach(f),L.forEach(f),this.h()},h(){h(n,"href",s="/namespaces/"+l[0]+"/workflows"),h(n,"class","absolute top-2 back-to-workflows"),kt(n,"left","-1.5rem"),h(c,"class","font-medium"),h(o,"class","text-2xl relative"),h(i,"class","flex justify-between items-center mb-8"),h(P,"class","flex gap-6 mb-6"),h(t,"class","flex flex-col gap-1 relative"),h(e,"class","flex flex-col gap-4")},m(w,L){A(w,e,L),u(e,t),u(t,n),z(a,n,null),u(t,r),u(t,i),u(i,o),u(o,c),u(c,g),u(o,C),z($,o,null),u(i,B),z(D,i,null),u(t,j),u(t,P),z(O,P,null),u(P,x),z(q,P,null),u(P,U),z(R,P,null),u(P,ee),z(F,P,null),u(P,v),z(b,P,null),u(t,H),S&&S.m(t,null),K=!0},p(w,[L]){var V,fe,_e,he,ie;(!K||L&1&&s!==(s="/namespaces/"+w[0]+"/workflows"))&&h(n,"href",s),(!K||L&2)&&k!==(k=w[1].id+"")&&oe(g,k);const Z={};L&2&&(Z.status=(V=w[1])==null?void 0:V.status),$.$set(Z);const se={};L&2&&(se.workflow=w[1]),L&1&&(se.namespace=w[0]),D.$set(se);const J={};L&2&&(J.amount=(fe=w[1])==null?void 0:fe.historyEvents),O.$set(J);const le={};L&4&&(le.amount=(he=(_e=w[2])==null?void 0:_e.pollers)==null?void 0:he.length),q.$set(le);const re={};L&2&&(re.amount=(ie=w[1].pendingActivities)==null?void 0:ie.length),R.$set(re),w[3]?S?(S.p(w,L),L&8&&I(S,1)):(S=rt(w),S.c(),I(S,1),S.m(t,null)):S&&(Ce(),N(S,1,1,()=>{S=null}),Qe())},i(w){K||(I(a.$$.fragment,w),I($.$$.fragment,w),I(D.$$.fragment,w),I(O.$$.fragment,w),I(q.$$.fragment,w),I(R.$$.fragment,w),I(F.$$.fragment,w),I(b.$$.fragment,w),I(S),K=!0)},o(w){N(a.$$.fragment,w),N($.$$.fragment,w),N(D.$$.fragment,w),N(O.$$.fragment,w),N(q.$$.fragment,w),N(R.$$.fragment,w),N(F.$$.fragment,w),N(b.$$.fragment,w),N(S),K=!1},d(w){w&&f(e),X(a),X($),X(D),X(O),X(q),X(R),X(F),X(b),S&&S.d()}}}function zt(l,e,t){let n,a;ut(l,ct,c=>t(5,a=c));let{namespace:s}=e,{workflow:r}=e,{workers:i}=e;const o={namespace:s,workflow:r.id,run:r.runId};return l.$$set=c=>{"namespace"in c&&t(0,s=c.namespace),"workflow"in c&&t(1,r=c.workflow),"workers"in c&&t(2,i=c.workers)},l.$$.update=()=>{l.$$.dirty&32&&t(3,n=a.url.pathname.includes(mt(o)))},[s,r,i,n,o,a]}class Xt extends ve{constructor(e){super();ge(this,e,zt,Gt,be,{namespace:0,workflow:1,workers:2})}}function Zt(l){let e,t,n,a;t=new Xt({props:{namespace:l[1],workflow:l[0],workers:l[2]}});const s=l[4].default,r=Ve(s,l,l[3],null);return{c(){e=p("main"),Y(t.$$.fragment),n=T(),r&&r.c(),this.h()},l(i){e=_(i,"MAIN",{class:!0});var o=d(e);G(t.$$.fragment,o),n=E(o),r&&r.l(o),o.forEach(f),this.h()},h(){h(e,"class","flex flex-col gap-6 h-full")},m(i,o){A(i,e,o),z(t,e,null),u(e,n),r&&r.m(e,null),a=!0},p(i,[o]){const c={};o&2&&(c.namespace=i[1]),o&1&&(c.workflow=i[0]),o&4&&(c.workers=i[2]),t.$set(c),r&&r.p&&(!a||o&8)&&We(r,s,i,i[3],a?Fe(s,i[3],o,null):De(i[3]),null)},i(i){a||(I(t.$$.fragment,i),I(r,i),a=!0)},o(i){N(t.$$.fragment,i),N(r,i),a=!1},d(i){i&&f(e),X(t),r&&r.d(i)}}}const ms=async function({params:l,fetch:e}){const{workflow:t,run:n,namespace:a}=l,r=await gt({namespace:a,executionId:t,runId:n},e),{taskQueue:i}=r,o=await At({queue:i,namespace:a});return{props:{workflow:r,namespace:a,workers:o},stuff:{workflow:r,workers:o}}};function xt(l,e,t){let{$$slots:n={},$$scope:a}=e,{workflow:s}=e,{namespace:r}=e,{workers:i}=e;return l.$$set=o=>{"workflow"in o&&t(0,s=o.workflow),"namespace"in o&&t(1,r=o.namespace),"workers"in o&&t(2,i=o.workers),"$$scope"in o&&t(3,a=o.$$scope)},[s,r,i,a,n]}class ps extends ve{constructor(e){super();ge(this,e,xt,Zt,be,{workflow:0,namespace:1,workers:2})}}export{ps as default,ms as load};
