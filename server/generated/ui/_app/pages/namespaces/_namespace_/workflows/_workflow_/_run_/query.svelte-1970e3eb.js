import{S as N,i as j,s as x,ai as A,e as b,c as v,a as w,d as m,g as h,aj as G,q as _,o as d,w as y,x as E,y as T,O as I,B as q,P as H,Q as K,aK as z,k as R,m as S,b as C,G as k,R as F,t as O,h as Q,l as L,n as J,p as M,T as U}from"../../../../../../chunks/vendor-c58cc9e7.js";import{a as W,b as X}from"../../../../../../chunks/query-service-730b212c.js";import{C as Y}from"../../../../../../chunks/code-block-2063241b.js";import{S as Z,O as ee}from"../../../../../../chunks/select-0e194110.js";import{E as te}from"../../../../../../chunks/empty-state-e72ccb43.js";import{B as ne}from"../../../../../../chunks/button-0d1aab5a.js";import"../../../../../../chunks/route-for-api-1896b816.js";import"../../../../../../chunks/navigation-2df0726c.js";import"../../../../../../chunks/singletons-a6a7384f.js";import"../../../../../../chunks/notifications-ac094b56.js";import"../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../chunks/atob-5f9d7101.js";function P(c,t,n){const e=c.slice();return e[9]=t[n],e}function oe(c){let t,n;return t=new te({props:{title:"An Error Occurred",content:"Please make sure you have at least one worker running."}}),{c(){y(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,o){T(t,e,o),n=!0},p:I,i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function le(c){let t,n,e,o,l,r,s,a,p;function $(i){c[6](i)}let f={label:"Query Type",$$slots:{default:[re]},$$scope:{ctx:c}};return c[0]!==void 0&&(f.value=c[0]),n=new Z({props:f}),H.push(()=>K(n,"value",$)),l=new ne({props:{icon:z,loading:ue,$$slots:{default:[se]},$$scope:{ctx:c}}}),l.$on("click",c[7]),a=new Y({props:{content:c[1]}}),{c(){t=b("div"),y(n.$$.fragment),o=R(),y(l.$$.fragment),r=R(),s=b("div"),y(a.$$.fragment),this.h()},l(i){t=v(i,"DIV",{class:!0});var u=w(t);E(n.$$.fragment,u),o=S(u),E(l.$$.fragment,u),u.forEach(m),r=S(i),s=v(i,"DIV",{class:!0});var g=w(s);E(a.$$.fragment,g),g.forEach(m),this.h()},h(){C(t,"class","flex items-center gap-4"),C(s,"class","flex items-start h-full")},m(i,u){h(i,t,u),T(n,t,null),k(t,o),T(l,t,null),h(i,r,u),h(i,s,u),T(a,s,null),p=!0},p(i,u){const g={};u&4096&&(g.$$scope={dirty:u,ctx:i}),!e&&u&1&&(e=!0,g.value=i[0],F(()=>e=!1)),n.$set(g);const B={};u&4096&&(B.$$scope={dirty:u,ctx:i}),l.$set(B);const D={};u&2&&(D.content=i[1]),a.$set(D)},i(i){p||(_(n.$$.fragment,i),_(l.$$.fragment,i),_(a.$$.fragment,i),p=!0)},o(i){d(n.$$.fragment,i),d(l.$$.fragment,i),d(a.$$.fragment,i),p=!1},d(i){i&&m(t),q(n),q(l),i&&m(r),i&&m(s),q(a)}}}function ae(c){let t=c[9]+"",n;return{c(){n=O(t)},l(e){n=Q(e,t)},m(e,o){h(e,n,o)},p:I,d(e){e&&m(n)}}}function V(c){let t,n;return t=new ee({props:{value:c[9],$$slots:{default:[ae]},$$scope:{ctx:c}}}),{c(){y(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,o){T(t,e,o),n=!0},p(e,o){const l={};o&4096&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function re(c){let t,n,e=c[8],o=[];for(let r=0;r<e.length;r+=1)o[r]=V(P(c,e,r));const l=r=>d(o[r],1,1,()=>{o[r]=null});return{c(){for(let r=0;r<o.length;r+=1)o[r].c();t=L()},l(r){for(let s=0;s<o.length;s+=1)o[s].l(r);t=L()},m(r,s){for(let a=0;a<o.length;a+=1)o[a].m(r,s);h(r,t,s),n=!0},p(r,s){if(s&4){e=r[8];let a;for(a=0;a<e.length;a+=1){const p=P(r,e,a);o[a]?(o[a].p(p,s),_(o[a],1)):(o[a]=V(p),o[a].c(),_(o[a],1),o[a].m(t.parentNode,t))}for(J(),a=e.length;a<o.length;a+=1)l(a);M()}},i(r){if(!n){for(let s=0;s<e.length;s+=1)_(o[s]);n=!0}},o(r){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)d(o[s]);n=!1},d(r){U(o,r),r&&m(t)}}}function se(c){let t;return{c(){t=O("Refresh")},l(n){t=Q(n,"Refresh")},m(n,e){h(n,t,e)},d(n){n&&m(t)}}}function ce(c){let t,n,e,o,l,r;return{c(){t=b("div"),n=b("h2"),e=O("Loading\u2026"),o=R(),l=b("p"),r=O("(This will fail if you have no workers running.)"),this.h()},l(s){t=v(s,"DIV",{class:!0});var a=w(t);n=v(a,"H2",{class:!0});var p=w(n);e=Q(p,"Loading\u2026"),p.forEach(m),o=S(a),l=v(a,"P",{});var $=w(l);r=Q($,"(This will fail if you have no workers running.)"),$.forEach(m),a.forEach(m),this.h()},h(){C(n,"class","font-bold text-2xl mb-4"),C(t,"class","text-center")},m(s,a){h(s,t,a),k(t,n),k(n,e),k(t,o),k(t,l),k(l,r)},p:I,i:I,o:I,d(s){s&&m(t)}}}function ie(c){let t,n,e={ctx:c,current:null,token:null,hasCatch:!0,pending:ce,then:le,catch:oe,value:8,blocks:[,,,]};return A(c[2],e),{c(){t=b("section"),e.block.c()},l(o){t=v(o,"SECTION",{});var l=w(t);e.block.l(l),l.forEach(m)},m(o,l){h(o,t,l),e.block.m(t,e.anchor=null),e.mount=()=>t,e.anchor=null,n=!0},p(o,[l]){c=o,G(e,c,l)},i(o){n||(_(e.block),n=!0)},o(o){for(let l=0;l<3;l+=1){const r=e.blocks[l];d(r)}n=!1},d(o){o&&m(t),e.block.d(),e.token=null,e=null}}}const Ee=async function({params:c,stuff:t}){const{namespace:n}=c,{workflow:e}=t;return{props:{namespace:n,workflow:{id:e.id,runId:e.runId}}}};let ue=!1;function fe(c,t,n){let{namespace:e}=t,{workflow:o}=t,l,r=W({namespace:e,workflow:o}).then(f=>(n(0,l=l||f[0]),f)),s;const a=async f=>{n(1,s=await X({namespace:e,workflow:o,queryType:f}))};function p(f){l=f,n(0,l)}const $=()=>a(l);return c.$$set=f=>{"namespace"in f&&n(4,e=f.namespace),"workflow"in f&&n(5,o=f.workflow)},c.$$.update=()=>{c.$$.dirty&1&&l&&a(l)},[l,s,r,a,e,o,p,$]}class Te extends N{constructor(t){super();j(this,t,fe,ie,x,{namespace:4,workflow:5})}}export{Te as default,Ee as load};
