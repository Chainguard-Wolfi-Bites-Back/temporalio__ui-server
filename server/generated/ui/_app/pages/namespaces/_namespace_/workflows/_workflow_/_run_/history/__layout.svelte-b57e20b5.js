import{S as $e,i as ge,s as he,e as g,t as O,k as C,w as D,c as h,a as w,h as j,d as m,m as S,x as A,b as k,g as H,M as c,y as V,n as we,a8 as Le,ah as Re,p as ke,q as v,o as b,B as W,l as ye,N as Se,v as ze,ai as Je,E as me,j as Te,I as Ue,J as Me,K as Qe,L as qe,aj as Be,aa as Ie}from"../../../../../../../chunks/index-6f949d33.js";import{g as Ge,f as Ke,k as Ae,e as be}from"../../../../../../../chunks/route-for-9a2d1abe.js";import{F as Xe,h as Ye,i as Ze,j as xe,k as et}from"../../../../../../../chunks/index.es-2106a8ff.js";import{f as _e}from"../../../../../../../chunks/format-date-4b1bc9ef.js";import{e as Ee}from"../../../../../../../chunks/event-view-e934a955.js";import{e as tt,c as rt}from"../../../../../../../chunks/events-38d9de31.js";import{T as nt,a as Ce}from"../../../../../../../chunks/toggle-buttons-df759686.js";import{p as lt}from"../../../../../../../chunks/stores-e4f64366.js";import{L as Fe}from"../../../../../../../chunks/link-d366f910.js";import{C as He}from"../../../../../../../chunks/copyable-800bc2cf.js";import{E as ot}from"../../../../../../../chunks/empty-state-aa8c1a48.js";import{i as st}from"../../../../../../../chunks/index-8821dfb5.js";import{c as at}from"../../../../../../../chunks/format-camel-case-abb2903d.js";import{C as it}from"../../../../../../../chunks/code-block-bab2ec39.js";import"../../../../../../../chunks/index-8e6fc7ce.js";import"../../../../../../../chunks/persist-store-aa0162b2.js";import"../../../../../../../chunks/events-service-b41a130d.js";import"../../../../../../../chunks/route-for-api-21f89b30.js";import"../../../../../../../chunks/notifications-8df92a3f.js";import"../../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../../chunks/index-182fbd7a.js";import"../../../../../../../chunks/is-http-4b214bf2.js";import"../../../../../../../chunks/data-converter-config-37d2d147.js";import"../../../../../../../chunks/atob-eb4fc9a1.js";import"../../../../../../../chunks/get-event-categorization-20095c1b.js";import"../../../../../../../chunks/simplify-attributes-6710d3ed.js";import"../../../../../../../chunks/with-loading-22689bcc.js";function Ve(l,e,t){const r=l.slice();return r[6]=e[t].id,r[7]=Je(e[t],["id"]),r}function ft(l){let e,t,r,n,s,a=[],o=new Map,i,$,p,y,_=l[0];const E=f=>f[6];for(let f=0;f<_.length;f+=1){let d=Ve(l,_,f),I=E(d);o.set(I,a[f]=We(I,d))}return p=new Fe({props:{href:l[1],$$slots:{default:[dt]},$$scope:{ctx:l}}}),{c(){e=g("section"),t=g("h3"),r=O("Pending Activities"),n=C(),s=g("section");for(let f=0;f<a.length;f+=1)a[f].c();i=C(),$=g("div"),D(p.$$.fragment),this.h()},l(f){e=h(f,"SECTION",{class:!0});var d=w(e);t=h(d,"H3",{class:!0});var I=w(t);r=j(I,"Pending Activities"),I.forEach(m),n=S(d),s=h(d,"SECTION",{class:!0});var P=w(s);for(let F=0;F<a.length;F+=1)a[F].l(P);P.forEach(m),i=S(d),$=h(d,"DIV",{class:!0});var z=w($);A(p.$$.fragment,z),z.forEach(m),d.forEach(m),this.h()},h(){k(t,"class","text-lg font-medium mb-4"),k(s,"class","w-full table-auto space-x-4"),k($,"class","text-right"),k(e,"class","border-2 border-gray-300 rounded-lg p-4")},m(f,d){H(f,e,d),c(e,t),c(t,r),c(e,n),c(e,s);for(let I=0;I<a.length;I+=1)a[I].m(s,null);c(e,i),c(e,$),V(p,$,null),y=!0},p(f,d){d&3&&(_=f[0],we(),a=Le(a,d,E,1,f,_,o,s,Re,We,null,Ve),ke());const I={};d&1024&&(I.$$scope={dirty:d,ctx:f}),p.$set(I)},i(f){if(!y){for(let d=0;d<_.length;d+=1)v(a[d]);v(p.$$.fragment,f),y=!0}},o(f){for(let d=0;d<a.length;d+=1)b(a[d]);b(p.$$.fragment,f),y=!1},d(f){f&&m(e);for(let d=0;d<a.length;d+=1)a[d].d();W(p)}}}function ct(l){let e,t;return{c(){e=g("span"),t=O("(Empty)"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=w(e);t=j(n,"(Empty)"),n.forEach(m),this.h()},h(){k(e,"class","bg-gray-300 text-gray-700 px-2 text-sm")},m(r,n){H(r,e,n),c(e,t)},p:me,i:me,o:me,d(r){r&&m(e)}}}function ut(l){var r;let e,t;return e=new He({props:{content:(r=l[7].lastFailure)==null?void 0:r.message,"container-class":"overflow-y-scroll",$$slots:{default:[mt]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,s){V(e,n,s),t=!0},p(n,s){const a={};s&1024&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function mt(l){var s;let e,t,r=((s=l[7].lastFailure)==null?void 0:s.message)+"",n;return{c(){e=g("pre"),t=g("code"),n=O(r),this.h()},l(a){e=h(a,"PRE",{class:!0});var o=w(e);t=h(o,"CODE",{class:!0});var i=w(t);n=j(i,r),i.forEach(m),o.forEach(m),this.h()},h(){k(t,"class","language-json"),k(e,"class","rounded-lg max-w-fit")},m(a,o){H(a,e,o),c(e,t),c(t,n)},p:me,d(a){a&&m(e)}}}function We(l,e){let t,r,n=e[7].activityId+"",s,a,o,i,$,p,y,_,E,f=e[7].activityType+"",d,I,P,z,F,G,ae,Q,Z,K,x,R,U,ee,ie,oe,te=_e(e[7].lastHeartbeatTime)+"",q,fe,X;const N=[ut,ct],ce=[];function J(M,u){return M[7].lastFailure?0:1}return Q=J(e),Z=ce[Q]=N[Q](e),{key:l,first:null,c(){t=g("a"),r=g("div"),s=O(n),a=C(),o=g("div"),i=g("div"),$=g("h4"),p=O("Activity Name"),y=C(),_=g("p"),E=g("span"),d=O(f),I=C(),P=g("div"),z=g("div"),F=g("h3"),G=O("Last Failure"),ae=C(),Z.c(),K=C(),x=g("div"),R=g("div"),U=g("h4"),ee=O("Last Heartbeat Time"),ie=C(),oe=g("p"),q=O(te),fe=C(),this.h()},l(M){t=h(M,"A",{class:!0,href:!0});var u=w(t);r=h(u,"DIV",{class:!0});var T=w(r);s=j(T,n),T.forEach(m),a=S(u),o=h(u,"DIV",{class:!0});var L=w(o);i=h(L,"DIV",{class:!0});var B=w(i);$=h(B,"H4",{});var re=w($);p=j(re,"Activity Name"),re.forEach(m),y=S(B),_=h(B,"P",{});var ne=w(_);E=h(ne,"SPAN",{class:!0});var le=w(E);d=j(le,f),le.forEach(m),ne.forEach(m),B.forEach(m),L.forEach(m),I=S(u),P=h(u,"DIV",{class:!0});var se=w(P);z=h(se,"DIV",{class:!0});var Y=w(z);F=h(Y,"H3",{class:!0});var de=w(F);G=j(de,"Last Failure"),de.forEach(m),ae=S(Y),Z.l(Y),Y.forEach(m),se.forEach(m),K=S(u),x=h(u,"DIV",{class:!0});var pe=w(x);R=h(pe,"DIV",{class:!0});var ve=w(R);U=h(ve,"H4",{});var Ne=w(U);ee=j(Ne,"Last Heartbeat Time"),Ne.forEach(m),ie=S(ve),oe=h(ve,"P",{});var De=w(oe);q=j(De,te),De.forEach(m),ve.forEach(m),pe.forEach(m),fe=S(u),u.forEach(m),this.h()},h(){k(r,"class","md:w-1/12 text-left font-normal text-gray-500 w-40"),k(E,"class","bg-gray-300 text-gray-700 px-2 text-sm"),k(i,"class","flex gap-2 items-center"),k(o,"class","w-full md:w-1/4"),k(F,"class","whitespace-nowrap"),k(z,"class","flex gap-2 items-center"),k(P,"class","w-full md:w-5/12"),k(R,"class","flex gap-2"),k(x,"class","w-full md:w-1/4"),k(t,"class","block md:flex content-between w-full border-b-2 border-gray-300 p-2 last-of-type:border-b-0 hover:bg-gray-50 gap-4 items-center"),k(t,"href",e[1]),this.first=t},m(M,u){H(M,t,u),c(t,r),c(r,s),c(t,a),c(t,o),c(o,i),c(i,$),c($,p),c(i,y),c(i,_),c(_,E),c(E,d),c(t,I),c(t,P),c(P,z),c(z,F),c(F,G),c(z,ae),ce[Q].m(z,null),c(t,K),c(t,x),c(x,R),c(R,U),c(U,ee),c(R,ie),c(R,oe),c(oe,q),c(t,fe),X=!0},p(M,u){e=M,Z.p(e,u)},i(M){X||(v(Z),X=!0)},o(M){b(Z),X=!1},d(M){M&&m(t),ce[Q].d()}}}function dt(l){let e;return{c(){e=O("Show all")},l(t){e=j(t,"Show all")},m(t,r){H(t,e,r)},d(t){t&&m(e)}}}function pt(l){let e,t,r=l[0].length&&ft(l);return{c(){r&&r.c(),e=ye()},l(n){r&&r.l(n),e=ye()},m(n,s){r&&r.m(n,s),H(n,e,s),t=!0},p(n,[s]){n[0].length&&r.p(n,s)},i(n){t||(v(r),t=!0)},o(n){b(r),t=!1},d(n){r&&r.d(n),n&&m(e)}}}function _t(l,e,t){let r;Se(l,lt,$=>t(2,r=$));const{pendingActivities:n}=r.stuff.workflow,{namespace:s,workflow:a,run:o}=r.params,i=Ge({namespace:s,workflow:a,run:o});return ze(()=>{window.Prism.highlightAll()}),[n,i]}class $t extends $e{constructor(e){super(),ge(this,e,_t,pt,he,{})}}function Pe(l){let e,t,r;return t=new ot({props:{title:"An Error Occured",content:"Please make sure you have at least one worker running.",class:"my-0"}}),{c(){e=g("section"),D(t.$$.fragment),this.h()},l(n){e=h(n,"SECTION",{class:!0});var s=w(e);A(t.$$.fragment,s),s.forEach(m),this.h()},h(){k(e,"class","stack-trace svelte-wcmxvi")},m(n,s){H(n,e,s),V(t,e,null),r=!0},i(n){r||(v(t.$$.fragment,n),r=!0)},o(n){b(t.$$.fragment,n),r=!1},d(n){n&&m(e),W(t)}}}function gt(l){let e,t,r=l[0]&&Pe();return{c(){r&&r.c(),e=ye()},l(n){r&&r.l(n),e=ye()},m(n,s){r&&r.m(n,s),H(n,e,s),t=!0},p(n,[s]){n[0]?r?s&1&&v(r,1):(r=Pe(),r.c(),v(r,1),r.m(e.parentNode,e)):r&&(we(),b(r,1,1,()=>{r=null}),ke())},i(n){t||(v(r),t=!0)},o(n){b(r),t=!1},d(n){r&&r.d(n),n&&m(e)}}}function ht(l,e,t){let r;var n;let{workflow:s}=e,{workers:a}=e;return l.$$set=o=>{"workflow"in o&&t(1,s=o.workflow),"workers"in o&&t(2,a=o.workers)},l.$$.update=()=>{l.$$.dirty&14&&t(0,r=s.isRunning&&!(!(t(3,n=a==null?void 0:a.pollers)===null||n===void 0)&&n.length))},[r,s,a,n]}class wt extends $e{constructor(e){super(),ge(this,e,ht,gt,he,{workflow:1,workers:2})}}const kt=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],vt=l=>{for(const e of kt)if(l.eventType===e)return!0;return!1},bt=l=>{for(const e of l)if(vt(e))return e},Et=l=>st(l)?l.attributes.result===null?null:l.attributes.result.payloads:l.attributes,yt=l=>{var s,a,o;let e,t;const r=l==null?void 0:l.find(i=>!!i.workflowExecutionStartedEventAttributes),n=bt(l);return r&&(e=JSON.stringify((o=(a=(s=r==null?void 0:r.workflowExecutionStartedEventAttributes)==null?void 0:s.input)==null?void 0:a.payloads)!=null?o:null)),n&&(t=JSON.stringify(Et(n))),{input:e,results:t}};function Tt(l){let e,t,r,n,s,a,o;return r=new Xe({props:{icon:Ye,scale:1.2,class:"block w-full h-full animate-spin"}}),{c(){e=g("div"),t=g("div"),D(r.$$.fragment),n=C(),s=g("h2"),a=O("In progress\u2026"),this.h()},l(i){e=h(i,"DIV",{class:!0});var $=w(e);t=h($,"DIV",{class:!0});var p=w(t);A(r.$$.fragment,p),p.forEach(m),n=S($),s=h($,"H2",{class:!0});var y=w(s);a=j(y,"In progress\u2026"),y.forEach(m),$.forEach(m),this.h()},h(){k(t,"class","flex rounded-full items-center justify-center w-16 h-16 bg-gray-200"),k(s,"class","text-xl font-medium"),k(e,"class","my-12 flex flex-col justify-start items-center gap-2")},m(i,$){H(i,e,$),c(e,t),V(r,t,null),c(e,n),c(e,s),c(s,a),o=!0},p:me,i(i){o||(v(r.$$.fragment,i),o=!0)},o(i){b(r.$$.fragment,i),o=!1},d(i){i&&m(e),W(r)}}}function It(l){let e,t;return e=new it({props:{content:l[1],class:"mb-2 max-h-96"}}),{c(){D(e.$$.fragment)},l(r){A(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const s={};n&2&&(s.content=r[1]),e.$set(s)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function Ct(l){let e,t,r,n,s,a,o,i;const $=[It,Tt],p=[];function y(_,E){return _[1]?0:1}return s=y(l),a=p[s]=$[s](l),{c(){e=g("article"),t=g("h3"),r=O(l[2]),n=C(),a.c(),this.h()},l(_){e=h(_,"ARTICLE",{class:!0,"data-cy":!0});var E=w(e);t=h(E,"H3",{class:!0});var f=w(t);r=j(f,l[2]),f.forEach(m),n=S(E),a.l(E),E.forEach(m),this.h()},h(){k(t,"class","text-lg"),k(e,"class","flex flex-col border-2 border-gray-300 p-4 rounded-lg w-full lg:w-1/2"),k(e,"data-cy",o="workflow-"+l[0])},m(_,E){H(_,e,E),c(e,t),c(t,r),c(e,n),p[s].m(e,null),i=!0},p(_,[E]){(!i||E&4)&&Te(r,_[2]);let f=s;s=y(_),s===f?p[s].p(_,E):(we(),b(p[f],1,1,()=>{p[f]=null}),ke(),a=p[s],a?a.p(_,E):(a=p[s]=$[s](_),a.c()),v(a,1),a.m(e,null)),(!i||E&1&&o!==(o="workflow-"+_[0]))&&k(e,"data-cy",o)},i(_){i||(v(a),i=!0)},o(_){b(a),i=!1},d(_){_&&m(e),p[s].d()}}}function St(l,e,t){let r,n,s;Se(l,tt,o=>t(3,s=o));let{type:a}=e;return l.$$set=o=>{"type"in o&&t(0,a=o.type)},l.$$.update=()=>{l.$$.dirty&1&&t(2,r=at(a)),l.$$.dirty&9&&t(1,n=yt(s)[a])},[a,n,r,s]}class Oe extends $e{constructor(e){super(),ge(this,e,St,Ct,he,{type:0})}}function Nt(l){let e,t;return{c(){e=g("div"),t=O(l[1]),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=w(e);t=j(n,l[1]),n.forEach(m),this.h()},h(){k(e,"class","select-all")},m(r,n){H(r,e,n),c(e,t)},p(r,n){n&2&&Te(t,r[1])},i:me,o:me,d(r){r&&m(e)}}}function Dt(l){let e,t;return e=new He({props:{content:l[1],$$slots:{default:[Vt]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(r){A(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const s={};n&2&&(s.content=r[1]),n&22&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function At(l){let e;return{c(){e=O(l[1])},l(t){e=j(t,l[1])},m(t,r){H(t,e,r)},p(t,r){r&2&&Te(e,t[1])},d(t){t&&m(e)}}}function Vt(l){let e,t;return e=new Fe({props:{href:l[2],$$slots:{default:[At]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(r){A(e.$$.fragment,r)},m(r,n){V(e,r,n),t=!0},p(r,n){const s={};n&4&&(s.href=r[2]),n&18&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function Wt(l){let e,t,r,n,s,a,o,i,$,p;const y=[Dt,Nt],_=[];function E(f,d){return f[2]?0:1}return o=E(l),i=_[o]=y[o](l),{c(){e=g("article"),t=g("div"),r=O(l[0]),n=O(":"),s=C(),a=g("div"),i.c(),this.h()},l(f){e=h(f,"ARTICLE",{class:!0});var d=w(e);t=h(d,"DIV",{class:!0});var I=w(t);r=j(I,l[0]),n=j(I,":"),I.forEach(m),s=S(d),a=h(d,"DIV",{});var P=w(a);i.l(P),P.forEach(m),d.forEach(m),this.h()},h(){k(t,"class","font-medium"),k(e,"class",$="flex gap-2 text-"+l[3])},m(f,d){H(f,e,d),c(e,t),c(t,r),c(t,n),c(e,s),c(e,a),_[o].m(a,null),p=!0},p(f,[d]){(!p||d&1)&&Te(r,f[0]);let I=o;o=E(f),o===I?_[o].p(f,d):(we(),b(_[I],1,1,()=>{_[I]=null}),ke(),i=_[o],i?i.p(f,d):(i=_[o]=y[o](f),i.c()),v(i,1),i.m(a,null)),(!p||d&8&&$!==($="flex gap-2 text-"+f[3]))&&k(e,"class",$)},i(f){p||(v(i),p=!0)},o(f){b(i),p=!1},d(f){f&&m(e),_[o].d()}}}function Pt(l,e,t){let{title:r}=e,{content:n}=e,{href:s=null}=e,{textSize:a="md"}=e;return l.$$set=o=>{"title"in o&&t(0,r=o.title),"content"in o&&t(1,n=o.content),"href"in o&&t(2,s=o.href),"textSize"in o&&t(3,a=o.textSize)},[r,n,s,a]}class ue extends $e{constructor(e){super(),ge(this,e,Pt,Wt,he,{title:0,content:1,href:2,textSize:3})}}function je(l){var r,n,s;let e,t;return e=new ue({props:{title:"Parent",content:(r=l[1].parent)==null?void 0:r.workflowId,href:Ae({namespace:l[0],workflow:(n=l[1].parent)==null?void 0:n.workflowId,run:(s=l[1].parent)==null?void 0:s.runId})}}),{c(){D(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,o){V(e,a,o),t=!0},p(a,o){var $,p,y;const i={};o&2&&(i.content=($=a[1].parent)==null?void 0:$.workflowId),o&3&&(i.href=Ae({namespace:a[0],workflow:(p=a[1].parent)==null?void 0:p.workflowId,run:(y=a[1].parent)==null?void 0:y.runId})),e.$set(i)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){W(e,a)}}}function Ot(l){let e;return{c(){e=O("Timeline")},l(t){e=j(t,"Timeline")},m(t,r){H(t,e,r)},d(t){t&&m(e)}}}function jt(l){let e;return{c(){e=O("Compact")},l(t){e=j(t,"Compact")},m(t,r){H(t,e,r)},d(t){t&&m(e)}}}function Ft(l){let e;return{c(){e=O("JSON")},l(t){e=j(t,"JSON")},m(t,r){H(t,e,r)},d(t){t&&m(e)}}}function Ht(l){let e,t,r,n,s,a;return e=new Ce({props:{icon:Ze,base:be(l[4]("feed")),href:be(l[4]("feed")),active:l[3]==="feed","data-cy":"feed",$$slots:{default:[Ot]},$$scope:{ctx:l}}}),e.$on("click",l[7]),r=new Ce({props:{icon:xe,href:be(l[4]("compact")),active:l[3]==="compact","data-cy":"compact",$$slots:{default:[jt]},$$scope:{ctx:l}}}),r.$on("click",l[8]),s=new Ce({props:{icon:et,href:be(l[4]("json")),active:l[3]==="json","data-cy":"json",$$slots:{default:[Ft]},$$scope:{ctx:l}}}),s.$on("click",l[9]),{c(){D(e.$$.fragment),t=C(),D(r.$$.fragment),n=C(),D(s.$$.fragment)},l(o){A(e.$$.fragment,o),t=S(o),A(r.$$.fragment,o),n=S(o),A(s.$$.fragment,o)},m(o,i){V(e,o,i),H(o,t,i),V(r,o,i),H(o,n,i),V(s,o,i),a=!0},p(o,i){const $={};i&8&&($.active=o[3]==="feed"),i&1024&&($.$$scope={dirty:i,ctx:o}),e.$set($);const p={};i&8&&(p.active=o[3]==="compact"),i&1024&&(p.$$scope={dirty:i,ctx:o}),r.$set(p);const y={};i&8&&(y.active=o[3]==="json"),i&1024&&(y.$$scope={dirty:i,ctx:o}),s.$set(y)},i(o){a||(v(e.$$.fragment,o),v(r.$$.fragment,o),v(s.$$.fragment,o),a=!0)},o(o){b(e.$$.fragment,o),b(r.$$.fragment,o),b(s.$$.fragment,o),a=!1},d(o){W(e,o),o&&m(t),W(r,o),o&&m(n),W(s,o)}}}function Lt(l){var M;let e,t,r,n,s,a,o,i,$,p,y,_,E,f,d,I,P,z,F,G,ae,Q,Z,K,x,R,U,ee,ie,oe,te,q,fe,X;r=new ue({props:{title:"Workflow Type",content:l[1].name}}),s=new ue({props:{title:"Run ID",content:l[1].runId}}),i=new ue({props:{title:"Start Time",content:_e(l[1].startTime,"UTC")}}),p=new ue({props:{title:"Close Time",content:_e(l[1].endTime,"UTC")}}),_=new ue({props:{title:"Task Queue",content:l[1].taskQueue,href:Ke(l[5])}});let N=((M=l[1])==null?void 0:M.parent)&&je(l);d=new ue({props:{title:"State Transitions",content:l[1].stateTransitionCount}}),P=new wt({props:{workflow:l[1],workers:l[2]}}),G=new Oe({props:{type:"input"}}),Q=new Oe({props:{type:"results"}}),K=new $t({}),q=new nt({props:{$$slots:{default:[Ht]},$$scope:{ctx:l}}});const ce=l[6].default,J=Ue(ce,l,l[10],null);return{c(){e=g("section"),t=g("section"),D(r.$$.fragment),n=C(),D(s.$$.fragment),a=C(),o=g("div"),D(i.$$.fragment),$=C(),D(p.$$.fragment),y=C(),D(_.$$.fragment),E=C(),N&&N.c(),f=C(),D(d.$$.fragment),I=C(),D(P.$$.fragment),z=C(),F=g("section"),D(G.$$.fragment),ae=C(),D(Q.$$.fragment),Z=C(),D(K.$$.fragment),x=C(),R=g("section"),U=g("nav"),ee=g("h3"),ie=O("Recent Events"),oe=C(),te=g("div"),D(q.$$.fragment),fe=C(),J&&J.c(),this.h()},l(u){e=h(u,"SECTION",{class:!0});var T=w(e);t=h(T,"SECTION",{class:!0});var L=w(t);A(r.$$.fragment,L),n=S(L),A(s.$$.fragment,L),a=S(L),o=h(L,"DIV",{class:!0});var B=w(o);A(i.$$.fragment,B),$=S(B),A(p.$$.fragment,B),B.forEach(m),y=S(L),A(_.$$.fragment,L),E=S(L),N&&N.l(L),f=S(L),A(d.$$.fragment,L),L.forEach(m),I=S(T),A(P.$$.fragment,T),z=S(T),F=h(T,"SECTION",{class:!0});var re=w(F);A(G.$$.fragment,re),ae=S(re),A(Q.$$.fragment,re),re.forEach(m),Z=S(T),A(K.$$.fragment,T),x=S(T),R=h(T,"SECTION",{id:!0});var ne=w(R);U=h(ne,"NAV",{class:!0});var le=w(U);ee=h(le,"H3",{class:!0});var se=w(ee);ie=j(se,"Recent Events"),se.forEach(m),oe=S(le),te=h(le,"DIV",{id:!0,class:!0});var Y=w(te);A(q.$$.fragment,Y),Y.forEach(m),le.forEach(m),fe=S(ne),J&&J.l(ne),ne.forEach(m),T.forEach(m),this.h()},h(){k(o,"class","flex gap-1 flex-col md:flex-row md:gap-6"),k(t,"class","flex flex-col gap-1"),k(F,"class","flex gap-4 w-full flex-col lg:flex-row"),k(ee,"class","text-lg font-medium"),k(te,"id","event-view-toggle"),k(te,"class","flex gap-4"),k(U,"class","flex gap-4 justify-between items-end pb-4"),k(R,"id","event-history"),k(e,"class","flex flex-col gap-4")},m(u,T){H(u,e,T),c(e,t),V(r,t,null),c(t,n),V(s,t,null),c(t,a),c(t,o),V(i,o,null),c(o,$),V(p,o,null),c(t,y),V(_,t,null),c(t,E),N&&N.m(t,null),c(t,f),V(d,t,null),c(e,I),V(P,e,null),c(e,z),c(e,F),V(G,F,null),c(F,ae),V(Q,F,null),c(e,Z),V(K,e,null),c(e,x),c(e,R),c(R,U),c(U,ee),c(ee,ie),c(U,oe),c(U,te),V(q,te,null),c(R,fe),J&&J.m(R,null),X=!0},p(u,[T]){var pe;const L={};T&2&&(L.content=u[1].name),r.$set(L);const B={};T&2&&(B.content=u[1].runId),s.$set(B);const re={};T&2&&(re.content=_e(u[1].startTime,"UTC")),i.$set(re);const ne={};T&2&&(ne.content=_e(u[1].endTime,"UTC")),p.$set(ne);const le={};T&2&&(le.content=u[1].taskQueue),_.$set(le),(pe=u[1])!=null&&pe.parent?N?(N.p(u,T),T&2&&v(N,1)):(N=je(u),N.c(),v(N,1),N.m(t,f)):N&&(we(),b(N,1,1,()=>{N=null}),ke());const se={};T&2&&(se.content=u[1].stateTransitionCount),d.$set(se);const Y={};T&2&&(Y.workflow=u[1]),T&4&&(Y.workers=u[2]),P.$set(Y);const de={};T&1032&&(de.$$scope={dirty:T,ctx:u}),q.$set(de),J&&J.p&&(!X||T&1024)&&Me(J,ce,u,u[10],X?qe(ce,u[10],T,null):Qe(u[10]),null)},i(u){X||(v(r.$$.fragment,u),v(s.$$.fragment,u),v(i.$$.fragment,u),v(p.$$.fragment,u),v(_.$$.fragment,u),v(N),v(d.$$.fragment,u),v(P.$$.fragment,u),v(G.$$.fragment,u),v(Q.$$.fragment,u),v(K.$$.fragment,u),v(q.$$.fragment,u),v(J,u),X=!0)},o(u){b(r.$$.fragment,u),b(s.$$.fragment,u),b(i.$$.fragment,u),b(p.$$.fragment,u),b(_.$$.fragment,u),b(N),b(d.$$.fragment,u),b(P.$$.fragment,u),b(G.$$.fragment,u),b(Q.$$.fragment,u),b(K.$$.fragment,u),b(q.$$.fragment,u),b(J,u),X=!1},d(u){u&&m(e),W(r),W(s),W(i),W(p),W(_),N&&N.d(),W(d),W(P),W(G),W(Q),W(K),W(q),J&&J.d(u)}}}const pr=async function({params:l,stuff:e}){const{workflow:t,workers:r}=e,{namespace:n}=l;return{props:{namespace:n,workflow:t,workers:r}}};function Rt(l,e,t){let r;Se(l,Ee,f=>t(3,r=f));let{$$slots:n={},$$scope:s}=e,{namespace:a}=e,{workflow:o}=e,{workers:i}=e;const $=(f,d)=>({namespace:a,workflow:o.id,run:o.runId,view:f,eventId:d}),p={namespace:a,workflow:o.id,run:o.runId};Be(()=>{rt()});const y=()=>Ie(Ee,r="feed",r),_=()=>Ie(Ee,r="compact",r),E=()=>Ie(Ee,r="json",r);return l.$$set=f=>{"namespace"in f&&t(0,a=f.namespace),"workflow"in f&&t(1,o=f.workflow),"workers"in f&&t(2,i=f.workers),"$$scope"in f&&t(10,s=f.$$scope)},[a,o,i,r,$,p,n,y,_,E,s]}class _r extends $e{constructor(e){super(),ge(this,e,Rt,Lt,he,{namespace:0,workflow:1,workers:2})}}export{_r as default,pr as load};
