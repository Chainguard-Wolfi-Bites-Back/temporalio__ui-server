import{S as he,i as $e,s as we,e as h,t as P,k as I,w as V,c as $,a as w,h as W,d as u,m as C,x as A,b as v,g as F,M as i,y as D,n as ke,a3 as ze,ag as Ue,p as ve,q as k,o as b,B as O,l as de,O as He,v as Le,ah as qe,E as oe,ai as Ne,aj as Me,j as Te,I as Qe,J as Be,K as Ge,L as Ke}from"../../../../../../../chunks/index-1f23a7bf.js";import{a as Xe}from"../../../../../../../chunks/events-service-331fcd04.js";import{g as Ye,f as Ze,k as Ve,e as Ee}from"../../../../../../../chunks/route-for-6c8ee7a8.js";import{h as xe,i as et,j as tt}from"../../../../../../../chunks/index.es-5d8285d6.js";import{i as nt}from"../../../../../../../chunks/index-a8ee0a5c.js";import{f as ge}from"../../../../../../../chunks/format-date-4b1bc9ef.js";import{e as lt,s as Ie}from"../../../../../../../chunks/event-view-type-e2564729.js";import{T as rt,a as Ce}from"../../../../../../../chunks/toggle-buttons-b942a1a1.js";import{p as ot}from"../../../../../../../chunks/stores-38ca5327.js";import{L as Re}from"../../../../../../../chunks/link-631d8c99.js";import{C as je}from"../../../../../../../chunks/copyable-835c4769.js";import{g as st}from"../../../../../../../chunks/query-service-c1b652e8.js";import{E as at}from"../../../../../../../chunks/empty-state-24481113.js";import{C as Je}from"../../../../../../../chunks/code-block-04156ba2.js";import"../../../../../../../chunks/route-for-api-ecaff069.js";import"../../../../../../../chunks/index-0cc6fed7.js";import"../../../../../../../chunks/notifications-5ba321f4.js";import"../../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../../chunks/index-f69ce3ca.js";import"../../../../../../../chunks/data-converter-config-faf143ed.js";import"../../../../../../../chunks/persist-store-686552cf.js";import"../../../../../../../chunks/atob-5f9d7101.js";import"../../../../../../../chunks/get-event-categorization-b2bce139.js";import"../../../../../../../chunks/simplify-attributes-6710d3ed.js";const ft=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],it=o=>{for(const e of ft)if(o.eventType===e)return!0;return!1},ct=o=>{for(const e of o)if(it(e))return e},ut=o=>nt(o)?o.attributes.result===null?null:o.attributes.result.payloads:o.attributes,mt=o=>{var s,a;let e,t;const n=o==null?void 0:o.find(r=>!!r.workflowExecutionStartedEventAttributes),l=ct(o);return n&&(e=JSON.stringify((a=(s=n==null?void 0:n.workflowExecutionStartedEventAttributes)==null?void 0:s.input)==null?void 0:a.payloads)),l&&(t=JSON.stringify(ut(l))),{input:e,result:t}};function Ae(o,e,t){const n=o.slice();return n[6]=e[t].id,n[7]=qe(e[t],["id"]),n}function dt(o){let e,t,n,l,s,a=[],r=new Map,f,m,p,S,E=o[0];const L=_=>_[6];for(let _=0;_<E.length;_+=1){let d=Ae(o,E,_),g=L(d);r.set(g,a[_]=De(g,d))}return p=new Re({props:{href:o[1],$$slots:{default:[ht]},$$scope:{ctx:o}}}),{c(){e=h("section"),t=h("h3"),n=P("Pending Activities"),l=I(),s=h("section");for(let _=0;_<a.length;_+=1)a[_].c();f=I(),m=h("div"),V(p.$$.fragment),this.h()},l(_){e=$(_,"SECTION",{class:!0});var d=w(e);t=$(d,"H3",{class:!0});var g=w(t);n=W(g,"Pending Activities"),g.forEach(u),l=C(d),s=$(d,"SECTION",{class:!0});var y=w(s);for(let z=0;z<a.length;z+=1)a[z].l(y);y.forEach(u),f=C(d),m=$(d,"DIV",{class:!0});var H=w(m);A(p.$$.fragment,H),H.forEach(u),d.forEach(u),this.h()},h(){v(t,"class","text-lg font-medium mb-4"),v(s,"class","w-full table-auto space-x-4"),v(m,"class","text-right"),v(e,"class","border-2 border-gray-300 rounded-lg p-4")},m(_,d){F(_,e,d),i(e,t),i(t,n),i(e,l),i(e,s);for(let g=0;g<a.length;g+=1)a[g].m(s,null);i(e,f),i(e,m),D(p,m,null),S=!0},p(_,d){d&3&&(E=_[0],ke(),a=ze(a,d,L,1,_,E,r,s,Ue,De,null,Ae),ve());const g={};d&1024&&(g.$$scope={dirty:d,ctx:_}),p.$set(g)},i(_){if(!S){for(let d=0;d<E.length;d+=1)k(a[d]);k(p.$$.fragment,_),S=!0}},o(_){for(let d=0;d<a.length;d+=1)b(a[d]);b(p.$$.fragment,_),S=!1},d(_){_&&u(e);for(let d=0;d<a.length;d+=1)a[d].d();O(p)}}}function _t(o){let e,t;return{c(){e=h("span"),t=P("(Empty)"),this.h()},l(n){e=$(n,"SPAN",{class:!0});var l=w(e);t=W(l,"(Empty)"),l.forEach(u),this.h()},h(){v(e,"class","bg-gray-300 text-gray-700 px-2 text-sm")},m(n,l){F(n,e,l),i(e,t)},p:oe,i:oe,o:oe,d(n){n&&u(e)}}}function pt(o){var n;let e,t;return e=new je({props:{content:(n=o[7].lastFailure)==null?void 0:n.message,"container-class":"overflow-y-scroll",$$slots:{default:[gt]},$$scope:{ctx:o}}}),{c(){V(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,s){D(e,l,s),t=!0},p(l,s){const a={};s&1024&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){O(e,l)}}}function gt(o){var s;let e,t,n=((s=o[7].lastFailure)==null?void 0:s.message)+"",l;return{c(){e=h("pre"),t=h("code"),l=P(n),this.h()},l(a){e=$(a,"PRE",{class:!0});var r=w(e);t=$(r,"CODE",{class:!0});var f=w(t);l=W(f,n),f.forEach(u),r.forEach(u),this.h()},h(){v(t,"class","language-json"),v(e,"class","rounded-lg max-w-fit")},m(a,r){F(a,e,r),i(e,t),i(t,l)},p:oe,d(a){a&&u(e)}}}function De(o,e){let t,n,l=e[7].activityId+"",s,a,r,f,m,p,S,E,L,_=e[7].activityType+"",d,g,y,H,z,G,fe,U,Z,K,x,j,q,ee,ie,se,te=ge(e[7].lastHeartbeatTime)+"",Q,ce,X;const N=[pt,_t],ue=[];function J(M,c){return M[7].lastFailure?0:1}return U=J(e),Z=ue[U]=N[U](e),{key:o,first:null,c(){t=h("a"),n=h("div"),s=P(l),a=I(),r=h("div"),f=h("div"),m=h("h4"),p=P("Activity Name"),S=I(),E=h("p"),L=h("span"),d=P(_),g=I(),y=h("div"),H=h("div"),z=h("h3"),G=P("Last Failure"),fe=I(),Z.c(),K=I(),x=h("div"),j=h("div"),q=h("h4"),ee=P("Last Heartbeat Time"),ie=I(),se=h("p"),Q=P(te),ce=I(),this.h()},l(M){t=$(M,"A",{class:!0,href:!0});var c=w(t);n=$(c,"DIV",{class:!0});var T=w(n);s=W(T,l),T.forEach(u),a=C(c),r=$(c,"DIV",{class:!0});var R=w(r);f=$(R,"DIV",{class:!0});var B=w(f);m=$(B,"H4",{});var ne=w(m);p=W(ne,"Activity Name"),ne.forEach(u),S=C(B),E=$(B,"P",{});var le=w(E);L=$(le,"SPAN",{class:!0});var re=w(L);d=W(re,_),re.forEach(u),le.forEach(u),B.forEach(u),R.forEach(u),g=C(c),y=$(c,"DIV",{class:!0});var ae=w(y);H=$(ae,"DIV",{class:!0});var Y=w(H);z=$(Y,"H3",{class:!0});var _e=w(z);G=W(_e,"Last Failure"),_e.forEach(u),fe=C(Y),Z.l(Y),Y.forEach(u),ae.forEach(u),K=C(c),x=$(c,"DIV",{class:!0});var pe=w(x);j=$(pe,"DIV",{class:!0});var be=w(j);q=$(be,"H4",{});var Se=w(q);ee=W(Se,"Last Heartbeat Time"),Se.forEach(u),ie=C(be),se=$(be,"P",{});var ye=w(se);Q=W(ye,te),ye.forEach(u),be.forEach(u),pe.forEach(u),ce=C(c),c.forEach(u),this.h()},h(){v(n,"class","md:w-1/12 text-left font-normal text-gray-500 w-40"),v(L,"class","bg-gray-300 text-gray-700 px-2 text-sm"),v(f,"class","flex gap-2 items-center"),v(r,"class","w-full md:w-1/4"),v(z,"class","whitespace-nowrap"),v(H,"class","flex gap-2 items-center"),v(y,"class","w-full md:w-5/12"),v(j,"class","flex gap-2"),v(x,"class","w-full md:w-1/4"),v(t,"class","block md:flex content-between w-full border-b-2 border-gray-300 p-2 last-of-type:border-b-0 hover:bg-gray-50 gap-4 items-center"),v(t,"href",e[1]),this.first=t},m(M,c){F(M,t,c),i(t,n),i(n,s),i(t,a),i(t,r),i(r,f),i(f,m),i(m,p),i(f,S),i(f,E),i(E,L),i(L,d),i(t,g),i(t,y),i(y,H),i(H,z),i(z,G),i(H,fe),ue[U].m(H,null),i(t,K),i(t,x),i(x,j),i(j,q),i(q,ee),i(j,ie),i(j,se),i(se,Q),i(t,ce),X=!0},p(M,c){e=M,Z.p(e,c)},i(M){X||(k(Z),X=!0)},o(M){b(Z),X=!1},d(M){M&&u(t),ue[U].d()}}}function ht(o){let e;return{c(){e=P("Show all")},l(t){e=W(t,"Show all")},m(t,n){F(t,e,n)},d(t){t&&u(e)}}}function $t(o){let e,t,n=o[0].length&&dt(o);return{c(){n&&n.c(),e=de()},l(l){n&&n.l(l),e=de()},m(l,s){n&&n.m(l,s),F(l,e,s),t=!0},p(l,[s]){l[0].length&&n.p(l,s)},i(l){t||(k(n),t=!0)},o(l){b(n),t=!1},d(l){n&&n.d(l),l&&u(e)}}}function wt(o,e,t){let n;He(o,ot,m=>t(2,n=m));const{pendingActivities:l}=n.stuff.workflow,{namespace:s,workflow:a,run:r}=n.params,f=Ye({namespace:s,workflow:a,run:r});return Le(()=>{window.Prism.highlightAll()}),[l,f]}class kt extends he{constructor(e){super(),$e(this,e,wt,$t,we,{})}}function Oe(o){let e,t,n,l,s,a,r={ctx:o,current:null,token:null,hasCatch:!0,pending:Et,then:bt,catch:vt,value:3,error:4,blocks:[,,,]};return Ne(s=o[1],r),{c(){e=h("section"),t=h("h3"),n=P("Stack Trace"),l=I(),r.block.c(),this.h()},l(f){e=$(f,"SECTION",{class:!0});var m=w(e);t=$(m,"H3",{class:!0});var p=w(t);n=W(p,"Stack Trace"),p.forEach(u),l=C(m),r.block.l(m),m.forEach(u),this.h()},h(){v(t,"class","text-lg mb-2 w-full"),v(e,"class","stack-trace svelte-18yyc2q")},m(f,m){F(f,e,m),i(e,t),i(t,n),i(e,l),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,a=!0},p(f,m){o=f,r.ctx=o,m&2&&s!==(s=o[1])&&Ne(s,r)||Me(r,o,m)},i(f){a||(k(r.block),a=!0)},o(f){for(let m=0;m<3;m+=1){const p=r.blocks[m];b(p)}a=!1},d(f){f&&u(e),r.block.d(),r.token=null,r=null}}}function vt(o){let e,t;return e=new at({props:{title:"An Error Occured",content:"Please make sure you have at least one worker running."}}),{c(){V(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,l){D(e,n,l),t=!0},p:oe,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function bt(o){let e,t,n;return t=new Je({props:{content:o[3],language:"text"}}),{c(){e=h("div"),V(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var s=w(e);A(t.$$.fragment,s),s.forEach(u),this.h()},h(){v(e,"class","flex items-start h-full")},m(l,s){F(l,e,s),D(t,e,null),n=!0},p(l,s){const a={};s&2&&(a.content=l[3]),t.$set(a)},i(l){n||(k(t.$$.fragment,l),n=!0)},o(l){b(t.$$.fragment,l),n=!1},d(l){l&&u(e),O(t)}}}function Et(o){let e,t,n,l,s,a;return{c(){e=h("div"),t=h("h2"),n=P("Loading\u2026"),l=I(),s=h("p"),a=P("(This will fail if you have no workers running.)"),this.h()},l(r){e=$(r,"DIV",{class:!0});var f=w(e);t=$(f,"H2",{class:!0});var m=w(t);n=W(m,"Loading\u2026"),m.forEach(u),l=C(f),s=$(f,"P",{});var p=w(s);a=W(p,"(This will fail if you have no workers running.)"),p.forEach(u),f.forEach(u),this.h()},h(){v(t,"class","font-bold text-2xl mb-4"),v(e,"class","text-center")},m(r,f){F(r,e,f),i(e,t),i(t,n),i(e,l),i(e,s),i(s,a)},p:oe,i:oe,o:oe,d(r){r&&u(e)}}}function Tt(o){let e=String(o[0].status)==="Running",t,n,l=e&&Oe(o);return{c(){l&&l.c(),t=de()},l(s){l&&l.l(s),t=de()},m(s,a){l&&l.m(s,a),F(s,t,a),n=!0},p(s,[a]){a&1&&(e=String(s[0].status)==="Running"),e?l?(l.p(s,a),a&1&&k(l,1)):(l=Oe(s),l.c(),k(l,1),l.m(t.parentNode,t)):l&&(ke(),b(l,1,1,()=>{l=null}),ve())},i(s){n||(k(l),n=!0)},o(s){b(l),n=!1},d(s){l&&l.d(s),s&&u(t)}}}function It(o,e,t){let{namespace:n}=e,{workflow:l}=e,s;return Le(()=>{t(1,s=(()=>st({workflow:l,namespace:n}))())}),o.$$set=a=>{"namespace"in a&&t(2,n=a.namespace),"workflow"in a&&t(0,l=a.workflow)},[l,s,n]}class Ct extends he{constructor(e){super(),$e(this,e,It,Tt,we,{namespace:2,workflow:0})}}function Pe(o){let e,t,n,l,s,a;return s=new Je({props:{content:o[1],class:"mb-2 max-h-96"}}),{c(){e=h("article"),t=h("h3"),n=P(o[0]),l=I(),V(s.$$.fragment),this.h()},l(r){e=$(r,"ARTICLE",{class:!0});var f=w(e);t=$(f,"H3",{class:!0});var m=w(t);n=W(m,o[0]),m.forEach(u),l=C(f),A(s.$$.fragment,f),f.forEach(u),this.h()},h(){v(t,"class","text-lg"),v(e,"class","flex flex-col border-2 border-gray-300 p-4 rounded-lg w-full lg:w-1/2")},m(r,f){F(r,e,f),i(e,t),i(t,n),i(e,l),D(s,e,null),a=!0},p(r,f){(!a||f&1)&&Te(n,r[0]);const m={};f&2&&(m.content=r[1]),s.$set(m)},i(r){a||(k(s.$$.fragment,r),a=!0)},o(r){b(s.$$.fragment,r),a=!1},d(r){r&&u(e),O(s)}}}function St(o){let e,t,n=o[1]&&Pe(o);return{c(){n&&n.c(),e=de()},l(l){n&&n.l(l),e=de()},m(l,s){n&&n.m(l,s),F(l,e,s),t=!0},p(l,[s]){l[1]?n?(n.p(l,s),s&2&&k(n,1)):(n=Pe(l),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(ke(),b(n,1,1,()=>{n=null}),ve())},i(l){t||(k(n),t=!0)},o(l){b(n),t=!1},d(l){n&&n.d(l),l&&u(e)}}}function yt(o,e,t){let{title:n}=e,{content:l}=e;return o.$$set=s=>{"title"in s&&t(0,n=s.title),"content"in s&&t(1,l=s.content)},[n,l]}class We extends he{constructor(e){super(),$e(this,e,yt,St,we,{title:0,content:1})}}function Nt(o){let e,t;return{c(){e=h("div"),t=P(o[1]),this.h()},l(n){e=$(n,"DIV",{class:!0});var l=w(e);t=W(l,o[1]),l.forEach(u),this.h()},h(){v(e,"class","select-all")},m(n,l){F(n,e,l),i(e,t)},p(n,l){l&2&&Te(t,n[1])},i:oe,o:oe,d(n){n&&u(e)}}}function Vt(o){let e,t;return e=new je({props:{content:o[1],$$slots:{default:[Dt]},$$scope:{ctx:o}}}),{c(){V(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,l){D(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.content=n[1]),l&22&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function At(o){let e;return{c(){e=P(o[1])},l(t){e=W(t,o[1])},m(t,n){F(t,e,n)},p(t,n){n&2&&Te(e,t[1])},d(t){t&&u(e)}}}function Dt(o){let e,t;return e=new Re({props:{href:o[2],$$slots:{default:[At]},$$scope:{ctx:o}}}),{c(){V(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,l){D(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.href=n[2]),l&18&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ot(o){let e,t,n,l,s,a,r,f,m,p;const S=[Vt,Nt],E=[];function L(_,d){return _[2]?0:1}return r=L(o),f=E[r]=S[r](o),{c(){e=h("article"),t=h("div"),n=P(o[0]),l=P(":"),s=I(),a=h("div"),f.c(),this.h()},l(_){e=$(_,"ARTICLE",{class:!0});var d=w(e);t=$(d,"DIV",{class:!0});var g=w(t);n=W(g,o[0]),l=W(g,":"),g.forEach(u),s=C(d),a=$(d,"DIV",{});var y=w(a);f.l(y),y.forEach(u),d.forEach(u),this.h()},h(){v(t,"class","font-medium"),v(e,"class",m="flex gap-2 text-"+o[3])},m(_,d){F(_,e,d),i(e,t),i(t,n),i(t,l),i(e,s),i(e,a),E[r].m(a,null),p=!0},p(_,[d]){(!p||d&1)&&Te(n,_[0]);let g=r;r=L(_),r===g?E[r].p(_,d):(ke(),b(E[g],1,1,()=>{E[g]=null}),ve(),f=E[r],f?f.p(_,d):(f=E[r]=S[r](_),f.c()),k(f,1),f.m(a,null)),(!p||d&8&&m!==(m="flex gap-2 text-"+_[3]))&&v(e,"class",m)},i(_){p||(k(f),p=!0)},o(_){b(f),p=!1},d(_){_&&u(e),E[r].d()}}}function Pt(o,e,t){let{title:n}=e,{content:l}=e,{href:s=null}=e,{textSize:a="md"}=e;return o.$$set=r=>{"title"in r&&t(0,n=r.title),"content"in r&&t(1,l=r.content),"href"in r&&t(2,s=r.href),"textSize"in r&&t(3,a=r.textSize)},[n,l,s,a]}class me extends he{constructor(e){super(),$e(this,e,Pt,Ot,we,{title:0,content:1,href:2,textSize:3})}}function Fe(o){var n,l,s;let e,t;return e=new me({props:{title:"Parent",content:(n=o[1].parent)==null?void 0:n.workflowId,href:Ve({namespace:o[0],workflow:(l=o[1].parent)==null?void 0:l.workflowId,run:(s=o[1].parent)==null?void 0:s.runId})}}),{c(){V(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){D(e,a,r),t=!0},p(a,r){var m,p,S;const f={};r&2&&(f.content=(m=a[1].parent)==null?void 0:m.workflowId),r&3&&(f.href=Ve({namespace:a[0],workflow:(p=a[1].parent)==null?void 0:p.workflowId,run:(S=a[1].parent)==null?void 0:S.runId})),e.$set(f)},i(a){t||(k(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){O(e,a)}}}function Wt(o){let e;return{c(){e=P("Feed")},l(t){e=W(t,"Feed")},m(t,n){F(t,e,n)},d(t){t&&u(e)}}}function Ft(o){let e;return{c(){e=P("Compact")},l(t){e=W(t,"Compact")},m(t,n){F(t,e,n)},d(t){t&&u(e)}}}function Ht(o){let e;return{c(){e=P("JSON")},l(t){e=W(t,"JSON")},m(t,n){F(t,e,n)},d(t){t&&u(e)}}}function Lt(o){let e,t,n,l,s,a;return e=new Ce({props:{icon:xe,base:Ee(o[5]("feed")),href:Ee(o[5]("feed")),active:o[2]==="feed",$$slots:{default:[Wt]},$$scope:{ctx:o}}}),e.$on("click",o[9]),n=new Ce({props:{icon:et,href:Ee(o[5]("compact")),active:o[2]==="compact",$$slots:{default:[Ft]},$$scope:{ctx:o}}}),n.$on("click",o[10]),s=new Ce({props:{icon:tt,href:Ee(o[5]("json")),active:o[2]==="json",$$slots:{default:[Ht]},$$scope:{ctx:o}}}),s.$on("click",o[11]),{c(){V(e.$$.fragment),t=I(),V(n.$$.fragment),l=I(),V(s.$$.fragment)},l(r){A(e.$$.fragment,r),t=C(r),A(n.$$.fragment,r),l=C(r),A(s.$$.fragment,r)},m(r,f){D(e,r,f),F(r,t,f),D(n,r,f),F(r,l,f),D(s,r,f),a=!0},p(r,f){const m={};f&4&&(m.active=r[2]==="feed"),f&4096&&(m.$$scope={dirty:f,ctx:r}),e.$set(m);const p={};f&4&&(p.active=r[2]==="compact"),f&4096&&(p.$$scope={dirty:f,ctx:r}),n.$set(p);const S={};f&4&&(S.active=r[2]==="json"),f&4096&&(S.$$scope={dirty:f,ctx:r}),s.$set(S)},i(r){a||(k(e.$$.fragment,r),k(n.$$.fragment,r),k(s.$$.fragment,r),a=!0)},o(r){b(e.$$.fragment,r),b(n.$$.fragment,r),b(s.$$.fragment,r),a=!1},d(r){O(e,r),r&&u(t),O(n,r),r&&u(l),O(s,r)}}}function Rt(o){var M;let e,t,n,l,s,a,r,f,m,p,S,E,L,_,d,g,y,H,z,G,fe,U,Z,K,x,j,q,ee,ie,se,te,Q,ce,X;n=new me({props:{title:"Workflow Type",content:o[1].name}}),s=new me({props:{title:"Run ID",content:o[1].runId}}),f=new me({props:{title:"Start Time",content:ge(o[1].startTime,"UTC")}}),p=new me({props:{title:"Close Time",content:ge(o[1].endTime,"UTC")}}),E=new me({props:{title:"Task Queue",content:o[1].taskQueue,href:Ze(o[6])}});let N=((M=o[1])==null?void 0:M.parent)&&Fe(o);d=new me({props:{title:"State Transitions",content:o[1].stateTransitionCount}}),H=new We({props:{title:"Input",content:o[3]}}),G=new We({props:{title:"Results",content:o[4]}}),U=new Ct({props:{namespace:o[0],workflow:o[1]}}),K=new kt({}),Q=new rt({props:{$$slots:{default:[Lt]},$$scope:{ctx:o}}});const ue=o[8].default,J=Qe(ue,o,o[12],null);return{c(){e=h("section"),t=h("section"),V(n.$$.fragment),l=I(),V(s.$$.fragment),a=I(),r=h("div"),V(f.$$.fragment),m=I(),V(p.$$.fragment),S=I(),V(E.$$.fragment),L=I(),N&&N.c(),_=I(),V(d.$$.fragment),g=I(),y=h("section"),V(H.$$.fragment),z=I(),V(G.$$.fragment),fe=I(),V(U.$$.fragment),Z=I(),V(K.$$.fragment),x=I(),j=h("section"),q=h("nav"),ee=h("h3"),ie=P("Recent Events"),se=I(),te=h("div"),V(Q.$$.fragment),ce=I(),J&&J.c(),this.h()},l(c){e=$(c,"SECTION",{class:!0});var T=w(e);t=$(T,"SECTION",{class:!0});var R=w(t);A(n.$$.fragment,R),l=C(R),A(s.$$.fragment,R),a=C(R),r=$(R,"DIV",{class:!0});var B=w(r);A(f.$$.fragment,B),m=C(B),A(p.$$.fragment,B),B.forEach(u),S=C(R),A(E.$$.fragment,R),L=C(R),N&&N.l(R),_=C(R),A(d.$$.fragment,R),R.forEach(u),g=C(T),y=$(T,"SECTION",{class:!0});var ne=w(y);A(H.$$.fragment,ne),z=C(ne),A(G.$$.fragment,ne),ne.forEach(u),fe=C(T),A(U.$$.fragment,T),Z=C(T),A(K.$$.fragment,T),x=C(T),j=$(T,"SECTION",{id:!0});var le=w(j);q=$(le,"NAV",{class:!0});var re=w(q);ee=$(re,"H3",{class:!0});var ae=w(ee);ie=W(ae,"Recent Events"),ae.forEach(u),se=C(re),te=$(re,"DIV",{id:!0,class:!0});var Y=w(te);A(Q.$$.fragment,Y),Y.forEach(u),re.forEach(u),ce=C(le),J&&J.l(le),le.forEach(u),T.forEach(u),this.h()},h(){v(r,"class","flex gap-1 flex-col md:flex-row md:gap-6"),v(t,"class","flex flex-col gap-1"),v(y,"class","flex gap-4 w-full flex-col lg:flex-row"),v(ee,"class","text-lg font-medium"),v(te,"id","event-view-toggle"),v(te,"class","flex gap-4"),v(q,"class","flex gap-4 justify-between items-end pb-4"),v(j,"id","event-history"),v(e,"class","flex flex-col gap-4")},m(c,T){F(c,e,T),i(e,t),D(n,t,null),i(t,l),D(s,t,null),i(t,a),i(t,r),D(f,r,null),i(r,m),D(p,r,null),i(t,S),D(E,t,null),i(t,L),N&&N.m(t,null),i(t,_),D(d,t,null),i(e,g),i(e,y),D(H,y,null),i(y,z),D(G,y,null),i(e,fe),D(U,e,null),i(e,Z),D(K,e,null),i(e,x),i(e,j),i(j,q),i(q,ee),i(ee,ie),i(q,se),i(q,te),D(Q,te,null),i(j,ce),J&&J.m(j,null),X=!0},p(c,[T]){var pe;const R={};T&2&&(R.content=c[1].name),n.$set(R);const B={};T&2&&(B.content=c[1].runId),s.$set(B);const ne={};T&2&&(ne.content=ge(c[1].startTime,"UTC")),f.$set(ne);const le={};T&2&&(le.content=ge(c[1].endTime,"UTC")),p.$set(le);const re={};T&2&&(re.content=c[1].taskQueue),E.$set(re),(pe=c[1])!=null&&pe.parent?N?(N.p(c,T),T&2&&k(N,1)):(N=Fe(c),N.c(),k(N,1),N.m(t,_)):N&&(ke(),b(N,1,1,()=>{N=null}),ve());const ae={};T&2&&(ae.content=c[1].stateTransitionCount),d.$set(ae);const Y={};T&1&&(Y.namespace=c[0]),T&2&&(Y.workflow=c[1]),U.$set(Y);const _e={};T&4100&&(_e.$$scope={dirty:T,ctx:c}),Q.$set(_e),J&&J.p&&(!X||T&4096)&&Be(J,ue,c,c[12],X?Ke(ue,c[12],T,null):Ge(c[12]),null)},i(c){X||(k(n.$$.fragment,c),k(s.$$.fragment,c),k(f.$$.fragment,c),k(p.$$.fragment,c),k(E.$$.fragment,c),k(N),k(d.$$.fragment,c),k(H.$$.fragment,c),k(G.$$.fragment,c),k(U.$$.fragment,c),k(K.$$.fragment,c),k(Q.$$.fragment,c),k(J,c),X=!0)},o(c){b(n.$$.fragment,c),b(s.$$.fragment,c),b(f.$$.fragment,c),b(p.$$.fragment,c),b(E.$$.fragment,c),b(N),b(d.$$.fragment,c),b(H.$$.fragment,c),b(G.$$.fragment,c),b(U.$$.fragment,c),b(K.$$.fragment,c),b(Q.$$.fragment,c),b(J,c),X=!1},d(c){c&&u(e),O(n),O(s),O(f),O(p),O(E),N&&N.d(),O(d),O(H),O(G),O(U),O(K),O(Q),J&&J.d(c)}}}const mn=async function({params:o,url:e,stuff:t,fetch:n}){var l;const{workflow:s}=t,{namespace:a}=o,r={namespace:a,workflowId:s.id,runId:s.runId,reverse:Boolean((l=e==null?void 0:e.searchParams)===null||l===void 0?void 0:l.get("sort"))},{events:f,eventGroups:m}=await Xe(r,n);return{props:{namespace:a,workflow:s,events:f,eventGroups:m},stuff:{events:f,eventGroups:m}}};function jt(o,e,t){let n;He(o,lt,g=>t(2,n=g));let{$$slots:l={},$$scope:s}=e,{namespace:a}=e,{workflow:r}=e,{events:f}=e;const{input:m,result:p}=mt(f),S=(g,y)=>({namespace:a,workflow:r.id,run:r.runId,view:g,eventId:y}),E={namespace:a,workflow:r.id,run:r.runId},L=()=>Ie("feed"),_=()=>Ie("compact"),d=()=>Ie("json");return o.$$set=g=>{"namespace"in g&&t(0,a=g.namespace),"workflow"in g&&t(1,r=g.workflow),"events"in g&&t(7,f=g.events),"$$scope"in g&&t(12,s=g.$$scope)},[a,r,n,m,p,S,E,f,l,L,_,d,s]}class dn extends he{constructor(e){super(),$e(this,e,jt,Rt,we,{namespace:0,workflow:1,events:7})}}export{dn as default,mn as load};
