import{S as pe,i as $e,s as we,e as h,t as P,k as y,w as D,c as p,a as $,h as W,d as m,m as C,x as N,b as v,g as H,M as c,y as R,n as ke,a8 as ze,ah as qe,p as ve,q as E,o as T,B as A,l as Ee,N as je,v as Fe,ai as Me,E as Y,aj as Ve,ak as Qe,C as De,U as Ne,j as Te,I as Be,J as Ge,K as Ke,L as Xe}from"../../../../../../../chunks/index-34daf98d.js";import{a as Ye}from"../../../../../../../chunks/events-service-d0569d19.js";import{g as Ze,f as xe,l as Re,e as be}from"../../../../../../../chunks/route-for-37155b93.js";import{F as et,l as tt,h as nt,i as lt,j as rt}from"../../../../../../../chunks/index.es-49464d57.js";import{i as st}from"../../../../../../../chunks/index-4ded5477.js";import{f as he}from"../../../../../../../chunks/format-date-4b1bc9ef.js";import{e as ot,s as Ie}from"../../../../../../../chunks/event-view-type-3b06f57c.js";import{T as at,a as ye}from"../../../../../../../chunks/toggle-buttons-0ae480e1.js";import{p as it}from"../../../../../../../chunks/stores-9033f039.js";import{L as Le}from"../../../../../../../chunks/link-d5b613cc.js";import{C as Je}from"../../../../../../../chunks/copyable-2a3ad536.js";import{g as ct}from"../../../../../../../chunks/query-service-352390a2.js";import{E as ft}from"../../../../../../../chunks/empty-state-b89a14fd.js";import{C as Ue}from"../../../../../../../chunks/code-block-ebb02e59.js";import"../../../../../../../chunks/route-for-api-304b8ba1.js";import"../../../../../../../chunks/index-3352ea09.js";import"../../../../../../../chunks/notifications-f4eb312e.js";import"../../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../../chunks/index-6a66fa5d.js";import"../../../../../../../chunks/data-converter-config-2bb6d3b7.js";import"../../../../../../../chunks/persist-store-afcd96b3.js";import"../../../../../../../chunks/atob-5f9d7101.js";import"../../../../../../../chunks/get-event-categorization-b2bce139.js";import"../../../../../../../chunks/simplify-attributes-6710d3ed.js";const ut=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],mt=r=>{for(const e of ut)if(r.eventType===e)return!0;return!1},dt=r=>{for(const e of r)if(mt(e))return e},_t=r=>st(r)?r.attributes.result===null?null:r.attributes.result.payloads:r.attributes,gt=r=>{var o,a;let e,t;const n=r==null?void 0:r.find(s=>!!s.workflowExecutionStartedEventAttributes),l=dt(r);return n&&(e=JSON.stringify((a=(o=n==null?void 0:n.workflowExecutionStartedEventAttributes)==null?void 0:o.input)==null?void 0:a.payloads)),l&&(t=JSON.stringify(_t(l))),{input:e,result:t}};function Ae(r,e,t){const n=r.slice();return n[6]=e[t].id,n[7]=Me(e[t],["id"]),n}function ht(r){let e,t,n,l,o,a=[],s=new Map,i,f,_,w,k=r[0];const S=g=>g[6];for(let g=0;g<k.length;g+=1){let d=Ae(r,k,g),b=S(d);s.set(b,a[g]=Pe(b,d))}return _=new Le({props:{href:r[1],$$slots:{default:[kt]},$$scope:{ctx:r}}}),{c(){e=h("section"),t=h("h3"),n=P("Pending Activities"),l=y(),o=h("section");for(let g=0;g<a.length;g+=1)a[g].c();i=y(),f=h("div"),D(_.$$.fragment),this.h()},l(g){e=p(g,"SECTION",{class:!0});var d=$(e);t=p(d,"H3",{class:!0});var b=$(t);n=W(b,"Pending Activities"),b.forEach(m),l=C(d),o=p(d,"SECTION",{class:!0});var V=$(o);for(let U=0;U<a.length;U+=1)a[U].l(V);V.forEach(m),i=C(d),f=p(d,"DIV",{class:!0});var j=$(f);N(_.$$.fragment,j),j.forEach(m),d.forEach(m),this.h()},h(){v(t,"class","text-lg font-medium mb-4"),v(o,"class","w-full table-auto space-x-4"),v(f,"class","text-right"),v(e,"class","border-2 border-gray-300 rounded-lg p-4")},m(g,d){H(g,e,d),c(e,t),c(t,n),c(e,l),c(e,o);for(let b=0;b<a.length;b+=1)a[b].m(o,null);c(e,i),c(e,f),R(_,f,null),w=!0},p(g,d){d&3&&(k=g[0],ke(),a=ze(a,d,S,1,g,k,s,o,qe,Pe,null,Ae),ve());const b={};d&1024&&(b.$$scope={dirty:d,ctx:g}),_.$set(b)},i(g){if(!w){for(let d=0;d<k.length;d+=1)E(a[d]);E(_.$$.fragment,g),w=!0}},o(g){for(let d=0;d<a.length;d+=1)T(a[d]);T(_.$$.fragment,g),w=!1},d(g){g&&m(e);for(let d=0;d<a.length;d+=1)a[d].d();A(_)}}}function pt(r){let e,t;return{c(){e=h("span"),t=P("(Empty)"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var l=$(e);t=W(l,"(Empty)"),l.forEach(m),this.h()},h(){v(e,"class","bg-gray-300 text-gray-700 px-2 text-sm")},m(n,l){H(n,e,l),c(e,t)},p:Y,i:Y,o:Y,d(n){n&&m(e)}}}function $t(r){var n;let e,t;return e=new Je({props:{content:(n=r[7].lastFailure)==null?void 0:n.message,"container-class":"overflow-y-scroll",$$slots:{default:[wt]},$$scope:{ctx:r}}}),{c(){D(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,o){R(e,l,o),t=!0},p(l,o){const a={};o&1024&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)},i(l){t||(E(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){A(e,l)}}}function wt(r){var o;let e,t,n=((o=r[7].lastFailure)==null?void 0:o.message)+"",l;return{c(){e=h("pre"),t=h("code"),l=P(n),this.h()},l(a){e=p(a,"PRE",{class:!0});var s=$(e);t=p(s,"CODE",{class:!0});var i=$(t);l=W(i,n),i.forEach(m),s.forEach(m),this.h()},h(){v(t,"class","language-json"),v(e,"class","rounded-lg max-w-fit")},m(a,s){H(a,e,s),c(e,t),c(t,l)},p:Y,d(a){a&&m(e)}}}function Pe(r,e){let t,n,l=e[7].activityId+"",o,a,s,i,f,_,w,k,S,g=e[7].activityType+"",d,b,V,j,U,Q,ie,z,Z,K,x,L,q,ee,ce,oe,te=he(e[7].lastHeartbeatTime)+"",B,fe,X;const O=[$t,pt],ue=[];function J(M,u){return M[7].lastFailure?0:1}return z=J(e),Z=ue[z]=O[z](e),{key:r,first:null,c(){t=h("a"),n=h("div"),o=P(l),a=y(),s=h("div"),i=h("div"),f=h("h4"),_=P("Activity Name"),w=y(),k=h("p"),S=h("span"),d=P(g),b=y(),V=h("div"),j=h("div"),U=h("h3"),Q=P("Last Failure"),ie=y(),Z.c(),K=y(),x=h("div"),L=h("div"),q=h("h4"),ee=P("Last Heartbeat Time"),ce=y(),oe=h("p"),B=P(te),fe=y(),this.h()},l(M){t=p(M,"A",{class:!0,href:!0});var u=$(t);n=p(u,"DIV",{class:!0});var I=$(n);o=W(I,l),I.forEach(m),a=C(u),s=p(u,"DIV",{class:!0});var F=$(s);i=p(F,"DIV",{class:!0});var G=$(i);f=p(G,"H4",{});var ne=$(f);_=W(ne,"Activity Name"),ne.forEach(m),w=C(G),k=p(G,"P",{});var le=$(k);S=p(le,"SPAN",{class:!0});var re=$(S);d=W(re,g),re.forEach(m),le.forEach(m),G.forEach(m),F.forEach(m),b=C(u),V=p(u,"DIV",{class:!0});var ae=$(V);j=p(ae,"DIV",{class:!0});var se=$(j);U=p(se,"H3",{class:!0});var _e=$(U);Q=W(_e,"Last Failure"),_e.forEach(m),ie=C(se),Z.l(se),se.forEach(m),ae.forEach(m),K=C(u),x=p(u,"DIV",{class:!0});var ge=$(x);L=p(ge,"DIV",{class:!0});var me=$(L);q=p(me,"H4",{});var Ce=$(q);ee=W(Ce,"Last Heartbeat Time"),Ce.forEach(m),ce=C(me),oe=p(me,"P",{});var Se=$(oe);B=W(Se,te),Se.forEach(m),me.forEach(m),ge.forEach(m),fe=C(u),u.forEach(m),this.h()},h(){v(n,"class","md:w-1/12 text-left font-normal text-gray-500 w-40"),v(S,"class","bg-gray-300 text-gray-700 px-2 text-sm"),v(i,"class","flex gap-2 items-center"),v(s,"class","w-full md:w-1/4"),v(U,"class","whitespace-nowrap"),v(j,"class","flex gap-2 items-center"),v(V,"class","w-full md:w-5/12"),v(L,"class","flex gap-2"),v(x,"class","w-full md:w-1/4"),v(t,"class","block md:flex content-between w-full border-b-2 border-gray-300 p-2 last-of-type:border-b-0 hover:bg-gray-50 gap-4 items-center"),v(t,"href",e[1]),this.first=t},m(M,u){H(M,t,u),c(t,n),c(n,o),c(t,a),c(t,s),c(s,i),c(i,f),c(f,_),c(i,w),c(i,k),c(k,S),c(S,d),c(t,b),c(t,V),c(V,j),c(j,U),c(U,Q),c(j,ie),ue[z].m(j,null),c(t,K),c(t,x),c(x,L),c(L,q),c(q,ee),c(L,ce),c(L,oe),c(oe,B),c(t,fe),X=!0},p(M,u){e=M,Z.p(e,u)},i(M){X||(E(Z),X=!0)},o(M){T(Z),X=!1},d(M){M&&m(t),ue[z].d()}}}function kt(r){let e;return{c(){e=P("Show all")},l(t){e=W(t,"Show all")},m(t,n){H(t,e,n)},d(t){t&&m(e)}}}function vt(r){let e,t,n=r[0].length&&ht(r);return{c(){n&&n.c(),e=Ee()},l(l){n&&n.l(l),e=Ee()},m(l,o){n&&n.m(l,o),H(l,e,o),t=!0},p(l,[o]){l[0].length&&n.p(l,o)},i(l){t||(E(n),t=!0)},o(l){T(n),t=!1},d(l){n&&n.d(l),l&&m(e)}}}function bt(r,e,t){let n;je(r,it,f=>t(2,n=f));const{pendingActivities:l}=n.stuff.workflow,{namespace:o,workflow:a,run:s}=n.params,i=Ze({namespace:o,workflow:a,run:s});return Fe(()=>{window.Prism.highlightAll()}),[l,i]}class Et extends pe{constructor(e){super(),$e(this,e,bt,vt,we,{})}}function We(r){let e,t,n,l,o,a,s={ctx:r,current:null,token:null,hasCatch:!0,pending:yt,then:It,catch:Tt,value:4,error:5,blocks:[,,,]};return Ve(o=r[1],s),{c(){e=h("section"),t=h("h3"),n=P("Stack Trace"),l=y(),s.block.c(),this.h()},l(i){e=p(i,"SECTION",{class:!0});var f=$(e);t=p(f,"H3",{class:!0});var _=$(t);n=W(_,"Stack Trace"),_.forEach(m),l=C(f),s.block.l(f),f.forEach(m),this.h()},h(){v(t,"class","text-lg mb-2 w-full"),v(e,"class","stack-trace svelte-18yyc2q")},m(i,f){H(i,e,f),c(e,t),c(t,n),c(e,l),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,a=!0},p(i,f){r=i,s.ctx=r,f&2&&o!==(o=r[1])&&Ve(o,s)||Qe(s,r,f)},i(i){a||(E(s.block),a=!0)},o(i){for(let f=0;f<3;f+=1){const _=s.blocks[f];T(_)}a=!1},d(i){i&&m(e),s.block.d(),s.token=null,s=null}}}function Tt(r){let e,t;return e=new ft({props:{title:"An Error Occured",content:"Please make sure you have at least one worker running."}}),{c(){D(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p:Y,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function It(r){let e,t,n;return t=new Ue({props:{content:r[4],language:"text",class:r[2].class}}),{c(){e=h("div"),D(t.$$.fragment),this.h()},l(l){e=p(l,"DIV",{class:!0});var o=$(e);N(t.$$.fragment,o),o.forEach(m),this.h()},h(){v(e,"class","flex items-start h-full")},m(l,o){H(l,e,o),R(t,e,null),n=!0},p(l,o){const a={};o&2&&(a.content=l[4]),o&4&&(a.class=l[2].class),t.$set(a)},i(l){n||(E(t.$$.fragment,l),n=!0)},o(l){T(t.$$.fragment,l),n=!1},d(l){l&&m(e),A(t)}}}function yt(r){let e,t,n,l,o,a;return{c(){e=h("div"),t=h("h2"),n=P("Loading\u2026"),l=y(),o=h("p"),a=P("(This will fail if you have no workers running.)"),this.h()},l(s){e=p(s,"DIV",{class:!0});var i=$(e);t=p(i,"H2",{class:!0});var f=$(t);n=W(f,"Loading\u2026"),f.forEach(m),l=C(i),o=p(i,"P",{});var _=$(o);a=W(_,"(This will fail if you have no workers running.)"),_.forEach(m),i.forEach(m),this.h()},h(){v(t,"class","font-bold text-2xl mb-4"),v(e,"class","text-center")},m(s,i){H(s,e,i),c(e,t),c(t,n),c(e,l),c(e,o),c(o,a)},p:Y,i:Y,o:Y,d(s){s&&m(e)}}}function Ct(r){let e,t,n=r[0].isRunning&&We(r);return{c(){n&&n.c(),e=Ee()},l(l){n&&n.l(l),e=Ee()},m(l,o){n&&n.m(l,o),H(l,e,o),t=!0},p(l,[o]){l[0].isRunning?n?(n.p(l,o),o&1&&E(n,1)):(n=We(l),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(ke(),T(n,1,1,()=>{n=null}),ve())},i(l){t||(E(n),t=!0)},o(l){T(n),t=!1},d(l){n&&n.d(l),l&&m(e)}}}function St(r,e,t){let{namespace:n}=e,{workflow:l}=e,o;return Fe(()=>{t(1,o=(()=>ct({workflow:l,namespace:n}))())}),r.$$set=a=>{t(2,e=De(De({},e),Ne(a))),"namespace"in a&&t(3,n=a.namespace),"workflow"in a&&t(0,l=a.workflow)},e=Ne(e),[l,o,e,n]}class Vt extends pe{constructor(e){super(),$e(this,e,St,Ct,we,{namespace:3,workflow:0})}}function Dt(r){let e,t;return e=new Ue({props:{content:r[1],class:"mb-2 max-h-96"}}),{c(){D(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,l){const o={};l&2&&(o.content=n[1]),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Nt(r){let e,t,n,l,o,a,s;return n=new et({props:{icon:tt,scale:1.2,class:"block w-full h-full animate-spin"}}),{c(){e=h("div"),t=h("div"),D(n.$$.fragment),l=y(),o=h("h2"),a=P("In progress\u2026"),this.h()},l(i){e=p(i,"DIV",{class:!0});var f=$(e);t=p(f,"DIV",{class:!0});var _=$(t);N(n.$$.fragment,_),_.forEach(m),l=C(f),o=p(f,"H2",{class:!0});var w=$(o);a=W(w,"In progress\u2026"),w.forEach(m),f.forEach(m),this.h()},h(){v(t,"class","flex rounded-full items-center justify-center w-16 h-16 bg-gray-200"),v(o,"class","text-xl font-medium"),v(e,"class","my-12 flex flex-col justify-start items-center gap-2")},m(i,f){H(i,e,f),c(e,t),R(n,t,null),c(e,l),c(e,o),c(o,a),s=!0},p:Y,i(i){s||(E(n.$$.fragment,i),s=!0)},o(i){T(n.$$.fragment,i),s=!1},d(i){i&&m(e),A(n)}}}function Rt(r){let e,t,n,l,o,a,s;const i=[Nt,Dt],f=[];function _(w,k){return w[2]?0:1}return o=_(r),a=f[o]=i[o](r),{c(){e=h("article"),t=h("h3"),n=P(r[0]),l=y(),a.c(),this.h()},l(w){e=p(w,"ARTICLE",{class:!0,"data-cy":!0});var k=$(e);t=p(k,"H3",{class:!0});var S=$(t);n=W(S,r[0]),S.forEach(m),l=C(k),a.l(k),k.forEach(m),this.h()},h(){v(t,"class","text-lg"),v(e,"class","flex flex-col border-2 border-gray-300 p-4 rounded-lg w-full lg:w-1/2"),v(e,"data-cy","workflow-input-and-results")},m(w,k){H(w,e,k),c(e,t),c(t,n),c(e,l),f[o].m(e,null),s=!0},p(w,[k]){(!s||k&1)&&Te(n,w[0]);let S=o;o=_(w),o===S?f[o].p(w,k):(ke(),T(f[S],1,1,()=>{f[S]=null}),ve(),a=f[o],a?a.p(w,k):(a=f[o]=i[o](w),a.c()),E(a,1),a.m(e,null))},i(w){s||(E(a),s=!0)},o(w){T(a),s=!1},d(w){w&&m(e),f[o].d()}}}function At(r,e,t){let{title:n}=e,{content:l}=e,{isRunning:o=!1}=e;return r.$$set=a=>{"title"in a&&t(0,n=a.title),"content"in a&&t(1,l=a.content),"isRunning"in a&&t(2,o=a.isRunning)},[n,l,o]}class Oe extends pe{constructor(e){super(),$e(this,e,At,Rt,we,{title:0,content:1,isRunning:2})}}function Pt(r){let e,t;return{c(){e=h("div"),t=P(r[1]),this.h()},l(n){e=p(n,"DIV",{class:!0});var l=$(e);t=W(l,r[1]),l.forEach(m),this.h()},h(){v(e,"class","select-all")},m(n,l){H(n,e,l),c(e,t)},p(n,l){l&2&&Te(t,n[1])},i:Y,o:Y,d(n){n&&m(e)}}}function Wt(r){let e,t;return e=new Je({props:{content:r[1],$$slots:{default:[Ht]},$$scope:{ctx:r}}}),{c(){D(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,l){const o={};l&2&&(o.content=n[1]),l&22&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Ot(r){let e;return{c(){e=P(r[1])},l(t){e=W(t,r[1])},m(t,n){H(t,e,n)},p(t,n){n&2&&Te(e,t[1])},d(t){t&&m(e)}}}function Ht(r){let e,t;return e=new Le({props:{href:r[2],$$slots:{default:[Ot]},$$scope:{ctx:r}}}),{c(){D(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,l){R(e,n,l),t=!0},p(n,l){const o={};l&4&&(o.href=n[2]),l&18&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function jt(r){let e,t,n,l,o,a,s,i,f,_;const w=[Wt,Pt],k=[];function S(g,d){return g[2]?0:1}return s=S(r),i=k[s]=w[s](r),{c(){e=h("article"),t=h("div"),n=P(r[0]),l=P(":"),o=y(),a=h("div"),i.c(),this.h()},l(g){e=p(g,"ARTICLE",{class:!0});var d=$(e);t=p(d,"DIV",{class:!0});var b=$(t);n=W(b,r[0]),l=W(b,":"),b.forEach(m),o=C(d),a=p(d,"DIV",{});var V=$(a);i.l(V),V.forEach(m),d.forEach(m),this.h()},h(){v(t,"class","font-medium"),v(e,"class",f="flex gap-2 text-"+r[3])},m(g,d){H(g,e,d),c(e,t),c(t,n),c(t,l),c(e,o),c(e,a),k[s].m(a,null),_=!0},p(g,[d]){(!_||d&1)&&Te(n,g[0]);let b=s;s=S(g),s===b?k[s].p(g,d):(ke(),T(k[b],1,1,()=>{k[b]=null}),ve(),i=k[s],i?i.p(g,d):(i=k[s]=w[s](g),i.c()),E(i,1),i.m(a,null)),(!_||d&8&&f!==(f="flex gap-2 text-"+g[3]))&&v(e,"class",f)},i(g){_||(E(i),_=!0)},o(g){T(i),_=!1},d(g){g&&m(e),k[s].d()}}}function Ft(r,e,t){let{title:n}=e,{content:l}=e,{href:o=null}=e,{textSize:a="md"}=e;return r.$$set=s=>{"title"in s&&t(0,n=s.title),"content"in s&&t(1,l=s.content),"href"in s&&t(2,o=s.href),"textSize"in s&&t(3,a=s.textSize)},[n,l,o,a]}class de extends pe{constructor(e){super(),$e(this,e,Ft,jt,we,{title:0,content:1,href:2,textSize:3})}}function He(r){var n,l,o;let e,t;return e=new de({props:{title:"Parent",content:(n=r[1].parent)==null?void 0:n.workflowId,href:Re({namespace:r[0],workflow:(l=r[1].parent)==null?void 0:l.workflowId,run:(o=r[1].parent)==null?void 0:o.runId})}}),{c(){D(e.$$.fragment)},l(a){N(e.$$.fragment,a)},m(a,s){R(e,a,s),t=!0},p(a,s){var f,_,w;const i={};s&2&&(i.content=(f=a[1].parent)==null?void 0:f.workflowId),s&3&&(i.href=Re({namespace:a[0],workflow:(_=a[1].parent)==null?void 0:_.workflowId,run:(w=a[1].parent)==null?void 0:w.runId})),e.$set(i)},i(a){t||(E(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){A(e,a)}}}function Lt(r){let e;return{c(){e=P("Timeline")},l(t){e=W(t,"Timeline")},m(t,n){H(t,e,n)},d(t){t&&m(e)}}}function Jt(r){let e;return{c(){e=P("Compact")},l(t){e=W(t,"Compact")},m(t,n){H(t,e,n)},d(t){t&&m(e)}}}function Ut(r){let e;return{c(){e=P("JSON")},l(t){e=W(t,"JSON")},m(t,n){H(t,e,n)},d(t){t&&m(e)}}}function zt(r){let e,t,n,l,o,a;return e=new ye({props:{icon:nt,base:be(r[5]("feed")),href:be(r[5]("feed")),active:r[2]==="feed",$$slots:{default:[Lt]},$$scope:{ctx:r}}}),e.$on("click",r[9]),n=new ye({props:{icon:lt,href:be(r[5]("compact")),active:r[2]==="compact",$$slots:{default:[Jt]},$$scope:{ctx:r}}}),n.$on("click",r[10]),o=new ye({props:{icon:rt,href:be(r[5]("json")),active:r[2]==="json",$$slots:{default:[Ut]},$$scope:{ctx:r}}}),o.$on("click",r[11]),{c(){D(e.$$.fragment),t=y(),D(n.$$.fragment),l=y(),D(o.$$.fragment)},l(s){N(e.$$.fragment,s),t=C(s),N(n.$$.fragment,s),l=C(s),N(o.$$.fragment,s)},m(s,i){R(e,s,i),H(s,t,i),R(n,s,i),H(s,l,i),R(o,s,i),a=!0},p(s,i){const f={};i&4&&(f.active=s[2]==="feed"),i&4096&&(f.$$scope={dirty:i,ctx:s}),e.$set(f);const _={};i&4&&(_.active=s[2]==="compact"),i&4096&&(_.$$scope={dirty:i,ctx:s}),n.$set(_);const w={};i&4&&(w.active=s[2]==="json"),i&4096&&(w.$$scope={dirty:i,ctx:s}),o.$set(w)},i(s){a||(E(e.$$.fragment,s),E(n.$$.fragment,s),E(o.$$.fragment,s),a=!0)},o(s){T(e.$$.fragment,s),T(n.$$.fragment,s),T(o.$$.fragment,s),a=!1},d(s){A(e,s),s&&m(t),A(n,s),s&&m(l),A(o,s)}}}function qt(r){var M;let e,t,n,l,o,a,s,i,f,_,w,k,S,g,d,b,V,j,U,Q,ie,z,Z,K,x,L,q,ee,ce,oe,te,B,fe,X;n=new de({props:{title:"Workflow Type",content:r[1].name}}),o=new de({props:{title:"Run ID",content:r[1].runId}}),i=new de({props:{title:"Start Time",content:he(r[1].startTime,"UTC")}}),_=new de({props:{title:"Close Time",content:he(r[1].endTime,"UTC")}}),k=new de({props:{title:"Task Queue",content:r[1].taskQueue,href:xe(r[6])}});let O=((M=r[1])==null?void 0:M.parent)&&He(r);d=new de({props:{title:"State Transitions",content:r[1].stateTransitionCount}}),j=new Oe({props:{title:"Input",content:r[3]}}),Q=new Oe({props:{title:"Results",content:r[4],isRunning:r[1].isRunning}}),z=new Vt({props:{namespace:r[0],workflow:r[1],class:"mb-2 max-h-96"}}),K=new Et({}),B=new at({props:{$$slots:{default:[zt]},$$scope:{ctx:r}}});const ue=r[8].default,J=Be(ue,r,r[12],null);return{c(){e=h("section"),t=h("section"),D(n.$$.fragment),l=y(),D(o.$$.fragment),a=y(),s=h("div"),D(i.$$.fragment),f=y(),D(_.$$.fragment),w=y(),D(k.$$.fragment),S=y(),O&&O.c(),g=y(),D(d.$$.fragment),b=y(),V=h("section"),D(j.$$.fragment),U=y(),D(Q.$$.fragment),ie=y(),D(z.$$.fragment),Z=y(),D(K.$$.fragment),x=y(),L=h("section"),q=h("nav"),ee=h("h3"),ce=P("Recent Events"),oe=y(),te=h("div"),D(B.$$.fragment),fe=y(),J&&J.c(),this.h()},l(u){e=p(u,"SECTION",{class:!0});var I=$(e);t=p(I,"SECTION",{class:!0});var F=$(t);N(n.$$.fragment,F),l=C(F),N(o.$$.fragment,F),a=C(F),s=p(F,"DIV",{class:!0});var G=$(s);N(i.$$.fragment,G),f=C(G),N(_.$$.fragment,G),G.forEach(m),w=C(F),N(k.$$.fragment,F),S=C(F),O&&O.l(F),g=C(F),N(d.$$.fragment,F),F.forEach(m),b=C(I),V=p(I,"SECTION",{class:!0});var ne=$(V);N(j.$$.fragment,ne),U=C(ne),N(Q.$$.fragment,ne),ne.forEach(m),ie=C(I),N(z.$$.fragment,I),Z=C(I),N(K.$$.fragment,I),x=C(I),L=p(I,"SECTION",{id:!0});var le=$(L);q=p(le,"NAV",{class:!0});var re=$(q);ee=p(re,"H3",{class:!0});var ae=$(ee);ce=W(ae,"Recent Events"),ae.forEach(m),oe=C(re),te=p(re,"DIV",{id:!0,class:!0});var se=$(te);N(B.$$.fragment,se),se.forEach(m),re.forEach(m),fe=C(le),J&&J.l(le),le.forEach(m),I.forEach(m),this.h()},h(){v(s,"class","flex gap-1 flex-col md:flex-row md:gap-6"),v(t,"class","flex flex-col gap-1"),v(V,"class","flex gap-4 w-full flex-col lg:flex-row"),v(ee,"class","text-lg font-medium"),v(te,"id","event-view-toggle"),v(te,"class","flex gap-4"),v(q,"class","flex gap-4 justify-between items-end pb-4"),v(L,"id","event-history"),v(e,"class","flex flex-col gap-4")},m(u,I){H(u,e,I),c(e,t),R(n,t,null),c(t,l),R(o,t,null),c(t,a),c(t,s),R(i,s,null),c(s,f),R(_,s,null),c(t,w),R(k,t,null),c(t,S),O&&O.m(t,null),c(t,g),R(d,t,null),c(e,b),c(e,V),R(j,V,null),c(V,U),R(Q,V,null),c(e,ie),R(z,e,null),c(e,Z),R(K,e,null),c(e,x),c(e,L),c(L,q),c(q,ee),c(ee,ce),c(q,oe),c(q,te),R(B,te,null),c(L,fe),J&&J.m(L,null),X=!0},p(u,[I]){var me;const F={};I&2&&(F.content=u[1].name),n.$set(F);const G={};I&2&&(G.content=u[1].runId),o.$set(G);const ne={};I&2&&(ne.content=he(u[1].startTime,"UTC")),i.$set(ne);const le={};I&2&&(le.content=he(u[1].endTime,"UTC")),_.$set(le);const re={};I&2&&(re.content=u[1].taskQueue),k.$set(re),(me=u[1])!=null&&me.parent?O?(O.p(u,I),I&2&&E(O,1)):(O=He(u),O.c(),E(O,1),O.m(t,g)):O&&(ke(),T(O,1,1,()=>{O=null}),ve());const ae={};I&2&&(ae.content=u[1].stateTransitionCount),d.$set(ae);const se={};I&2&&(se.isRunning=u[1].isRunning),Q.$set(se);const _e={};I&1&&(_e.namespace=u[0]),I&2&&(_e.workflow=u[1]),z.$set(_e);const ge={};I&4100&&(ge.$$scope={dirty:I,ctx:u}),B.$set(ge),J&&J.p&&(!X||I&4096)&&Ge(J,ue,u,u[12],X?Xe(ue,u[12],I,null):Ke(u[12]),null)},i(u){X||(E(n.$$.fragment,u),E(o.$$.fragment,u),E(i.$$.fragment,u),E(_.$$.fragment,u),E(k.$$.fragment,u),E(O),E(d.$$.fragment,u),E(j.$$.fragment,u),E(Q.$$.fragment,u),E(z.$$.fragment,u),E(K.$$.fragment,u),E(B.$$.fragment,u),E(J,u),X=!0)},o(u){T(n.$$.fragment,u),T(o.$$.fragment,u),T(i.$$.fragment,u),T(_.$$.fragment,u),T(k.$$.fragment,u),T(O),T(d.$$.fragment,u),T(j.$$.fragment,u),T(Q.$$.fragment,u),T(z.$$.fragment,u),T(K.$$.fragment,u),T(B.$$.fragment,u),T(J,u),X=!1},d(u){u&&m(e),A(n),A(o),A(i),A(_),A(k),O&&O.d(),A(d),A(j),A(Q),A(z),A(K),A(B),J&&J.d(u)}}}const pn=async function({params:r,url:e,stuff:t,fetch:n}){var l;const{workflow:o}=t,{namespace:a}=r,s={namespace:a,workflowId:o.id,runId:o.runId,reverse:Boolean((l=e==null?void 0:e.searchParams)===null||l===void 0?void 0:l.get("sort"))},{events:i,eventGroups:f}=await Ye(s,n);return{props:{namespace:a,workflow:o,events:i,eventGroups:f},stuff:{events:i,eventGroups:f}}};function Mt(r,e,t){let n;je(r,ot,b=>t(2,n=b));let{$$slots:l={},$$scope:o}=e,{namespace:a}=e,{workflow:s}=e,{events:i}=e;const{input:f,result:_}=gt(i),w=(b,V)=>({namespace:a,workflow:s.id,run:s.runId,view:b,eventId:V}),k={namespace:a,workflow:s.id,run:s.runId},S=()=>Ie("feed"),g=()=>Ie("compact"),d=()=>Ie("json");return r.$$set=b=>{"namespace"in b&&t(0,a=b.namespace),"workflow"in b&&t(1,s=b.workflow),"events"in b&&t(7,i=b.events),"$$scope"in b&&t(12,o=b.$$scope)},[a,s,n,f,_,w,k,i,l,S,g,d,o]}class $n extends pe{constructor(e){super(),$e(this,e,Mt,qt,we,{namespace:0,workflow:1,events:7})}}export{$n as default,pn as load};
