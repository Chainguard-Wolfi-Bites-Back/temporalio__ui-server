import{S as ke,i as be,s as ye,e as b,t as W,k as T,w as C,c as y,a as E,h as R,d as u,m as q,x as S,b as w,g as N,M as f,y as V,n as Ee,a6 as Xe,am as Ye,p as Ie,q as _,o as h,B as A,l as we,N as _e,an as at,E as le,j as We,I as Ze,J as xe,K as et,L as tt,ao as st,a8 as Re}from"../../../../../../../chunks/index-c85ade65.js";import{p as rt}from"../../../../../../../chunks/stores-2c13cc16.js";import{w as lt}from"../../../../../../../chunks/workflow-run-ec09f548.js";import{i as it,h as ft,n as Ne,g as Ve}from"../../../../../../../chunks/route-for-767137f5.js";import{f as Oe,a as ct,g as ut}from"../../../../../../../chunks/format-date-ecf4453c.js";import{e as Ae}from"../../../../../../../chunks/event-view-2f3f52cb.js";import{e as mt,u as pt,c as dt}from"../../../../../../../chunks/events-d641fe33.js";import{T as $t,a as Le}from"../../../../../../../chunks/toggle-buttons-9d795aae.js";import{L as nt}from"../../../../../../../chunks/link-d95c4680.js";import{I as gt}from"../../../../../../../chunks/index-c8da0ebb.js";import{B as He}from"../../../../../../../chunks/badge-aff3796f.js";import{C as Pe}from"../../../../../../../chunks/code-block-b1ae99b6.js";import{f as _t,a as ht,c as vt}from"../../../../../../../chunks/format-event-attributes-0d31c9ac.js";import{E as wt}from"../../../../../../../chunks/empty-state-ebe0fe80.js";import{i as kt}from"../../../../../../../chunks/index-d27505fa.js";import{L as ot}from"../../../../../../../chunks/loading-67332923.js";import{C as bt}from"../../../../../../../chunks/copyable-4c8a8b15.js";import"../../../../../../../chunks/index-203c0d43.js";import"../../../../../../../chunks/with-loading-22689bcc.js";import"../../../../../../../chunks/workflow-service-cabd2c54.js";import"../../../../../../../chunks/simplify-attributes-018c5a8d.js";import"../../../../../../../chunks/route-for-api-fc39762a.js";import"../../../../../../../chunks/notifications-9d24bb07.js";import"../../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../../chunks/is-function-b969a126.js";import"../../../../../../../chunks/get-api-origin-84768d52.js";import"../../../../../../../chunks/to-duration-6d22e6d2.js";import"../../../../../../../chunks/is-419a79e8.js";import"../../../../../../../chunks/persist-store-9b44ce28.js";import"../../../../../../../chunks/settings-3cc4c6ae.js";import"../../../../../../../chunks/version-check-cead3852.js";import"../../../../../../../chunks/events-service-86530b49.js";import"../../../../../../../chunks/index-253217d3.js";import"../../../../../../../chunks/is-http-249a0663.js";import"../../../../../../../chunks/data-converter-config-b3e1b826.js";import"../../../../../../../chunks/atob-02b88f56.js";import"../../../../../../../chunks/get-event-categorization-997d5ab1.js";import"../../../../../../../chunks/copy-to-clipboard-b8e3d18c.js";import"../../../../../../../chunks/has-b7e06397.js";function Je(o,e,r){const t=o.slice();t[3]=e[r].id,t[9]=at(e[r],["id"]);const l=t[9].attempt>1;return t[10]=l,t}function yt(o){let e,r,t,l,n,s=[],a=new Map,i,c,g,H,$=o[0];const D=p=>p[3];for(let p=0;p<$.length;p+=1){let d=Je(o,$,p),k=D(d);a.set(k,s[p]=Be(k,d))}return g=new nt({props:{href:o[2],$$slots:{default:[Ht]},$$scope:{ctx:o}}}),{c(){e=b("section"),r=b("h3"),t=W("Pending Activities"),l=T(),n=b("section");for(let p=0;p<s.length;p+=1)s[p].c();i=T(),c=b("div"),C(g.$$.fragment),this.h()},l(p){e=y(p,"SECTION",{class:!0});var d=E(e);r=y(d,"H3",{class:!0});var k=E(r);t=R(k,"Pending Activities"),k.forEach(u),l=q(d),n=y(d,"SECTION",{});var O=E(n);for(let ee=0;ee<s.length;ee+=1)s[ee].l(O);O.forEach(u),i=q(d),c=y(d,"DIV",{class:!0});var M=E(c);S(g.$$.fragment,M),M.forEach(u),d.forEach(u),this.h()},h(){w(r,"class","mb-2 text-lg font-medium"),w(c,"class","text-right"),w(e,"class","rounded-lg border-2 border-gray-300 p-4")},m(p,d){N(p,e,d),f(e,r),f(r,t),f(e,l),f(e,n);for(let k=0;k<s.length;k+=1)s[k].m(n,null);f(e,i),f(e,c),V(g,c,null),H=!0},p(p,d){d&7&&($=p[0],Ee(),s=Xe(s,d,D,1,p,$,a,n,Ye,Be,null,Je),Ie());const k={};d&8192&&(k.$$scope={dirty:d,ctx:p}),g.$set(k)},i(p){if(!H){for(let d=0;d<$.length;d+=1)_(s[d]);_(g.$$.fragment,p),H=!0}},o(p){for(let d=0;d<s.length;d+=1)h(s[d]);h(g.$$.fragment,p),H=!1},d(p){p&&u(e);for(let d=0;d<s.length;d+=1)s[d].d();A(g)}}}function Et(o){let e=o[9].activityType+"",r;return{c(){r=W(e)},l(t){r=R(t,e)},m(t,l){N(t,r,l)},p:le,d(t){t&&u(r)}}}function It(o){let e,r;return e=new gt({props:{name:"refresh",stroke:"currentcolor",scale:.5,strokeWidth:2}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){V(e,t,l),r=!0},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function Tt(o){let e,r=o[9].attempt+"",t,l,n=o[10]&&It();return{c(){n&&n.c(),e=T(),t=W(r)},l(s){n&&n.l(s),e=q(s),t=R(s,r)},m(s,a){n&&n.m(s,a),N(s,e,a),N(s,t,a),l=!0},p:le,i(s){l||(_(n),l=!0)},o(s){h(n),l=!1},d(s){n&&n.d(s),s&&u(e),s&&u(t)}}}function qt(o){let e=ht(o[9].maximumAttempts,o[9].attempt)+"",r;return{c(){r=W(e)},l(t){r=R(t,e)},m(t,l){N(t,r,l)},p:le,d(t){t&&u(r)}}}function Dt(o){let e,r,t,l,n,s;return n=new He({props:{type:o[10]?"error":"default",$$slots:{default:[Ct]},$$scope:{ctx:o}}}),{c(){e=b("div"),r=b("h4"),t=W("Next Retry"),l=T(),C(n.$$.fragment),this.h()},l(a){e=y(a,"DIV",{class:!0});var i=E(e);r=y(i,"H4",{class:!0});var c=E(r);t=R(c,"Next Retry"),c.forEach(u),l=q(i),S(n.$$.fragment,i),i.forEach(u),this.h()},h(){w(r,"class","pending-activity-detail-header svelte-1uplrqm"),w(e,"class","pending-activity-detail svelte-1uplrqm")},m(a,i){N(a,e,i),f(e,r),f(r,t),f(e,l),V(n,e,null),s=!0},p(a,i){const c={};i&8192&&(c.$$scope={dirty:i,ctx:a}),n.$set(c)},i(a){s||(_(n.$$.fragment,a),s=!0)},o(a){h(n.$$.fragment,a),s=!1},d(a){a&&u(e),A(n)}}}function Ct(o){let e;return{c(){e=W(o[1])},l(r){e=R(r,o[1])},m(r,t){N(r,e,t)},p:le,d(r){r&&u(e)}}}function St(o){let e,r,t,l=o[9].heartbeatDetails&&Vt(o),n=o[9].lastFailure&&At(o);return{c(){e=b("div"),l&&l.c(),r=T(),n&&n.c(),this.h()},l(s){e=y(s,"DIV",{class:!0});var a=E(e);l&&l.l(a),r=q(a),n&&n.l(a),a.forEach(u),this.h()},h(){w(e,"class","pending-activity-failure-details svelte-1uplrqm")},m(s,a){N(s,e,a),l&&l.m(e,null),f(e,r),n&&n.m(e,null),t=!0},p(s,a){s[9].heartbeatDetails&&l.p(s,a),s[9].lastFailure&&n.p(s,a)},i(s){t||(_(l),_(n),t=!0)},o(s){h(l),h(n),t=!1},d(s){s&&u(e),l&&l.d(),n&&n.d()}}}function Vt(o){let e,r,t,l,n,s;return n=new Pe({props:{class:"max-h-32",content:o[9].heartbeatDetails}}),{c(){e=b("div"),r=b("h4"),t=W("Heartbeat Details"),l=T(),C(n.$$.fragment),this.h()},l(a){e=y(a,"DIV",{class:!0});var i=E(e);r=y(i,"H4",{class:!0});var c=E(r);t=R(c,"Heartbeat Details"),c.forEach(u),l=q(i),S(n.$$.fragment,i),i.forEach(u),this.h()},h(){w(r,"class","pending-activity-detail-header svelte-1uplrqm"),w(e,"class","w-full")},m(a,i){N(a,e,i),f(e,r),f(r,t),f(e,l),V(n,e,null),s=!0},p:le,i(a){s||(_(n.$$.fragment,a),s=!0)},o(a){h(n.$$.fragment,a),s=!1},d(a){a&&u(e),A(n)}}}function At(o){let e,r,t,l,n,s;return n=new Pe({props:{class:"max-h-32",content:o[9].lastFailure}}),{c(){e=b("div"),r=b("h4"),t=W("Last Failure"),l=T(),C(n.$$.fragment),this.h()},l(a){e=y(a,"DIV",{class:!0});var i=E(e);r=y(i,"H4",{class:!0});var c=E(r);t=R(c,"Last Failure"),c.forEach(u),l=q(i),S(n.$$.fragment,i),i.forEach(u),this.h()},h(){w(r,"class","pending-activity-detail-header svelte-1uplrqm"),w(e,"class","w-full")},m(a,i){N(a,e,i),f(e,r),f(r,t),f(e,l),V(n,e,null),s=!0},p:le,i(a){s||(_(n.$$.fragment,a),s=!0)},o(a){h(n.$$.fragment,a),s=!1},d(a){a&&u(e),A(n)}}}function Be(o,e){let r,t,l=e[9].activityId+"",n,s,a,i,c,g,H,$,D,p,d,k,O,M,ee,ne=Oe(e[9].lastHeartbeatTime,"relative")+"",ce,G,j,oe,te,ue,z,me,P,Q,ae,pe,X,re,Y,Z,U,J,fe,Te=_t(e[9].maximumAttempts,ct(ut({start:Date.now(),end:e[9].expirationTime})))+"",de,F,he,$e;p=new He({props:{type:e[10]?"error":"default",$$slots:{default:[Et]},$$scope:{ctx:e}}}),z=new He({props:{type:e[10]?"error":"default",$$slots:{default:[Tt]},$$scope:{ctx:e}}}),X=new He({props:{type:e[10]?"error":"default",$$slots:{default:[qt]},$$scope:{ctx:e}}});let m=e[10]&&Dt(e),v=e[10]&&St(e);return{key:o,first:null,c(){r=b("div"),t=b("h3"),n=W(l),s=T(),a=b("div"),i=b("a"),c=b("div"),g=b("div"),H=b("h4"),$=W("Activity Type"),D=T(),C(p.$$.fragment),d=T(),k=b("div"),O=b("h4"),M=W("Last Heartbeat"),ee=T(),ce=W(ne),G=T(),j=b("div"),oe=b("h4"),te=W("Attempt"),ue=T(),C(z.$$.fragment),me=T(),P=b("div"),Q=b("h4"),ae=W("Attempts Left"),pe=T(),C(X.$$.fragment),re=T(),m&&m.c(),Y=T(),Z=b("div"),U=b("h4"),J=W("Expiration"),fe=T(),de=W(Te),F=T(),v&&v.c(),he=T(),this.h()},l(I){r=y(I,"DIV",{class:!0});var L=E(r);t=y(L,"H3",{class:!0});var K=E(t);n=R(K,l),K.forEach(u),s=q(L),a=y(L,"DIV",{class:!0});var x=E(a);i=y(x,"A",{class:!0,href:!0});var se=E(i);c=y(se,"DIV",{class:!0});var B=E(c);g=y(B,"DIV",{class:!0});var ge=E(g);H=y(ge,"H4",{class:!0});var ve=E(H);$=R(ve,"Activity Type"),ve.forEach(u),D=q(ge),S(p.$$.fragment,ge),ge.forEach(u),d=q(B),k=y(B,"DIV",{class:!0});var qe=E(k);O=y(qe,"H4",{class:!0});var Fe=E(O);M=R(Fe,"Last Heartbeat"),Fe.forEach(u),ee=q(qe),ce=R(qe,ne),qe.forEach(u),G=q(B),j=y(B,"DIV",{class:!0});var De=E(j);oe=y(De,"H4",{class:!0});var je=E(oe);te=R(je,"Attempt"),je.forEach(u),ue=q(De),S(z.$$.fragment,De),De.forEach(u),me=q(B),P=y(B,"DIV",{class:!0});var Ce=E(P);Q=y(Ce,"H4",{class:!0});var ze=E(Q);ae=R(ze,"Attempts Left"),ze.forEach(u),pe=q(Ce),S(X.$$.fragment,Ce),Ce.forEach(u),re=q(B),m&&m.l(B),Y=q(B),Z=y(B,"DIV",{class:!0});var Se=E(Z);U=y(Se,"H4",{class:!0});var Qe=E(U);J=R(Qe,"Expiration"),Qe.forEach(u),fe=q(Se),de=R(Se,Te),Se.forEach(u),B.forEach(u),se.forEach(u),F=q(x),v&&v.l(x),x.forEach(u),he=q(L),L.forEach(u),this.h()},h(){w(t,"class","w-6 self-start p-1 font-normal text-gray-500"),w(H,"class","pending-activity-detail-header svelte-1uplrqm"),w(g,"class","pending-activity-detail svelte-1uplrqm"),w(O,"class","pending-activity-detail-header svelte-1uplrqm"),w(k,"class","pending-activity-detail svelte-1uplrqm"),w(oe,"class","pending-activity-detail-header svelte-1uplrqm"),w(j,"class","pending-activity-detail svelte-1uplrqm"),w(Q,"class","pending-activity-detail-header svelte-1uplrqm"),w(P,"class","pending-activity-detail svelte-1uplrqm"),w(U,"class","pending-activity-detail-header svelte-1uplrqm"),w(Z,"class","pending-activity-detail svelte-1uplrqm"),w(c,"class","pending-activity-inner-row svelte-1uplrqm"),w(i,"class","flex w-full items-center hover:bg-gray-50"),w(i,"href",e[2]),w(a,"class","pending-activity-summary svelte-1uplrqm"),w(r,"class","pending-activity-row svelte-1uplrqm"),this.first=r},m(I,L){N(I,r,L),f(r,t),f(t,n),f(r,s),f(r,a),f(a,i),f(i,c),f(c,g),f(g,H),f(H,$),f(g,D),V(p,g,null),f(c,d),f(c,k),f(k,O),f(O,M),f(k,ee),f(k,ce),f(c,G),f(c,j),f(j,oe),f(oe,te),f(j,ue),V(z,j,null),f(c,me),f(c,P),f(P,Q),f(Q,ae),f(P,pe),V(X,P,null),f(c,re),m&&m.m(c,null),f(c,Y),f(c,Z),f(Z,U),f(U,J),f(Z,fe),f(Z,de),f(a,F),v&&v.m(a,null),f(r,he),$e=!0},p(I,L){e=I;const K={};L&8192&&(K.$$scope={dirty:L,ctx:e}),p.$set(K);const x={};L&8192&&(x.$$scope={dirty:L,ctx:e}),z.$set(x);const se={};L&8192&&(se.$$scope={dirty:L,ctx:e}),X.$set(se),e[10]&&m.p(e,L),e[10]&&v.p(e,L)},i(I){$e||(_(p.$$.fragment,I),_(z.$$.fragment,I),_(X.$$.fragment,I),_(m),_(v),$e=!0)},o(I){h(p.$$.fragment,I),h(z.$$.fragment,I),h(X.$$.fragment,I),h(m),h(v),$e=!1},d(I){I&&u(r),A(p),A(z),A(X),m&&m.d(),v&&v.d()}}}function Ht(o){let e;return{c(){e=W("Show all")},l(r){e=R(r,"Show all")},m(r,t){N(r,e,t)},d(r){r&&u(e)}}}function Nt(o){let e,r,t=o[0].length&&yt(o);return{c(){t&&t.c(),e=we()},l(l){t&&t.l(l),e=we()},m(l,n){t&&t.m(l,n),N(l,e,n),r=!0},p(l,[n]){l[0].length&&t.p(l,n)},i(l){r||(_(t),r=!0)},o(l){h(t),r=!1},d(l){t&&t.d(l),l&&u(e)}}}function Wt(o,e,r){let t,l;_e(o,lt,$=>r(4,t=$)),_e(o,rt,$=>r(5,l=$));const{namespace:n,run:s}=l.params,{workflow:a}=t,{pendingActivities:i,defaultWorkflowTaskTimeout:c,id:g}=a,H=it({namespace:n,workflow:g,run:s});return[i,c,H,g]}class Rt extends ke{constructor(e){super(),be(this,e,Wt,Nt,ye,{})}}function Me(o){let e,r,t;return r=new wt({props:{icon:"warning",title:"No Workers Running",content:"Please make sure you have at least one worker connected to the "+o[0].taskQueue+" Task Queue.",class:"my-0"}}),{c(){e=b("section"),C(r.$$.fragment),this.h()},l(l){e=y(l,"SECTION",{class:!0});var n=E(e);S(r.$$.fragment,n),n.forEach(u),this.h()},h(){w(e,"class","stack-trace svelte-wcmxvi")},m(l,n){N(l,e,n),V(r,e,null),t=!0},p(l,n){const s={};n&1&&(s.content="Please make sure you have at least one worker connected to the "+l[0].taskQueue+" Task Queue."),r.$set(s)},i(l){t||(_(r.$$.fragment,l),t=!0)},o(l){h(r.$$.fragment,l),t=!1},d(l){l&&u(e),A(r)}}}function Lt(o){let e,r,t=o[1]&&Me(o);return{c(){t&&t.c(),e=we()},l(l){t&&t.l(l),e=we()},m(l,n){t&&t.m(l,n),N(l,e,n),r=!0},p(l,[n]){l[1]?t?(t.p(l,n),n&2&&_(t,1)):(t=Me(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(Ee(),h(t,1,1,()=>{t=null}),Ie())},i(l){r||(_(t),r=!0)},o(l){h(t),r=!1},d(l){t&&t.d(l),l&&u(e)}}}function Ot(o,e,r){let t;var l;let{workflow:n}=e,{workers:s}=e;return o.$$set=a=>{"workflow"in a&&r(0,n=a.workflow),"workers"in a&&r(2,s=a.workers)},o.$$.update=()=>{o.$$.dirty&13&&r(1,t=n.isRunning&&!(!(r(3,l=s==null?void 0:s.pollers)===null||l===void 0)&&l.length))},[n,t,s,l]}class Pt extends ke{constructor(e){super(),be(this,e,Ot,Lt,ye,{workflow:0,workers:2})}}const Ft=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],jt=o=>{for(const e of Ft)if(o.eventType===e)return!0;return!1},zt=o=>{for(const e of o)if(jt(e))return e},Qt=o=>kt(o)?o.attributes.result===null?null:o.attributes.result.payloads:o.attributes,Jt=o=>{var n,s,a;let e,r;const t=o==null?void 0:o.find(i=>!!i.workflowExecutionStartedEventAttributes),l=zt(o);return t&&(e=JSON.stringify((a=(s=(n=t==null?void 0:t.workflowExecutionStartedEventAttributes)==null?void 0:n.input)==null?void 0:s.payloads)!=null?a:null)),l&&(r=JSON.stringify(Qt(l))),{input:e,results:r}};function Bt(o){let e,r;return e=new ot({props:{title:"In progress..."}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){V(e,t,l),r=!0},p:le,i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function Mt(o){let e,r,t,l;const n=[Kt,Ut],s=[];function a(i,c){return i[3]?0:1}return e=a(o),r=s[e]=n[e](o),{c(){r.c(),t=we()},l(i){r.l(i),t=we()},m(i,c){s[e].m(i,c),N(i,t,c),l=!0},p(i,c){let g=e;e=a(i),e===g?s[e].p(i,c):(Ee(),h(s[g],1,1,()=>{s[g]=null}),Ie(),r=s[e],r?r.p(i,c):(r=s[e]=n[e](i),r.c()),_(r,1),r.m(t.parentNode,t))},i(i){l||(_(r),l=!0)},o(i){h(r),l=!1},d(i){s[e].d(i),i&&u(t)}}}function Ut(o){let e,r;return e=new Pe({props:{content:o[1],class:"mb-2 max-h-96"}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){V(e,t,l),r=!0},p(t,l){const n={};l&2&&(n.content=t[1]),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function Kt(o){let e,r;return e=new ot({props:{title:"In progress..."}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){V(e,t,l),r=!0},p:le,i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function Gt(o){let e,r,t,l,n,s,a,i;const c=[Mt,Bt],g=[];function H($,D){return $[1]?0:1}return n=H(o),s=g[n]=c[n](o),{c(){e=b("article"),r=b("h3"),t=W(o[2]),l=T(),s.c(),this.h()},l($){e=y($,"ARTICLE",{class:!0,"data-cy":!0});var D=E(e);r=y(D,"H3",{class:!0});var p=E(r);t=R(p,o[2]),p.forEach(u),l=q(D),s.l(D),D.forEach(u),this.h()},h(){w(r,"class","text-lg"),w(e,"class","flex w-full flex-col rounded-lg border-2 border-gray-300 p-4 lg:w-1/2"),w(e,"data-cy",a="workflow-"+o[0])},m($,D){N($,e,D),f(e,r),f(r,t),f(e,l),g[n].m(e,null),i=!0},p($,[D]){(!i||D&4)&&We(t,$[2]);let p=n;n=H($),n===p?g[n].p($,D):(Ee(),h(g[p],1,1,()=>{g[p]=null}),Ie(),s=g[n],s?s.p($,D):(s=g[n]=c[n]($),s.c()),_(s,1),s.m(e,null)),(!i||D&1&&a!==(a="workflow-"+$[0]))&&w(e,"data-cy",a)},i($){i||(_(s),i=!0)},o($){h(s),i=!1},d($){$&&u(e),g[n].d()}}}function Xt(o,e,r){let t,l,n,s;_e(o,mt,c=>r(5,n=c)),_e(o,pt,c=>r(3,s=c));var a;let{type:i}=e;return o.$$set=c=>{"type"in c&&r(0,i=c.type)},o.$$.update=()=>{o.$$.dirty&1&&r(2,t=vt(i)),o.$$.dirty&49&&r(1,l=Jt(r(4,a=n==null?void 0:n.events)!==null&&a!==void 0?a:[])[i])},[i,l,t,s,a,n]}class Ue extends ke{constructor(e){super(),be(this,e,Xt,Gt,ye,{type:0})}}function Yt(o){let e,r;return{c(){e=b("div"),r=W(o[1]),this.h()},l(t){e=y(t,"DIV",{class:!0});var l=E(e);r=R(l,o[1]),l.forEach(u),this.h()},h(){w(e,"class","select-all")},m(t,l){N(t,e,l),f(e,r)},p(t,l){l&2&&We(r,t[1])},i:le,o:le,d(t){t&&u(e)}}}function Zt(o){let e,r;return e=new bt({props:{content:o[1],$$slots:{default:[er]},$$scope:{ctx:o}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){V(e,t,l),r=!0},p(t,l){const n={};l&2&&(n.content=t[1]),l&22&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function xt(o){let e;return{c(){e=W(o[1])},l(r){e=R(r,o[1])},m(r,t){N(r,e,t)},p(r,t){t&2&&We(e,r[1])},d(r){r&&u(e)}}}function er(o){let e,r;return e=new nt({props:{href:o[2],$$slots:{default:[xt]},$$scope:{ctx:o}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){V(e,t,l),r=!0},p(t,l){const n={};l&4&&(n.href=t[2]),l&18&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function tr(o){let e,r,t,l,n,s,a,i,c,g;const H=[Zt,Yt],$=[];function D(p,d){return p[2]?0:1}return a=D(o),i=$[a]=H[a](o),{c(){e=b("article"),r=b("div"),t=W(o[0]),l=W(":"),n=T(),s=b("div"),i.c(),this.h()},l(p){e=y(p,"ARTICLE",{class:!0});var d=E(e);r=y(d,"DIV",{class:!0});var k=E(r);t=R(k,o[0]),l=R(k,":"),k.forEach(u),n=q(d),s=y(d,"DIV",{});var O=E(s);i.l(O),O.forEach(u),d.forEach(u),this.h()},h(){w(r,"class","font-medium"),w(e,"class",c="flex gap-2 text-"+o[3])},m(p,d){N(p,e,d),f(e,r),f(r,t),f(r,l),f(e,n),f(e,s),$[a].m(s,null),g=!0},p(p,[d]){(!g||d&1)&&We(t,p[0]);let k=a;a=D(p),a===k?$[a].p(p,d):(Ee(),h($[k],1,1,()=>{$[k]=null}),Ie(),i=$[a],i?i.p(p,d):(i=$[a]=H[a](p),i.c()),_(i,1),i.m(s,null)),(!g||d&8&&c!==(c="flex gap-2 text-"+p[3]))&&w(e,"class",c)},i(p){g||(_(i),g=!0)},o(p){h(i),g=!1},d(p){p&&u(e),$[a].d()}}}function rr(o,e,r){let{title:t}=e,{content:l}=e,{href:n=null}=e,{textSize:s="md"}=e;return o.$$set=a=>{"title"in a&&r(0,t=a.title),"content"in a&&r(1,l=a.content),"href"in a&&r(2,n=a.href),"textSize"in a&&r(3,s=a.textSize)},[t,l,n,s]}class ie extends ke{constructor(e){super(),be(this,e,rr,tr,ye,{title:0,content:1,href:2,textSize:3})}}function Ke(o,e,r){const t=o.slice();return t[13]=e[r],t}function lr(o){var s,a,i,c,g,H;let e,r,t,l,n;return r=new ie({props:{title:"Parent",content:(s=o[2].parent)==null?void 0:s.workflowId,href:Ne({namespace:o[1],workflow:(a=o[2].parent)==null?void 0:a.workflowId,run:(i=o[2].parent)==null?void 0:i.runId})}}),l=new ie({props:{title:"Parent ID",content:(c=o[2].parent)==null?void 0:c.runId,href:Ne({namespace:o[1],workflow:(g=o[2].parent)==null?void 0:g.workflowId,run:(H=o[2].parent)==null?void 0:H.runId})}}),{c(){e=b("div"),C(r.$$.fragment),t=T(),C(l.$$.fragment),this.h()},l($){e=y($,"DIV",{class:!0});var D=E(e);S(r.$$.fragment,D),t=q(D),S(l.$$.fragment,D),D.forEach(u),this.h()},h(){w(e,"class","gap-2 xl:flex")},m($,D){N($,e,D),V(r,e,null),f(e,t),V(l,e,null),n=!0},p:le,i($){n||(_(r.$$.fragment,$),_(l.$$.fragment,$),n=!0)},o($){h(r.$$.fragment,$),h(l.$$.fragment,$),n=!1},d($){$&&u(e),A(r),A(l)}}}function Ge(o,e){let r,t,l,n,s;return t=new ie({props:{title:"Child",content:e[13].workflowId,href:Ne({namespace:e[1],workflow:e[13].workflowId,run:e[13].runId})}}),n=new ie({props:{title:"Child ID",content:e[13].runId,href:Ne({namespace:e[1],workflow:e[13].workflowId,run:e[13].runId})}}),{key:o,first:null,c(){r=b("div"),C(t.$$.fragment),l=T(),C(n.$$.fragment),this.h()},l(a){r=y(a,"DIV",{class:!0});var i=E(r);S(t.$$.fragment,i),l=q(i),S(n.$$.fragment,i),i.forEach(u),this.h()},h(){w(r,"class","gap-2 xl:flex"),this.first=r},m(a,i){N(a,r,i),V(t,r,null),f(r,l),V(n,r,null),s=!0},p(a,i){e=a},i(a){s||(_(t.$$.fragment,a),_(n.$$.fragment,a),s=!0)},o(a){h(t.$$.fragment,a),h(n.$$.fragment,a),s=!1},d(a){a&&u(r),A(t),A(n)}}}function nr(o){let e;return{c(){e=W("Timeline")},l(r){e=R(r,"Timeline")},m(r,t){N(r,e,t)},d(r){r&&u(e)}}}function or(o){let e;return{c(){e=W("Compact")},l(r){e=R(r,"Compact")},m(r,t){N(r,e,t)},d(r){r&&u(e)}}}function ar(o){let e;return{c(){e=W("JSON")},l(r){e=R(r,"JSON")},m(r,t){N(r,e,t)},d(r){r&&u(e)}}}function sr(o){let e,r,t,l,n,s;return e=new Le({props:{icon:"feed",base:Ve(o[4]("feed")),href:Ve(o[4]("feed")),active:o[0]==="feed","data-cy":"feed",$$slots:{default:[nr]},$$scope:{ctx:o}}}),e.$on("click",o[7]),t=new Le({props:{icon:"compact",href:Ve(o[4]("compact")),active:o[0]==="compact","data-cy":"compact",$$slots:{default:[or]},$$scope:{ctx:o}}}),t.$on("click",o[8]),n=new Le({props:{icon:"json",href:Ve(o[4]("json")),active:o[0]==="json","data-cy":"json",$$slots:{default:[ar]},$$scope:{ctx:o}}}),n.$on("click",o[9]),{c(){C(e.$$.fragment),r=T(),C(t.$$.fragment),l=T(),C(n.$$.fragment)},l(a){S(e.$$.fragment,a),r=q(a),S(t.$$.fragment,a),l=q(a),S(n.$$.fragment,a)},m(a,i){V(e,a,i),N(a,r,i),V(t,a,i),N(a,l,i),V(n,a,i),s=!0},p(a,i){const c={};i&1&&(c.active=a[0]==="feed"),i&1024&&(c.$$scope={dirty:i,ctx:a}),e.$set(c);const g={};i&1&&(g.active=a[0]==="compact"),i&1024&&(g.$$scope={dirty:i,ctx:a}),t.$set(g);const H={};i&1&&(H.active=a[0]==="json"),i&1024&&(H.$$scope={dirty:i,ctx:a}),n.$set(H)},i(a){s||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(n.$$.fragment,a),s=!0)},o(a){h(e.$$.fragment,a),h(t.$$.fragment,a),h(n.$$.fragment,a),s=!1},d(a){A(e,a),a&&u(r),A(t,a),a&&u(l),A(n,a)}}}function ir(o){var he,$e;let e,r,t,l,n,s,a,i,c,g,H,$,D,p,d=[],k=new Map,O,M,ee,ne,ce,G,j,oe,te,ue,z,me,P,Q,ae,pe,X,re,Y,Z,U;t=new ie({props:{title:"Workflow Type",content:o[2].name}}),n=new ie({props:{title:"Run ID",content:o[2].runId}}),i=new ie({props:{title:"Start Time",content:Oe(o[2].startTime,"UTC")}}),g=new ie({props:{title:"Close Time",content:Oe(o[2].endTime,"UTC")}}),$=new ie({props:{title:"Task Queue",content:o[2].taskQueue,href:ft(o[5])}});let J=((he=o[2])==null?void 0:he.parent)&&lr(o),fe=($e=o[2])==null?void 0:$e.pendingChildren;const Te=m=>m[13].runId;for(let m=0;m<fe.length;m+=1){let v=Ke(o,fe,m),I=Te(v);k.set(I,d[m]=Ge(I,v))}M=new ie({props:{title:"State Transitions",content:o[2].stateTransitionCount}}),ne=new Pt({props:{workflow:o[2],workers:o[3]}}),j=new Ue({props:{type:"input"}}),te=new Ue({props:{type:"results"}}),z=new Rt({}),Y=new $t({props:{$$slots:{default:[sr]},$$scope:{ctx:o}}});const de=o[6].default,F=Ze(de,o,o[10],null);return{c(){e=b("section"),r=b("section"),C(t.$$.fragment),l=T(),C(n.$$.fragment),s=T(),a=b("div"),C(i.$$.fragment),c=T(),C(g.$$.fragment),H=T(),C($.$$.fragment),D=T(),J&&J.c(),p=T();for(let m=0;m<d.length;m+=1)d[m].c();O=T(),C(M.$$.fragment),ee=T(),C(ne.$$.fragment),ce=T(),G=b("section"),C(j.$$.fragment),oe=T(),C(te.$$.fragment),ue=T(),C(z.$$.fragment),me=T(),P=b("section"),Q=b("nav"),ae=b("h3"),pe=W("Recent Events"),X=T(),re=b("div"),C(Y.$$.fragment),Z=T(),F&&F.c(),this.h()},l(m){e=y(m,"SECTION",{class:!0});var v=E(e);r=y(v,"SECTION",{class:!0});var I=E(r);S(t.$$.fragment,I),l=q(I),S(n.$$.fragment,I),s=q(I),a=y(I,"DIV",{class:!0});var L=E(a);S(i.$$.fragment,L),c=q(L),S(g.$$.fragment,L),L.forEach(u),H=q(I),S($.$$.fragment,I),D=q(I),J&&J.l(I),p=q(I);for(let ve=0;ve<d.length;ve+=1)d[ve].l(I);O=q(I),S(M.$$.fragment,I),I.forEach(u),ee=q(v),S(ne.$$.fragment,v),ce=q(v),G=y(v,"SECTION",{class:!0});var K=E(G);S(j.$$.fragment,K),oe=q(K),S(te.$$.fragment,K),K.forEach(u),ue=q(v),S(z.$$.fragment,v),me=q(v),P=y(v,"SECTION",{id:!0});var x=E(P);Q=y(x,"NAV",{class:!0});var se=E(Q);ae=y(se,"H3",{class:!0});var B=E(ae);pe=R(B,"Recent Events"),B.forEach(u),X=q(se),re=y(se,"DIV",{id:!0,class:!0});var ge=E(re);S(Y.$$.fragment,ge),ge.forEach(u),se.forEach(u),Z=q(x),F&&F.l(x),x.forEach(u),v.forEach(u),this.h()},h(){w(a,"class","flex flex-col gap-1 md:flex-row md:gap-6"),w(r,"class","flex flex-col gap-1"),w(G,"class","flex w-full flex-col gap-4 lg:flex-row"),w(ae,"class","text-lg font-medium"),w(re,"id","event-view-toggle"),w(re,"class","flex gap-4"),w(Q,"class","flex items-end justify-between gap-4 pb-4"),w(P,"id","event-history"),w(e,"class","flex flex-col gap-4")},m(m,v){N(m,e,v),f(e,r),V(t,r,null),f(r,l),V(n,r,null),f(r,s),f(r,a),V(i,a,null),f(a,c),V(g,a,null),f(r,H),V($,r,null),f(r,D),J&&J.m(r,null),f(r,p);for(let I=0;I<d.length;I+=1)d[I].m(r,null);f(r,O),V(M,r,null),f(e,ee),V(ne,e,null),f(e,ce),f(e,G),V(j,G,null),f(G,oe),V(te,G,null),f(e,ue),V(z,e,null),f(e,me),f(e,P),f(P,Q),f(Q,ae),f(ae,pe),f(Q,X),f(Q,re),V(Y,re,null),f(P,Z),F&&F.m(P,null),U=!0},p(m,[v]){var L,K;(L=m[2])!=null&&L.parent&&J.p(m,v),v&6&&(fe=(K=m[2])==null?void 0:K.pendingChildren,Ee(),d=Xe(d,v,Te,1,m,fe,k,r,Ye,Ge,O,Ke),Ie());const I={};v&1025&&(I.$$scope={dirty:v,ctx:m}),Y.$set(I),F&&F.p&&(!U||v&1024)&&xe(F,de,m,m[10],U?tt(de,m[10],v,null):et(m[10]),null)},i(m){if(!U){_(t.$$.fragment,m),_(n.$$.fragment,m),_(i.$$.fragment,m),_(g.$$.fragment,m),_($.$$.fragment,m),_(J);for(let v=0;v<fe.length;v+=1)_(d[v]);_(M.$$.fragment,m),_(ne.$$.fragment,m),_(j.$$.fragment,m),_(te.$$.fragment,m),_(z.$$.fragment,m),_(Y.$$.fragment,m),_(F,m),U=!0}},o(m){h(t.$$.fragment,m),h(n.$$.fragment,m),h(i.$$.fragment,m),h(g.$$.fragment,m),h($.$$.fragment,m),h(J);for(let v=0;v<d.length;v+=1)h(d[v]);h(M.$$.fragment,m),h(ne.$$.fragment,m),h(j.$$.fragment,m),h(te.$$.fragment,m),h(z.$$.fragment,m),h(Y.$$.fragment,m),h(F,m),U=!1},d(m){m&&u(e),A(t),A(n),A(i),A(g),A($),J&&J.d();for(let v=0;v<d.length;v+=1)d[v].d();A(M),A(ne),A(j),A(te),A(z),A(Y),F&&F.d(m)}}}function fr(o,e,r){let t,l,n;_e(o,lt,k=>r(11,t=k)),_e(o,rt,k=>r(12,l=k)),_e(o,Ae,k=>r(0,n=k));let{$$slots:s={},$$scope:a}=e;const{namespace:i}=l.params,{workflow:c,workers:g}=t,H=(k,O)=>({namespace:i,workflow:c.id,run:c.runId,view:k,eventId:O}),$={namespace:i,workflow:c.id,run:c.runId};st(()=>{dt()});const D=()=>Re(Ae,n="feed",n),p=()=>Re(Ae,n="compact",n),d=()=>Re(Ae,n="json",n);return o.$$set=k=>{"$$scope"in k&&r(10,a=k.$$scope)},[n,i,c,g,H,$,s,D,p,d,a]}class cr extends ke{constructor(e){super(),be(this,e,fr,ir,ye,{})}}function ur(o){let e;const r=o[0].default,t=Ze(r,o,o[1],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&2)&&xe(t,r,l,l[1],e?tt(r,l[1],n,null):et(l[1]),null)},i(l){e||(_(t,l),e=!0)},o(l){h(t,l),e=!1},d(l){t&&t.d(l)}}}function mr(o){let e,r;return e=new cr({props:{$$slots:{default:[ur]},$$scope:{ctx:o}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){V(e,t,l),r=!0},p(t,[l]){const n={};l&2&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function pr(o,e,r){let{$$slots:t={},$$scope:l}=e;return o.$$set=n=>{"$$scope"in n&&r(1,l=n.$$scope)},[t,l]}class xr extends ke{constructor(e){super(),be(this,e,pr,mr,ye,{})}}export{xr as default};
