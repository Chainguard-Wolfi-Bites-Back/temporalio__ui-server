import{S as O,i as j,s as A,e as h,c as d,a as g,d as m,g as b,o as $,p as F,q as w,n as H,w as C,x as D,y as L,E as T,B as x,ap as B,l as N,aq as M,k as R,t as E,m as q,h as y,b as I,M as k,j as W}from"../../../../../../chunks/index-f021a159.js";import{t as z}from"../../../../../../chunks/index.es-3049caa8.js";import{b as P}from"../../../../../../chunks/query-service-9435b345.js";import{C as G}from"../../../../../../chunks/code-block-fb92f050.js";import{B as J}from"../../../../../../chunks/button-123e362f.js";import{E as V}from"../../../../../../chunks/empty-state-e30562dc.js";import"../../../../../../chunks/route-for-api-f008b741.js";import"../../../../../../chunks/navigation-3f1ea447.js";import"../../../../../../chunks/singletons-d1fb5791.js";import"../../../../../../chunks/index-cfbcd7ef.js";import"../../../../../../chunks/notifications-0558c095.js";import"../../../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../../../chunks/route-for-d606e623.js";import"../../../../../../chunks/atob-5f9d7101.js";function K(c){let e,n;return e=new V({props:{title:"No Stack Traces Found"}}),{c(){C(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,o){L(e,t,o),n=!0},p:T,i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Q(c){let e,n,t,o={ctx:c,current:null,token:null,hasCatch:!0,pending:Z,then:X,catch:U,value:6,error:7,blocks:[,,,]};return B(n=c[2],o),{c(){e=N(),o.block.c()},l(a){e=N(),o.block.l(a)},m(a,s){b(a,e,s),o.block.m(a,o.anchor=s),o.mount=()=>e.parentNode,o.anchor=e,t=!0},p(a,s){c=a,o.ctx=c,s&4&&n!==(n=c[2])&&B(n,o)||M(o,c,s)},i(a){t||(w(o.block),t=!0)},o(a){for(let s=0;s<3;s+=1){const l=o.blocks[s];$(l)}t=!1},d(a){a&&m(e),o.block.d(a),o.token=null,o=null}}}function U(c){let e,n;return e=new V({props:{title:"An Error Occured",content:"Please make sure you have at least one worker running."}}),{c(){C(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,o){L(e,t,o),n=!0},p:T,i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function X(c){let e,n,t,o,a,s=c[1].toLocaleTimeString()+"",l,u,r,i,_;return n=new J({props:{icon:z,loading:te,$$slots:{default:[Y]},$$scope:{ctx:c}}}),n.$on("click",c[3]),i=new G({props:{content:c[6],language:"text"}}),{c(){e=h("div"),C(n.$$.fragment),t=R(),o=h("p"),a=E("Stack Trace at "),l=E(s),u=R(),r=h("div"),C(i.$$.fragment),this.h()},l(f){e=d(f,"DIV",{class:!0});var p=g(e);D(n.$$.fragment,p),t=q(p),o=d(p,"P",{});var v=g(o);a=y(v,"Stack Trace at "),l=y(v,s),v.forEach(m),p.forEach(m),u=q(f),r=d(f,"DIV",{class:!0});var S=g(r);D(i.$$.fragment,S),S.forEach(m),this.h()},h(){I(e,"class","flex items-center gap-4"),I(r,"class","flex items-start h-full")},m(f,p){b(f,e,p),L(n,e,null),k(e,t),k(e,o),k(o,a),k(o,l),b(f,u,p),b(f,r,p),L(i,r,null),_=!0},p(f,p){const v={};p&256&&(v.$$scope={dirty:p,ctx:f}),n.$set(v),(!_||p&2)&&s!==(s=f[1].toLocaleTimeString()+"")&&W(l,s);const S={};p&4&&(S.content=f[6]),i.$set(S)},i(f){_||(w(n.$$.fragment,f),w(i.$$.fragment,f),_=!0)},o(f){$(n.$$.fragment,f),$(i.$$.fragment,f),_=!1},d(f){f&&m(e),x(n),f&&m(u),f&&m(r),x(i)}}}function Y(c){let e;return{c(){e=E("Refresh")},l(n){e=y(n,"Refresh")},m(n,t){b(n,e,t)},d(n){n&&m(e)}}}function Z(c){let e,n,t,o,a,s;return{c(){e=h("div"),n=h("h2"),t=E("Loading\u2026"),o=R(),a=h("p"),s=E("(This will fail if you have no workers running.)"),this.h()},l(l){e=d(l,"DIV",{class:!0});var u=g(e);n=d(u,"H2",{class:!0});var r=g(n);t=y(r,"Loading\u2026"),r.forEach(m),o=q(u),a=d(u,"P",{});var i=g(a);s=y(i,"(This will fail if you have no workers running.)"),i.forEach(m),u.forEach(m),this.h()},h(){I(n,"class","font-bold text-2xl mb-4"),I(e,"class","text-center")},m(l,u){b(l,e,u),k(e,n),k(n,t),k(e,o),k(e,a),k(a,s)},p:T,i:T,o:T,d(l){l&&m(e)}}}function ee(c){let e,n,t,o,a;const s=[Q,K],l=[];function u(r,i){return i&1&&(n=null),n==null&&(n=String(r[0].status)==="Running"),n?0:1}return t=u(c,-1),o=l[t]=s[t](c),{c(){e=h("section"),o.c()},l(r){e=d(r,"SECTION",{});var i=g(e);o.l(i),i.forEach(m)},m(r,i){b(r,e,i),l[t].m(e,null),a=!0},p(r,[i]){let _=t;t=u(r,i),t===_?l[t].p(r,i):(H(),$(l[_],1,1,()=>{l[_]=null}),F(),o=l[t],o?o.p(r,i):(o=l[t]=s[t](r),o.c()),w(o,1),o.m(e,null))},i(r){a||(w(o),a=!0)},o(r){$(o),a=!1},d(r){r&&m(e),l[t].d()}}}const de=async function({params:c,stuff:e}){const{namespace:n}=c,{workflow:t}=e;return{props:{workflow:t,namespace:n}}};let te=!1;function ne(c,e,n){let{namespace:t}=e,{workflow:o}=e,a=new Date,l=(()=>P({workflow:o,namespace:t}))();const u=()=>{n(2,l=P({workflow:o,namespace:t})),l.then(()=>{n(1,a=new Date)})};return c.$$set=r=>{"namespace"in r&&n(4,t=r.namespace),"workflow"in r&&n(0,o=r.workflow)},[o,a,l,u,t]}class ge extends O{constructor(e){super(),j(this,e,ne,ee,A,{namespace:4,workflow:0})}}export{ge as default,de as load};
