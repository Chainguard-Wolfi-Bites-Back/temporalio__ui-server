import{S as Q,i as z,s as K,e as v,c as b,a as g,d as u,b as m,g as E,L as d,t as S,k as C,h as T,m as P,U as O,j,J as W,l as G,q as y,o as I,p as A,a1 as X,I as Y,n as L,T as U,w as Z,x as $,y as x,B as ee,aC as te}from"../../../../../../../../chunks/vendor-cba54241.js";import{b as le}from"../../../../../../../../chunks/route-for-bfb45385.js";import{p as re}from"../../../../../../../../chunks/stores-a6bbeb31.js";import{f as q}from"../../../../../../../../chunks/format-camel-case-8b7e013d.js";import{C as ne}from"../../../../../../../../chunks/code-block-fa59ce22.js";import{a as B}from"../../../../../../../../chunks/append-query-parameters-b8619cc0.js";const se=(i,e)=>{const n=i.id;for(const l of e){if(n===l.id)return l;for(const o of l.eventIds)if(n===o)return l}};function F(i,e,n){const l=i.slice();return l[4]=e[n][0],l[5]=e[n][1],l}function H(i,e,n){const l=i.slice();return l[8]=e[n][0],l[9]=e[n][1],l}function R(i){let e,n,l=[...i[1].events],o=[];for(let s=0;s<l.length;s+=1)o[s]=V(H(i,l,s));return{c(){e=v("nav"),n=v("ul");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=b(s,"NAV",{class:!0});var r=g(e);n=b(r,"UL",{class:!0});var t=g(n);for(let a=0;a<o.length;a+=1)o[a].l(t);t.forEach(u),r.forEach(u),this.h()},h(){m(n,"class","flex gap-4 w-full items-start"),m(e,"class","flex flex-col mb-4")},m(s,r){E(s,e,r),d(e,n);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(s,r){if(r&7){l=[...s[1].events];let t;for(t=0;t<l.length;t+=1){const a=H(s,l,t);o[t]?o[t].p(a,r):(o[t]=V(a),o[t].c(),o[t].m(n,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=l.length}},d(s){s&&u(e),W(o,s)}}}function V(i){let e,n,l=i[9].eventType+"",o,s,r;return{c(){e=v("li"),n=v("a"),o=S(l),r=C(),this.h()},l(t){e=b(t,"LI",{});var a=g(e);n=b(a,"A",{"sveltekit:noscroll":!0,href:!0,class:!0});var c=g(n);o=T(c,l),c.forEach(u),r=P(a),a.forEach(u),this.h()},h(){m(n,"sveltekit:noscroll",""),m(n,"href",s=B(i[8],i[2].url.searchParams)),m(n,"class","border-b-2 border-blue-600 svelte-kcbmue"),O(n,"active",i[8]===i[0].id)},m(t,a){E(t,e,a),d(e,n),d(n,o),d(e,r)},p(t,a){a&2&&l!==(l=t[9].eventType+"")&&j(o,l),a&6&&s!==(s=B(t[8],t[2].url.searchParams))&&m(n,"href",s),a&3&&O(n,"active",t[8]===t[0].id)},d(t){t&&u(e)}}}function J(i){let e,n,l=q(i[4])+"",o,s,r,t,a,c,f;const h=[ae,oe],k=[];function N(_,p){return typeof _[5]=="object"?0:1}return t=N(i),a=k[t]=h[t](i),{c(){e=v("article"),n=v("h4"),o=S(l),s=C(),r=v("div"),a.c(),c=C(),this.h()},l(_){e=b(_,"ARTICLE",{class:!0});var p=g(e);n=b(p,"H4",{class:!0});var w=g(n);o=T(w,l),w.forEach(u),s=P(p),r=b(p,"DIV",{class:!0});var D=g(r);a.l(D),D.forEach(u),c=P(p),p.forEach(u),this.h()},h(){m(n,"class","w-96 flex-grow"),m(r,"class","flex-grow w-full"),m(e,"class","flex items-center content-start w-full border-b-2 last:border-b-0 border-gray-200 py-1")},m(_,p){E(_,e,p),d(e,n),d(n,o),d(e,s),d(e,r),k[t].m(r,null),d(e,c),f=!0},p(_,p){(!f||p&1)&&l!==(l=q(_[4])+"")&&j(o,l);let w=t;t=N(_),t===w?k[t].p(_,p):(L(),I(k[w],1,1,()=>{k[w]=null}),A(),a=k[t],a?a.p(_,p):(a=k[t]=h[t](_),a.c()),y(a,1),a.m(r,null))},i(_){f||(y(a),f=!0)},o(_){I(a),f=!1},d(_){_&&u(e),k[t].d()}}}function oe(i){let e,n,l=i[5]+"",o;return{c(){e=v("p"),n=v("span"),o=S(l),this.h()},l(s){e=b(s,"P",{});var r=g(e);n=b(r,"SPAN",{class:!0});var t=g(n);o=T(t,l),t.forEach(u),r.forEach(u),this.h()},h(){m(n,"class","bg-gray-300 text-gray-700 px-2")},m(s,r){E(s,e,r),d(e,n),d(n,o)},p(s,r){r&1&&l!==(l=s[5]+"")&&j(o,l)},i:U,o:U,d(s){s&&u(e)}}}function ae(i){let e,n;return e=new ne({props:{content:i[5]}}),{c(){Z(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,o){x(e,l,o),n=!0},p(l,o){const s={};o&1&&(s.content=l[5]),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){I(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function M(i,e){let n,l=e[3](e[4],e[5]),o,s,r=l&&J(e);return{key:i,first:null,c(){n=G(),r&&r.c(),o=G(),this.h()},l(t){n=G(),r&&r.l(t),o=G(),this.h()},h(){this.first=n},m(t,a){E(t,n,a),r&&r.m(t,a),E(t,o,a),s=!0},p(t,a){e=t,a&1&&(l=e[3](e[4],e[5])),l?r?(r.p(e,a),a&1&&y(r,1)):(r=J(e),r.c(),y(r,1),r.m(o.parentNode,o)):r&&(L(),I(r,1,1,()=>{r=null}),A())},i(t){s||(y(r),s=!0)},o(t){I(r),s=!1},d(t){t&&u(n),r&&r.d(t),t&&u(o)}}}function ie(i){let e,n,l=[],o=new Map,s,r=i[1]&&R(i),t=Object.entries(i[0].attributes);const a=c=>c[4];for(let c=0;c<t.length;c+=1){let f=F(i,t,c),h=a(f);o.set(h,l[c]=M(h,f))}return{c(){e=v("section"),r&&r.c(),n=C();for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=b(c,"SECTION",{class:!0});var f=g(e);r&&r.l(f),n=P(f);for(let h=0;h<l.length;h+=1)l[h].l(f);f.forEach(u),this.h()},h(){m(e,"class","overflow-y-scroll max-h-full")},m(c,f){E(c,e,f),r&&r.m(e,null),d(e,n);for(let h=0;h<l.length;h+=1)l[h].m(e,null);s=!0},p(c,[f]){c[1]?r?r.p(c,f):(r=R(c),r.c(),r.m(e,n)):r&&(r.d(1),r=null),f&9&&(t=Object.entries(c[0].attributes),L(),l=X(l,f,a,1,c,t,o,e,te,M,null,F),A())},i(c){if(!s){for(let f=0;f<t.length;f+=1)y(l[f]);s=!0}},o(c){for(let f=0;f<l.length;f+=1)I(l[f]);s=!1},d(c){c&&u(e),r&&r.d();for(let f=0;f<l.length;f+=1)l[f].d()}}}const ce=(i,e,{matchingEvents:n},{view:l})=>!n.includes(i)||l==="compact"&&!e,ve=async function({params:i,stuff:e,url:n}){const{eventId:l}=i,{events:o,eventGroups:s}=e,r=o.find(a=>a.id===l),t=se(r,s);return r?ce(r,t,e,i)?(n.pathname=le(i),{status:302,redirect:String(n)}):{props:{event:r,eventGroup:t}}:{status:404}};function fe(i,e,n){let l;Y(i,re,t=>n(2,l=t));let{event:o}=e,{eventGroup:s}=e;const r=(t,a)=>!(a===null||a===void 0||a===""||a==="0s"||t==="type");return i.$$set=t=>{"event"in t&&n(0,o=t.event),"eventGroup"in t&&n(1,s=t.eventGroup)},[o,s,l,r]}class be extends Q{constructor(e){super();z(this,e,fe,ie,K,{event:0,eventGroup:1})}}export{be as default,ve as load};
