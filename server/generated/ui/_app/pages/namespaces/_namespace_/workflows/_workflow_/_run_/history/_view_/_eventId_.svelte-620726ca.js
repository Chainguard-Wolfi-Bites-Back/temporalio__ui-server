import{S as G,i as w,s as S,e as h,c as v,a as _,d as c,b as f,g as m,L as u,t as L,k,h as P,m as I,U as p,j as T,J as U,w as q,x as A,y as B,q as C,o as F,B as N,I as j}from"../../../../../../../../chunks/vendor-74b93630.js";import{b as D}from"../../../../../../../../chunks/route-for-f402e023.js";import{p as H}from"../../../../../../../../chunks/stores-0ae4cfb4.js";import{a as g}from"../../../../../../../../chunks/append-query-parameters-b8619cc0.js";import{E as J}from"../../../../../../../../chunks/_event-details-0b739abd.js";import"../../../../../../../../chunks/format-camel-case-8b7e013d.js";import"../../../../../../../../chunks/code-block-2aa876b4.js";const O=(o,n)=>{const s=o.id;for(const a of n){if(s===a.id)return a;for(const l of a.eventIds)if(s===l)return a}};function b(o,n,s){const a=o.slice();return a[3]=n[s][0],a[4]=n[s][1],a}function E(o){let n,s,a=[...o[1].events],l=[];for(let e=0;e<a.length;e+=1)l[e]=y(b(o,a,e));return{c(){n=h("nav"),s=h("ul");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){n=v(e,"NAV",{class:!0});var r=_(n);s=v(r,"UL",{class:!0});var t=_(s);for(let i=0;i<l.length;i+=1)l[i].l(t);t.forEach(c),r.forEach(c),this.h()},h(){f(s,"class","flex gap-4 w-full items-start"),f(n,"class","flex flex-col mb-4")},m(e,r){m(e,n,r),u(n,s);for(let t=0;t<l.length;t+=1)l[t].m(s,null)},p(e,r){if(r&7){a=[...e[1].events];let t;for(t=0;t<a.length;t+=1){const i=b(e,a,t);l[t]?l[t].p(i,r):(l[t]=y(i),l[t].c(),l[t].m(s,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=a.length}},d(e){e&&c(n),U(l,e)}}}function y(o){let n,s,a=o[4].eventType+"",l,e,r;return{c(){n=h("li"),s=h("a"),l=L(a),r=k(),this.h()},l(t){n=v(t,"LI",{});var i=_(n);s=v(i,"A",{"sveltekit:noscroll":!0,href:!0,class:!0});var d=_(s);l=P(d,a),d.forEach(c),r=I(i),i.forEach(c),this.h()},h(){f(s,"sveltekit:noscroll",""),f(s,"href",e=g(o[3],o[2].url.searchParams)),f(s,"class","border-b-2 border-blue-600 svelte-kcbmue"),p(s,"active",o[3]===o[0].id)},m(t,i){m(t,n,i),u(n,s),u(s,l),u(n,r)},p(t,i){i&2&&a!==(a=t[4].eventType+"")&&T(l,a),i&6&&e!==(e=g(t[3],t[2].url.searchParams))&&f(s,"href",e),i&3&&p(s,"active",t[3]===t[0].id)},d(t){t&&c(n)}}}function Q(o){let n,s,a,l,e=o[1]&&E(o);return a=new J({props:{event:o[0]}}),{c(){n=h("section"),e&&e.c(),s=k(),q(a.$$.fragment),this.h()},l(r){n=v(r,"SECTION",{class:!0});var t=_(n);e&&e.l(t),s=I(t),A(a.$$.fragment,t),t.forEach(c),this.h()},h(){f(n,"class","overflow-y-scroll max-h-full")},m(r,t){m(r,n,t),e&&e.m(n,null),u(n,s),B(a,n,null),l=!0},p(r,[t]){r[1]?e?e.p(r,t):(e=E(r),e.c(),e.m(n,s)):e&&(e.d(1),e=null);const i={};t&1&&(i.event=r[0]),a.$set(i)},i(r){l||(C(a.$$.fragment,r),l=!0)},o(r){F(a.$$.fragment,r),l=!1},d(r){r&&c(n),e&&e.d(),N(a)}}}const R=(o,n,{matchingEvents:s},{view:a})=>!s.includes(o)||a==="compact"&&!n,$=async function({params:o,stuff:n,url:s}){const{eventId:a}=o,{events:l,eventGroups:e}=n,r=l.find(i=>i.id===a);if(!r)return{status:404};const t=O(r,e);return R(r,t,n,o)?(s.pathname=D(o),{status:302,redirect:String(s)}):{props:{event:r,eventGroup:t}}};function V(o,n,s){let a;j(o,H,r=>s(2,a=r));let{event:l}=n,{eventGroup:e}=n;return o.$$set=r=>{"event"in r&&s(0,l=r.event),"eventGroup"in r&&s(1,e=r.eventGroup)},[l,e,a]}class x extends G{constructor(n){super();w(this,n,V,Q,S,{event:0,eventGroup:1})}}export{x as default,$ as load};
