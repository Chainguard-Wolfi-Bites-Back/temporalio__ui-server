import{S as te,i as le,s as re,e as C,k as D,c as L,a as R,m as V,d as h,ar as se,g as k,M as E,J as Pe,K as De,L as Re,q as v,o as $,f as K,Y as Ve,aq as We,N as ae,n as B,a3 as Ee,ag as Te,p as M,v as qe,I as He,t as W,h as q,D as ne,R as ie,w as A,x as S,b as y,y as I,af as fe,j as Oe,B as F,O as ee,ap as Ae,T as Ue,U as je,l as O,V as Be,E as U,ai as ue,aj as Me}from"../../../../chunks/index-e3f4fa3b.js";import{a as Se}from"../../../../chunks/workflow-status-57a75656.js";import{j as Qe,S as ze,W as Je,a as Ke,b as Ye}from"../../../../chunks/_workflows-loading-97e2c743.js";import{p as Ie}from"../../../../chunks/stores-1c428733.js";import{g as oe}from"../../../../chunks/navigation-3f1ea447.js";import{e as _e}from"../../../../chunks/format-date-4b1bc9ef.js";import{S as Ge,O as X}from"../../../../chunks/select-ef2d4824.js";import{u as Xe,t as ce,F as me}from"../../../../chunks/time-format-1cc6553e.js";import{F as Ze,v as xe}from"../../../../chunks/index.es-3f26c051.js";import{E as et}from"../../../../chunks/empty-state-9c8615d6.js";import{C as Fe}from"../../../../chunks/code-block-12a640a0.js";import"../../../../chunks/route-for-api-ab0187df.js";import"../../../../chunks/index-d28ebc24.js";import"../../../../chunks/notifications-736aa513.js";import"../../../../chunks/is-network-error-ac7c8caf.js";import"../../../../chunks/route-for-46a9c4b7.js";import"../../../../chunks/simplify-attributes-6710d3ed.js";import"../../../../chunks/tooltip-fb25db1c.js";import"../../../../chunks/copyable-0aecc3ba.js";import"../../../../chunks/button-142c5c64.js";import"../../../../chunks/singletons-d1fb5791.js";import"../../../../chunks/persist-store-789d3dc3.js";function he(i,e,l){const t=i.slice();return t[23]=e[l],t}const tt=i=>({item:i&16}),pe=i=>({item:i[23].data});function lt(i){let e;return{c(){e=W("Missing template")},l(l){e=q(l,"Missing template")},m(l,t){k(l,e,t)},d(l){l&&h(e)}}}function de(i,e){let l,t,r;const o=e[14].default,s=He(o,e,e[13],pe),n=s||lt();return{key:i,first:null,c(){l=C("svelte-virtual-list-row"),n&&n.c(),t=D(),this.h()},l(a){l=L(a,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var c=R(l);n&&n.l(c),t=V(c),c.forEach(h),this.h()},h(){se(l,"class","svelte-1kdxoed"),this.first=l},m(a,c){k(a,l,c),n&&n.m(l,null),E(l,t),r=!0},p(a,c){e=a,s&&s.p&&(!r||c&8208)&&Pe(s,o,e,e[13],r?Re(o,e[13],c,tt):De(e[13]),pe)},i(a){r||(v(n,a),r=!0)},o(a){$(n,a),r=!1},d(a){a&&h(l),n&&n.d(a)}}}function rt(i){let e,l,t=[],r=new Map,o,s,n,a,c=i[4];const f=u=>u[23].index;for(let u=0;u<c.length;u+=1){let _=he(i,c,u),m=f(_);r.set(m,t[u]=de(m,_))}return{c(){e=C("svelte-virtual-list-viewport"),l=C("svelte-virtual-list-contents");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=L(u,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var _=R(e);l=L(_,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var m=R(l);for(let b=0;b<t.length;b+=1)t[b].l(m);m.forEach(h),_.forEach(h),this.h()},h(){K(l,"padding-top",i[5]+"px"),K(l,"padding-bottom",i[6]+"px"),se(l,"class","svelte-1kdxoed"),K(e,"height",i[0]),se(e,"class","svelte-1kdxoed"),Ve(()=>i[17].call(e))},m(u,_){k(u,e,_),E(e,l);for(let m=0;m<t.length;m+=1)t[m].m(l,null);i[15](l),i[16](e),o=We(e,i[17].bind(e)),s=!0,n||(a=ae(e,"scroll",i[7]),n=!0)},p(u,[_]){_&8208&&(c=u[4],B(),t=Ee(t,_,f,1,u,c,r,l,Te,de,null,he),M()),(!s||_&32)&&K(l,"padding-top",u[5]+"px"),(!s||_&64)&&K(l,"padding-bottom",u[6]+"px"),(!s||_&1)&&K(e,"height",u[0])},i(u){if(!s){for(let _=0;_<c.length;_+=1)v(t[_]);s=!0}},o(u){for(let _=0;_<t.length;_+=1)$(t[_]);s=!1},d(u){u&&h(e);for(let _=0;_<t.length;_+=1)t[_].d();i[15](null),i[16](null),o(),n=!1,a()}}}function at(i,e,l){let{$$slots:t={},$$scope:r}=e,{items:o}=e,{height:s="100%"}=e,{itemHeight:n=void 0}=e,{start:a=0}=e,{end:c=0}=e,f=[],u,_,m,b=0,g,d,p=0,T=0,P;async function Q(w,z,H){const{scrollTop:j}=_;await ne();let Y=p-j,N=a;for(;Y<z&&N<w.length;){let G=u[N-a];G||(l(9,c=N+1),await ne(),G=u[N-a]),Y+=f[N]=H||G.offsetHeight,N+=1}l(9,c=N);const x=w.length-c;P=(p+Y)/c,l(6,T=x*P),f.length=w.length}async function Z(){const{scrollTop:w}=_,z=a;for(let N=0;N<u.length;N+=1)f[a+N]=n||u[N].offsetHeight;let H=0,j=0;for(;H<o.length;){const N=f[H]||P;if(j+N>w){l(8,a=H),l(5,p=j);break}j+=N,H+=1}for(;H<o.length&&(j+=f[H]||P,H+=1,!(j>w+b)););l(9,c=H);const Y=o.length-c;for(P=j/c;H<o.length;)f[H++]=P;if(l(6,T=Y*P),a<z){await ne();let N=0,x=0;for(let J=a;J<z;J+=1)u[J-a]&&(N+=f[J],x+=n||u[J-a].offsetHeight);const G=x-N;_.scrollTo(0,w+G)}}qe(()=>{u=m.getElementsByTagName("svelte-virtual-list-row"),l(12,d=!0)});function Ne(w){ie[w?"unshift":"push"](()=>{m=w,l(3,m)})}function Ce(w){ie[w?"unshift":"push"](()=>{_=w,l(2,_)})}function Le(){b=this.offsetHeight,l(1,b)}return i.$$set=w=>{"items"in w&&l(10,o=w.items),"height"in w&&l(0,s=w.height),"itemHeight"in w&&l(11,n=w.itemHeight),"start"in w&&l(8,a=w.start),"end"in w&&l(9,c=w.end),"$$scope"in w&&l(13,r=w.$$scope)},i.$$.update=()=>{i.$$.dirty&1792&&l(4,g=o.slice(a,c).map((w,z)=>({index:z+a,data:w}))),i.$$.dirty&7170&&d&&Q(o,b,n)},[s,b,_,m,g,p,T,Z,a,c,o,n,d,r,t,Ne,Ce,Le]}class nt extends te{constructor(e){super(),le(this,e,at,rt,re,{items:10,height:0,itemHeight:11,start:8,end:9})}}function st(i){let e,l,t,r,o,s,n,a,c,f,u;return s=new Ze({props:{icon:xe,scale:.9,color:"gray",class:"flex items-center"}}),{c(){e=C("div"),l=C("label"),t=W(i[0]),r=D(),o=C("span"),A(s.$$.fragment),n=D(),a=C("input"),this.h()},l(_){e=L(_,"DIV",{class:!0});var m=R(e);l=L(m,"LABEL",{for:!0,class:!0});var b=R(l);t=q(b,i[0]),b.forEach(h),r=V(m),o=L(m,"SPAN",{class:!0});var g=R(o);S(s.$$.fragment,g),g.forEach(h),n=V(m),a=L(m,"INPUT",{class:!0,placeholder:!0,id:!0}),m.forEach(h),this.h()},h(){y(l,"for",i[2]),y(l,"class","hidden"),y(o,"class","svelte-fxm0nn"),y(a,"class","block w-full focus:outline-none"),y(a,"placeholder",i[0]),y(a,"id",i[2]),y(e,"class","input-container focus-within:border-blue-700 svelte-fxm0nn")},m(_,m){k(_,e,m),E(e,l),E(l,t),E(e,r),E(e,o),I(s,o,null),E(e,n),E(e,a),fe(a,i[1]),c=!0,f||(u=ae(a,"input",i[6]),f=!0)},p(_,[m]){(!c||m&1)&&Oe(t,_[0]),(!c||m&1)&&y(a,"placeholder",_[0]),m&2&&a.value!==_[1]&&fe(a,_[1])},i(_){c||(v(s.$$.fragment,_),c=!0)},o(_){$(s.$$.fragment,_),c=!1},d(_){_&&h(e),F(s),f=!1,u()}}}function it(i,e,l){let t;ee(i,Ie,u=>l(5,t=u));let{parameter:r}=e,{name:o}=e,{value:s}=e,n=r&&t.url.searchParams.get(r)||s;const a=`${r||o}-filter`,c=Qe(Xe,300);function f(){n=this.value,l(1,n)}return i.$$set=u=>{"parameter"in u&&l(3,r=u.parameter),"name"in u&&l(0,o=u.name),"value"in u&&l(4,s=u.value)},i.$$.update=()=>{i.$$.dirty&42&&c({parameter:r,value:n,url:t.url,goto:oe})},[o,n,a,r,s,t,f]}class ge extends te{constructor(e){super(),le(this,e,it,st,re,{parameter:3,name:0,value:4})}}function ve(i,e,l){const t=i.slice();return t[7]=e[l][0],t[8]=e[l][1],t}function be(i,e,l){const t=i.slice();return t[8]=e[l],t}function ot(i){let e,l,t,r,o;return{c(){e=C("a"),l=W("Advanced Search"),this.h()},l(s){e=L(s,"A",{href:!0,class:!0});var n=R(e);l=q(n,"Advanced Search"),n.forEach(h),this.h()},h(){y(e,"href",t=i[1].url.pathname+"?query"),y(e,"class","text-blue-700")},m(s,n){k(s,e,n),E(e,l),r||(o=ae(e,"click",Ae(i[5]("advanced"))),r=!0)},p(s,n){n&2&&t!==(t=s[1].url.pathname+"?query")&&y(e,"href",t)},d(s){s&&h(e),r=!1,o()}}}function ct(i){let e,l,t,r,o;return{c(){e=C("a"),l=W("Basic Search"),this.h()},l(s){e=L(s,"A",{href:!0,class:!0});var n=R(e);l=q(n,"Basic Search"),n.forEach(h),this.h()},h(){y(e,"href",t=i[1].url.pathname),y(e,"class","text-blue-700")},m(s,n){k(s,e,n),E(e,l),r||(o=ae(e,"click",Ae(i[5]("basic"))),r=!0)},p(s,n){n&2&&t!==(t=s[1].url.pathname)&&y(e,"href",t)},d(s){s&&h(e),r=!1,o()}}}function ft(i){let e,l,t,r,o,s,n,a,c,f,u,_;l=new ge({props:{parameter:"workflow-id",name:"Workflow ID",value:kt}}),r=new ge({props:{parameter:"workflow-type",name:"Workflow Type",value:wt}}),s=new me({props:{label:"Time Range",parameter:"time-range",value:"24 hours",$$slots:{default:[mt]},$$scope:{ctx:i}}}),a=new me({props:{label:"Workflow Status",parameter:"status",value:null,$$slots:{default:[pt]},$$scope:{ctx:i}}});function m(g){i[6](g)}let b={id:"filter-by-relative-time",$$slots:{default:[bt]},$$scope:{ctx:i}};return i[2]!==void 0&&(b.value=i[2]),f=new Ge({props:b}),ie.push(()=>Ue(f,"value",m)),{c(){e=C("div"),A(l.$$.fragment),t=D(),A(r.$$.fragment),o=D(),A(s.$$.fragment),n=D(),A(a.$$.fragment),c=D(),A(f.$$.fragment),this.h()},l(g){e=L(g,"DIV",{class:!0});var d=R(e);S(l.$$.fragment,d),t=V(d),S(r.$$.fragment,d),o=V(d),S(s.$$.fragment,d),n=V(d),S(a.$$.fragment,d),c=V(d),S(f.$$.fragment,d),d.forEach(h),this.h()},h(){y(e,"class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-4")},m(g,d){k(g,e,d),I(l,e,null),E(e,t),I(r,e,null),E(e,o),I(s,e,null),E(e,n),I(a,e,null),E(e,c),I(f,e,null),_=!0},p(g,d){const p={};d&8192&&(p.$$scope={dirty:d,ctx:g}),s.$set(p);const T={};d&8192&&(T.$$scope={dirty:d,ctx:g}),a.$set(T);const P={};d&8192&&(P.$$scope={dirty:d,ctx:g}),!u&&d&4&&(u=!0,P.value=g[2],je(()=>u=!1)),f.$set(P)},i(g){_||(v(l.$$.fragment,g),v(r.$$.fragment,g),v(s.$$.fragment,g),v(a.$$.fragment,g),v(f.$$.fragment,g),_=!0)},o(g){$(l.$$.fragment,g),$(r.$$.fragment,g),$(s.$$.fragment,g),$(a.$$.fragment,g),$(f.$$.fragment,g),_=!1},d(g){g&&h(e),F(l),F(r),F(s),F(a),F(f)}}}function ut(i){let e,l;return e=new ze({props:{icon:!0,placeholder:"Query\u2026",value:i[1].url.searchParams.get("query")}}),e.$on("submit",i[4]),{c(){A(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&2&&(o.value=t[1].url.searchParams.get("query")),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function _t(i){let e=i[8]+"",l;return{c(){l=W(e)},l(t){l=q(t,e)},m(t,r){k(t,l,r)},p:U,d(t){t&&h(l)}}}function $e(i){let e,l;return e=new X({props:{value:i[8],$$slots:{default:[_t]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&8192&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function mt(i){let e,l,t=_e,r=[];for(let s=0;s<t.length;s+=1)r[s]=$e(be(i,t,s));const o=s=>$(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=O()},l(s){for(let n=0;n<r.length;n+=1)r[n].l(s);e=O()},m(s,n){for(let a=0;a<r.length;a+=1)r[a].m(s,n);k(s,e,n),l=!0},p(s,n){if(n&0){t=_e;let a;for(a=0;a<t.length;a+=1){const c=be(s,t,a);r[a]?(r[a].p(c,n),v(r[a],1)):(r[a]=$e(c),r[a].c(),v(r[a],1),r[a].m(e.parentNode,e))}for(B(),a=t.length;a<r.length;a+=1)o(a);M()}},i(s){if(!l){for(let n=0;n<t.length;n+=1)v(r[n]);l=!0}},o(s){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)$(r[n]);l=!1},d(s){Be(r,s),s&&h(e)}}}function ht(i){let e=i[7]+"",l;return{c(){l=W(e)},l(t){l=q(t,e)},m(t,r){k(t,l,r)},p:U,d(t){t&&h(l)}}}function ke(i,e){let l,t,r;return t=new X({props:{value:e[8],$$slots:{default:[ht]},$$scope:{ctx:e}}}),{key:i,first:null,c(){l=O(),A(t.$$.fragment),this.h()},l(o){l=O(),S(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,s){k(o,l,s),I(t,o,s),r=!0},p(o,s){e=o;const n={};s&8192&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(o){r||(v(t.$$.fragment,o),r=!0)},o(o){$(t.$$.fragment,o),r=!1},d(o){o&&h(l),F(t,o)}}}function pt(i){let e=[],l=new Map,t,r,o=Object.entries(i[3]);const s=n=>n[7];for(let n=0;n<o.length;n+=1){let a=ve(i,o,n),c=s(a);l.set(c,e[n]=ke(c,a))}return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=O()},l(n){for(let a=0;a<e.length;a+=1)e[a].l(n);t=O()},m(n,a){for(let c=0;c<e.length;c+=1)e[c].m(n,a);k(n,t,a),r=!0},p(n,a){a&8&&(o=Object.entries(n[3]),B(),e=Ee(e,a,s,1,n,o,l,t.parentNode,Te,ke,t,ve),M())},i(n){if(!r){for(let a=0;a<o.length;a+=1)v(e[a]);r=!0}},o(n){for(let a=0;a<e.length;a+=1)$(e[a]);r=!1},d(n){for(let a=0;a<e.length;a+=1)e[a].d(n);n&&h(t)}}}function dt(i){let e;return{c(){e=W("Relative")},l(l){e=q(l,"Relative")},m(l,t){k(l,e,t)},d(l){l&&h(e)}}}function gt(i){let e;return{c(){e=W("UTC")},l(l){e=q(l,"UTC")},m(l,t){k(l,e,t)},d(l){l&&h(e)}}}function vt(i){let e;return{c(){e=W("Local")},l(l){e=q(l,"Local")},m(l,t){k(l,e,t)},d(l){l&&h(e)}}}function bt(i){let e,l,t,r,o,s;return e=new X({props:{value:"relative",$$slots:{default:[dt]},$$scope:{ctx:i}}}),t=new X({props:{value:"UTC",$$slots:{default:[gt]},$$scope:{ctx:i}}}),o=new X({props:{value:"local",$$slots:{default:[vt]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment),l=D(),A(t.$$.fragment),r=D(),A(o.$$.fragment)},l(n){S(e.$$.fragment,n),l=V(n),S(t.$$.fragment,n),r=V(n),S(o.$$.fragment,n)},m(n,a){I(e,n,a),k(n,l,a),I(t,n,a),k(n,r,a),I(o,n,a),s=!0},p(n,a){const c={};a&8192&&(c.$$scope={dirty:a,ctx:n}),e.$set(c);const f={};a&8192&&(f.$$scope={dirty:a,ctx:n}),t.$set(f);const u={};a&8192&&(u.$$scope={dirty:a,ctx:n}),o.$set(u)},i(n){s||(v(e.$$.fragment,n),v(t.$$.fragment,n),v(o.$$.fragment,n),s=!0)},o(n){$(e.$$.fragment,n),$(t.$$.fragment,n),$(o.$$.fragment,n),s=!1},d(n){F(e,n),n&&h(l),F(t,n),n&&h(r),F(o,n)}}}function $t(i){let e,l,t,r,o,s;function n(m,b){return m[0]?ct:ot}let a=n(i),c=a(i);const f=[ut,ft],u=[];function _(m,b){return m[0]?0:1}return r=_(i),o=u[r]=f[r](i),{c(){e=C("section"),l=C("p"),c.c(),t=D(),o.c(),this.h()},l(m){e=L(m,"SECTION",{class:!0});var b=R(e);l=L(b,"P",{class:!0});var g=R(l);c.l(g),g.forEach(h),t=V(b),o.l(b),b.forEach(h),this.h()},h(){y(l,"class","text-right text-xs"),y(e,"class","flex flex-col gap-2")},m(m,b){k(m,e,b),E(e,l),c.m(l,null),E(e,t),u[r].m(e,null),s=!0},p(m,[b]){a===(a=n(m))&&c?c.p(m,b):(c.d(1),c=a(m),c&&(c.c(),c.m(l,null)));let g=r;r=_(m),r===g?u[r].p(m,b):(B(),$(u[g],1,1,()=>{u[g]=null}),M(),o=u[r],o?o.p(m,b):(o=u[r]=f[r](m),o.c()),v(o,1),o.m(e,null))},i(m){s||(v(o),s=!0)},o(m){$(o),s=!1},d(m){m&&h(e),c.d(),u[r].d()}}}let kt="",wt="";function yt(i,e,l){let t,r;ee(i,Ie,f=>l(1,t=f)),ee(i,ce,f=>l(2,r=f));const o={All:null,Running:"Running","Timed Out":"TimedOut",Completed:"Completed",Failed:"Failed","Continued as New":"ContinuedAsNew",Canceled:"Canceled",Terminated:"Terminated"};let s=t.url.searchParams.has("query");const n=f=>{const _=new FormData(f.target).get("query");t.url.searchParams.set("query",String(_)),oe(t.url.toString())},a=f=>u=>{const _=u.target;l(0,s=f==="advanced"),s||t.url.searchParams.delete("query"),oe(_.href)};function c(f){r=f,ce.set(r)}return[s,t,r,o,n,a,c]}class Et extends te{constructor(e){super(),le(this,e,yt,$t,re,{})}}function we(i){i[7]=i[8].workflows}function Tt(i){let e,l,t,r,o,s,n,a,c,f,u,_,m,b,g;n=new Fe({props:{content:`tctl --namespace ${i[0]} namespace update --has enabled`,language:"text",inline:!0}});let d=!i[2]&&ye(i);return{c(){e=C("h2"),l=W("This namespace is currently not enabled for archival."),t=D(),r=C("p"),o=W("Run this command to enable Archival for Event Histories:"),s=D(),A(n.$$.fragment),a=D(),d&&d.c(),c=D(),f=C("p"),u=W("For more details please check out "),_=C("a"),m=W("Archival Docs"),b=W("."),this.h()},l(p){e=L(p,"H2",{class:!0,"data-cy":!0});var T=R(e);l=q(T,"This namespace is currently not enabled for archival."),T.forEach(h),t=V(p),r=L(p,"P",{});var P=R(r);o=q(P,"Run this command to enable Archival for Event Histories:"),P.forEach(h),s=V(p),S(n.$$.fragment,p),a=V(p),d&&d.l(p),c=V(p),f=L(p,"P",{});var Q=R(f);u=q(Q,"For more details please check out "),_=L(Q,"A",{class:!0,href:!0,target:!0});var Z=R(_);m=q(Z,"Archival Docs"),Z.forEach(h),b=q(Q,"."),Q.forEach(h),this.h()},h(){y(e,"class","text-2xl"),y(e,"data-cy","archived-disabled-title"),y(_,"class","text-blue-700 underline"),y(_,"href","https://docs.temporal.io/docs/server/archive-data/"),y(_,"target","_blank")},m(p,T){k(p,e,T),E(e,l),k(p,t,T),k(p,r,T),E(r,o),k(p,s,T),I(n,p,T),k(p,a,T),d&&d.m(p,T),k(p,c,T),k(p,f,T),E(f,u),E(f,_),E(_,m),E(f,b),g=!0},p(p,T){const P={};T&1&&(P.content=`tctl --namespace ${p[0]} namespace update --has enabled`),n.$set(P),p[2]?d&&(B(),$(d,1,1,()=>{d=null}),M()):d?(d.p(p,T),T&4&&v(d,1)):(d=ye(p),d.c(),v(d,1),d.m(c.parentNode,c))},i(p){g||(v(n.$$.fragment,p),v(d),g=!0)},o(p){$(n.$$.fragment,p),$(d),g=!1},d(p){p&&h(e),p&&h(t),p&&h(r),p&&h(s),F(n,p),p&&h(a),d&&d.d(p),p&&h(c),p&&h(f)}}}function At(i){let e,l,t,r,o,s,n,a;r=new Et({});let c={ctx:i,current:null,token:null,hasCatch:!1,pending:Pt,then:It,catch:St,value:8,blocks:[,,,]};return ue(n=i[3],c),{c(){e=C("h2"),l=W("Archived Workflows"),t=D(),A(r.$$.fragment),o=D(),s=O(),c.block.c(),this.h()},l(f){e=L(f,"H2",{class:!0,"data-cy":!0});var u=R(e);l=q(u,"Archived Workflows"),u.forEach(h),t=V(f),S(r.$$.fragment,f),o=V(f),s=O(),c.block.l(f),this.h()},h(){y(e,"class","text-2xl"),y(e,"data-cy","archived-enabled-title")},m(f,u){k(f,e,u),E(e,l),k(f,t,u),I(r,f,u),k(f,o,u),k(f,s,u),c.block.m(f,c.anchor=u),c.mount=()=>s.parentNode,c.anchor=s,a=!0},p(f,u){i=f,c.ctx=i,u&8&&n!==(n=i[3])&&ue(n,c)||Me(c,i,u)},i(f){a||(v(r.$$.fragment,f),v(c.block),a=!0)},o(f){$(r.$$.fragment,f);for(let u=0;u<3;u+=1){const _=c.blocks[u];$(_)}a=!1},d(f){f&&h(e),f&&h(t),F(r,f),f&&h(o),f&&h(s),c.block.d(f),c.token=null,c=null}}}function ye(i){let e,l,t,r,o;return r=new Fe({props:{content:`tctl --namespace ${i[0]} namespace update -vas enabled`,language:"text",inline:!0}}),{c(){e=C("p"),l=W("To enable Visibility Archival:"),t=D(),A(r.$$.fragment)},l(s){e=L(s,"P",{});var n=R(e);l=q(n,"To enable Visibility Archival:"),n.forEach(h),t=V(s),S(r.$$.fragment,s)},m(s,n){k(s,e,n),E(e,l),k(s,t,n),I(r,s,n),o=!0},p(s,n){const a={};n&1&&(a.content=`tctl --namespace ${s[0]} namespace update -vas enabled`),r.$set(a)},i(s){o||(v(r.$$.fragment,s),o=!0)},o(s){$(r.$$.fragment,s),o=!1},d(s){s&&h(e),s&&h(t),F(r,s)}}}function St(i){return{c:U,l:U,m:U,p:U,i:U,o:U,d:U}}function It(i){we(i);let e,l,t,r;const o=[Nt,Ft],s=[];function n(a,c){return a[7].length?0:1}return e=n(i),l=s[e]=o[e](i),{c(){l.c(),t=O()},l(a){l.l(a),t=O()},m(a,c){s[e].m(a,c),k(a,t,c),r=!0},p(a,c){we(a);let f=e;e=n(a),e===f?s[e].p(a,c):(B(),$(s[f],1,1,()=>{s[f]=null}),M(),l=s[e],l?l.p(a,c):(l=s[e]=o[e](a),l.c()),v(l,1),l.m(t.parentNode,t))},i(a){r||(v(l),r=!0)},o(a){$(l),r=!1},d(a){s[e].d(a),a&&h(t)}}}function Ft(i){let e,l;return e=new et({props:{title:"No Workflows Found",content:"If you have filters applied, try adjusting them."}}),{c(){A(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){I(e,t,r),l=!0},p:U,i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Nt(i){let e,l;return e=new Ke({props:{$$slots:{default:[Lt]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&1049&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Ct(i){let e,l;return e=new Ye({props:{workflow:i[9],namespace:i[0],timeFormat:i[4]}}),{c(){A(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&512&&(o.workflow=t[9]),r&1&&(o.namespace=t[0]),r&16&&(o.timeFormat=t[4]),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Lt(i){let e,l;return e=new nt({props:{items:i[7],$$slots:{default:[Ct,({item:t})=>({9:t}),({item:t})=>t?512:0]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){I(e,t,r),l=!0},p(t,r){const o={};r&8&&(o.items=t[7]),r&1553&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Pt(i){let e,l;return e=new Je({}),{c(){A(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){I(e,t,r),l=!0},p:U,i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Dt(i){let e,l,t,r;const o=[At,Tt],s=[];function n(a,c){return a[1]?0:1}return e=n(i),l=s[e]=o[e](i),{c(){l.c(),t=O()},l(a){l.l(a),t=O()},m(a,c){s[e].m(a,c),k(a,t,c),r=!0},p(a,[c]){let f=e;e=n(a),e===f?s[e].p(a,c):(B(),$(s[f],1,1,()=>{s[f]=null}),M(),l=s[e],l?l.p(a,c):(l=s[e]=o[e](a),l.c()),v(l,1),l.m(t.parentNode,t))},i(a){r||(v(l),r=!0)},o(a){$(l),r=!1},d(a){s[e].d(a),a&&h(t)}}}const al=async function({params:i,url:e,stuff:l}){var t,r;const{searchParams:o}=e;o.has("time-range")||o.set("time-range","24 hours");const s=i.namespace,n=o.get("workflow-id"),a=o.get("workflow-type"),c=o.get("time-range"),f=o.get("status"),u={workflowId:n,workflowType:a,closeTime:c,executionStatus:f},m=l.namespaces.find(p=>p.namespaceInfo.name===s),b=((t=m==null?void 0:m.config)===null||t===void 0?void 0:t.historyArchivalState)==="Enabled",g=((r=m==null?void 0:m.config)===null||r===void 0?void 0:r.visibilityArchivalState)==="Enabled";return{props:{initialData:b?await Se(s,u,fetch):Promise.resolve(null),namespace:s,parameters:u,archivalEnabled:b,visibilityArchivalEnabled:g}}};function Rt(i,e,l){let t;ee(i,ce,f=>l(4,t=f));let{namespace:r}=e,{initialData:o}=e,{parameters:s}=e,{archivalEnabled:n=!1}=e,{visibilityArchivalEnabled:a=!1}=e,c=o;return i.$$set=f=>{"namespace"in f&&l(0,r=f.namespace),"initialData"in f&&l(5,o=f.initialData),"parameters"in f&&l(6,s=f.parameters),"archivalEnabled"in f&&l(1,n=f.archivalEnabled),"visibilityArchivalEnabled"in f&&l(2,a=f.visibilityArchivalEnabled)},i.$$.update=()=>{i.$$.dirty&67&&n&&l(3,c=Se(r,s))},[r,n,a,c,t,o,s]}class nl extends te{constructor(e){super(),le(this,e,Rt,Dt,re,{namespace:0,initialData:5,parameters:6,archivalEnabled:1,visibilityArchivalEnabled:2})}}export{nl as default,al as load};
